<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>

	

	
	<link rel="preconnect" href="https://apps.developermedia.com" />
	<link rel="preconnect" href="https://cdn1.developermedia.com" />
	<link rel="preconnect" href="https://cdn.ampproject.org" />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://ajax.googleapis.com" />
	<link rel="preconnect" href="https://adservice.google.com" />
	<link rel="preconnect" href="https://www.googletagservices.com" />
	<link rel="preconnect" href="https://www.googletagmanager.com" />
	<link rel="preconnect" href="https://www.google.com" />
	<link rel="preconnect" href="https://www.google-analytics.com" />
	<link rel="preconnect" href="https://pagead2.googlesyndication.com" />

	<link rel="preconnect" href="https://codeproject.freetls.fastly.net" />


	<link rel="preload" href="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/CanDay/logo250x135.gif" as="image" />


	<link rel="preload" href="/App_Themes/CodeProject/Img/logo135-bg.gif" as="image" />
	<link rel="preload" href="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" as="script" type="text/javascript" />


	<title>Literal String Encryption as Part of the Build Process - CodeProject</title> 
    
	<!-- inlined file /App_Themes/CodeProject/Css/article.critical.min.css. Minimized in Release. -->
<style type="text/css">
.blank-background{background-color:#fff}html,div,span,applet,object,iframe,a,abbr,acronym,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,fieldset,form,label,table,tbody,tfoot,thead,tr,th,td,li,ol,ul{margin:0;padding:0;border:0}html{font-size:100.01%;-webkit-font-smoothing:antialiased;font-smooth:always}body,p,h1,h2,h3,h4,h5,h6,li,tr,td,th,dd,dt{font-family:"Segoe UI",Arial,Sans-Serif;font-size:15px;line-height:1.4;color:#111}body{margin:0}h1,h3,h4,h5,th{font-weight:bold}h1{color:#333;padding:0;margin:0 0 7px;text-align:left}h2{margin:20px 0 11px;padding:0;padding-bottom:10px;color:#333}h3{color:#f90}h1{font-size:29px;font-weight:200}h2{font-size:29px;font-weight:200}h3{font-size:19px;font-weight:normal}h4{font-size:16px}pre{color:#000;background-color:#fbedbb;padding:6px;font:14px Consolas,monospace,mono;white-space:pre;overflow:auto;border:solid 1px #fbedbb;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;tab-size:4}code{color:#900;font:15px Consolas,monospace,mono}table{background-color:Transparent}img{-ms-interpolation-mode:bicubic}a{text-decoration:none;color:#005782}a:visited{color:#800080}a:hover{text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}input[type="text"],input[type="url"],input[type="search"],input[type="email"],select,textarea{border:1px solid #d7d7d7;font-size:15px;padding:5px}a.button,a.button-large,.button,.button-large{color:#fff;background-color:#e08900;border:1px solid #ccc;text-decoration:none;white-space:nowrap;font-size:100%;padding:4px;cursor:pointer;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}table.small-text td,ul.small-text li,ol.small-text li,.small-text{font-size:13px}.invisible{display:none}.subdue,.subdue li,tr.subdue td{color:#808080}.align-left{text-align:left}.align-right{text-align:right}.align-center{text-align:center}.float-right{float:right}.float-left{float:left}.sticky{position:sticky;top:0}.extended{width:100%;box-sizing:border-box}.padded-top{padding-top:20px}.tight{margin:0;padding:0}.nowrap{white-space:nowrap}.fixed-layout{table-layout:fixed}.raised{background-color:#fff8df;border:1px solid #ccc;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}ol,ul{padding-left:40px;margin:10px 0}ol.compact li,ul.compact li,ol li.compact,ul li.compact{font-size:13px}ul.download{margin-top:25px}ul.download li,ul li.download,ul.Download li,ul li.Download{background:url("/images/download24.png") no-repeat scroll left center transparent;font-weight:bold;list-style-type:none;margin:0 0 6px -40px;padding:0 0 1px 30px;vertical-align:middle}.callout{margin:20px 0;background-color:#ffffe1;color:#333;border:1px solid #ccc;padding:15px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.trace{padding:20px;background-color:#eee;color:#333;border:1px solid #f00;font-size:12px}textarea,input[type="text"],input[type="button"],input[type="submit"]{-webkit-appearance:none;border-radius:0}.container-content{background-color:#fff;position:relative;zoom:1;padding:0 9px;cursor:default}.container-content-wrap{margin:auto;max-width:1270px}.container-content pre,.container-code pre,.answer pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;_white-space:pre;word-break:break-word;-ms-word-break:break-word}.flex-container{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.flex-extend{justify-content:space-between}.flex-item{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flex-item-tight{flex:0 1 auto}.hover-container{display:block;position:relative}.clearfix:after,.container:after{display:block;content:'.';visibility:hidden;height:0;clear:both}.clearfix,.container{display:inline-block;display:block}.access-link,.access-link img{position:absolute;top:0;left:0;width:1px;height:1px;z-index:101;border-style:none;margin-top:-1px;overflow:hidden}.site-top-menu{white-space:nowrap;position:absolute;z-index:101;width:100%}.site-top-menu .main-content{width:100%}.site-top-menu .main-content .memberbar{margin-left:90px;margin-right:10px}.site-top-menu.fixed .main-content{margin:auto;max-width:1270px}.site-header{background-image:url('/App_Themes/CodeProject/Img/logo135-bg.gif');white-space:nowrap;overflow:hidden}.site-header .main-content{position:relative;overflow:hidden;white-space:nowrap}.site-header .logo{display:inline-block}.site-header .promo{display:inline-block;position:absolute;top:33px;right:0}.site-header.fixed .main-content{margin:auto;max-width:1270px}.sub-headerbar{padding-right:9px;position:relative;margin:auto;max-width:1270px}.sub-headerbar-divider{margin-left:10px;height:1px;border-bottom:1px solid #ccc;position:absolute;bottom:2px;left:0;right:9px}.memberbar{height:25px;padding-top:10px;color:#999;font-size:13px}.memberbar a{color:#808080;font-size:13px}div.navbar{white-space:nowrap}.navmenu{background:#fff;color:#4d4d4d;padding:0;margin:0;list-style:none;height:25px}.navmenu ul,.navmenu li{margin:0;padding:0}.navmenu .has-submenu{position:absolute;right:5px;padding-left:10px}.navmenu&gt;li:hover&gt;a,.navmenu&gt;li&gt;a:active{border:1px solid #ccc}.navmenu ul,.navmenu&gt;li.open:hover&gt;a,.navmenu&gt;li.open&gt;a:active{border:1px solid #ccc;border-bottom-color:#fff}.navmenu&gt;li{margin:0 11px 2px 2px}.navmenu&gt;li:active,.navmenu&gt;li:active&gt;a,.navmenu&gt;li:hover,.navmenu&gt;li&gt;a:active{background:#fff;color:#4d4d4d}.navmenu&gt;li&gt;a{padding:2px 7px 6px 7px;border:1px solid transparent;font-weight:bold}.navmenu a{display:block;float:left;color:#666;background:#fff;font-size:16px;padding:0 9px;text-decoration:none;white-space:nowrap}.navmenu a.fly{white-space:nowrap}.navmenu ul{background:#fff;position:absolute;left:-9999px;top:-9999px;list-style:none}.navmenu li{float:left;color:#4d4d4d}.navmenu li.last{height:9px}.navmenu li a:active,.navmenu li a:hover{color:#fff;background-color:#f90}.navmenu li&gt;a:active,.navmenu li:hover,.navmenu li:hover&gt;a,.navmenu li:hover.heading,.navmenu li a.selected{position:relative;color:#fff;background-color:#f90}.navmenu li.openable:hover ul{left:0;top:30px;z-index:500}.navmenu li.openable:hover&gt;ul ul{position:absolute;left:-9999px;top:-9999px;width:auto}.navmenu li.open{position:relative}.navmenu li.open a{color:#fff;background-color:#f90}.navmenu li.open ul{left:0;top:30px;z-index:500}.navmenu li.open ul ul,.navmenu li.open li.open ul ul,.navmenu li.open li.open li.open ul ul,.navmenu li.open li.open li.open li.open ul ul{position:absolute;left:-9999px;top:-9999px}.navmenu li ul{border-bottom:5px solid #f90}.navmenu li li{float:none}.navmenu li li:active&gt;a.fly,.navmenu li li:hover&gt;a.fly{color:#fff;background-color:#f90}.navmenu li li a{float:none;font-size:13px;font-weight:normal}.navmenu li li a.fly{color:#4d4d4d;background-color:#fff;padding:2px 20px}.navmenu li li a.break{margin-bottom:15px}.navmenu li li a.highlight1,.navmenu li li a.highlight1:active,.navmenu li li a.highlight1:hover{background-color:#090}.navmenu li li a.highlight2,.navmenu li li a.highlight2:active,.navmenu li li a.highlight2:hover{background-color:#f90}.navmenu li li a.highlight3,.navmenu li li a.highlight3:active,.navmenu li li a.highlight3:hover{background-color:#000}.navmenu li li a.highlight1,.navmenu li li a.highlight2,.navmenu li li a.highlight3{color:#fff;font-size:15px;margin:5px 0;padding:9px 20px}.site-footer{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;padding-top:5px;width:100%;font-size:12px;color:#999}.site-footer .align-left,.site-footer .align-center,.site-footer .align-right{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.site-footer .align-left{flex:1 0 100px}.site-footer .align-center{flex:0 1 0%;white-space:nowrap}.site-footer .align-right{flex:1 0 100px}.site-footer .page-width .active{border-bottom:2px solid #f90}.searchbar{padding:0}.searchbar .search{margin-bottom:4px;padding:2px 5px 0;border:1px solid #ccc}.searchbar .search.subdue{color:#ccc}.searchbar input.search{width:190px;border:none;font-size:12px;padding:4px 2px}.searchbar .search-advanced{padding:8px;width:203px;z-index:1000;background-color:#fff;border:solid 1px #ccc;position:absolute;top:-4px;right:0}.searchbar .popup{display:none}.search td{background-color:#fff}.article-container-parts{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.article-container{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background-color:#fff;color:#111;zoom:1;position:relative;max-width:100%;min-height:675px}.article-container .article{margin:0 20px 0 10px;line-height:143%}.article-container span.stats{margin-left:30px}.article-left-sidebar{width:120px;min-width:120px;min-height:400px;font-size:13px;border-right:1px solid #f2f2f2;padding:0}.article-left-sidebar .article-left-sidebar-inner{width:120px;min-width:120px}.article-left-sidebar .tabs&gt;div{padding:5px 0 5px 10px}.article-left-sidebar .selected{font-weight:bold;background:transparent url("/images/right-selected.gif") no-repeat scroll right 9px}.article-left-sidebar h4{color:#f90;font-size:13px;font-weight:bold}.article-left-sidebar .stats div div div{padding:0 0 10px 10px;color:#666}.article-right-sidebar{width:300px;margin-left:10px;font-size:13px}.article-right-sidebar .gototop{text-align:center;padding:10px 0;opacity:0;-webkit-transition:opacity .3s linear 0ms;-moz-transition:opacity .3s linear 0ms;-o-transition:opacity .3s linear 0ms;transition:opacity .3s linear 0ms}.container-content .edit-links{margin:21px 0 0 10px}.article-summary{padding:0 10px 0 10px;overflow:hidden}.article h1{margin:0 0 15px 0}.article h2{color:#f90}.article pre{overflow:auto}.article .header .title{color:#808080}.article .header .author{font-weight:bold;min-width:100px}.article .header .author a{color:#808080}.article .header .avatar{max-width:48px;max-height:48px;overflow:unset}.article .header .avatar-wrap{width:48px;height:48px;margin-right:10px;text-align:center}.article .header .date{white-space:nowrap}.article .header .license{margin-left:15px}.article .header .stats{margin-left:30px}.article img.lazyload,.article img.lazyloading{opacity:0}.article img.lazyloaded{opacity:1;transition:opacity 300ms}.article .share-list{margin-bottom:40px;width:385px;display:inline-block}.article .summary{color:#808080;padding:40px 0 15px 0}.article .text{padding-top:10px}.article-nav{text-align:right;margin-top:21px;vertical-align:middle;line-height:15px}.msg-728x90{width:728px;height:90px;overflow:hidden}.msg-300x250{width:300px;height:250px;overflow:hidden}.tags{line-height:190%}.tags .t{background:none repeat scroll 0 0 transparent;border:1px solid transparent;border-radius:12px 0 0 12px;line-height:1.4;padding:0 2px 0 4px;position:relative;text-decoration:none;margin:2px 0 4px 0;white-space:nowrap}.tags .t:hover{background-color:#fff8ba;border:1px solid #e5dc8a;text-decoration:none}.tags .t a{color:#666;display:inline-block;margin-right:3px;padding-left:5px;text-overflow:ellipsis}.container-breadcrumb{font-size:13px;margin-top:7px;color:#808080;margin:12px 0 35px}.container-breadcrumb a{color:#808080}.pre-lang{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;background-color:#fbedbb;justify-content:space-between;padding:4px 8px;margin-top:5px;color:#999;border-bottom:solid 1px #ffd044}.code-comment{color:#008000;font-style:italic}.code-keyword{color:#00f}.code-sdkkeyword{color:#399}.code-string{color:#800080}.code-attribute{color:#f00}.code-leadattribute{color:#800000}.pre-action-link{font-size:12px;color:#999}.pre-action-link span{cursor:pointer;margin:0;-webkit-transition:color .1s linear;-moz-transition:color .1s linear;-o-transition:color .1s linear;transition:color .1s linear}.speech-bubble-container-down,.speech-bubble-container-up,.speech-bubble-container-up-right,.speech-bubble-container-left,.speech-bubble-container-right{position:relative}.speech-bubble-up,.speech-bubble-down,.speech-bubble-left,.speech-bubble-right,.speech-bubble-up-right{padding:.6em;border:1px solid #ccc;background-color:#fff;margin:15px;text-decoration:none;font-weight:normal;text-align:left;white-space:normal;color:#333;font-size:12px}.speech-bubble-down{margin-bottom:0}.tooltip .speech-bubble-up,.tooltip .speech-bubble-up-right,.tooltip .speech-bubble-down,.tooltip .speech-bubble-left,.tooltip .speech-bubble-right{-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.speech-bubble-pointer-down,.speech-bubble-pointer-down-inner{width:0;height:0;border-bottom-width:0;background:none}.speech-bubble-pointer-down{border-left:7px solid transparent;border-right:7px solid transparent;border-top:1px solid #ccc;border-top-width:14px;margin-left:35px;margin-bottom:15px;_display:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right,.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{width:0;height:0;border-top-width:0;background:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:1px solid #ccc;border-bottom-width:14px;margin-left:35px;position:absolute;top:-12px;_display:none}.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:12px solid #fff;margin-left:-5px;margin-bottom:-16px;padding-top:4px;position:absolute;_display:none}.speech-bubble-container-up-right .speech-bubble-pointer-up-right{margin-left:0;margin-right:0;right:35px}.tooltip{position:relative;text-decoration:none}.tooltip .speech-bubble-container-up,.tooltip .speech-bubble-container-down,.tooltip .speech-bubble-container-left,.tooltip .speech-bubble-container-right,.tooltip .speech-bubble-container-up-right,.tooltip .tooltip-flyout{display:none;opacity:0;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-down,.tooltip:active .speech-bubble-container-down,.tooltip:hover .speech-bubble-container-left,.tooltip:active .speech-bubble-container-left,.tooltip:hover .speech-bubble-container-right,.tooltip:active .speech-bubble-container-right,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right,.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout{display:block;z-index:16777271;opacity:1;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up{left:-35px}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right{text-decoration:none;position:absolute;width:150px;color:#000;cursor:text}.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout,.tooltip:hover .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:active .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:hover .speech-bubble-container-up .speech-bubble-pointer-up,.tooltip:active .speech-bubble-container-up .speech-bubble-pointer-up{top:1px}a:hover.tooltip{text-decoration:none}.tooltip-flyout{position:relative;border:1px solid #ccc;color:#666;background-color:#fff;margin:15px;z-index:2147483646;white-space:normal;font-weight:normal;text-align:left;cursor:text;width:175px;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.bottom-promo{height:90px;margin-top:10px;overflow:hidden}.bottom-promo .msg-728x90{width:728px;margin:0 auto}.msg-728x90{overflow:hidden;position:relative;height:90px;min-width:728px}body .msg-728x90{*float:right}body .bottom-promo .msg-728x90{*float:none}table.forum{table-layout:fixed;margin:0 0 20px 0;padding:0;width:100%}.forum table{border-collapse:separate}.forum .header1,.forum .header1 TD{color:#333;font-size:13px;vertical-align:middle}.forum .header2,.forum .header2 TD{color:#fff;background-color:#f90;font-size:13px;vertical-align:middle}.forum .header2 input,.forum .header2 TD input,.forum .header2 select,.forum .header2 TD select{padding:2px}.forum .button{border:1px solid #fc6;margin:1px}.forum .searchbar{border:1px solid #ccc;padding:4px 0 0 0;margin:3px 0}.forum .searchbar .search{width:200px}.forum .searchbar input[type=image]{vertical-align:middle}.forum .dropdown{background-color:#fffdfa;font-size:95%;margin-left:5px}.forum .footer,.forum .footer td,.forum .navbar,.forum .navbar td{font-size:13px;padding:8px 0;border:0;border-top:1px solid #808080}.author-wrapper{position:relative;padding:0 0 0 200px;min-height:185px}.author-wrapper .pic-wrapper{position:absolute;left:0;top:5px}.author-wrapper .profile-pic{border:1px solid #333;margin:0;padding:10px;-moz-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);-webkit-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);box-shadow:3px 3px 5px 1px rgba(0,0,0,.2)}.author-wrapper .description{padding:15px 15px 0 0}.author-wrapper .container-member .author{font-size:22px;color:#333}.author-wrapper .container-member .company{font-size:15px;color:#808080}.member-signin{font-size:13px}.member-signin .forgot{padding:0}.member-signin a.forgot{color:#808080}.member-signin.tooltip&gt;span{border:1px solid transparent;padding:2px 6px 4px 6px;z-index:503}.member-signin.tooltip .tooltip-flyout{border:1px solid #ccc;border-bottom:5px solid #f90;padding:10px;width:200px;position:absolute;top:3px;left:-163px;background-color:#fff}.rating-container .rating-prompt{padding-right:5px;white-space:nowrap;line-height:25px;margin-right:2px;font-weight:bold;color:#808080}.rating-container .rating-votes{margin-left:5px}.rating-container.large-stars,.rating-container.medium-stars,.rating-container.small-stars{margin-left:7px}.rating-container.large-stars .rating-votes,.rating-container.large-stars .rating-prompt,.rating-container.large-stars .rating-poor,.rating-container.large-stars .rating-good{line-height:25px}.desktop-only{display:inherit}.tablet-only,.tablet-block-only{display:none}.mobile-only,.mobile-block-only{display:none}.desktop-only.tablet-only{display:inherit}.tablet-only,.mobile-only{display:none}.tablet-only.desktop-only{display:inherit}.rrssb-buttons,.rrssb-buttons li,.rrssb-buttons li a{-moz-box-sizing:border-box;box-sizing:border-box}.clearfix{*zoom:1}.clearfix:after{clear:both}.clearfix:before,.clearfix:after{content:" ";display:table}.rrssb-buttons{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;height:40px;margin:0;padding:0;width:100%}.rrssb-buttons li{float:left;height:100%;list-style:none;margin:0;padding:0 2.5px;line-height:13px}.rrssb-buttons li.email a{background-color:#0a88ff}.rrssb-buttons li.facebook a{background-color:#306199}.rrssb-buttons li.linkedin a{background-color:#007bb6}.rrssb-buttons li.twitter a{background-color:#26c4f1}.rrssb-buttons li.reddit a{background-color:#8bbbe3}.rrssb-buttons li.pinterest a{background-color:#b81621}.rrssb-buttons li.compact{padding:0 4.5px}.rrssb-buttons li.compact a{border-radius:50%;padding:0 7px 0 32px}.rrssb-buttons li.compact a .icon{left:7px;top:-3px;width:5%;transform:scale(.85)}.rrssb-buttons li.compact a .icon svg{height:auto;width:auto}.rrssb-buttons li a{background-color:#ccc;border-radius:3px;display:block;font-size:11px;font-weight:bold;height:100%;padding:11px 7px 12px 27px;position:relative;text-align:center;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;-webkit-transition:background-color .2s ease-in-out;-moz-transition:background-color .2s ease-in-out;-o-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.rrssb-buttons li a .icon{display:block;height:100%;left:10px;padding-top:9px;position:absolute;top:0;width:10%}.rrssb-buttons li a .icon svg{height:17px;width:17px}.rrssb-buttons li a .icon svg path,.rrssb-buttons li a .icon svg polygon{fill:#fff}.cc-window{opacity:1;background-color:#f90}.cc-window.cc-invisible{opacity:0}.cc-animate.cc-revoke.cc-bottom{transform:translateY(2em)}.cc-window,.cc-revoke{position:fixed;overflow:hidden;box-sizing:border-box;font-family:"Segoe UI",Arial,Sans-Serif;font-size:13px;line-height:1.5em;display:flex;flex-wrap:nowrap;z-index:9999}.cc-window.cc-banner{padding:.7em 1.8em;width:100%;flex-direction:row}.cc-revoke{padding:.5em}.cc-btn,.cc-link,.cc-close,.cc-revoke{cursor:pointer}.cc-link{opacity:.8;display:inline-block;padding:.2em;text-decoration:underline}.cc-link:active,.cc-link:visited{color:initial}.cc-btn{display:block;padding:.4em .8em;font-size:.9em;font-weight:bold;border-width:2px;border-style:solid;text-align:center;white-space:nowrap}.cc-banner .cc-btn:last-child{min-width:110px;margin-left:10px}.cc-highlight .cc-btn:first-child{background-color:transparent;border-color:transparent}.cc-revoke.cc-bottom{bottom:0;left:3em;border-top-left-radius:.5em;border-top-right-radius:.5em}.cc-bottom{bottom:1em}.cc-window.cc-banner{align-items:center}.cc-banner.cc-bottom{left:0;right:0;bottom:0}.cc-banner .cc-message{flex:1}.cc-compliance{display:flex;align-items:center;align-content:space-between}.cc-compliance&gt;.cc-btn{flex:1}.cc-btn+.cc-btn{margin-left:.5em}
</style>
<link rel="stylesheet" type="text/css" href="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.2022.06.24.1" media="all" onload="if(media!='all')media='all'" />
<noscript>&lt;link rel="stylesheet" type="text/css" href="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.2022.06.24.1"&gt;</noscript>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" defer=""></script>
<script type="text/javascript" src="https://codeproject.freetls.fastly.net/script/Articles/JS/article.min.js?dt=2.8.2022.06.24.1" defer=""></script>
<script type="text/javascript" src="https://accounts.google.com/gsi/client" defer="" async=""></script>
<script type="text/javascript" src="/script/JS/advertisement.min.js" defer=""></script>
<script type="text/javascript" src="/script/Membership/JS/MemberProfilePopup.min.js?v=1.4" defer=""></script>
<script type="text/javascript" src="/a.min.js?v=1.3" defer=""></script>

	
<meta http-equiv="content-language" content="en-US" />
<meta charset="UTF-8" />
<meta name="Description" content="CXR allows you to create encrypted strings at compile time." />
<meta name="Keywords" content="C++, Windows, Visual-Studio, Dev, Advanced" />
<meta name="Author" content="C&lt;sup&gt;hris&lt;/sup&gt; L&lt;sup&gt;osinger&lt;/sup&gt;" />
<meta name="Rating" content="General" />
<meta name="Revisit-After" content="1 days" />
<meta name="application-name" content="CodeProject" />
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13" />

<link rel="dns-prefetch" href="//ajax.googleapis.com" /> 
<link rel="canonical" href="https://www.codeproject.com/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@CodeProject" />
<meta name="og:site_name" content="CodeProject" />
<meta name="twitter:creator" content="@CodeProject" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="8/8/2002 12:00:00 AM" />
<meta property="article:modified_time" content="3/17/2005 9:59:00 PM" />
<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="C&lt;sup&gt;hris&lt;/sup&gt; L&lt;sup&gt;osinger&lt;/sup&gt;" />
<meta name="twitter:label2" content="Reading time" />
<meta name="twitter:data2" content="6 min read" />
<meta property="og:url" content="https://www.codeproject.com/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro" />
<meta property="og:title" content="Literal String Encryption as Part of the Build Process" />
<meta property="og:description" content="CXR allows you to create encrypted strings at compile time." />

<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Python" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=34" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="https://www.codeproject.com/webservices/LoungeRSS.aspx" />
<meta name="robots" content="index, follow" />

<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="https://www.codeproject.com/info/OpenSearch.xml" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-touch-icon.png" /> 
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" /> 
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" /> 
<link rel="manifest" href="/favicon/manifest.json" /> 
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ff9900" />
	<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "TechArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.codeproject.com/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro"
   },
  "name": "Literal String Encryption as Part of the Build Process",
  "headline": "Literal String Encryption as Part of the Build Process",
  "url": "https://www.codeproject.com/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro",
  "discussionUrl": "https://www.codeproject.com/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro#_comments",
  "isFamilyFriendly": "true",
  "image": "https://codeproject.global.ssl.fastly.net/App_Themes/CodeProject/Img/Article100.png",
  "keywords": "C++,Windows,Visual-Studio,Dev,Advanced",
  "commentCount": "52",
  "editor" : {
    "@type" : "Person",
    "name" : "Deeksha Shenoy",
    "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=3866010"
  },
  "license": "http://www.codeproject.com/info/cpol10.aspx",
  "publisher" : {
    "@type" : "Organization",
    "name" : "CodeProject"
  },
  "description": "This article will show you how to use strings for messages, passwords or other text inside your app that does not require you to use a literal string in CXR.",
  "articleSection": "C++",
  "author" : [{
      "@type" : "Person",
      "name" : "Chris Losinger",
      "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=42"
    }],
  "datePublished": "2002-08-08",
  "dateCreated": "2002-08-08",
  "dateModified": "2005-03-17"
,
  "contentRating" : {
    "@type" : "Rating",
    "ratingValue" : 4.87,
    "bestRating" : 5,
    "worstRating" : 1
  }
}</script>

<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=Languages",
      "name" : "Programming Languages"
    }
  },{
    "@type": "ListItem",
    "position": 2,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=Cplusplus",
      "name" : "C++"
    }
  }]
}</script>


	<base target="_top" />
	
    


<script type="text/javascript">
function defrm () { /* thanks twitter */
    document.write = '';
    window.top.location = window.self.location;
    setTimeout(function() { document.body.innerHTML = ''; }, 0);
    window.self.onload = function(evt) { document.body.innerHTML = ''; };
}

if (window.top !== window.self) {
    try {
        if (window.top.location.host) { /* will throw for all except chrome */ }
        else { defrm(); /* chrome */ }
    } catch (ex) { defrm(); /* everyone else */ }
}

// Specific case where a site is screwing with us.
if (typeof(DemoUrl) !== 'undefined') {
    document.write(unescape('%3Cme') + 'ta http' + '-equiv="re' + 'fresh con' +
                           'tent="1;url=' + DemoUrl + unescape('"%3CE'));
}
</script>
	





    <script async="" type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-YZNPNQ0F2S"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-YZNPNQ0F2S' , {'user_id': 'ebd7f306-9fc9-4dc1-a457-cb96397d9a2a'});
    </script>

<style type="text/css"></style><style></style><link id="googleidentityservice" type="text/css" media="all" rel="stylesheet" href="https://accounts.google.com/gsi/style" /><style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:"Roboto-Regular",arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b&gt;.aZ2wEe&gt;div{border-color:#4285f4}.P1ekSe-ZMv3u&gt;div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u&gt;div:nth-child(2),.P1ekSe-ZMv3u&gt;div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:"Google Sans",arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:"Google Sans",arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:"Roboto";font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}</style><meta http-equiv="origin-trial" content="AzoawhTRDevLR66Y6MROu167EDncFPBvcKOaQispTo9ouEt5LvcBjnRFqiAByRT+2cDHG1Yj4dXwpLeIhc98/gIAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==" /><meta http-equiv="origin-trial" content="A6+nc62kbJgC46ypOwRsNW6RkDn2x7tgRh0wp7jb3DtFF7oEhu1hhm4rdZHZ6zXvnKZLlYcBlQUImC4d3kKihAcAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==" /><meta http-equiv="origin-trial" content="A/9La288e7MDEU2ifusFnMg1C2Ij6uoa/Z/ylwJIXSsWfK37oESIPbxbt4IU86OGqDEPnNVruUiMjfKo65H/CQwAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==" /><script src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_2022062901.js?cb=31068310" async=""></script><link rel="preload" href="https://adservice.google.com/adsid/integrator.js?domain=www.codeproject.com" as="script" /><script type="text/javascript" src="https://adservice.google.com/adsid/integrator.js?domain=www.codeproject.com"></script></head>	

<body class="chrome chrome103"><div class="cc-revoke cc-bottom cc-animate cc-color-override--316233370" style="display: none;">Cookie Policy</div><div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window cc-banner cc-type-opt-in-out cc-theme-edgeless cc-bottom cc-color-override--316233370 " style=""><!--googleoff: all--><span id="cookieconsent:desc" class="cc-message">Like every other website we use cookies. By using our site you acknowledge that you have read and understand our <a href="/info/cookie.aspx">Cookie Policy</a>, <a href="/info/privacy.aspx">Privacy Policy</a>, and our <a href="/info/TermsOfUse.aspx">Terms of Service</a>. <a aria-label="learn more about cookies" role="button" tabindex="0" class="cc-link" href="https://www.codeproject.com/info/privacy.aspx" rel="noopener noreferrer nofollow" target="_blank">Learn more</a></span><div class="cc-compliance cc-highlight"><a aria-label="dismiss cookie message" role="button" tabindex="0" class="cc-btn cc-dismiss">Ask me later</a><a aria-label="deny cookies" role="button" tabindex="0" class="cc-btn cc-deny">Decline</a><a aria-label="allow cookies" role="button" tabindex="0" class="cc-btn cc-allow">Allow cookies</a></div><!--googleon: all--></div>

	<div id="ctl00_OneTap_OneTap">
    <div id="g_id_onload" data-client_id="857795997829.apps.googleusercontent.com" data-login_uri="/script/Membership/OAuthLogOn.aspx?auth=Google">
    </div>
</div>



	<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="https://codeproject.freetls.fastly.net/images/t.gif" /></a>




<div class="page-background">

	
	

	

	
    <div id="ctl00_STM" class="site-top-menu fixed">
        <div class="main-content">
            

<div class="container memberbar clearfix flex-container flex-extend">

	<div id="ctl00_MemberBar_GenInfo" class="flex-item align-left">15,352,974 members</div>

	<div class="flex-item">
		
	</div>

	<div class="flex-item align-right">

		

		

		

			<script type="text/javascript">//&lt;!--
			function doSubmit(secure)
			{
				if (secure)
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro"
				else
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro"
				document.signinForm.submit();
				return true;
			}//--&gt;
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip openable">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro">Sign in</a>
                    <img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/login32.png" width="16" height="16" style="vertical-align:middle;" />
				</span>

				<div class="tooltip-flyout">
					<form name="signinForm" id="signinForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro" method="post" class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden" />

						<div>Email</div>
						<div><input class="small-text" type="email" name="Email" id="Email" autocomplete="email" /></div>
						<div>Password</div>
						<div><input class="small-text" type="password" name="Password" id="Password" autocomplete="current-password" /></div>
						<div class="action">
                            <input id="joinBtn" type="button" class="create hidden" onclick="return Join();" value="Join" style="visibility: visible;" />
                            <input type="hidden" name="fld_quicksign" value="true" />
							<input type="submit" value="Sign in" class="signin" onclick="return doSubmit(false);" />
						</div>

						<div class="container">
							
							Â 
							<a id="ctl00_MemberBar_SendPassword" class="forgot float-right" href="/script/Membership/SendPassword.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark" />

					Sign in with <a class="oauth" alt="Sign in using Github" title="Sign in using Github" href="/script/Membership/OAuthLogOn.aspx?auth=GitHub"><img src="/script/Membership/Images/octicons_github.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Facebook" title="Sign in using Facebook" href="/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="/script/Membership/Images/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Google" title="Sign in using Google" href="/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="/script/Membership/Images/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Microsoft" title="Sign in using Microsoft" href="/script/Membership/OAuthLogOn.aspx?auth=Microsoft"><img src="/script/Membership/Images/microsoft.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>

				</div>
            </span>
		
	</div>
</div>
        </div>
    </div>

	
    <div id="ctl00_SH" class="site-header fixed">
        <div class="main-content">
            <div class="logo"><a href="/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/CanDay/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;" /></a></div>
            <div class="promo"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesCplusplus" data-country="US" data-tags="C++, Windows, Visual-Studio, Dev, Advanced,rating4.5"><noscript>&lt;a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=728x90&amp;c=803519"&gt;&lt;img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=728x90&amp;c=803519"  width="728px" height="90px" target="_blank"/&gt;&lt;/a&gt;</noscript><div id="div-gpt-ad-lqm.codeproject.site/Programming-LanguagesCplusplus-1" data-google-query-id="CPuRivax1_gCFceClgod8uwBdw" style="height: 90px; width: 728px; box-sizing: border-box; border: 0px; font-size: 0px;"><div id="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_0" name="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_0" title="3rd party ad content" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" role="region" aria-label="Advertisement" tabindex="0" srcdoc="" data-google-container-id="1" style="border: 0px; vertical-align: bottom;" data-load-complete="true"></iframe></div></div></div></div>
        </div>
    </div>

	
	<div id="ctl00_TPR" class="sub-headerbar clearfix fixed">
    <div class="float-right">
		

<div class="searchbar">

<form method="get" action="/search.aspx?sbo=kw" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tbody><tr><td><input tabindex="2" class="search subdue" id="sb_tb" autocomplete="off" value="" name="q" /></td><td><input type="image" src="https://codeproject.freetls.fastly.net/images/search.gif" /></td></tr></tbody></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced small-text align-left" style="display: none;">
	<b>Search within:<br /></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="checked" /><label for="sb_kw">Articles</label><br />
<input type="radio" id="sb_qa" name="sbo" value="qa" /><label for="sb_qa">Quick Answers</label><br />
<input type="radio" id="sb_fm" name="sbo" value="fm" /><label for="sb_fm">Messages</label><br />


		
		

		
		
	</div>
</div>
</form>

</div>
    </div>
    <div class="float-left">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li class="desktop-only"><a id="ctl00_TopNavBar_Home" href="https://www.codeproject.com">home</a>


</li><li class="openable"><a id="ctl00_TopNavBar_Art" class="down selected" href="/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class="openable"><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, 'ctl00_TopNavBar_MapFlyout');" href="/script/Content/SiteMap.aspx">Browse Topics<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout" class="taxonomy">
			<li>
				<div id="siteMap"></div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="/script/Articles/Latest.aspx">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="/Forums/1641/Article-Writing">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="/script/Articles/Submit.aspx">
			<img src="https://codeproject.freetls.fastly.net/images/write13.png" width="13" height="13" /> Submit an article or tip
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtImportGitHub" class="fly highlight3" href="/script/Articles/ImportArticle.aspx">
			<img src="https://codeproject.freetls.fastly.net/images/write13.png" width="13" height="13" /> Import GitHub Project
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="/script/Articles/BlogFeed.aspx">
			<img src="https://codeproject.freetls.fastly.net/images/write13.png" width="13" height="13" /> Import your Blog
			</a></li>		
        
        <li class="last"></li>
	</ul>

</li>



<li class="openable">
<a id="ctl00_TopNavBar_Answers" href="/script/Answers/List.aspx?tab=active">
    <span class="desktop-only tablet-only">quick answers</span><span class="mobile-only">Q&amp;A</span>
</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="#_comments">
			<img src="https://codeproject.freetls.fastly.net/images/write13.png" width="13" height="13" /> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="/Questions/ask.aspx"><img src="https://codeproject.freetls.fastly.net/images/write13.png" width="13" height="13" /> Ask a Question</a></li>

		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="/script/Answers/List.aspx?tab=active">View All Questions</a></li>
        
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=81" style="padding-left:30px">View C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=78" style="padding-left:30px">View C++ questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=268" style="padding-left:30px">View Python questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=87" style="padding-left:30px">View Javascript questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=91" style="padding-left:30px">View Java questions</a></li>
			
    
		<li class="last"></li>
	</ul>

</li>



<li class="openable"><a id="ctl00_TopNavBar_Forums" href="/script/Forums/List.aspx">
        <span class="desktop-only tablet-only">discussions</span><span class="mobile-only">forums</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_CodeProjectAI" class="fly" href="/Feature/CodeProjectAI-Discussions.aspx">CodeProject.AI Server</a></li>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1580997/Application-Lifecycle">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1533717/Running-a-Business">Running a Business</a></li>
<li><a class="fly" href="/Forums/1533716/Sales-Marketing">Sales / Marketing</a></li>
<li><a class="fly" href="/Forums/1651/Collaboration-Beta-Testing">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="/Forums/3304/Work-Issues">Work  Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/369270/Design-and-Architecture">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1969389/Artificial-Intelligence">Artificial Intelligence</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/12076/ASP-NET">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1580226/JavaScript">JavaScript</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1969388/Internet-of-Things">Internet of Things</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1647/C-Cplusplus-MFC">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/4486/ATL-WTL-STL">ATL /  WTL / STL</a></li>
<li><a class="fly" href="/Forums/3785/Managed-Cplusplus-CLI">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1649/Csharp">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1627782/Free-Tools">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1827460/Objective-C-and-Swift">Objective-C and Swift</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1725/Database">Database</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/186301/Hardware-Devices">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1644/System-Admin">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1606152/Hosting-and-Servers">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1643/Java">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1942421/Linux-Programming">Linux Programming</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1650/NET-Core-and-Framework">.NET (Core and Framework)</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1848626/Android">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1876716/iOS">iOS</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/13695/Mobile">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1004257/WPF">WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1646/Visual-Basic">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1640/Web-Development">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/suggestions.aspx">Site Bugs / Suggestions</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1652005/Spam-and-Abuse-Watch">Spam and Abuse Watch</a>
</li>

		<li class="last"></li>
	</ul>

</li>

<li class="openable"><a id="ctl00_TopNavBar_Features" href="/Feature/">
      <span class="desktop-only tablet-only">features</span><span class="mobile-only">stuff</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="/script/Contests/CurrentCompetitions.aspx?cmpTpId=3&amp;amp;awsac=true">Competitions</a></li>
        
		<li><a id="ctl00_TopNavBar_Conferences" class="fly" href="/script/Conferences/List.aspx">Conferences</a></li>
		
		<li><a id="ctl00_TopNavBar_News" class="fly" href="/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="/script/Surveys/List.aspx">Surveys</a></li>
		
        
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li class="openable"><a id="ctl00_TopNavBar_Lounge" href="/Lounge.aspx">
            <span class="desktop-only tablet-only">community</span><span class="mobile-only">lounge</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly break" href="/script/Contests/Winners.aspx?obtid=1&amp;amp;cmpTpId=2&amp;amp;cid=0">Most Valuable Professionals</a></li>

		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly highlight2" href="/Lounge.aspx">The Lounge Â </a></li>
		<li><a id="ctl00_TopNavBar_SiteBlog" class="fly break" href="/Members/CodeProject#_comments">The CodeProject Blog</a></li>

		<li><a id="ctl00_TopNavBar_WhereAmILink" class="fly" href="/Forums/1939564/Where-I-am-Member-Photos">Where I Am: Member Photos</a></li>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="/Feature/WeirdAndWonderful.aspx">The Weird &amp; The Wonderful</a></li>

		<li class="last"></li>
	</ul>

</li>


<li class="openable" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="/KB/FAQs/">
    <span class="desktop-only tablet-only">help</span><span class="mobile-only">?</span>
</a>


	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight2" href="/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="/Forums/1641/Article-Writing">Article Help Forum</a></li>
		
		
		
		
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
    </div>
	<div class="sub-headerbar-divider"></div>
	</div>		
	

	<div id="A" class="container-content-wrap fixed"> 

	<div class="container-content">

        
		<div class="clearfix">
			<div class="container-breadcrumb float-left ">
				<div><a rel="nofollow" href="/script/Content/SiteMap.aspx">Articles</a> / <a rel="nofollow" href="/script/Content/Tag.aspx?tags=Languages">Programming Languages</a> / <a rel="nofollow" href="/script/Content/Tag.aspx?tags=Cplusplus">C++</a></div>
			</div>

            <div class="float-left">
				
			</div>

			<div class="edit-links float-right">
				



 
Â 










			</div>

			<div class="article-nav float-right">
				


<div style="display:inline-block;position:relative;top:-6px;margin-right:20px">
    
</div>



 

<a id="ctl00_ActionLinks_PrintMd" data-tooltip="Print" data-enabletooltip="true" data-width="auto" href="/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro?display=Print" class="tooltip" title="">
   <img src="/App_Themes/CodeProject/Img/print48.png" width="24" height="24" style="border:0" />
<div class="speech-bubble-container-up" style="width:auto">  <div class="speech-bubble-up" style="text-align:center"> Print</div>  <div class="speech-bubble-pointer-up">    <div class="speech-bubble-pointer-up-inner"></div>  </div></div></a>



<span id="ctl00_ActionLinks_R">
    
    
</span>
			</div>
		</div>

        
		<div class="extended article-container-parts">

			
		    <div id="ctl00_LeftSideBar" class="article-left-sidebar">

                <div id="ctl00_StickyBlock" class="article-left-sidebar-inner sticky">

                    
    		        

<div class="tabs">
	<div class=" selected">Article</div>
<div class="browse-code"><a href="/script/Articles/ViewDownloads.aspx?aid=2724">Browse Code</a></div>
<div><a href="/script/Articles/Statistics.aspx?aid=2724">View Stats</a></div>
<div><a href="/script/Articles/ListVersions.aspx?aid=2724">Revisions (5)</a></div>
<div><a href="#_comments">Comments (52)</a></div>
<div>Posted 7 Aug 2002</div>


    
</div>



			        

			        <div>
                        <h4 id="ctl00_TaggedAsWrapper">Tagged as</h4>
			            <span id="ctl00_TagList_TagWrp" class="tags vertical">

	
	

	
	<span id="ctl00_TagList_VisibleTags"><div class="t"><a rel="tag" href="/Tags/Cplusplus" data-id="78">C++</a></div><div class="t"><a rel="tag" href="/Tags/Windows" data-id="94">Windows</a></div><div class="t"><a rel="tag" href="/Tags/Visual-Studio" data-id="103">Visual-Studio</a></div></span> 

	
	
</span>


			        </div>

                    <div id="ctl00_VerticalStatsWrapper" class="stats">
                    <h4>Stats</h4>
                    <div id="ctl00_VerticalStats"><div class="stats"><div>212.5K views</div><div>2K downloads</div><div>78 bookmarked</div></div></div>
                    </div>

                    
                </div>
		    </div>
            

			
			<div id="AT" class="article-container  fixed"> 

				<div class="article">

					<form name="aspnetForm" method="post" action="./View.aspx" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="jOnV1JYEchB+5dEdWuyREGrO9mC2NTsnpOwd4sgD+x9EpHRMtuTZRIimN0h/wYjRgz0pFyiUqOJ8hrKqCu2g7kKh1hwFowC8h1nfHAaKQw0PUnTDrVO3hKzC12EoeiUQ0VnwZ6yZ7VUxKw96kqKvB7Xb9w8mIZ0yDDjDuYcgSlrDZnzXBejUH1TOFZahKosA06WTnrRYy5IjfyyXM46UTgObr3NuMDJLuPXN/530akv8FirQ5e1ciPDWRZQpC5dIkg5wh8OiJLfv2+g0vO6qahCgU2rFcjlNuFRAXRulL/QWEDNESB218rDgTEDKNFNgFUUCAxCRerGi+vF88TA5/gWaa/9LB+4xoVVHlr+85nVYmKyofE3ZGkzFi5xP4Yq53unMGHpTIXGe0TXQHhBL1LMLsg52uzP1bZYHzY8z2cngVdttIWH2iaf0tkeiFywLTqMWneHAJ4+AwhuLqjyaNEnbHuaCs3G3VGFy4BmJ3zmW84iLBYNOdHwYTHLSxm6NJMI1sqoR2XRf4/rTZpTwze91Sg8Hj79buH5nwqf+sqxo5Xy+xt9+OIhglc2OWqRomuVy1BDX79qEwy6sftVoocgV7JBY8uVO7H/69+/ZWvf1r7yi1wzoffTWEfZix4qB/213hGak2dV0P4g8BwXhbz5hx0ALszAHVunVQCqHndZAoAm+gFyaMEtBMm7ihbtJ1yUZeqKliIjUJzKII7X0MmWJxUu5AteQAnX9CnIcmjsQuDHbZKAXCGPOVBd5BozGvD5CZ15re9ciq1gaAn0ViW2mK0FFVh6tQqShxAJyndIlVfX1NDn/6Vugh/iyKXXB00YY7Zln8JbplKKGt+DWRwMm6JfpdWRl53wRbYavtRm4pAjg+I9nzSiDRk36kV/ZRv/4EZi7wv0OQi7iIK+/cgfIYSTPINUeeWbnbizCHgHUqXWzO2L5uhK6sbYabtrLDNEr1PSR/oCT4qyuVquuQnwjVfxLEHtuOE+awSK4hAMdWPh13J0S+NAVJwq4IY9VYFoST0AOETIbdP0OljYDIFh14/w8ghq2Vjoay1NrAhsPZNkAmz71ZbJ0HAQaDOJLUgnfP37Dj8y9Qqla1ECIr+jHP1rlw6IQwWDZKHJuuBRrV/W+HseM0TqXQqDzhHVjh6Qq53BU4VWs1+9fn2jf1Zkjf8x3kT9egocttBGeE7mMfg1jF/w7HI4O8zhQ9H8UTy+1k7PVT1XXI70hl6DfUINF+yFjWLrjp4AXmFdVuQ4N1hwBUs4ECVCoxjU+ao58AjQbhYtsfOYthb+omYulZixxynKetkejvAyYZeKnbolvBri6Z0FlxNVt4JCcBZqKdsfyD3y9WsGuaqoDwyak9jMtcOD9QO688zAnZs29uzJcwo2ndUMwoHdKUFD5yhK3QavpzZ0fEZHOscOcjIl8qCQ6h5PCBJ1s2yEIlGCiWpbQHycmEEj0Suh/4dzQ+iB3ph3Od0HmeAGCjnNDmobD9PaY73zcJ6o3KcUnX6vqa1wNZLOPQYU3uvOtleiAkSiUS5dw/eBvJnR51mJp69uiPsjuJQDvKBpcMM8V4VLKpF2L81+wheXypEUV9WGnwdSTw0kp9AS7QeOw4cLV92D6Agu5IbNI7ZrHOxR1PrNZV3/DV+GR0SVizeBcjA0veXq3Y8XZqkFj8IIegotg5zxaHVNJe2Dz8xw8vr0G2lsfhvn3XnpYeCS11QYFBehX/9LjZC5i7pl7dDk1JVCE0Go1Vs0wboAtTeDQjacamrJT4vZCd+O+ipRvgGMEcC5Ghp846/MS8WQ3egizPcWKqh4jht6pgQ2l1d+n5zvAXcYRM/Us2XGpOBxKdOf8MIpzeS4YYjXJXQ5K6vHNY/w1KxNWpxeeEtwKjAxPpqv1+z3Ka8e+II/PWimYxiWtp1fQHaU3csnD22cBEjdZaOhkXjmMojeF+sduUDyV/YtL8b5nfuvjbLHXDHeGYPz5xRqknkFXaA7xKf3QYs3onXkyVezUg8vIFEW2J7TtzrrwhwXCUVzPfxwPmDPwLpWh2pydP4pUXfernA4pmDmEN05D4o5oRED8pxXPNMaqQUbFS767EMxV0Se9lsg9baFTe8MezCefEyOKi4bKz9dy/01qcTcWIf7xFz5H1rDJzQVKBdxs/LiZkqCJZPmBkjO3JODx9PkCe0rIbXTCRpXKcQlsKRR5TVoqsQNa/aHR7hFWx5+1q7faRT7/aR1OZuMbtq9yBQNS9EKgsI/8LqymOl+SWGATBZJSp+iYLS6M5jRzG3zNUQbFpRtQktmVWsGMPSszMnQEzGqoSvjHjRVuqbptkGA0VkZKwMfwMKd2xr3cF865nLleI0lSvGpHJ3IFu3rfKy0jlt4UXSzJm2qPAlKG+j8QTFJK8K5mS2hoScLUsEjAYOovUPgSpoQP8RWCLCi1O8uqlxrEn09GQjJMARDPh36GjvRk0mrZuj70xEsYMzfcaeveQep1" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69" />
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>

					    
					    <a name="_articleTop" id="_articleTop"></a>
					    <div class="title">
					        <h1 id="ctl00_ArticleTitle">Literal String Encryption as Part of the Build Process</h1>
					    </div>

                        <div>
					        
					        <div class="entry flex-container">

								<div id="ctl00_avatarWrap" class="avatar-wrap align-center">
									<img src="https://www.codeproject.com/Uploads/Membership/ProfileImages/{C17B002F-BCEB-454A-8243-A6974F6526DE}.jpg" id="ctl00_avatar" class="avatar" />
								</div>

                                <div class="flex-item" style="flex:1 1 auto">
                                    <div class="flex-container" style="justify-content:space-between;flex-wrap:wrap-reverse">
                                       <span id="ctl00_Authors" class="author flex-item"><a href="/script/Membership/View.aspx?mid=42" rel="author">C<sup>hris</sup> L<sup>osinger</sup></a></span> 

                                        <div class="flex-item" style="margin-top:-4px;">
                                            <div id="ctl00_RateArticle_RatingTable" class="small-text" data-objectref="2_2724_5">

	<meta itemprop="upvoteCount" content="21" />


	<div id="ctl00_RateArticle_RatingRow" class="flex-container rating-container large-stars">

					
		<div id="ctl00_RateArticle_Prompt" class="rating-prompt nowrap">Rate me:</div>

		
		<div class="nowrap tooltip">

			
			
			

			
			<div id="ctl00_RateArticle_RatingHistWrap" class="tooltip">

				
				<div id="ctl00_RateArticle_ResultWithHist" class="rating-result"><div class="flex-container rating-stars large-stars"><div><img src="https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png" style="width:24px;height:24px" /></div><div><img src="https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png" style="width:24px;height:24px" /></div><div><img src="https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png" style="width:24px;height:24px" /></div><div><img src="https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png" style="width:24px;height:24px" /></div><div style="width:20px;" class="clipped"><img src="https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png" style="width:24px;height:24px" /></div><div style="width:4px;position:relative" class="clipped"><img src="https://www.codeproject.com/script/Ratings/Images/star-empty-lg.png" style="width:24px;height:24px;position:absolute;top:0px;right:0" /></div></div></div>
				

				<div class="speech-bubble-container-up-right" style="width:170px">
					<div class="speech-bubble-up-right">
						<div class="histogram"></div>
					</div>
					<div class="speech-bubble-pointer-up-right">
						<div class="speech-bubble-pointer-up-right-inner"></div>
					</div>
				</div>
			</div>

			
            

			
            <span id="ctl00_RateArticle_RatingSignin" class="speech-bubble-container-down">
		        <div class="speech-bubble-down">
                    Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro">Sign up or sign in</a> 
                    to vote.
		        </div>
		        <div class="speech-bubble-pointer-down">
			        <div class="speech-bubble-pointer-down-inner"></div>
		        </div>
	        </span>    

		</div>
		
	
		
		<div id="ctl00_RateArticle_VoteCountNoHist" class="rating-votes nowrap">4.87/5  (22 votes)</div>	

		

		
		<div class="rating-undo" title="Undo vote" style="margin-left:5px;display:none"></div>

		
		
	</div>

	
	

</div>

                                        </div>
                                    </div>

                                    <div class="flex-container">
                                        <span id="ctl00_LastUpdated" class="date flex-item-tight" title="Date last updated">17 Mar 2005</span><a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license flex-item-tight" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><span id="ctl00_ReadingTime" class="stats flex-item-tight">6 min read</span>
                                    </div>
                                </div>
					        </div>

                            

                        </div>

                        <div id="ctl00_DescriptionSpot" class="summary">CXR allows you to create encrypted strings at compile time.</div><span id="ctl00_ThumbnailUrl" class="date" content="https://codeproject.global.ssl.fastly.net/script/Articles/Images/article100x80.png"></span>			

                    </div>
                    
					
					

					

					
					<div id="ctl00_Abstract" class="abstract">This article will show you how to use strings for messages, passwords or other text inside your app that does not require you to use a literal string in CXR.</div>

					
					
					
					

						
					

					

						
						<div id="contentdiv" class="text">
						



<ul class="download">
	<li><a href="/KB/string/cxr/cxr_src.zip">Download source files - 41.3 KB</a></li></ul>

<h2>Introduction</h2>

<p>Have you ever wished there was a way to use <code>string</code>s for messages, passwords or other text inside your app that didn't require you to use a literal <code>string</code>, because you were worried about someone finding the <code>string</code>s in your EXE ? Wish no more, CXR is here.</p>

<h2>What Does It Do?</h2>

<p>CXR is a combination of a text parser, a stream cipher and C source code generator. You define your literal text strings in a "<em>.CXR</em>" file as part of your normal coding process, using standard C/C++ constructs. Then, when you build your project, the CXR program will encrypt those strings and generate a new <em>.CPP</em> file that is compiled into your project, automatically. The process is somewhat like what happens with <em>.IDL</em> files when you are working on an ATL project.</p>

<h2>What?</h2>

<p>Here's an example:</p>

<p>You create a <em>.CXR</em> file that contains your <code>string</code> definitions and a unique password:</p>

<div class="pre-lang" id="premain188290"><div>C++</div><div class="pre-action-link"><span id="copycode188290" class="copy-code" data-index="188290" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre188290" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-summarycomment">///</span><span class="code-comment">/////////////////
</span><span class="code-comment">// my .CRX file
</span><span class="code-comment">//
</span><span class="code-comment">// here is my password definition:
</span><span class="code-comment">// CXRP = "SexyBeast"		
</span><span class="code-comment">//
</span><span class="code-comment">// here are some strings:				
</span>
<span class="code-comment">// my first string   
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString1 = _CXR(<span class="code-string">"</span><span class="code-string">AbcdEfg1234  blah\tblah"</span>); 

<span class="code-comment">// string #2
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString2
       = _CXR(<span class="code-string">"</span><span class="code-string">This is a long one, not that it should matter..."</span>);</pre>

<p>As you can see, the only difference between this and standard C/C++ is the <code>_CXR</code> specifier. The comment line with the password is required, and any text you want encrypted must be inside a <code>_CXR(...)</code> specifier. Anything else in the file will be copied over to the output <em>.CPP</em> unchanged. So, that's how you set up the <em>.CXR</em> file. When you build your project, the CXR parser will read this file and generate a <em>.CPP</em> that looks like this:</p>

<div class="pre-lang" id="premain529969"><div>C++</div><div class="pre-action-link"><span id="copycode529969" class="copy-code" data-index="529969" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre529969" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-summarycomment">///</span><span class="code-comment">////////////////////////
</span><span class="code-preprocessor">#ifdef _USING_CXR
</span><span class="code-comment">// my first string
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString1 = <span class="code-string">"</span><span class="code-string">ab63103ff470cb642b7c319cb56e2dbd591b63a93cf88a"</span>;
<span class="code-preprocessor">#else
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString1 = _CXR(<span class="code-string">"</span><span class="code-string">AbcdEfg1234  blah\tblah"</span>);  <span class="code-comment">// my first string
</span><span class="code-preprocessor">#endif
</span>
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////
</span><span class="code-preprocessor">#ifdef _USING_CXR
</span>
<span class="code-comment">// string #2
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString2 = 
    <span class="code-string">"</span><span class="code-string">baff195a3b712e15ee7af636065910969bb24997c49c6d0cc6a40d3ec1..."</span>;
<span class="code-preprocessor">#else
</span><span class="code-comment">// string #2
</span><span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString2 = 
    _CXR(<span class="code-string">"</span><span class="code-string">This is a long one, not that it should matter..."</span>); 
<span class="code-preprocessor">#endif
</span>...more stuff below...</pre>

<p>Presto. The CXR parser has encrypted your <code>string</code>s.</p>

<h2>Ok, How Do I Get My Strings Back?</h2>

<p>The "...more stuff below..." is actually the decryptor code. That decryptor code is compiled into your project, with the CXR password you gave. So, all you have to do to is this:</p>

<div class="pre-lang" id="premain325339"><div>C++</div><div class="pre-action-link"><span id="copycode325339" class="copy-code" data-index="325339" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre325339" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">CString csString1 = _CRX(pString1);
<span class="code-comment">// pString1 = "ab63103ff470cb642b7c319cb56e2dbd591b63a93cf88a"
</span><span class="code-comment">// and now csString1 = "AbcdEfg1234  blah\tblah";</span></pre>

<p>Note the <code>#ifdef _USING_CXR</code> tags. Because of these, you can disable the CXR <code>string</code>s by simply changing a single <code>#define</code> - to make testing easier. If <code>_USING_CXR</code> is not defined, all your <code>string</code>s revert to their unencrypted form and the "<code>_CXR</code>" turns into a macro that does nothing. If <code>_USING_CXR</code> is defined, your <code>string</code>s take on their encrypted forms and the <code>_CXR</code> macro becomes a call to the decrypting code. It's (almost) totally seamless.</p>

<h2>It Can't Be That Easy</h2>

<p>Well, it's <i>almost</i> that easy. There are some steps you need to follow to add your <em>.CRX</em> file to your project and to enable the CXR parser. But, these are all one-time things. Once you set them up the first time, you never have to do it again.</p>

<h2>Setting Up</h2>

<ol>
	<li>Build the <em>CXR.EXE</em> and put it somewhere in your path (in your WinNT or Windows folder, perhaps).</li>	<li>Create your <em>.CRX</em> file. Create a file that has your password definition and your literal text strings. Follow these rules:
	<ul>
		<li>A <em>.CXR</em> file must contain a password line of the form:
		<div class="pre-lang" id="premain26143"><div>C++</div><div class="pre-action-link"><span id="copycode26143" class="copy-code" data-index="26143" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre26143" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-comment">// CXRP = "MyPasswordString"</span></pre>
		Where the password <code>string</code> is any <code>string</code> you want. The "<code>// CXRP =</code>" part is required.</li>		<li>All text <code>strings</code> that are to be encrypted must be enclosed in a <code>_CXR(...)</code> tag.</li>		<li><code>_CXR(...) </code>tags cannot span multiple lines.</li>		<li>CXR currently does not support Unicode. All your <code>string</code>s will be treated by the encoder as if they were ANSI <code>string</code>s. Using this in a Unicode build will probably cause you huge headaches. Unicode support is planned in the future, but it isn't supported right now.</li>	</ul>
	</li>	<li>Create a <em>.H</em> file for your <code>string</code>s. Really, this is just a basic C/C++ issue. CXR will generate a <em>.CPP</em> file with your encoded <code>string</code>s. But, as with any extern <code>string</code>s, if you want to use them in your code, you have to define them somewhere. In the example above, I would create a file called "<em>strings.h</em>" and add the following:
	<div class="pre-lang" id="premain733127"><div>C++</div><div class="pre-action-link"><span id="copycode733127" class="copy-code" data-index="733127" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre733127" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">extern</span> <span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString1;
<span class="code-keyword">extern</span> <span class="code-keyword">const</span> <span class="code-keyword">char</span>* pString2;</pre>
	</li>	<li>Add the <em>.CXR</em> file to your project. You have to do this manually (right click on your project in the File View, select the <em>.CXR</em> file, etc.).</li>	<li>Add a new <em>.CPP</em> file to your project. The CXR parser will generate a <em>.CPP</em> file for you. But, you have to tell the compiler to compile it. So, add another file to your project. If your <em>.CXR</em> file was named "<em>Strings.CXR</em>", add "<em>Strings.CPP</em>" to your project - just type in the name when the file dialog pops up. Since this file doesn't exist yet, Visual Studio will ask if you want to add a reference to it anyway. Say <strong>Yes</strong>. The first time you build, the <em>.CPP</em> will be created.</li>	<li>Set the custom build options. Find your <em>.CXR</em> file in the <strong>Project / Settings</strong> menu. Check "<strong>Always use custom build step</strong>". On the <strong>Custom Build</strong> tab, in the "<strong>Commands</strong>" section, enter the following:
	<div class="pre-lang" id="premain516117"><div> </div><div class="pre-action-link"><span id="copycode516117" class="copy-code" data-index="516117" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre516117" style="margin-top:0;" data-language="text" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true" class="notranslate">cxr.exe -i $(InputPath) -o $(ProjDir)\$(InputName).cpp</pre>
	This will cause Visual Studio to call <em>CXR.EXE</em> with the name of your <em>.CXR</em> file as input and the same name, but with a <em>.CPP</em> extension as output.

	<p>In the "<strong>Outputs</strong>" section, enter:</p>

	<div class="pre-lang" id="premain668135"><div> </div><div class="pre-action-link"><span id="copycode668135" class="copy-code" data-index="668135" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre668135" style="margin-top:0;" data-language="text" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true" class="notranslate">$(ProjDir)\$(InputName).cpp</pre>
	This tells the compiler that this file needs to be recompiled when the <em>.CXR</em> file changes.</li>	<li>Add <em>cxr_inc.h</em> to your project and add <code>#include "cxr_inc.h"</code> in every file in which you want to use the encrypted <code>string</code>s. There is a copy of this file in the sample "<strong>Test</strong>" project. But, it looks just like this:
	<div class="pre-lang" id="premain878618"><div>C++</div><div class="pre-action-link"><span id="copycode878618" class="copy-code" data-index="878618" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre878618" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="C++" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-preprocessor">#ifndef CRXHeaderH
</span><span class="code-preprocessor">#define CRXHeaderH
</span>
<span class="code-preprocessor">#define _USING_CXR
</span>
<span class="code-preprocessor">#ifndef _USING_CXR
</span><span class="code-preprocessor">#define _CXR(x) x
</span>
<span class="code-preprocessor">#else
</span>
<span class="code-preprocessor">#define _CXR(x) __CXRDecrypt(x)
</span><span class="code-keyword">extern</span> CString __CXRDecrypt(<span class="code-keyword">const</span> <span class="code-keyword">char</span> *pIn);

<span class="code-preprocessor">#endif
</span>
<span class="code-preprocessor">#endif</span></pre>
	This file defines the macros you need to use to get your <code>string</code>s. This is also a good place to turn off the <code>_USING_CXR</code> macro, if you want to use your <code>string</code>s un-encrypted for any reason.</li>	<li>That's it! I know it looks like a lot. But again, the previous steps only have to be done once. After the setup is complete, the only interaction you'll have with CXR is when you edit and access your <code>string</code>s.</li></ol>

<h2>In Detail</h2>

<p>CXR is fairly simple. The parser scans the <em>.CXR</em> input file, looking for two things: 1. the password line and 2. quoted <code>string</code>s inside <code>_CXR(...)</code> tags. Anything else it just copies to the output as-is. When it finds a <code>_CXR</code> tag, it encrypts the <code>string</code> with your password, converts the encrypted data to printable characters and outputs the encrypted version, along with the original version, in an <code>#ifdef...#endif </code>chunk. The parser is somewhat dumb; it doesn't understand much C/C++; it only knows to looks for the password and <code>_CXR("...")</code>, this is what prevents the use of multi-line text and Unicode. It does, however understand the syntax of C/C++ literal <code>string</code>s (including all escapes documented in K&amp;R v2).</p>

<p>The encryption code is based on the quick and small Sapphire II stream cipher, from Crypto++. XOR would work equally as well, since we're only concerned about <a href="http://www.m-w.com/cgi-bin/dictionary?obfuscate" target="New Window">obfuscating</a> the <code>string</code>s, not in keeping them secure against decryption attack.</p>

<h2>You Must Be Stupid. This Won't Stop Crackers</h2>

<p>No, I'm not stupid. I know that this by itself won't stop crackers. This is only a part of a complete defense. Of <i>course</i>, if they find and watch the CXR decryption code, they can see the decrypted <code>string</code>s coming out; but they would have to know to look for it and find it, first. What CXR really does is it stops them from finding your "<strong>Registration complete!</strong>" and "<strong>Your trial period has expired!</strong>" messages with a simple <code>string</code> scan of the <em>.EXE</em>. Protection against crackers (as cracking itself) is a black art, not a science. As I see it, every twist and turn you can throw at the crackers stands a chance of being the one that causes them to give up and move on to the next target. Every barrier you can put in their way is a good one.</p>

<h2>Updates</h2>

<ul>
	<li>9<sup>th</sup> August, 2002

	<ul>
		<li>Changed character encoding from hex digits (1,2,3..f) to offset-based. This obscures the <code>string</code>s even better.</li>		<li>Fixed the demo package</li>	</ul>
	</li>	<li>17<sup>th</sup> March, 2005
	<ul>
		<li>Updated source code</li>	</ul>
	</li></ul>


						</div>
						

						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						<h2>Share</h2>
				        <div class="share-list">
					        

    <ul class="rrssb-buttons clearfix rrssb-1">
        <li id="ctl00_SocialLike_Email" class="email compact">
            <a href="mailto:?subject=Literal%20String%20Encryption%20as%20Part%20of%20the%20Build%20Process%20-%20CodeProject&amp;body=Here%27s%20an%20interesting%20article%20on%20for%20you%20on%20codeproject.com%0a%0aCXR%20allows%20you%20to%20create%20encrypted%20strings%20at%20compile%20time.%0a%0ahttps%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro%0a">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <g>
                            <path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 &#10;                                c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 &#10;                                9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 &#10;                                0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 &#10;                                7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 &#10;                                0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 &#10;                                26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 &#10;                                1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"/>
                        </g>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Twitter" class="twitter compact">
            <a href="http://twitter.com/home?status=Literal+String+Encryption+as+Part+of+the+Build+Process+-+CodeProject+-+https%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32&#10;                        c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155&#10;                        C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965&#10;                        C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683&#10;                        c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851&#10;                        C26.275,7.229,25.39,8.196,24.253,8.756z"/>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Facebook" class="facebook compact">
            
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434&#10;                            c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726&#10;                            c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_LinkedIn" class="linkedin compact">
            <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro&amp;title=Literal+String+Encryption+as+Part+of+the+Build+Process+-+CodeProject&amp;summary=CXR+allows+you+to+create+encrypted+strings+at+compile+time.&amp;source=codeproject.com" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803&#10;                            c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048&#10;                            h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501&#10;                            c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546&#10;                            C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"/>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Reddit" class="reddit compact">
            <a href="http://www.reddit.com/submit?url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro&amp;title=Literal+String+Encryption+as+Part+of+the+Build+Process+-+CodeProject">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g>
                    <path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"/>
                    <path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"/>
                    <path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 &#10;                    c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 &#10;                    4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 &#10;                    19.5 17.8 19.5 17.5 19.791z"/><path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 &#10;                    0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 &#10;                    2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 &#10;                    0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 &#10;                    2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 &#10;                    8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 &#10;                    3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 &#10;                    13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 &#10;                    13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 &#10;                    c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 &#10;                    0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 &#10;                    c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 &#10;                    C26.354 13.8 26.1 14.3 25.8 14.605z"/></g></svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Pinterest" class="pinterest compact">
            <a href="http://pinterest.com/pin/create/bookmarklet/?is_video=false&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro&amp;description=Literal+String+Encryption+as+Part+of+the+Build+Process+-+CodeProject">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785&#10;                        C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458&#10;                        c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557&#10;                        c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168&#10;                        C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239&#10;                        c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"/>
                    </svg>
                </span>
                
            </a>
        </li>

    </ul>



				        </div> 
    			        
                        <h2 id="ctl00_AboutHeading">About the Author</h2>
						    

<div class="author-wrapper">

    <div class="pic-wrapper"> 
        <img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="https://www.codeproject.com/Uploads/Membership/ProfileImages/{C17B002F-BCEB-454A-8243-A6974F6526DE}.jpg" style="border-width:0px;transform:rotate(1deg);" />
    </div>

    <div class="container-member">  
        <b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="/Members/Chris-Losinger">C<sup>hris</sup> L<sup>osinger</sup></a></b>

        <table>
        <tbody><tr>
            <td rowspan="2" nowrap="" valign="middle">
            
            </td>
            <td nowrap="nowrap">
                <div class="company">
                    <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer</span>
	                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany"></span>
                </div>
            </td>
            <td rowspan="2" style="padding-left:15px">
                
            </td>
        </tr>
        <tr>
            <td>
                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">United States <img src="/script/Geo/Images/US.gif" alt="United States" width="16" height="11" /></span>
            </td>
        </tr>
        </tbody></table>
    </div>

    <div class="description">
        Chris Losinger was the president of Smaller Animals Software, Inc. (which no longer exists).

        
    </div>

</div><br />
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

					

				    
					</form>

				</div>

				
				<div class="bottom-promo"> 
				    <div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesCplusplus" data-country="US" data-loadonview="true" data-tags="C++, Windows, Visual-Studio, Dev, Advanced,rating4.5,pos_bottom"><noscript>&lt;a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=728x90&amp;c=803519"&gt;&lt;img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=728x90&amp;c=803519"  width="728px" height="90px" target="_blank"/&gt;&lt;/a&gt;</noscript></div>
				</div>
				
                
                

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">Â </a><div id="_MessageBoardctl00_MessageBoard" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(event, null)">
<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="header1"><div class="callout">
	<b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro%3ffid%3d4517%26df%3d90%26mpp%3d25%26sort%3dPosition%26view%3dNormal%26spc%3dRelaxed%26prof%3dTrue">Sign In</a> to use this message board.</b>
</div></td>
</tr><tr>
<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
<tbody><tr class="header1">
<td colspan="2" style="white-space:nowrap;"><div class="container">
<div class="float-right">
<form action="/Search.aspx?sbo=fm" method="get" class="searchbar">
<input type="hidden" name="fid" value="4517" /><input type="hidden" name="sbo" value="fm" /><input id="search_forumCtrl_ctl00_MessageBoard" type="search" class="search subdue" autocomplete="off" name="q" /><input type="image" src="https://codeproject.freetls.fastly.net/images/search.gif" />
</form>
</div>
</div></td>
</tr><tr class="header2">
<td></td><td style="width:100%;"><div style="text-align:right;">
<form action="/script/Forums/SetOptions.aspx?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="4517" /><input type="hidden" name="currentQS" value="fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f2724%2fLiteral-string-encryption-as-part-of-the-build-pro" /><input type="hidden" name="floc" value="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" />Spacing<select size="1" class="dropdown" name="spc">
<option selected="" value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
</select>Â Â Layout<select size="1" class="dropdown" name="view">
<option selected="" value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option value="Thread">Thread View</option>
</select>Â Â Per page<select size="1" class="dropdown" name="mpp">
<option value="10">10</option><option selected="" value="25">25</option><option value="50">50</option>
</select>Â Â Â <input type="submit" value="Update" name="SetOpt" class="button" />
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="navbar">
<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span><a class="nav-link" name="Frm_HoverNL" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;fr=26#xx0xx">Next</a></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background msg-list">
<tbody><tr id="F4994667_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx4994667xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" alt="Question" title="Question" /></td><td class="subject hover-container"><a class="message-link" name="4994667" parent="0" thread="4994667" href="/Messages/4994667/Random-Password">Random Password</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">ChRoNoN</span><span class="date">4-Feb-15  1:35</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=281359">ChRoNoN</a></span></td><td class="date"><span>4-Feb-15  1:35Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F4994667_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I don't think you need a strong password, how could I generate a random password each time the build process is run?<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4994667" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_4994667" name="react-item_4994667" id="MRF4994667" class="reaction-result"></span><span data-objectref="3_4994667" data-votingtype="GoodOrBad" name="RateItem_4994667" id="MVF4994667" class="rating-result"></span><a href="/Messages/4994667/Random-Password" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4994764_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx4994764xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_answer.gif" alt="Answer" title="Answer" /></td><td class="subject hover-container"><a class="message-link" name="4994764" parent="4994667" thread="4994667" href="/Messages/4994764/Re-Random-Password">Re: Random Password</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">C<sup>hris</sup> L<sup>osinger</sup></span><span class="date">4-Feb-15  3:24</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=42">C<sup>hris</sup> L<sup>osinger</sup></a></span></td><td class="date"><span>4-Feb-15  3:24Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F4994764_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,4994667);" href="/Messages/4994667/Random-Password"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>you could either write a script to insert a random password into the .CXR file before CXR runs, or you could modify the CXR tool itself. <br />
<br />
if i was going to modify the CXR tool, i would have it generate a new password if the pwd in the .CXR file is "RANDOM".<br />
<br />
so, in CXR.cpp ProcessFile(...)<br />
<br />
<div class="pre-lang" id="premain576220"><div>C++</div><div class="pre-action-link"><span class="code-collapse" data-index="576220" id="preShrink576220">Shrink â²</span> Â  <span id="copycode576220" class="copy-code" data-index="576220" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre576220" style="margin-top:0;" class="lang-cplusplus notranslate" data-language="c++" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true">csPassword = tokenizer.GetToken(<span class="code-digit">3</span>).csToken;

<span class="code-keyword">if</span> (csPassword == <span class="code-string">"</span><span class="code-string">RANDOM"</span>)
{
   csPassword = MakeRandomPassword();
}</pre><br />
<br />
And MakeRandomPassword would just assemble a random sequence of alpha-num characters. maybe 10 or 12 of them.<br />
<div class="signature"><font style="font-size: 10px"><a href="http://www.smalleranimals.com/isource.htm" rel="nofollow noopener">image processing toolkits</a> | <a href="http://www.smalleranimals.com/thumb.htm" rel="nofollow noopener">batch image processing</a></font></div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4994667" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_4994764" name="react-item_4994764" id="MRF4994764" class="reaction-result"></span><span data-objectref="3_4994764" data-votingtype="GoodOrBad" name="RateItem_4994764" id="MVF4994764" class="rating-result"></span><a href="/Messages/4994764/Re-Random-Password" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4443399_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx4443399xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="4443399" parent="0" thread="4443399" href="/Messages/4443399/My-vote-of-5">My vote of 5</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Michael Haephrati</span><span class="date">4-Dec-12  2:18</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-MVA-16.gif" title="Most Valuable Author" alt="mva" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=5956881">Michael Haephrati</a></span></td><td class="date"><span>4-Dec-12  2:18Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F4443399_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Great article. I have written my own version here: http://www.codeproject.com/Articles/502283/Strings-Obfuscation-System<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4443399" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_4443399" name="react-item_4443399" id="MRF4443399" class="reaction-result"></span><span data-objectref="3_4443399" data-votingtype="GoodOrBad" name="RateItem_4443399" id="MVF4443399" class="rating-result"></span><a href="/Messages/4443399/My-vote-of-5" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F3331088_h0" class="header hover-row root">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx3331088xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_news.gif" alt="News" title="News" /></td><td class="subject hover-container"><a class="message-link" name="3331088" parent="0" thread="3331088" href="/Messages/3331088/cxr-branch-on-google-code">cxr branch on google code</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">paleozogt</span><span class="date">13-Jan-10  5:32</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=6850367">paleozogt</a></span></td><td class="date"><span>13-Jan-10  5:32Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F3331088_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I've found CXR to be quite useful, but its Windows-only MFC-dependencies are a blocker.  I've removed the MFC dependencies (it now uses STL) and made it buildable cross-platform (using CMake).<br />
<br />
This cross-platform branch of CXR is now up on Google Code <a href="http://code.google.com/p/cxr/" rel="nofollow noopener">here</a>.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3331088" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_3331088" name="react-item_3331088" id="MRF3331088" class="reaction-result"></span><span data-objectref="3_3331088" data-votingtype="GoodOrBad" name="RateItem_3331088" id="MVF3331088" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="/Messages/3331088/cxr-branch-on-google-code" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F2142158_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx2142158xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="2142158" parent="0" thread="2142158" href="/Messages/2142158/direct-encryption">direct encryption</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">patrick.steal</span><span class="date">20-Jul-07  6:45</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=4290451">patrick.steal</a></span></td><td class="date"><span>20-Jul-07  6:45Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F2142158_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">is it possible to do something like this:<br />
<br />
<br />
void print(char* str);<br />
<br />
print(_CXR("Encrypted"));<br />
<br />
<br />
By this i mean to say, is it possible to encrypt the strings directly instead of adding them one by one to the .cxr file?<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2142158" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_2142158" name="react-item_2142158" id="MRF2142158" class="reaction-result"></span><span data-objectref="3_2142158" data-votingtype="GoodOrBad" name="RateItem_2142158" id="MVF2142158" class="rating-result"></span><a href="/Messages/2142158/direct-encryption" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F2142177_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx2142177xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="2142177" parent="2142158" thread="2142158" href="/Messages/2142177/Re-direct-encryption-modified">Re: direct encryption [modified]</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">C<sup>hris</sup> L<sup>osinger</sup></span><span class="date">20-Jul-07  6:57</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=42">C<sup>hris</sup> L<sup>osinger</sup></a></span></td><td class="date"><span>20-Jul-07  6:57Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F2142177_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,2142158);" href="/Messages/2142158/direct-encryption"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>nope.<br />
<br />
i think to do that, you'd need to do the encryption as part of the compiler's pre-processor step (when it processes all your macros and #includes), instead of as a pre-build step as CXR does. i don't if VC even allows that kind of integration. <br />
<br />
but, see one of the comments below - the poster shows how to do a preproc encryption trick.<br />
<br />
 -- modified at 13:05 Friday 20th July, 2007 <br />
<br />
<div class="ForumSig"><font style="font-size: 8px"><a href="http://www.smalleranimals.com/isource.htm" rel="nofollow noopener">image processing toolkits</a> | <a href="http://www.smalleranimals.com/thumb.htm" rel="nofollow noopener">batch image processing</a> | <a href="http://cleek.lunarpages.com/blogs" rel="nofollow noopener">blogging</a></font></div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2142158" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_2142177" name="react-item_2142177" id="MRF2142177" class="reaction-result"></span><span data-objectref="3_2142177" data-votingtype="GoodOrBad" name="RateItem_2142177" id="MVF2142177" class="rating-result"></span><a href="/Messages/2142177/Re-direct-encryption-modified" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F2111426_h0" class="header hover-row root">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx2111426xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" alt="Question" title="Question" /></td><td class="subject hover-container"><a class="message-link" name="2111426" parent="0" thread="2111426" href="/Messages/2111426/weird-problem">weird problem</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">patrick.steal</span><span class="date">3-Jul-07  7:17</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=4290451">patrick.steal</a></span></td><td class="date"><span>3-Jul-07  7:17Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F2111426_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">hi
<br />
i get some errors when i use this in the properties of the .cxr file(by right clicing on it in vs05):<br />
<br />
cl /EP /C $(InputDir)$(InputFileName)&gt;$(InputDir)$(InputName).i<br />
$(InputDir)cxr.exe -i $(InputDir)$(InputName).i -o $(InputDir)$(InputName).cpp<br />
del $(InputDir)$(InputName).i<br />
<br />
These are the errors:<br />
<div class="pre-lang" id="premain739840"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="739840" id="preShrink739840">Shrink â²</span> Â  <span id="copycode739840" class="copy-code" data-index="739840" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre739840" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
Performing Custom Build Step&lt;br /&gt;
Microsoft (R) 32-bit C/C++ Optimizing Compiler Version <span class="code-digit">14</span>.<span class="code-digit">00</span>.<span class="code-digit">50727</span>.<span class="code-digit">42</span> <span class="code-keyword">for</span> 80x86&lt;br /&gt;
Copyright (C) Microsoft Corporation.  All rights reserved.&lt;br /&gt;
Documents&lt;br /&gt;
and&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">c:\Documents'</span>: Permission denied&lt;br /&gt;
My&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">and'</span>: No such file or directory&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Settings\-----.HOMIE\My'</span>: No such file or directory&lt;br /&gt;
Visual&lt;br /&gt;
Studio&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Documents\Visual'</span>: No such file or directory&lt;br /&gt;
strings.cxr&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Studio'</span>: No such file or directory&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">2005\Projects\Dope\Dope\Encrypt\strings.cxr'</span>: No such file or directory&lt;br /&gt;
and&lt;br /&gt;
My&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">and'</span>: No such file or directory&lt;br /&gt;
Visual&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Settings\-----.HOMIE\My'</span>: No such file or directory&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Documents\Visual'</span>: No such file or directory&lt;br /&gt;
Studio&lt;br /&gt;
strings.i&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">Studio'</span>: No such file or directory&lt;br /&gt;
c1 : fatal error C1083: Cannot open source file: <span class="code-string">'</span><span class="code-string">2005\Projects\Dope\Dope\Encrypt\strings.i'</span>: No such file or directory&lt;br /&gt;
<span class="code-string">'</span><span class="code-string">c:\Documents'</span> <span class="code-keyword">is</span> not recognized <span class="code-keyword">as</span> an <span class="code-keyword">internal</span> or external command,&lt;br /&gt;
operable program or batch file.&lt;br /&gt;
The system cannot find the path specified.&lt;br /&gt;
Project : error PRJ0019: A tool returned an error code <span class="code-sdkkeyword">from</span> <span class="code-string">"</span><span class="code-string">Performing Custom Build Step"</span></pre><br />
<br />
Could someone please help me to resolve this error?<br />
<br />
Thanks<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2111426" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_2111426" name="react-item_2111426" id="MRF2111426" class="reaction-result"></span><span data-objectref="3_2111426" data-votingtype="GoodOrBad" name="RateItem_2111426" id="MVF2111426" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="/Messages/2111426/weird-problem" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F2111448_h0" class="header hover-row">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx2111448xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_answer.gif" alt="Answer" title="Answer" /></td><td class="subject hover-container"><a class="message-link" name="2111448" parent="2111426" thread="2111426" href="/Messages/2111448/Re-weird-problem">Re: weird problem</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">C<sup>hris</sup> L<sup>osinger</sup></span><span class="date">3-Jul-07  7:36</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=42">C<sup>hris</sup> L<sup>osinger</sup></a></span></td><td class="date"><span>3-Jul-07  7:36Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F2111448_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,2111426);" href="/Messages/2111426/weird-problem"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>looks like you need some double quotes around $(InputDir)$(InputFileName). <br />
<br />
<div class="ForumSig"><br />
<font style="font-size: 8px"><a href="http://www.smalleranimals.com/isource.htm" rel="nofollow noopener">image processing toolkits</a> | <a href="http://www.smalleranimals.com/thumb.htm" rel="nofollow noopener">batch image processing</a> | <a href="http://cleek.lunarpages.com/blogs" rel="nofollow noopener">blogging</a></font></div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2111426" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_2111448" name="react-item_2111448" id="MRF2111448" class="reaction-result"></span><span data-objectref="3_2111448" data-votingtype="GoodOrBad" name="RateItem_2111448" id="MVF2111448" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="/Messages/2111448/Re-weird-problem" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1500284_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1500284xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_news.gif" alt="News" title="News" /></td><td class="subject hover-container"><a class="message-link" name="1500284" parent="0" thread="1500284" href="/Messages/1500284/Two-Problems-modified">! Two Problems [modified]</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Synetech</span><span class="date">23-May-06  5:16</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=26103">Synetech</a></span></td><td class="date"><span>23-May-06  5:16Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1500284_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi,<br />
<br />
I like your idea, in fact I recently implemented the same thing myself in order to hide some Easter eggs in one of my tools to make it a little tougher to find.<br />
<br />
There are however two problems I have with this implementation.  First, I keep getting this error:<br />
<br />
<div class="pre-lang" id="premain436676"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="436676" id="preShrink436676">Shrink â²</span> Â  <span id="copycode436676" class="copy-code" data-index="436676" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre436676" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">CPULED error PRJ0019: A tool returned an error code <span class="code-sdkkeyword">from</span> <span class="code-string">"</span><span class="code-string">Performing Custom Build Step"</span></pre><br />
<br />
No matter what I do it won't work.  (Yes, I've checked the command line arguments, yes I've changed it to $ProjectDir, and so on.)  I can successfully run it from the command line but VS.NET always complains.<br />
<br />
<br />
Second, and more importantly, it does not work for arrays, structs, and so on.  It can (currently) only be used with standalone string variables like:<br />
<br />
<div class="pre-lang" id="premain318636"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="318636" id="preShrink318636">Shrink â²</span> Â  <span id="copycode318636" class="copy-code" data-index="318636" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre318636" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate"><span class="code-keyword">const</span> char* pString1 = _CXR(<span class="code-string">"</span><span class="code-string">Foo"</span>);</pre><br />
<br />
I tried to use it in an array:<br />
<br />
<div class="pre-lang" id="premain167559"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="167559" id="preShrink167559">Shrink â²</span> Â  <span id="copycode167559" class="copy-code" data-index="167559" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre167559" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate"><span class="code-keyword">const</span> CString somestrings[]={
		_CXR(<span class="code-string">"</span><span class="code-string">Foo"</span>)
	,	_CXR(<span class="code-string">"</span><span class="code-string">Bar"</span>)
	,	_CXR(<span class="code-string">"</span><span class="code-string">Baz"</span>)
};</pre><br />
<br />
But that would not work because _CXR(Decrypt?) requires the terminating semi-colon.  The resulting code does not compile.<br />
<br />
I'm sure CXR is easy enough to make completely portable and even more useful than it is but for the time being (or until I can figure out how to get CXR working), I'll stick with mine.<br />
<br />
<br />
Oh, and in reference to the proof of concept using the preprocessor to XOR encrypt strings, just today I was reading a text on computer security and not 10 minutes before I read that post, I read a chapter on encryption and how the old XOR against a fixed key method is just a bad idea (as mentioned in the post.)<br />
<br />
<br />
My method is no more secure than either of these two presented here (besides, a resource-editor can still display the encrypted stringsâor not!  I just tried a couple with one of my encrypted apps and they did not show up in any of the strings tables.  Weird!  <img src="https://www.codeproject.com/script/Forums/Images/smiley_wink.gif" align="top" alt="Wink | ;)" /> ) but obviosly for our uses they work well enough.  <img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" />  <br />
<br />
-- <br />
Synetech<br />
<br />
<br />
 -- modified at 11:16 Tuesday 23rd May, 2006<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1500284" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1500284" name="react-item_1500284" id="MRF1500284" class="reaction-result"></span><span data-objectref="3_1500284" data-votingtype="GoodOrBad" name="RateItem_1500284" id="MVF1500284" class="rating-result"></span><a href="/Messages/1500284/Two-Problems-modified" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1392004_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1392004xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1392004" parent="0" thread="1392004" href="/Messages/1392004/Things-I-had-to-change-to-compile-CXR">Things I had to change to compile CXR</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Hokei</span><span class="date">2-Mar-06  10:41</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=2330329">Hokei</a></span></td><td class="date"><span>2-Mar-06  10:41Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1392004_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">1.) In cxr_inc.h in order for CString to be declared, I added<br />
<code>#include "afx.h"</code><br />
<br />
2.) In CXR project properties, changed /ZI to /Zi on the compiler command line (this is the same as changing "Program Database for Edit and Continue" to just "Program Database") since this setting is incompatible with having incremental linking OFF.<br />
<br />
3.) Since the StdAfx.cpp was giving me this error: "WINVER not defined. Defaulting to 0x0501 (Windows XP and Windows .NET Server)". I looked up WINVER. Directions <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore/html/vcgrfmodifyingwinver.asp" rel="nofollow noopener">here</a> say to do <code>#define WINVER 0x0400</code> in StdAfx.h.<br />
<br />
4.) Eliminated a "signed/unsigned" compiler warning in CmdLine.cpp by using <code>static_cast</code> on an int to change it to a "size_type". You'll know which line of code it is if you get this warning.<br />
<br />
5.) Had to do <code>static_cast</code> on a bunch of stuff in CXR.cpp where an int needed to be a TCHAR.<br />
<br />
 -- modified at 16:48 Thursday 2nd March, 2006<br />
<br />
6.) In the custom build step directions given by the author, I had to change <code>$(ProjDir)</code> to <code>$(ProjectDir)</code> (maybe this is a difference between VC6 and VC7.1).<br />
<br />
 -- modified at 17:55 Thursday 2nd March, 2006<br />
<br />
Although the included "Test" app works, I can't get it to work in my code without some linker errors on AFX stuff. I am not trying to do MFC stuff in my code. I might have to rewrite CXR to use standard C++ <code>&lt;string&gt;</code> instead.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1392004" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1392004" name="react-item_1392004" id="MRF1392004" class="reaction-result"></span><span data-objectref="3_1392004" data-votingtype="GoodOrBad" name="RateItem_1392004" id="MVF1392004" class="rating-result"></span><a href="/Messages/1392004/Things-I-had-to-change-to-compile-CXR" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1408355_h0" class="header hover-row">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx1408355xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1408355" parent="1392004" thread="1392004" href="/Messages/1408355/Re-Things-I-had-to-change-to-compile-CXR">Re: Things I had to change to compile CXR</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Hokei</span><span class="date">14-Mar-06  20:42</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=2330329">Hokei</a></span></td><td class="date"><span>14-Mar-06  20:42Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1408355_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1392004);" href="/Messages/1392004/Things-I-had-to-change-to-compile-CXR"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>I rewrote all the source to use STL classes instead of MFC. I didn't want to use MFC, and it's not portable anyway. If anyone is interested, here is the source. I apologize in advance if the Code Project comment engine screws up any of the code as I try to post it.<br />
<br />
CXR_standard.cpp:<br />
<div class="pre-lang" id="premain112738"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="112738" id="preShrink112738">Shrink â²</span> Â  <span id="copycode112738" class="copy-code" data-index="112738" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre112738" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> CXR_Standard.cpp&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> BASED ON code from Smaller Animals Software. Their copyright notice&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> follows. Usage: CXR -i [filename.cpp] -o [filename.cpp]&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">********************************************************************&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   Copyright (C) 2002 Smaller Animals Software, Inc.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   This software is provided 'as-is', without any express or implied&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   warranty.  In no event will the authors be held liable for any damages&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   arising from the use of this software.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   Permission is granted to anyone to use this software for any purpose,&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   including commercial applications, and to alter it and redistribute it&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   freely, subject to the following restrictions:&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   1. The origin of this software must not be misrepresented; you must not&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">     claim that you wrote the original software. If you use this software&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">     in a product, an acknowledgment in the product documentation would be&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">     appreciated but is not required.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   2. Altered source versions must be plainly marked as such, and must not be&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">     misrepresented as being the original software.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   3. This notice may not be removed or altered from any source distribution.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   http://www.smalleranimals.com&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">   smallest@smalleranimals.com&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">*********************************************************************&lt;br /&gt;</span>
&lt;br /&gt;
#include <span class="code-string">"</span><span class="code-string">stdafx.h"</span>&lt;br /&gt;
#include &lt;string&gt;&lt;br /&gt;
#include &lt;iostream&gt;&lt;br /&gt;
#include &lt;fstream&gt;&lt;br /&gt;
#include &lt;time.h&gt;&lt;br /&gt;
#include <span class="code-string">"</span><span class="code-string">Tokenizer.h"</span>&lt;br /&gt;
#include <span class="code-string">"</span><span class="code-string">Stream.h"</span>&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std;&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">bool</span>    ProcessFile(ifstream &amp;in, <span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strInFilename, ofstream &amp;out, <span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strOutFilename);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">bool</span>    AddDecode(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strPassword, ofstream &amp;out);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">string</span>  Encrypt(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">const</span> char* pPass);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">string</span>  Decrypt(<span class="code-keyword">const</span> char* pIn, <span class="code-keyword">const</span> char* pPass);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">bool</span>    ExpandOctal(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">string</span> &amp;strOut, <span class="code-keyword">int</span> &amp;iConsumed);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">string</span>  TranslateString(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">bool</span>    ExpandHex(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">string</span> &amp;strOut, <span class="code-keyword">int</span> &amp;iConsumed);&lt;br /&gt;
<span class="code-keyword">static</span> <span class="code-keyword">string</span>  EscapeString(<span class="code-keyword">const</span> char* pIn);&lt;br /&gt;
&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> The basechar is added/subtracted with every character as part of the &lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> encrypt/decrypt process, but for what -- obfuscation?&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> These can be adjusted in the range 1 to 239:&lt;br /&gt;</span>
<span class="code-keyword">const</span> <span class="code-keyword">int</span> basechar1 = <span class="code-digit">128</span>;&lt;br /&gt;
<span class="code-keyword">const</span> <span class="code-keyword">int</span> basechar2 = <span class="code-digit">128</span>;&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">int</span> _tmain(<span class="code-keyword">int</span> argc, _TCHAR* argv[])&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">int</span> nRetCode = <span class="code-digit">0</span>;&lt;br /&gt;
&lt;br /&gt;
  srand((unsigned <span class="code-keyword">int</span>)time(NULL));&lt;br /&gt;
&lt;br /&gt;
  cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Starting CXR, the literal string encryptor. Copyright 2002, Smaller Animals Software Inc."</span>) &lt;&lt; endl;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> ((basechar1 == <span class="code-digit">0</span>) || (basechar2 == <span class="code-digit">0</span>) || (basechar1 &gt; <span class="code-digit">239</span>) || (basechar2 &gt; <span class="code-digit">239</span>))&lt;br /&gt;
  {&lt;br /&gt;
    cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">CXR basechar values out of acceptable range. Aborting"</span>) &lt;&lt; endl;&lt;br /&gt;
    nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
    <span class="code-keyword">return</span> nRetCode;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> (argc &gt;= <span class="code-digit">2</span>)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment">TODO: Smarter command line argument parsing:&lt;br /&gt;</span>
    <span class="code-keyword">string</span> strInFile = argv[2];&lt;br /&gt;
    <span class="code-keyword">string</span> strOutFile = argv[4];&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (!strInFile.empty() &amp;&amp; !strOutFile.empty())&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> open the input file (always an ANSI file)&lt;br /&gt;</span>
      ifstream fileIn;&lt;br /&gt;
&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> open the output file (always an ANSI file)&lt;br /&gt;</span>
      ofstream fileOut;&lt;br /&gt;
         &lt;br /&gt;
      fileIn.open(strInFile.c_str(), ios::<span class="code-keyword">in</span>);&lt;br /&gt;
      <span class="code-keyword">if</span>(fileIn.is_open())&lt;br /&gt;
      {&lt;br /&gt;
        fileOut.open(strOutFile.c_str(), ios::trunc | ios::<span class="code-keyword">out</span>);&lt;br /&gt;
        <span class="code-keyword">if</span>(fileOut.is_open())&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">if</span> (!ProcessFile(fileIn, strInFile, fileOut, strOutFile))&lt;br /&gt;
          {&lt;br /&gt;
            cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">CXR failed"</span>) &lt;&lt; endl;&lt;br /&gt;
            nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
          }&lt;br /&gt;
        }&lt;br /&gt;
        else&lt;br /&gt;
        {&lt;br /&gt;
          cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Unable to open output file: "</span>) &lt;&lt; strOutFile &lt;&lt; endl;&lt;br /&gt;
          nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
      else&lt;br /&gt;
      {&lt;br /&gt;
        cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Unable to open input file: "</span>) &lt;&lt; strInFile &lt;&lt; endl;&lt;br /&gt;
        nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
      }&lt;br /&gt;
&lt;br /&gt;
      <span class="code-keyword">if</span> (nRetCode==<span class="code-digit">0</span>)&lt;br /&gt;
      {&lt;br /&gt;
        cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">CXR created: "</span>) &lt;&lt; strOutFile &lt;&lt; endl;&lt;br /&gt;
      }&lt;br /&gt;
    }&lt;br /&gt;
    else&lt;br /&gt;
    {&lt;br /&gt;
      cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Not enough parameters."</span>) &lt;&lt; endl;&lt;br /&gt;
      cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Usage: CXR -i [filename.cpp] -o [filename.cpp]"</span>) &lt;&lt; endl;&lt;br /&gt;
      nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
    }&lt;br /&gt;
  }      &lt;br /&gt;
  else&lt;br /&gt;
  {&lt;br /&gt;
    cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Not enough parameters."</span>) &lt;&lt; endl;&lt;br /&gt;
    cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Usage: CXR -i [filename.cpp] -o [filename.cpp]"</span>) &lt;&lt; endl;&lt;br /&gt;
    nRetCode = <span class="code-digit">1</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> nRetCode;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> ProcessFile - Process a .CXR file (containing plaintext string literals)&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">               into C++ source files (containing the encrypted equivalent &lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">               strings).&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> ProcessFile(ifstream &amp;in, <span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strInFilename, ofstream &amp;out, <span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strOutFilename)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> Note: do not use TCHAR or _T() here. Do this all with single-byte char &lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment"> and string only, because we are writing source code here and source code&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment"> is ANSI text.&lt;br /&gt;</span>
&lt;br /&gt;
  <span class="code-keyword">enum</span> {eStateWantPassword, eStateHavePassword, };&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iState = eStateWantPassword;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">string</span> strPassword;&lt;br /&gt;
  <span class="code-keyword">string</span> strLine;&lt;br /&gt;
&lt;br /&gt;
  char* pMetachars = <span class="code-string">"</span><span class="code-string">/\\=();'"</span>;&lt;br /&gt;
  char* pKeyWords[3] = {<span class="code-string">"</span><span class="code-string">//"</span>, <span class="code-string">"</span><span class="code-string">_CXR"</span>, <span class="code-string">"</span><span class="code-string">CXRP"</span>};&lt;br /&gt;
&lt;br /&gt;
  CTokenizer tokenizer(pKeyWords, <span class="code-digit">3</span>, pMetachars, (<span class="code-keyword">int</span>)strlen(pMetachars));&lt;br /&gt;
  <span class="code-keyword">int</span> iErr = CTokenizer::eErrorNone;&lt;br /&gt;
  <span class="code-keyword">bool</span> ok = <span class="code-keyword">true</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">out</span> &lt;&lt; <span class="code-string">"</span><span class="code-string">/////////////////////////////////////////////////////////////\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">// "</span>&lt;br /&gt;
      &lt;&lt; strOutFilename&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">\n//\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">// This file was generated by CXR, the literal string encryptor.\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">// CXR, Copyright 2002, Smaller Animals Software, Inc., all rights reserved.\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">//\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">// Please do not edit this file. Any changes here will be overwritten on the next compile.\n// If you wish to make changes to a string, please edit:\n//     "</span>&lt;br /&gt;
      &lt;&lt; strInFilename&lt;br /&gt;
      &lt;&lt;<span class="code-string">"</span><span class="code-string">\n//\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">\n/////////////////////////////////////////////////////////////\n\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">#include \"stdafx.h\"\n"</span>&lt;br /&gt;
      &lt;&lt; <span class="code-string">"</span><span class="code-string">#include \"cxr_inc.h\"\n\n"</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">bool</span> bFoundCXR = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">do</span> &lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">if</span>(<span class="code-keyword">in</span>.eof())&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    else&lt;br /&gt;
      getline(<span class="code-keyword">in</span>, strLine);&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (<span class="code-keyword">in</span>.bad() || <span class="code-keyword">in</span>.fail())&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">switch</span> (iState)&lt;br /&gt;
    {&lt;br /&gt;
    <span class="code-keyword">case</span> eStateWantPassword:&lt;br /&gt;
      iErr = tokenizer.Tokenize(strLine.c_str());&lt;br /&gt;
      <span class="code-keyword">if</span> (iErr == CTokenizer::eErrorNone)&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">if</span> (tokenizer.GetTokenCount() &gt;= <span class="code-digit">4</span>)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-comment">//</span><span class="code-comment"> password declaration always looks like : // CXRP = "Password"&lt;br /&gt;</span>
          <span class="code-keyword">if</span> ((tokenizer.GetToken(<span class="code-digit">0</span>).strToken == <span class="code-string">"</span><span class="code-string">//"</span>) &amp;&amp; &lt;br /&gt;
              (tokenizer.GetToken(<span class="code-digit">1</span>).strToken == <span class="code-string">"</span><span class="code-string">CXRP"</span>) &amp;&amp; &lt;br /&gt;
              (tokenizer.GetToken(<span class="code-digit">2</span>).strToken == <span class="code-string">"</span><span class="code-string">="</span>) &amp;&amp; &lt;br /&gt;
              (tokenizer.GetToken(<span class="code-digit">3</span>).bIsQuotedString))&lt;br /&gt;
          {&lt;br /&gt;
            <span class="code-comment">//</span><span class="code-comment"> We'll use the password from the file, literally. it's not treated as&lt;br /&gt;</span>
            <span class="code-comment">//</span><span class="code-comment"> a C string-literal, just as a section of a text file. when we&lt;br /&gt;</span>
            <span class="code-comment">//</span><span class="code-comment"> go to write the decoder, we'll have to fix it up to make sure&lt;br /&gt;</span>
            <span class="code-comment">//</span><span class="code-comment"> the compiler gets the same text by adding any necessary escapes.&lt;br /&gt;</span>
            strPassword = tokenizer.GetToken(<span class="code-digit">3</span>).strToken;&lt;br /&gt;
&lt;br /&gt;
            <span class="code-keyword">if</span> (strPassword.empty())&lt;br /&gt;
            {&lt;br /&gt;
              cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Invalid CXR password: \""</span>) &lt;&lt; strPassword.c_str() &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">\""</span>) &lt;&lt; endl;  <span class="code-comment">//</span><span class="code-comment">TODO: not gonna work in Unicode builds?&lt;br /&gt;</span>
              <span class="code-comment">//</span><span class="code-comment">ASSERT(0);&lt;br /&gt;</span>
              <span class="code-keyword">break</span>;&lt;br /&gt;
            }&lt;br /&gt;
&lt;br /&gt;
            iState = eStateHavePassword;&lt;br /&gt;
            <span class="code-keyword">continue</span>;&lt;br /&gt;
          }&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    <span class="code-keyword">case</span> eStateHavePassword:&lt;br /&gt;
      bFoundCXR = <span class="code-keyword">false</span>;&lt;br /&gt;
      iErr = tokenizer.Tokenize(strLine.c_str());&lt;br /&gt;
      <span class="code-keyword">if</span> (iErr == CTokenizer::eErrorNone)&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">if</span> (tokenizer.GetTokenCount() &gt; <span class="code-digit">4</span>)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; tokenizer.GetTokenCount() - <span class="code-digit">4</span>; i++)&lt;br /&gt;
          {&lt;br /&gt;
            <span class="code-comment">//</span><span class="code-comment"> looking for _CXR ( "..." )&lt;br /&gt;</span>
            <span class="code-keyword">if</span> ((tokenizer.GetToken(i).strToken == <span class="code-string">"</span><span class="code-string">_CXR"</span>) &amp;&amp; !tokenizer.GetToken(i).bIsQuotedString &amp;&amp;&lt;br /&gt;
                (tokenizer.GetToken(i + <span class="code-digit">1</span>).strToken == <span class="code-string">"</span><span class="code-string">("</span>) &amp;&amp; !tokenizer.GetToken(i + <span class="code-digit">1</span>).bIsQuotedString &amp;&amp;&lt;br /&gt;
                (tokenizer.GetToken(i + <span class="code-digit">2</span>).bIsQuotedString) &amp;&amp;&lt;br /&gt;
                (tokenizer.GetToken(i + <span class="code-digit">3</span>).strToken == <span class="code-string">"</span><span class="code-string">)"</span>) &amp;&amp; !tokenizer.GetToken(i + <span class="code-digit">3</span>).bIsQuotedString)&lt;br /&gt;
            {&lt;br /&gt;
              <span class="code-keyword">string</span> strTrans = TranslateString(tokenizer.GetToken(i + <span class="code-digit">2</span>).strToken);&lt;br /&gt;
              <span class="code-keyword">string</span> strEnc = Encrypt(strTrans, strPassword.c_str());&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment">string strDec = Decrypt(strEnc, strPassword.c_str()); //for debugging&lt;br /&gt;</span>
&lt;br /&gt;
              <span class="code-keyword">out</span> &lt;&lt; <span class="code-string">"</span><span class="code-string">///////////////////////////\n#ifdef _USING_CXR\n"</span>;&lt;br /&gt;
&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment">out &lt;&lt; "//" &lt;&lt; strDec &lt;&lt; "\n";&lt;br /&gt;</span>
&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment"> output up to _CXR&lt;br /&gt;</span>
              <span class="code-keyword">out</span> &lt;&lt; strLine.substr(<span class="code-digit">0</span>, tokenizer.GetToken(i).iStart);&lt;br /&gt;
&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment"> encrypted stuff&lt;br /&gt;</span>
              <span class="code-keyword">out</span> &lt;&lt; <span class="code-string">"</span><span class="code-string">\""</span> &lt;&lt; strEnc &lt;&lt; <span class="code-string">"</span><span class="code-string">\""</span>;&lt;br /&gt;
&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment"> to the end of the line&lt;br /&gt;</span>
              <span class="code-keyword">out</span> &lt;&lt; strLine.substr(tokenizer.GetToken(i + <span class="code-digit">4</span>).iStop)&lt;br /&gt;
                  &lt;&lt; <span class="code-string">"</span><span class="code-string">\n"</span>&lt;br /&gt;
                  &lt;&lt; <span class="code-string">"</span><span class="code-string">#else\n"</span>&lt;br /&gt;
                  &lt;&lt; strLine&lt;br /&gt;
                  &lt;&lt; <span class="code-string">"</span><span class="code-string">\n#endif\n\n"</span>;&lt;br /&gt;
&lt;br /&gt;
              bFoundCXR = <span class="code-keyword">true</span>;&lt;br /&gt;
&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            } <span class="code-comment">//</span><span class="code-comment"> found a good string ?&lt;br /&gt;</span>
          } <span class="code-comment">//</span><span class="code-comment"> loop over tokens&lt;br /&gt;</span>
        } <span class="code-comment">//</span><span class="code-comment"> &gt; 4 tokens&lt;br /&gt;</span>
      } <span class="code-comment">//</span><span class="code-comment"> tokenizer OK&lt;br /&gt;</span>
&lt;br /&gt;
      <span class="code-keyword">if</span> (bFoundCXR)&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">continue</span>;&lt;br /&gt;
      }&lt;br /&gt;
&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    } <span class="code-comment">//</span><span class="code-comment"> switch&lt;br /&gt;</span>
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> done with it&lt;br /&gt;</span>
    <span class="code-keyword">out</span> &lt;&lt; strLine &lt;&lt; <span class="code-string">"</span><span class="code-string">\n"</span>;&lt;br /&gt;
  } <span class="code-keyword">while</span> (<span class="code-digit">1</span>);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> (iState == eStateWantPassword)&lt;br /&gt;
  {&lt;br /&gt;
    cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">No password line found in input file"</span>) &lt;&lt; endl;&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment">ASSERT(iState == eStateHavePassword);&lt;br /&gt;</span>
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> add the decoder functions&lt;br /&gt;</span>
  AddDecode(strPassword, <span class="code-keyword">out</span>);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> AddEncByte - Take BYTE c, obscure it by adding a base value (?), and &lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">              append it (its value in hex characters) to string strOut&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">void</span> AddEncByte(BYTE c, <span class="code-keyword">string</span> &amp;strOut)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">char</span> buf[4];&lt;br /&gt;
&lt;br /&gt;
  BYTE b1 = c &gt;&gt; <span class="code-digit">4</span>;&lt;br /&gt;
  BYTE b2 = c &amp; <span class="code-digit">0x0f</span>;&lt;br /&gt;
&lt;br /&gt;
  _snprintf(buf, <span class="code-digit">3</span>, <span class="code-string">"</span><span class="code-string">%x"</span>, b1 + basechar1);&lt;br /&gt;
  strOut += <span class="code-string">"</span><span class="code-string">\\x"</span>;&lt;br /&gt;
  strOut += buf;&lt;br /&gt;
&lt;br /&gt;
  _snprintf(buf, <span class="code-digit">3</span>, <span class="code-string">"</span><span class="code-string">%x"</span>, b2 + basechar1);&lt;br /&gt;
  strOut += <span class="code-string">"</span><span class="code-string">\\x"</span>;&lt;br /&gt;
  strOut += buf;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> Encrypt - Given plaintext string strIn, encrypt it using password pPass&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">           and return it as a string of ciphertext.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">string</span> Encrypt(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">const</span> char* pPass)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">string</span> strOut;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> initialize out &lt;br /&gt;</span>
  CCXRIntEnc sap((<span class="code-keyword">const</span> BYTE*)pPass, (<span class="code-keyword">int</span>)strlen(pPass));&lt;br /&gt;
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment">start each string with a random char.&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment">because this is a stream cipher, the ciphertext of a&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment">string like "ABC" will be the same as the first 3 bytes&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment">of the ciphertext for "ABCDEFG". &lt;br /&gt;</span>
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment">by starting with a random value, the cipher will be in a &lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment">different state (255:1) when it starts the real text. the&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment">decoder will simply discard the first plaintext byte.&lt;br /&gt;</span>
&lt;br /&gt;
  BYTE seed = rand() % <span class="code-digit">256</span>;&lt;br /&gt;
  BYTE c = sap.ProcessByte((BYTE)(seed));&lt;br /&gt;
  AddEncByte(c, strOut);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> Ok, now encrypt and convert strIn to hex string:&lt;br /&gt;</span>
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; (<span class="code-keyword">int</span>)strIn.length(); i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">char</span> temp = strIn.at(i);&lt;br /&gt;
    BYTE c = sap.ProcessByte((BYTE)(temp));&lt;br /&gt;
    AddEncByte(c, strOut);&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> strOut;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> Decrypt - Given ciphertext string pIn, decrypt using password pPass and&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">           return as a plaintext string.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">string</span> Decrypt(<span class="code-keyword">const</span> TCHAR* pIn, <span class="code-keyword">const</span> char* pPass)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">string</span> strOut;&lt;br /&gt;
&lt;br /&gt;
  CCXRIntDec sap((<span class="code-keyword">const</span> BYTE*)pPass, (<span class="code-keyword">int</span>)strlen(pPass));&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iLen = (<span class="code-keyword">int</span>)strlen(pIn);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> (iLen &gt; <span class="code-digit">2</span>)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">int</span> iBufLen = (<span class="code-keyword">int</span>)strlen(pIn);&lt;br /&gt;
    <span class="code-keyword">if</span> (iBufLen &amp; <span class="code-digit">0x01</span>)&lt;br /&gt;
    {&lt;br /&gt;
      cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Illegal string length in Decrypt"</span>) &lt;&lt; endl;&lt;br /&gt;
      <span class="code-keyword">return</span> pIn;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    iBufLen /= <span class="code-digit">2</span>;&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; iBufLen; i++)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">int</span> b1 = pIn[i * 2] - basechar1;&lt;br /&gt;
      <span class="code-keyword">int</span> b2 = pIn[i * <span class="code-digit">2</span> + 1] - basechar2;&lt;br /&gt;
      <span class="code-keyword">int</span> c = (b1 &lt;&lt; <span class="code-digit">4</span>) | b2;&lt;br /&gt;
&lt;br /&gt;
      BYTE bc = sap.ProcessByte((BYTE)(c));&lt;br /&gt;
&lt;br /&gt;
      <span class="code-keyword">if</span> (i&gt;0)&lt;br /&gt;
        strOut += (<span class="code-keyword">char</span>)bc;&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> strOut;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> AddDecode - Write to the output source file, the decryption routines&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">             necessary to decrypt the strings we have encrypted.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> AddDecode(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strPassword, ofstream &amp;out)&lt;br /&gt;
{&lt;br /&gt;
   <span class="code-keyword">out</span> &lt;&lt; <span class="code-string">"</span><span class="code-string">\n\n/////////////////////////////////////////////////////////////\n"</span>&lt;br /&gt;
       &lt;&lt; <span class="code-string">"</span><span class="code-string">// CXR-generated decoder follows\n\n"</span>&lt;br /&gt;
       &lt;&lt; <span class="code-string">"</span><span class="code-string">#include &lt;algorithm&gt;\n"</span>&lt;br /&gt;
       &lt;&lt; <span class="code-string">"</span><span class="code-string">const char * __pCXRPassword = \""</span>;&lt;br /&gt;
&lt;br /&gt;
   <span class="code-comment">//</span><span class="code-comment"> the password that encrypted the text used the literal text from the file (non-escaped \ chars).&lt;br /&gt;</span>
   <span class="code-comment">//</span><span class="code-comment"> we need to make sure that compiler sees the same text when it gets the passowrd. so,&lt;br /&gt;</span>
   <span class="code-comment">//</span><span class="code-comment"> we must double any "\" chars, to prevent them from becoming C-style escapes.&lt;br /&gt;</span>
   <span class="code-keyword">out</span> &lt;&lt; EscapeString(strPassword.c_str()) &lt;&lt; <span class="code-string">"</span><span class="code-string">\";\n"</span>;&lt;br /&gt;
&lt;br /&gt;
   <span class="code-keyword">out</span> &lt;&lt; <span class="code-string">"</span><span class="code-string">const int __iCXRDecBase1 = "</span> &lt;&lt; basechar1 &lt;&lt; <span class="code-string">"</span><span class="code-string">;\nconst int __iCXRDecBase2 = "</span> &lt;&lt; basechar2 &lt;&lt; <span class="code-string">"</span><span class="code-string">;\n\n"</span>;&lt;br /&gt;
                &lt;br /&gt;
  <span class="code-keyword">const</span> char* szDecodingFunction = &lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">string __CXRDecrypt(const char* pIn)\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">{\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  string x; char b[3]; b[2]=0;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  CXRD sap((const BYTE*)__pCXRPassword, (int)strlen(__pCXRPassword));\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  int iLen = (int)strlen(pIn);\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  if (iLen &gt; 2)\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  {\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    int ibl = (int)strlen(pIn);\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    if (ibl &amp; 0x01)\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    {\n"</span>\&lt;br /&gt;
    <span class="code-comment">/*</span><span class="code-comment">"      ASSERT(!\"Illegal string length in Decrypt\");\n"\*/</span>&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">      return pIn;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    }\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    ibl /= 2;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    for (int i=0; i &lt; ibl; i++)\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    {\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">      int b1 = pIn[i*2] - __iCXRDecBase1; int b2 = pIn[i*2+1] - __iCXRDecBase2;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">      int c = (b1 &lt;&lt; 4) | b2; char ch =(char)(sap.pb((BYTE)(c)));\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">      if (i&gt;0)\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">        x += ch;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    }\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  }\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  return x;\n"</span>\&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">}\n"</span>;&lt;br /&gt;
 &lt;br /&gt;
  <span class="code-keyword">const</span> char* szStreamCipherFunction =&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">class CCXR\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">{\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">protected:\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  CCXR(const BYTE* key, unsigned int ks)\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  {\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    int i;BYTE rs;unsigned kp;\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    for(i=0;i&lt;256;i++)c[i]=i;kp=0;rs=0;for(i=255;i;i--)std::swap(c[i],c[kr(i,key,ks,&amp;rs,&amp;kp)]);r2=c[1];r1=c[3];av=c[5];lp=c[7];lc=c[rs];rs=0;kp=0;\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  }\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">	 inline void SC(){BYTE st=c[lc];r1+=c[r2++];c[lc]=c[r1];c[r1]=c[lp];c[lp]=c[r2];c[r2]=st;av+=c[st];}\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">	 BYTE c[256],r2,r1,av,lp,lc;    \n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  BYTE kr(unsigned int lm, const BYTE *uk, BYTE ks, BYTE *rs, unsigned *kp)\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  {\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">    unsigned rl=0,mk=1,u;while(mk&lt;lm)mk=(mk&lt;&lt;1)+1;do{*rs=c[*rs]+uk[(*kp)++];if(*kp&gt;=ks){*kp=0;*rs+=ks;}u=mk&amp;*rs;if(++rl&gt;11)u%=lm;}while(u&gt;lm);return u;\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">  }\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">};\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">struct CXRD:CCXR\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">{\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">	 CXRD(const BYTE *userKey, unsigned int keyLength=16) : CCXR(userKey, keyLength) {}\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">	 inline BYTE pb(BYTE b){SC();lp=b^c[(c[r1]+c[r2])&amp;0xFF]^c[c[(c[lp]+c[lc]+c[av])&amp;0xFF]];lc=b;return lp;}\n"</span> \&lt;br /&gt;
    <span class="code-string">"</span><span class="code-string">};\n"</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">out</span> &lt;&lt; szStreamCipherFunction;&lt;br /&gt;
  <span class="code-keyword">out</span> &lt;&lt; szDecodingFunction;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> TranslateString - Translate C-style string escapes as documented in K&amp;R&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">                   2nd, A2.5.2&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">string</span> TranslateString(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">string</span> strOut;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; (<span class="code-keyword">int</span>)strIn.length(); i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">int</span> c = strIn.at(i); <span class="code-comment">//</span><span class="code-comment">TODO: Why even treat this as an int? Why not just char?&lt;br /&gt;</span>
    <span class="code-keyword">switch</span> (c)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> normal text&lt;br /&gt;</span>
      <span class="code-keyword">default</span>:&lt;br /&gt;
        strOut += static_cast&lt;char&gt;(c);&lt;br /&gt;
        <span class="code-keyword">break</span>;&lt;br /&gt;
      &lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> c-style escape&lt;br /&gt;</span>
      <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">\\'</span>:&lt;br /&gt;
        <span class="code-keyword">if</span> (i &lt; (<span class="code-keyword">int</span>)strIn.length() - <span class="code-digit">1</span>)&lt;br /&gt;
        {&lt;br /&gt;
          c = strIn.at(i + <span class="code-digit">1</span>);&lt;br /&gt;
          <span class="code-keyword">switch</span> (c)&lt;br /&gt;
          {&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">n'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\n'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">t'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\t'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">v'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\v'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">b'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\b'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">r'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\r'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">f'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\f'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">a'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\a'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">\\'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\\'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">?'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">?'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">\''</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\''</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">\"'</span>:&lt;br /&gt;
              strOut += <span class="code-string">'</span><span class="code-string">\"'</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">0'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">1'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">2'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">3'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">4'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">5'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">6'</span>:&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">7'</span>:&lt;br /&gt;
              {&lt;br /&gt;
                <span class="code-comment">//</span><span class="code-comment"> expand octal&lt;br /&gt;</span>
                <span class="code-keyword">int</span> iConsumed = <span class="code-digit">0</span>;&lt;br /&gt;
                <span class="code-keyword">if</span> (!ExpandOctal(strIn.substr(i), strOut, iConsumed))&lt;br /&gt;
                {&lt;br /&gt;
                  cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Invalid octal sequence: "</span>) &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; strIn.c_str() &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; endl; <span class="code-comment">//</span><span class="code-comment">TODO: Not gonna work in Unicode builds?&lt;br /&gt;</span>
                  strOut = strIn;&lt;br /&gt;
                  <span class="code-keyword">break</span>;&lt;br /&gt;
                }&lt;br /&gt;
                i += iConsumed - <span class="code-digit">1</span>;&lt;br /&gt;
              }&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">x'</span>:&lt;br /&gt;
              { &lt;br /&gt;
                <span class="code-comment">//</span><span class="code-comment"> expand hex&lt;br /&gt;</span>
                <span class="code-keyword">int</span> iConsumed = <span class="code-digit">0</span>;&lt;br /&gt;
                <span class="code-keyword">if</span> (!ExpandHex(strIn.substr(i), strOut, iConsumed))&lt;br /&gt;
                {&lt;br /&gt;
                  cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Invalid hex sequence: "</span>) &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; strIn.c_str() &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; endl; <span class="code-comment">//</span><span class="code-comment">TODO: Not gonna work in Unicode builds?&lt;br /&gt;</span>
                  strOut = strIn;&lt;br /&gt;
                  <span class="code-keyword">break</span>;&lt;br /&gt;
                }&lt;br /&gt;
                i += iConsumed - <span class="code-digit">1</span>;&lt;br /&gt;
              }&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
          }&lt;br /&gt;
&lt;br /&gt;
          i++;&lt;br /&gt;
          <span class="code-keyword">continue</span>;&lt;br /&gt;
        }&lt;br /&gt;
        else&lt;br /&gt;
        {&lt;br /&gt;
          cerr &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Invalid escape sequence: "</span>) &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; strIn.c_str() &lt;&lt; _T(<span class="code-string">'</span><span class="code-string">\"'</span>) &lt;&lt; endl; <span class="code-comment">//</span><span class="code-comment">TODO: Not gonna work in Unicode builds?&lt;br /&gt;</span>
          strOut = strIn;&lt;br /&gt;
          <span class="code-keyword">break</span>;&lt;br /&gt;
        }&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> strOut;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> ExpandOctal&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> ExpandOctal(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">string</span> &amp;strOut, <span class="code-keyword">int</span> &amp;iConsumed)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> starting with the escape, we need at least one more char&lt;br /&gt;</span>
  <span class="code-keyword">if</span> (strIn.length() &lt; <span class="code-digit">2</span>)&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> (strIn.at(<span class="code-digit">0</span>) != <span class="code-string">'</span><span class="code-string">\\'</span>)&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iStart = <span class="code-digit">1</span>;&lt;br /&gt;
  <span class="code-keyword">int</span> iCur = iStart;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">string</span> strDigits;&lt;br /&gt;
  <span class="code-keyword">int</span> c = strIn.at(iCur);  <span class="code-comment">//</span><span class="code-comment">TODO: again, why represent it with an int?&lt;br /&gt;</span>
  <span class="code-keyword">while</span> ((c &gt;= <span class="code-string">'</span><span class="code-string">0'</span>) &amp;&amp; (c &lt;= <span class="code-string">'</span><span class="code-string">7'</span>))&lt;br /&gt;
  {&lt;br /&gt;
    strDigits += static_cast&lt;char&gt;(c);&lt;br /&gt;
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> An escape can't hold more that 3 octal digits (K&amp;R 2nd A2.5.2)&lt;br /&gt;</span>
    <span class="code-keyword">if</span> (iCur == <span class="code-digit">3</span>)&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
         &lt;br /&gt;
    iCur++;&lt;br /&gt;
    c = strIn.at(iCur);&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  char* end;&lt;br /&gt;
  <span class="code-keyword">int</span> octval = (<span class="code-keyword">char</span>)strtol(strDigits.c_str(), &amp;end, <span class="code-digit">8</span>);&lt;br /&gt;
&lt;br /&gt;
  iConsumed = (<span class="code-keyword">int</span>)strDigits.length();&lt;br /&gt;
&lt;br /&gt;
  strOut += static_cast&lt;char&gt;(octval);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> ExpandHex&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> ExpandHex(<span class="code-keyword">const</span> <span class="code-keyword">string</span> &amp;strIn, <span class="code-keyword">string</span> &amp;strOut, <span class="code-keyword">int</span> &amp;iConsumed)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> Starting with the escape and the 'x', we need at least one more char&lt;br /&gt;</span>
  <span class="code-keyword">if</span> (strIn.length() &lt; <span class="code-digit">3</span>)&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> ((strIn.at(<span class="code-digit">0</span>) != _T(<span class="code-string">'</span><span class="code-string">\\'</span>)) || (strIn.at(<span class="code-digit">1</span>) != _T(<span class="code-string">'</span><span class="code-string">x'</span>)))&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iStart = <span class="code-digit">2</span>;&lt;br /&gt;
  <span class="code-keyword">int</span> iCur = iStart;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">string</span> strDigits;&lt;br /&gt;
  <span class="code-keyword">int</span> c = strIn.at(iCur);&lt;br /&gt;
  <span class="code-keyword">while</span> (_istxdigit(c))&lt;br /&gt;
  {&lt;br /&gt;
    strDigits += static_cast&lt;char&gt;(c);&lt;br /&gt;
&lt;br /&gt;
    iCur++;&lt;br /&gt;
    c = strIn.at(iCur);&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  char* end;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-comment">//</span><span class="code-comment"> "There is no limit on the number of digits, but the behavior is undefined&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment"> if the resulting character value exceeds that of the largest character"&lt;br /&gt;</span>
  <span class="code-comment">//</span><span class="code-comment"> (K&amp;R 2nd A2.5.2)&lt;br /&gt;</span>
  <span class="code-keyword">int</span> hex = (<span class="code-keyword">char</span>)strtol(strDigits.c_str(), &amp;end, <span class="code-digit">16</span>);&lt;br /&gt;
&lt;br /&gt;
  iConsumed = (<span class="code-keyword">int</span>)strDigits.length();&lt;br /&gt;
&lt;br /&gt;
  iConsumed++;  <span class="code-comment">//</span><span class="code-comment"> count the "x"&lt;br /&gt;</span>
&lt;br /&gt;
  strOut += static_cast&lt;char&gt;(hex);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">////////////////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> EscapeString&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">string</span> EscapeString(<span class="code-keyword">const</span> char* pIn)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">string</span> strOut;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iLen = (<span class="code-keyword">int</span>)strlen(pIn);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; iLen; i++)&lt;br /&gt;
  {&lt;br /&gt;
    strOut += pIn[i];&lt;br /&gt;
    &lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> Double all "\" chars&lt;br /&gt;</span>
    <span class="code-keyword">if</span> (pIn[i] == <span class="code-string">'</span><span class="code-string">\\'</span>)&lt;br /&gt;
    {&lt;br /&gt;
      strOut += <span class="code-string">'</span><span class="code-string">\\'</span>;&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> strOut;&lt;br /&gt;
}&lt;br /&gt;</pre><br />
<br />
Tokenizer.cpp:<br />
<div class="pre-lang" id="premain574585"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="574585" id="preShrink574585">Shrink â²</span> Â  <span id="copycode574585" class="copy-code" data-index="574585" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre574585" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">********************************************************************&lt;br /&gt;
&lt;br /&gt;
   Copyright (C) 2002 Smaller Animals Software, Inc.&lt;br /&gt;
&lt;br /&gt;
   This software is provided 'as-is', without any express or implied&lt;br /&gt;
   warranty.  In no event will the authors be held liable for any damages&lt;br /&gt;
   arising from the use of this software.&lt;br /&gt;
&lt;br /&gt;
   Permission is granted to anyone to use this software for any purpose,&lt;br /&gt;
   including commercial applications, and to alter it and redistribute it&lt;br /&gt;
   freely, subject to the following restrictions:&lt;br /&gt;
&lt;br /&gt;
   1. The origin of this software must not be misrepresented; you must not&lt;br /&gt;
     claim that you wrote the original software. If you use this software&lt;br /&gt;
     in a product, an acknowledgment in the product documentation would be&lt;br /&gt;
     appreciated but is not required.&lt;br /&gt;
&lt;br /&gt;
   2. Altered source versions must be plainly marked as such, and must not be&lt;br /&gt;
     misrepresented as being the original software.&lt;br /&gt;
&lt;br /&gt;
   3. This notice may not be removed or altered from any source distribution.&lt;br /&gt;
&lt;br /&gt;
   http://www.smalleranimals.com&lt;br /&gt;
   smallest@smalleranimals.com&lt;br /&gt;
&lt;br /&gt;
**********************************************************************/</span>&lt;br /&gt;
&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> Tokenizer.cpp: implementation of the CTokenizer class.&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span>&lt;br /&gt;
#include <span class="code-string">"</span><span class="code-string">stdafx.h"</span>&lt;br /&gt;
#include <span class="code-string">"</span><span class="code-string">Tokenizer.h"</span>&lt;br /&gt;
&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> CXR does not have comments&lt;br /&gt;</span>
<span class="code-preprocessor">#undef ALLOW_COMMENTS&lt;br /&gt;
</span>&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> strip quotes on strings, please&lt;br /&gt;</span>
<span class="code-preprocessor">#undef RETURN_QUOTED_STRINGS&lt;br /&gt;
</span>&lt;br /&gt;
<span class="code-preprocessor">#ifdef ALLOW_COMMENTS&lt;br /&gt;
</span><span class="code-preprocessor">#define COMMENT_START   "/*"&lt;br /&gt;
</span><span class="code-preprocessor">#define COMMENT_STOP    "*/"&lt;br /&gt;
</span><span class="code-preprocessor">#endif&lt;br /&gt;
</span>&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> Construction/Destruction&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
CTokenizer::CTokenizer(char** pKeyWords, <span class="code-keyword">int</span> iKeyWords, char* pMetaChars, <span class="code-keyword">int</span> iMetaChars)&lt;br /&gt;
{&lt;br /&gt;
  m_pKeyWords = pKeyWords;&lt;br /&gt;
  m_iKeyWords = iKeyWords;&lt;br /&gt;
  m_MetaChars = pMetaChars;&lt;br /&gt;
  m_iMetaChars = iMetaChars;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
CTokenizer::~CTokenizer()&lt;br /&gt;
{&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::Clear() - Remove tokens&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">void</span> CTokenizer::Clear()&lt;br /&gt;
{&lt;br /&gt;
  m_tokens.clear();&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">void</span> CTokenizer::Init()&lt;br /&gt;
{&lt;br /&gt;
  Clear();&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::Tokenize - Extract an array of tokens from input text&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">int</span> CTokenizer::Tokenize(<span class="code-keyword">const</span> char* pInputLine)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">int</span> err = eErrorNone;&lt;br /&gt;
&lt;br /&gt;
  Init();&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iLen = (<span class="code-keyword">int</span>)strlen(pInputLine);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">bool</span> bInComment = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; iLen; i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">string</span> curTokenString;&lt;br /&gt;
    <span class="code-keyword">bool</span> bQuotedString = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">int</span> iConsumed = GetToken(pInputLine + i, curTokenString, bQuotedString);&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (iConsumed &gt; <span class="code-digit">0</span>)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment">if (curTokenString.length() &gt; 0)&lt;br /&gt;</span>
      {&lt;br /&gt;
<span class="code-preprocessor">#ifdef ALLOW_COMMENTS&lt;br /&gt;
</span>        <span class="code-keyword">if</span> (curTokenString == COMMENT_START)&lt;br /&gt;
        {&lt;br /&gt;
          bInComment = <span class="code-keyword">true</span>;&lt;br /&gt;
          i+=iConsumed;&lt;br /&gt;
          <span class="code-keyword">continue</span>;&lt;br /&gt;
        }&lt;br /&gt;
            &lt;br /&gt;
        <span class="code-keyword">if</span> (curTokenString == COMMENT_STOP)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">if</span> (!bInComment)&lt;br /&gt;
          {&lt;br /&gt;
            err = eErrorSyntax;&lt;br /&gt;
            <span class="code-keyword">break</span>;&lt;br /&gt;
          }&lt;br /&gt;
&lt;br /&gt;
          bInComment = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
          i += iConsumed;&lt;br /&gt;
          <span class="code-keyword">continue</span>;&lt;br /&gt;
        }&lt;br /&gt;
<span class="code-preprocessor">#endif&lt;br /&gt;
</span>&lt;br /&gt;
        <span class="code-keyword">if</span> (!bInComment)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">int</span> iStart = i;&lt;br /&gt;
          <span class="code-keyword">int</span> iStop = i + iConsumed - <span class="code-digit">1</span>;&lt;br /&gt;
&lt;br /&gt;
          CSAToken curToken(curTokenString.c_str(), iStart, iStop, bQuotedString);&lt;br /&gt;
&lt;br /&gt;
          m_tokens.push_back(curToken);&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
         &lt;br /&gt;
      i += iConsumed;&lt;br /&gt;
&lt;br /&gt;
      i--;  <span class="code-comment">//</span><span class="code-comment"> back up! the for iteration will increase i&lt;br /&gt;</span>
      <span class="code-keyword">continue</span>;&lt;br /&gt;
    }&lt;br /&gt;
    else&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">if</span> (IsMetaChar(*(pInputLine + i)))&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">if</span> (!isspace(*(pInputLine + i)))&lt;br /&gt;
        {&lt;br /&gt;
          curTokenString.clear();&lt;br /&gt;
          curTokenString += *(pInputLine + i);&lt;br /&gt;
&lt;br /&gt;
          CSAToken curToken(curTokenString.c_str(), i, (<span class="code-keyword">int</span>)curTokenString.length() - <span class="code-digit">1</span>, bQuotedString);&lt;br /&gt;
&lt;br /&gt;
          m_tokens.push_back(curToken);&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> err;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::IsKeyWord - Asks: is this text a keyword?&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> CTokenizer::IsKeyWord(<span class="code-keyword">string</span> &amp;str)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">return</span> IsKeyWord((<span class="code-keyword">const</span> char*)str.c_str());&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::IsKeyWord&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> CTokenizer::IsKeyWord(<span class="code-keyword">const</span> char* pInput)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">if</span> (m_pKeyWords==NULL)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iLen = (<span class="code-keyword">int</span>)strlen(pInput);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> iBestMatch = -1;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; m_iKeyWords; i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">int</span> iCurKWLen = (<span class="code-keyword">int</span>)strlen(m_pKeyWords[i]);&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (iLen &lt;= iCurKWLen)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">if</span> (strnicmp(m_pKeyWords[i], pInput, iCurKWLen)==<span class="code-digit">0</span>)&lt;br /&gt;
      {&lt;br /&gt;
        iBestMatch = i;&lt;br /&gt;
      }&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">if</span> (iBestMatch==-1)&lt;br /&gt;
  {&lt;br /&gt;
<span class="code-preprocessor">#ifdef ALLOW_COMMENTS&lt;br /&gt;
</span>    <span class="code-keyword">if</span> (CSAScrUtil::sa_strnicmp(COMMENT_START, pInput, strlen(COMMENT_START))==<span class="code-digit">0</span>)&lt;br /&gt;
    {&lt;br /&gt;
      iBestMatch = m_iKeyWords + <span class="code-digit">1</span>;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (CSAScrUtil::sa_strnicmp(COMMENT_STOP, pInput, strlen(COMMENT_STOP))==<span class="code-digit">0</span>)&lt;br /&gt;
    {&lt;br /&gt;
      iBestMatch = m_iKeyWords + <span class="code-digit">2</span>;&lt;br /&gt;
    }&lt;br /&gt;
<span class="code-preprocessor">#endif&lt;br /&gt;
</span>  }&lt;br /&gt;
  <span class="code-keyword">return</span> (iBestMatch != -1);&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::GetToken - find the next token in the string&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">int</span> CTokenizer::GetToken(<span class="code-keyword">const</span> char* pInput, <span class="code-keyword">string</span> &amp;out, <span class="code-keyword">bool</span> &amp;bQuotedString)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">int</span> iLen = (<span class="code-keyword">int</span>)strlen(pInput);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">bool</span> bFoundChars = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">bool</span> bScanningMetaKW = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">bool</span> bInQuotes = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  bQuotedString = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">char</span> c;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> iWS = <span class="code-digit">0</span>; iWS &lt; iLen; iWS++)&lt;br /&gt;
  {&lt;br /&gt;
    c = *(pInput + iWS);&lt;br /&gt;
    <span class="code-keyword">if</span> (!isspace(c))&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    <span class="code-keyword">if</span> (!iscntrl(c))&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=iWS; i&lt;iLen; i++)&lt;br /&gt;
  {&lt;br /&gt;
    c = *(pInput + i);&lt;br /&gt;
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> not in quotes?&lt;br /&gt;</span>
    <span class="code-comment">//</span><span class="code-comment"> open quote&lt;br /&gt;</span>
    <span class="code-keyword">if</span> ((c == <span class="code-string">'</span><span class="code-string">"'</span>) &amp;&amp; !bInQuotes)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> not in quotes, but we found a ", and we've already found chars?&lt;br /&gt;</span>
      <span class="code-keyword">if</span> (bFoundChars)&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">break</span>;&lt;br /&gt;
      }&lt;br /&gt;
&lt;br /&gt;
      bInQuotes = <span class="code-keyword">true</span>;&lt;br /&gt;
<span class="code-preprocessor">#ifdef RETURN_QUOTED_STRINGS&lt;br /&gt;
</span>      out+=c;&lt;br /&gt;
<span class="code-preprocessor">#endif&lt;br /&gt;
</span>      <span class="code-keyword">continue</span>;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> close quote&lt;br /&gt;</span>
    <span class="code-keyword">if</span> ((c == <span class="code-string">'</span><span class="code-string">"'</span>) &amp;&amp; bInQuotes)&lt;br /&gt;
    {&lt;br /&gt;
      bInQuotes = <span class="code-keyword">false</span>;&lt;br /&gt;
<span class="code-preprocessor">#ifdef RETURN_QUOTED_STRINGS&lt;br /&gt;
</span>      <span class="code-keyword">out</span> += c;&lt;br /&gt;
<span class="code-preprocessor">#endif&lt;br /&gt;
</span>      i += <span class="code-digit">1</span>;&lt;br /&gt;
&lt;br /&gt;
      bQuotedString = <span class="code-keyword">true</span>;&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    <span class="code-keyword">if</span> (bInQuotes)&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-comment">//</span><span class="code-comment"> escape!&lt;br /&gt;</span>
      <span class="code-keyword">if</span> (c == <span class="code-string">'</span><span class="code-string">\\'</span>)&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">if</span> (i &lt; iLen - <span class="code-digit">1</span>)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">switch</span> (*(pInput + i + <span class="code-digit">1</span>))&lt;br /&gt;
          {&lt;br /&gt;
            <span class="code-comment">//</span><span class="code-comment"> if we see \" in a quoted string, don't treat it as a string end!&lt;br /&gt;</span>
            <span class="code-keyword">case</span> <span class="code-string">'</span><span class="code-string">"'</span>:&lt;br /&gt;
              <span class="code-keyword">out</span> += <span class="code-string">"</span><span class="code-string">\\\""</span>; <span class="code-comment">//</span><span class="code-comment"> output the backslash and the quote&lt;br /&gt;</span>
              i++; <span class="code-comment">//</span><span class="code-comment"> skip the quote in the string&lt;br /&gt;</span>
              <span class="code-keyword">continue</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
               &lt;br /&gt;
            <span class="code-keyword">default</span>:&lt;br /&gt;
              <span class="code-comment">//</span><span class="code-comment"> don't touch the other escapes.&lt;br /&gt;</span>
              <span class="code-keyword">out</span> += c;&lt;br /&gt;
              <span class="code-keyword">continue</span>;&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
          }&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
&lt;br /&gt;
      <span class="code-keyword">out</span> += c;&lt;br /&gt;
      <span class="code-keyword">continue</span>;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> break non-quoted strings on ctrl or white space&lt;br /&gt;</span>
    <span class="code-keyword">if</span> (iscntrl(c) || isspace(c))&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">break</span>;&lt;br /&gt;
    }&lt;br /&gt;
&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment"> metachars...&lt;br /&gt;</span>
    <span class="code-keyword">if</span> (IsMetaChar(c))&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">if</span> (iscntrl(c) || isspace(c))&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">break</span>;&lt;br /&gt;
      }&lt;br /&gt;
&lt;br /&gt;
      <span class="code-keyword">if</span> (!bFoundChars)&lt;br /&gt;
      {&lt;br /&gt;
        bScanningMetaKW = <span class="code-keyword">true</span>;&lt;br /&gt;
&lt;br /&gt;
        bFoundChars = <span class="code-keyword">true</span>;&lt;br /&gt;
&lt;br /&gt;
        <span class="code-comment">//</span><span class="code-comment"> in case some KWs start with metachars&lt;br /&gt;</span>
        <span class="code-keyword">if</span> (i &lt; iLen - <span class="code-digit">2</span>)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">char</span> buf[3];&lt;br /&gt;
          buf[0] = c;&lt;br /&gt;
          buf[1] = *(pInput + i + <span class="code-digit">1</span>);&lt;br /&gt;
          buf[2] = <span class="code-digit">0</span>;&lt;br /&gt;
&lt;br /&gt;
          <span class="code-keyword">if</span> (IsKeyWord(buf))&lt;br /&gt;
          {&lt;br /&gt;
            <span class="code-keyword">out</span> += c;&lt;br /&gt;
            <span class="code-keyword">out</span> += *(pInput + i + <span class="code-digit">1</span>);&lt;br /&gt;
&lt;br /&gt;
            i += <span class="code-digit">2</span>;&lt;br /&gt;
&lt;br /&gt;
            <span class="code-keyword">break</span>;&lt;br /&gt;
          }&lt;br /&gt;
          else&lt;br /&gt;
          {&lt;br /&gt;
            buf[1] = <span class="code-digit">0</span>;&lt;br /&gt;
            <span class="code-keyword">if</span> (IsKeyWord(buf))&lt;br /&gt;
            {&lt;br /&gt;
              <span class="code-keyword">out</span> += c;&lt;br /&gt;
&lt;br /&gt;
              i += <span class="code-digit">1</span>;&lt;br /&gt;
&lt;br /&gt;
              <span class="code-keyword">break</span>;&lt;br /&gt;
            }&lt;br /&gt;
          }&lt;br /&gt;
        }&lt;br /&gt;
&lt;br /&gt;
        <span class="code-keyword">out</span> += c;&lt;br /&gt;
      }&lt;br /&gt;
      else&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">break</span>;&lt;br /&gt;
      }&lt;br /&gt;
    }&lt;br /&gt;
    else&lt;br /&gt;
    {&lt;br /&gt;
      <span class="code-keyword">if</span> (!bFoundChars)&lt;br /&gt;
      {&lt;br /&gt;
        bScanningMetaKW = <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
        bFoundChars = <span class="code-keyword">true</span>;&lt;br /&gt;
&lt;br /&gt;
        <span class="code-keyword">out</span> += c;&lt;br /&gt;
      }&lt;br /&gt;
      else&lt;br /&gt;
      {&lt;br /&gt;
        <span class="code-keyword">if</span> (bScanningMetaKW)&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">break</span>;&lt;br /&gt;
        }&lt;br /&gt;
        else&lt;br /&gt;
        {&lt;br /&gt;
          <span class="code-keyword">out</span> += c;&lt;br /&gt;
        }&lt;br /&gt;
      }&lt;br /&gt;
    }&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> i;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::IsMetaChar&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> CTokenizer::IsMetaChar(<span class="code-keyword">const</span> <span class="code-keyword">char</span> c)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; m_iMetaChars; i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">if</span> (c == m_MetaChars[i])&lt;br /&gt;
      <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::IsMetaChar&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> CTokenizer::IsMetaChar(<span class="code-keyword">string</span> &amp;str)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">if</span> (str.length() &gt; <span class="code-digit">1</span>)&lt;br /&gt;
    <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">char</span> c = str.at(<span class="code-digit">0</span>);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>; i &lt; m_iMetaChars; i++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-keyword">if</span> (c == m_MetaChars[i])&lt;br /&gt;
      <span class="code-keyword">return</span> <span class="code-keyword">true</span>;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">return</span> <span class="code-keyword">false</span>;&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> CTokenizer::Dump&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">void</span> CTokenizer::Dump()&lt;br /&gt;
{&lt;br /&gt;
  CSATokenVector::iterator theIterator;&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span> i=<span class="code-digit">0</span>;&lt;br /&gt;
  <span class="code-keyword">for</span> (theIterator = m_tokens.begin(); theIterator &lt; m_tokens.end(); theIterator++)&lt;br /&gt;
  {&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment">If you're interested in debug output, re-implement this to suit you:&lt;br /&gt;</span>
    <span class="code-comment">//</span><span class="code-comment">TRACE("%d [%d-%d] : \"%s\"\n", i++, (*theIterator).iStart, (*theIterator).iStop, (const TCHAR *)((*theIterator).csToken));&lt;br /&gt;</span>
  }&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-comment">//</span><span class="code-comment"> Operator overloading&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
<span class="code-keyword">bool</span> <span class="code-keyword">operator</span> &lt; (<span class="code-keyword">const</span> CSAToken &amp;a, <span class="code-keyword">const</span> CSAToken &amp;b)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">return</span> (a.iStart &lt; b.iStart);&lt;br /&gt;
}&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">bool</span> <span class="code-keyword">operator</span> == (<span class="code-keyword">const</span> CSAToken &amp;a, <span class="code-keyword">const</span> CSAToken &amp;b)&lt;br /&gt;
{&lt;br /&gt;
  <span class="code-keyword">return</span> (a.iStart == b.iStart);&lt;br /&gt;
}&lt;br /&gt;</pre><br />
<br />
cxr_inc.h:<br />
<div class="pre-lang" id="premain52945"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="52945" id="preShrink52945">Shrink â²</span> Â  <span id="copycode52945" class="copy-code" data-index="52945" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre52945" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">********************************************************************&lt;br /&gt;
&lt;br /&gt;
   Copyright (C) 2002 Smaller Animals Software, Inc.&lt;br /&gt;
&lt;br /&gt;
   This software is provided 'as-is', without any express or implied&lt;br /&gt;
   warranty.  In no event will the authors be held liable for any damages&lt;br /&gt;
   arising from the use of this software.&lt;br /&gt;
&lt;br /&gt;
   Permission is granted to anyone to use this software for any purpose,&lt;br /&gt;
   including commercial applications, and to alter it and redistribute it&lt;br /&gt;
   freely, subject to the following restrictions:&lt;br /&gt;
&lt;br /&gt;
   1. The origin of this software must not be misrepresented; you must not&lt;br /&gt;
     claim that you wrote the original software. If you use this software&lt;br /&gt;
     in a product, an acknowledgment in the product documentation would be&lt;br /&gt;
     appreciated but is not required.&lt;br /&gt;
&lt;br /&gt;
   2. Altered source versions must be plainly marked as such, and must not be&lt;br /&gt;
     misrepresented as being the original software.&lt;br /&gt;
&lt;br /&gt;
   3. This notice may not be removed or altered from any source distribution.&lt;br /&gt;
&lt;br /&gt;
   http://www.smalleranimals.com&lt;br /&gt;
   smallest@smalleranimals.com&lt;br /&gt;
&lt;br /&gt;
**********************************************************************/</span>&lt;br /&gt;
<span class="code-preprocessor">#pragma once&lt;br /&gt;
</span>&lt;br /&gt;
#include &lt;string&gt;&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std;&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define _USING_CXR&lt;br /&gt;
</span>&lt;br /&gt;
<span class="code-preprocessor">#ifndef _USING_CXR&lt;br /&gt;
</span>  <span class="code-preprocessor">#define _CXR(x) x&lt;br /&gt;
</span><span class="code-preprocessor">#else&lt;br /&gt;
</span>  <span class="code-preprocessor">#define _CXR(x) __CXRDecrypt(x)&lt;br /&gt;
</span>  <span class="code-keyword">extern</span> <span class="code-keyword">string</span> __CXRDecrypt(<span class="code-keyword">const</span> char* pIn);&lt;br /&gt;
<span class="code-preprocessor">#endif&lt;br /&gt;</span></pre><br />
<br />
stdafx.h:<br />
<div class="pre-lang" id="premain157941"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="157941" id="preShrink157941">Shrink â²</span> Â  <span id="copycode157941" class="copy-code" data-index="157941" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre157941" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> stdafx.h : include file for standard system include files,&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> or project specific include files that are used frequently, but&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment"> are changed infrequently&lt;br /&gt;</span>
<span class="code-comment">//</span><span class="code-comment">&lt;br /&gt;</span>
&lt;br /&gt;
<span class="code-preprocessor">#pragma once&lt;br /&gt;
</span>&lt;br /&gt;
&lt;br /&gt;
#include &lt;iostream&gt;&lt;br /&gt;
#include &lt;tchar.h&gt;&lt;br /&gt;
&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> TODO: reference additional headers your program requires here&lt;br /&gt;</span>
&lt;br /&gt;</pre><br />
<br />
Stream.h:<br />
<div class="pre-lang" id="premain402678"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="402678" id="preShrink402678">Shrink â²</span> Â  <span id="copycode402678" class="copy-code" data-index="402678" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre402678" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">********************************************************************&lt;br /&gt;
&lt;br /&gt;
   Copyright (C) 2002 Smaller Animals Software, Inc.&lt;br /&gt;
&lt;br /&gt;
   This software is provided 'as-is', without any express or implied&lt;br /&gt;
   warranty.  In no event will the authors be held liable for any damages&lt;br /&gt;
   arising from the use of this software.&lt;br /&gt;
&lt;br /&gt;
   Permission is granted to anyone to use this software for any purpose,&lt;br /&gt;
   including commercial applications, and to alter it and redistribute it&lt;br /&gt;
   freely, subject to the following restrictions:&lt;br /&gt;
&lt;br /&gt;
   1. The origin of this software must not be misrepresented; you must not&lt;br /&gt;
     claim that you wrote the original software. If you use this software&lt;br /&gt;
     in a product, an acknowledgment in the product documentation would be&lt;br /&gt;
     appreciated but is not required.&lt;br /&gt;
&lt;br /&gt;
   2. Altered source versions must be plainly marked as such, and must not be&lt;br /&gt;
     misrepresented as being the original software.&lt;br /&gt;
&lt;br /&gt;
   3. This notice may not be removed or altered from any source distribution.&lt;br /&gt;
&lt;br /&gt;
   http://www.smalleranimals.com&lt;br /&gt;
   smallest@smalleranimals.com&lt;br /&gt;
&lt;br /&gt;
**********************************************************************/</span>&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">&lt;br /&gt;
	modified by Chris Losinger for Smaller Animals Software, Inc.&lt;br /&gt;
*/</span>&lt;br /&gt;
<span class="code-comment">//</span><span class="code-comment"> Sapphire.cpp -- modified by Wei Dai from:&lt;br /&gt;</span>
&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment"> Sapphire.cpp -- the Saphire II stream cipher class.&lt;br /&gt;
   Dedicated to the Public Domain the author and inventor:&lt;br /&gt;
   (Michael Paul Johnson).  This code comes with no warranty.&lt;br /&gt;
   Use it at your own risk.&lt;br /&gt;
   Ported from the Pascal implementation of the Sapphire Stream&lt;br /&gt;
   Cipher 9 December 1994.&lt;br /&gt;
   Added hash pre- and post-processing 27 December 1994.&lt;br /&gt;
   Modified initialization to make index variables key dependent,&lt;br /&gt;
   made the output function more resistant to cryptanalysis,&lt;br /&gt;
   and renamed to CPASapphire II 2 January 1995&lt;br /&gt;
*/</span>&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#pragma once&lt;br /&gt;
</span>&lt;br /&gt;
typedef unsigned <span class="code-keyword">char</span> BYTE;&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">class</span> CCXRIntBase&lt;br /&gt;
{&lt;br /&gt;
<span class="code-keyword">protected</span>:&lt;br /&gt;
   CCXRIntBase(<span class="code-keyword">const</span> BYTE* key, unsigned <span class="code-keyword">int</span> ks)&lt;br /&gt;
   {&lt;br /&gt;
      <span class="code-keyword">int</span> i;BYTE rs;unsigned kp;&lt;br /&gt;
      <span class="code-keyword">for</span>(i=<span class="code-digit">0</span>;i&lt;256;i++)c[i]=i;kp=<span class="code-digit">0</span>;rs=<span class="code-digit">0</span>;<span class="code-keyword">for</span>(i=<span class="code-digit">255</span>;i;i--)std::swap(c[i],c[kr(i,key,ks,&amp;rs,&amp;kp)]);r2=c[1];r1=c[3];av=c[5];lp=c[7];lc=c[rs];rs=<span class="code-digit">0</span>;kp=<span class="code-digit">0</span>;&lt;br /&gt;
   }&lt;br /&gt;
	inline <span class="code-keyword">void</span> SC(){BYTE st=c[lc];r1+=c[r2++];c[lc]=c[r1];c[r1]=c[lp];c[lp]=c[r2];c[r2]=st;av+=c[st];}&lt;br /&gt;
	BYTE c[256],r2,r1,av,lp,lc;    &lt;br /&gt;
&lt;br /&gt;
   BYTE kr(unsigned <span class="code-keyword">int</span> lm, <span class="code-keyword">const</span> BYTE *uk, BYTE ks, BYTE *rs, unsigned *kp)&lt;br /&gt;
   {&lt;br /&gt;
      unsigned rl=<span class="code-digit">0</span>,mk=<span class="code-digit">1</span>,u;&lt;br /&gt;
      <span class="code-keyword">while</span>(mk&lt;lm)mk=(mk&lt;&lt;1)+1;&lt;br /&gt;
      <span class="code-keyword">do</span>{*rs=c[*rs]+uk[(*kp)++];&lt;br /&gt;
      <span class="code-keyword">if</span>(*kp&gt;=ks){*kp=<span class="code-digit">0</span>;*rs+=ks;}u=mk&amp;*rs;&lt;br /&gt;
      <span class="code-keyword">if</span>(++rl&gt;11)u%=lm;}<span class="code-keyword">while</span>(u&gt;lm);&lt;br /&gt;
      <span class="code-keyword">return</span> u;&lt;br /&gt;
   }&lt;br /&gt;
};&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">struct</span> CCXRIntDec:CCXRIntBase&lt;br /&gt;
{&lt;br /&gt;
	CCXRIntDec(<span class="code-keyword">const</span> BYTE *userKey, unsigned <span class="code-keyword">int</span> keyLength=<span class="code-digit">16</span>) : CCXRIntBase(userKey, keyLength) {}&lt;br /&gt;
	inline BYTE ProcessByte(BYTE b){SC();lp=b^c[(c[r1]+c[r2])&amp;0xFF]^c[c[(c[lp]+c[lc]+c[av])&amp;0xFF]];lc=b;<span class="code-keyword">return</span> lp;}&lt;br /&gt;
};&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">struct</span> CCXRIntEnc:CCXRIntBase&lt;br /&gt;
{&lt;br /&gt;
	CCXRIntEnc(<span class="code-keyword">const</span> BYTE *userKey, unsigned <span class="code-keyword">int</span> keyLength=<span class="code-digit">16</span>) : CCXRIntBase(userKey, keyLength) {}&lt;br /&gt;
	inline BYTE ProcessByte(BYTE b){SC();lc=b^c[(c[r1]+c[r2])&amp;0xFF]^c[c[(c[lp]+c[lc]+c[av])&amp;0xFF]];lp=b;<span class="code-keyword">return</span> lc;}&lt;br /&gt;
};&lt;br /&gt;</pre><br />
<br />
Tokenizer.h:<br />
<div class="pre-lang" id="premain697577"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="697577" id="preShrink697577">Shrink â²</span> Â  <span id="copycode697577" class="copy-code" data-index="697577" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre697577" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">********************************************************************&lt;br /&gt;
&lt;br /&gt;
   Copyright (C) 2002 Smaller Animals Software, Inc.&lt;br /&gt;
&lt;br /&gt;
   This software is provided 'as-is', without any express or implied&lt;br /&gt;
   warranty.  In no event will the authors be held liable for any damages&lt;br /&gt;
   arising from the use of this software.&lt;br /&gt;
&lt;br /&gt;
   Permission is granted to anyone to use this software for any purpose,&lt;br /&gt;
   including commercial applications, and to alter it and redistribute it&lt;br /&gt;
   freely, subject to the following restrictions:&lt;br /&gt;
&lt;br /&gt;
   1. The origin of this software must not be misrepresented; you must not&lt;br /&gt;
     claim that you wrote the original software. If you use this software&lt;br /&gt;
     in a product, an acknowledgment in the product documentation would be&lt;br /&gt;
     appreciated but is not required.&lt;br /&gt;
&lt;br /&gt;
   2. Altered source versions must be plainly marked as such, and must not be&lt;br /&gt;
     misrepresented as being the original software.&lt;br /&gt;
&lt;br /&gt;
   3. This notice may not be removed or altered from any source distribution.&lt;br /&gt;
&lt;br /&gt;
   http://www.smalleranimals.com&lt;br /&gt;
   smallest@smalleranimals.com&lt;br /&gt;
&lt;br /&gt;
**********************************************************************/</span>&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#pragma once&lt;br /&gt;
</span>&lt;br /&gt;
#include &lt;vector&gt;&lt;br /&gt;
#include &lt;iterator&gt;&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#pragma warning(disable:4786)&lt;br /&gt;
</span><span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std ;&lt;br /&gt;
<span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std::rel_ops ;&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span>&lt;br /&gt;
<span class="code-keyword">class</span> CSAToken &lt;br /&gt;
{&lt;br /&gt;
<span class="code-keyword">public</span>:&lt;br /&gt;
  CSAToken()&lt;br /&gt;
  {&lt;br /&gt;
    iStart = iStop = -1;&lt;br /&gt;
    bIsQuotedString = <span class="code-keyword">false</span>;&lt;br /&gt;
  }&lt;br /&gt;
   &lt;br /&gt;
  CSAToken(<span class="code-keyword">const</span> char* p, <span class="code-keyword">int</span> x, <span class="code-keyword">int</span> y, <span class="code-keyword">bool</span> q)&lt;br /&gt;
  {&lt;br /&gt;
    strToken = p;&lt;br /&gt;
    iStart = x;&lt;br /&gt;
    iStop = y;&lt;br /&gt;
    <span class="code-comment">//</span><span class="code-comment">ASSERT(x &lt;= y);&lt;br /&gt;</span>
&lt;br /&gt;
    bIsQuotedString = q;&lt;br /&gt;
  }&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">string</span>  strToken;&lt;br /&gt;
  <span class="code-keyword">int</span>     iStart;&lt;br /&gt;
  <span class="code-keyword">int</span>     iStop;&lt;br /&gt;
  <span class="code-keyword">bool</span>    bIsQuotedString;&lt;br /&gt;
};&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span>&lt;br /&gt;
typedef vector&lt;CSAToken&gt; CSATokenVector;&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span>&lt;br /&gt;
<span class="code-keyword">class</span> CTokenizer  &lt;br /&gt;
{&lt;br /&gt;
<span class="code-keyword">public</span>:&lt;br /&gt;
  <span class="code-keyword">enum</span> {eErrorNone, eErrorSyntax,}eError;&lt;br /&gt;
&lt;br /&gt;
  CTokenizer(char** pKeyWords, <span class="code-keyword">int</span> iKeyWords, char* pMetaChars, <span class="code-keyword">int</span> iMetaChars);&lt;br /&gt;
  <span class="code-keyword">virtual</span> ~CTokenizer();&lt;br /&gt;
  <span class="code-keyword">void</span>    Clear();&lt;br /&gt;
  <span class="code-keyword">void</span>    Init();&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">int</span>     Tokenize(<span class="code-keyword">const</span> char* pInputLine);&lt;br /&gt;
   &lt;br /&gt;
  <span class="code-keyword">bool</span>    IsKeyWord(<span class="code-keyword">string</span> &amp;str);&lt;br /&gt;
  <span class="code-keyword">bool</span>    IsKeyWord(<span class="code-keyword">const</span> char* pInput);&lt;br /&gt;
&lt;br /&gt;
  <span class="code-keyword">void</span>    Dump();&lt;br /&gt;
   &lt;br /&gt;
  <span class="code-keyword">bool</span>    IsMetaChar(<span class="code-keyword">const</span> <span class="code-keyword">char</span> c); &lt;br /&gt;
  <span class="code-keyword">bool</span>    IsMetaChar(<span class="code-keyword">string</span> &amp;str);&lt;br /&gt;
&lt;br /&gt;
  _inline <span class="code-keyword">int</span>      GetTokenCount()   {<span class="code-keyword">return</span> (<span class="code-keyword">int</span>)m_tokens.size();}&lt;br /&gt;
  _inline CSAToken GetToken(<span class="code-keyword">int</span> i)   {<span class="code-keyword">return</span> m_tokens.at(i);}&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">protected</span>:&lt;br /&gt;
  <span class="code-keyword">int</span>     GetToken(<span class="code-keyword">const</span> char* pInput, <span class="code-keyword">string</span> &amp;out, <span class="code-keyword">bool</span> &amp;bQuotedString);&lt;br /&gt;
   &lt;br /&gt;
  char**  m_pKeyWords;&lt;br /&gt;
  <span class="code-keyword">int</span>     m_iKeyWords;&lt;br /&gt;
  char*   m_MetaChars;&lt;br /&gt;
  <span class="code-keyword">int</span>     m_iMetaChars;&lt;br /&gt;
&lt;br /&gt;
  CSATokenVector m_tokens;&lt;br /&gt;
};&lt;br /&gt;
&lt;br /&gt;
<span class="code-summarycomment">///</span><span class="code-comment">///////////////////////////////////////////////////////////////////<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">br</span><span class="code-summarycomment"> </span><span class="code-summarycomment">/</span><span class="code-summarycomment">&gt;</span>
</span>&lt;br /&gt;
<span class="code-keyword">extern</span> <span class="code-keyword">bool</span> <span class="code-keyword">operator</span> &lt; (<span class="code-keyword">const</span> CSAToken &amp;a, <span class="code-keyword">const</span> CSAToken &amp;b);&lt;br /&gt;
<span class="code-keyword">extern</span> <span class="code-keyword">bool</span> <span class="code-keyword">operator</span> == (<span class="code-keyword">const</span> CSAToken &amp;a, <span class="code-keyword">const</span> CSAToken &amp;b);&lt;br /&gt;</pre><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1392004" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1408355" name="react-item_1408355" id="MRF1408355" class="reaction-result"></span><span data-objectref="3_1408355" data-votingtype="GoodOrBad" name="RateItem_1408355" id="MVF1408355" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="/Messages/1408355/Re-Things-I-had-to-change-to-compile-CXR" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1663793_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="56px" class="indent"><a name="xx1663793xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1663793" parent="1408355" thread="1392004" href="/Messages/1663793/Re-Things-I-had-to-change-to-compile-CXR">Re: Things I had to change to compile CXR</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">ichscheissdirinsgsichthey</span><span class="date">11-Sep-06  6:20</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=3353662">ichscheissdirinsgsichthey</a></span></td><td class="date"><span>11-Sep-06  6:20Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1663793_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:56px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1408355);" href="/Messages/1408355/Re-Things-I-had-to-change-to-compile-CXR"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>stop posting errorcode, it's not fun to fix your ****.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1392004" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1663793" name="react-item_1663793" id="MRF1663793" class="reaction-result"></span><span data-objectref="3_1663793" data-votingtype="GoodOrBad" name="RateItem_1663793" id="MVF1663793" class="rating-result"><span>1.00/5 (1 vote)</span></span><a href="/Messages/1663793/Re-Things-I-had-to-change-to-compile-CXR" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1339610_h0" class="header hover-row root">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1339610xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1339610" parent="0" thread="1339610" href="/Messages/1339610/Thanks-and-improvements">Thanks, and improvements</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Boniolopez</span><span class="date">18-Jan-06  7:16</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=1031262">Boniolopez</a></span></td><td class="date"><span>18-Jan-06  7:16Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1339610_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Dear Sir,<br />
Thanks for this utility, it did just what I wanted. I made a small improvements.<br />
1. Added casts, because else VS.NET compiler complains.<br />
2. I hate to write things twice, therefore I added generation of a header file with externs. I.e. for your demo project it generates <br />
--strings.h---<br />
 extern const char* pString1  ;//blabal<br />
 extern const char* pString2  ;<br />
Now one can just include this file into all project files.<br />
<br />
3. I added <br />
#define CXR_CPP<br />
into the generated cpp file. So that one can customize cxr_inc.h, depending on whether it is now included in cxr generated cpp or other project files (sometimes usefull).<br />
<br />
<br />
I share the changes with people in the hope, that it can be usefull for somebody else too.<br />
<br />
----crx.cpp--<br />
&lt;code&gt;<br />
/*********************************************************************<br />
<br />
   Copyright (C) 2002 Smaller Animals Software, Inc.<br />
<br />
   This software is provided 'as-is', without any express or implied<br />
   warranty.  In no event will the authors be held liable for any damages<br />
   arising from the use of this software.<br />
<br />
   Permission is granted to anyone to use this software for any purpose,<br />
   including commercial applications, and to alter it and redistribute it<br />
   freely, subject to the following restrictions:<br />
<br />
   1. The origin of this software must not be misrepresented; you must not<br />
     claim that you wrote the original software. If you use this software<br />
     in a product, an acknowledgment in the product documentation would be<br />
     appreciated but is not required.<br />
<br />
   2. Altered source versions must be plainly marked as such, and must not be<br />
     misrepresented as being the original software.<br />
<br />
   3. This notice may not be removed or altered from any source distribution.<br />
<br />
   http://www.smalleranimals.com<br />
   smallest@smalleranimals.com<br />
<br />
**********************************************************************/<br />
<br />
// CXR.cpp : Defines the entry point for the console application.<br />
//<br />
<br />
#include "stdafx.h"<br />
#include "CXR.h"<br />
#include "CmdLine.h"<br />
#include "Tokenizer.h"<br />
#include "Stream.h"<br />
<br />
<br />
#ifdef _DEBUG<br />
#define new DEBUG_NEW<br />
#undef THIS_FILE<br />
static char THIS_FILE[] = __FILE__;<br />
#endif<br />
<br />
/////////////////////////////////////////////////////////////////////////////<br />
// The one and only application object<br />
<br />
CWinApp theApp;<br />
<br />
using namespace std;<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
static bool     ProcessFile(CStdioFile &amp;in, CStdioFile &amp;out, CStdioFile &amp;outh);<br />
static bool     AddDecode(const CString &amp; csPassword, CStdioFile &amp;out);<br />
static CString  Encrypt(const CString &amp;csIn, const char *pPass);<br />
static CString  Decrypt(const char *pIn, const char *pPass);<br />
static bool     ExpandOctal(const CString &amp;csIn, CString &amp;csOut, int &amp;iConsumed);<br />
static CString  TranslateCString(const CString &amp;csIn);<br />
static bool     ExpandHex(const CString &amp;csIn, CString &amp;csOut, int &amp;iConsumed);<br />
static CString    EscapeCString(const char *pIn);<br />
<br />
// these can be adjusted in the range 1 to 239<br />
const int basechar1 = 128;<br />
const int basechar2 = 128;<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
int _tmain(int argc, char* argv[], char* envp[])<br />
{<br />
	int nRetCode = 0;<br />
<br />
   srand(time(NULL));<br />
<br />
	// initialize MFC and print and error on failure<br />
	if (!AfxWinInit(::GetModuleHandle(NULL), NULL, ::GetCommandLine(), 0))<br />
	{<br />
		// TODO: change error code to suit your needs<br />
		cerr &lt;&lt; _T("Fatal Error: MFC initialization failed") &lt;&lt; endl;<br />
		nRetCode = 1;<br />
	}<br />
	else<br />
	{<br />
      cerr &lt;&lt; "Starting CXR, the literal string encryptor. Copyright 2002, Smaller Animals Software Inc.\n";<br />
<br />
      if ((basechar1 == 0) || (basechar2 == 0) || (basechar1 &gt; 239) || (basechar2 &gt; 239))<br />
      {<br />
         cerr &lt;&lt; "CXR basechar values out of acceptable range. Aborting\n";<br />
         nRetCode = 1;<br />
         return nRetCode;<br />
      }<br />
<br />
      CCmdLine cmd;<br />
      if (cmd.SplitLine(argc, argv) &gt;= 2)<br />
      {<br />
         CString csInFile = cmd.GetSafeArgument("-i", 0, "");<br />
         CString csOutFile = cmd.GetSafeArgument("-o", 0, "");<br />
         if (!csInFile.IsEmpty() &amp;&amp; !csOutFile.IsEmpty())<br />
         {<br />
		      // open the input file<br />
            CStdioFile fileIn;<br />
<br />
            // open the output file<br />
            CStdioFile fileOut;<br />
            CStdioFile fileOuth;<br />
			string _HeaderName=csOutFile;<br />
			string::size_type _dot=_HeaderName.find_last_of(".");<br />
			if   ((_dot!=string::npos)&amp;&amp;(_dot&gt;1)){<br />
				_HeaderName=_HeaderName.substr(0,_dot);			<br />
			};<br />
			_HeaderName+=".h";<br />
            if (fileIn.Open(csInFile, CFile::modeRead | CFile::typeText))<br />
            {<br />
               if (fileOut.Open(csOutFile, CFile::modeCreate | CFile::modeWrite | CFile::typeText ))<br />
               {<br />
				   if (fileOuth.Open(_HeaderName.c_str(), CFile::modeCreate | CFile::modeWrite | CFile::typeText ))<br />
                  if (!ProcessFile(fileIn, fileOut,fileOuth))<br />
                  {<br />
                     cerr &lt;&lt; "CXR failed\n";<br />
                     nRetCode = 1;<br />
                  }<br />
               }<br />
               else<br />
               {<br />
                  cerr &lt;&lt; _T("Unable to open output file: ") &lt;&lt; (LPCTSTR)csOutFile &lt;&lt; endl;<br />
                  nRetCode = 1;<br />
               }<br />
            }<br />
            else<br />
            {<br />
               cerr &lt;&lt; _T("Unable to open input file: ") &lt;&lt; (LPCTSTR)csInFile &lt;&lt; endl;<br />
               nRetCode = 1;<br />
            }<br />
<br />
            if (nRetCode==0)<br />
            {<br />
               cerr &lt;&lt; "CXR created: " &lt;&lt; (LPCTSTR)csOutFile &lt;&lt; "\n";<br />
            }<br />
         }<br />
         else<br />
         {<br />
            cerr &lt;&lt; _T("Not enough parameters") &lt;&lt; endl;<br />
            nRetCode = 1;<br />
         }<br />
      }      <br />
      else<br />
      {<br />
         cerr &lt;&lt; _T("Not enough parameters") &lt;&lt; endl;<br />
         nRetCode = 1;<br />
      }<br />
	}<br />
<br />
 	return nRetCode;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
bool ProcessFile(CStdioFile &amp;in, CStdioFile &amp;out,CStdioFile &amp;outh)<br />
{<br />
   enum <br />
   {<br />
      eStateWantPassword,<br />
      eStateHavePassword,<br />
   };<br />
<br />
   int iState = eStateWantPassword;<br />
<br />
   CString csPassword;<br />
   CString line;<br />
<br />
   char *pMetachars = _T("/\\=();'");<br />
   char *pKeyWords[3] = {_T("//"), _T("_CXR"), _T("CXRP")};<br />
   <br />
   CTokenizer tokenizer(pKeyWords, 3, pMetachars, strlen(pMetachars));<br />
   int iErr = CTokenizer::eErrorNone;<br />
   bool ok = true;<br />
<br />
   out.WriteString(_T("/////////////////////////////////////////////////////////////\n"));<br />
   out.WriteString(_T("// "));<br />
   out.WriteString(out.GetFileName());<br />
   out.WriteString(_T("\n//\n"));<br />
   out.WriteString(_T("// This file was generated by CXR, the literal string encryptor.\n"));<br />
   out.WriteString(_T("// CXR, Copyright 2002, Smaller Animals Software, Inc., all rights reserved.\n"));<br />
   out.WriteString(_T("//\n"));<br />
   out.WriteString(_T("// Please do not edit this file. Any changes here will be overwritten on the next compile.\n// If you wish to make changes to a string, please edit:\n//     "));<br />
   out.WriteString(in.GetFilePath());<br />
   out.WriteString(_T("\n//\n"));<br />
   out.WriteString(_T("\n/////////////////////////////////////////////////////////////\n\n"));<br />
   out.WriteString(_T("\n#define CXR_CPP\n\n"));<br />
   out.WriteString(_T("#include \"stdafx.h\"\n"));<br />
   out.WriteString(_T("#include \"cxr_inc.h\"\n\n"));<br />
<br />
<br />
   outh.WriteString(_T("// Please do not edit this file. Any changes here will be overwritten on the next compile.\n// If you wish to make changes to a string, please edit:\n//     "));<br />
   outh.WriteString(in.GetFilePath());<br />
   outh.WriteString(_T("\n//\n"));<br />
<br />
   outh.WriteString(_T("#ifndef "));<br />
   CString _fn=outh.GetFileName();<br />
   _fn.Replace(".","_");<br />
   _fn.MakeUpper();<br />
 <br />
   outh.WriteString(_fn);<br />
   outh.WriteString(_T("\n#define "));<br />
   outh.WriteString(_fn);<br />
   outh.WriteString(_T("\n"));<br />
   outh.WriteString(_T("#include \"cxr_inc.h\"\n\n"));<br />
<br />
   bool bFoundCXR = false;<br />
<br />
   do <br />
   {<br />
      if (!in.ReadString(line))<br />
      {<br />
         break;<br />
      }<br />
<br />
      switch (iState)<br />
      {<br />
      case eStateWantPassword:<br />
         iErr = tokenizer.Tokenize(line);<br />
         if (iErr == CTokenizer::eErrorNone)<br />
         {<br />
            if (tokenizer.GetTokenCount() &gt;= 4)<br />
            {<br />
               // password declaration always looks like : // CXRP = "Password"<br />
               if ((tokenizer.GetToken(0).csToken == _T("//")) &amp;&amp; <br />
                  (tokenizer.GetToken(1).csToken == _T("CXRP")) &amp;&amp; <br />
                  (tokenizer.GetToken(2).csToken == _T("=")) &amp;&amp; <br />
                  (tokenizer.GetToken(3).bIsQuotedString))<br />
               {<br />
                  // we'll use the password from the file, literally. it's not treated as<br />
                  // a C string-literal, just as a section of a text file. when we<br />
                  // go to write the decoder, we'll have to fix it up to make sure<br />
                  // the compiler gets the same text by adding any necessary escapes.<br />
                  csPassword = tokenizer.GetToken(3).csToken;<br />
<br />
                  if (csPassword.IsEmpty())<br />
                  {<br />
                     cerr &lt;&lt; _T("Invalid CXR password: \"") &lt;&lt; (LPCTSTR)csPassword &lt;&lt; _T("\"") &lt;&lt; endl;<br />
                     ASSERT(0);<br />
                     break;<br />
                  }<br />
<br />
                  iState = eStateHavePassword;<br />
                  continue;<br />
               }<br />
            }<br />
         }<br />
         break;<br />
      case eStateHavePassword:<br />
         bFoundCXR = false;<br />
         iErr = tokenizer.Tokenize(line);<br />
         if (iErr == CTokenizer::eErrorNone)<br />
         {<br />
            if (tokenizer.GetTokenCount() &gt; 4)<br />
            {<br />
               for (int i=0;i&lt;tokenizer.GetTokenCount() - 4; i++)<br />
               {<br />
                  // looking for _CXR ( "..." )<br />
                  if (<br />
                     (tokenizer.GetToken(i).csToken == _T("_CXR")) &amp;&amp; !tokenizer.GetToken(i).bIsQuotedString &amp;&amp;<br />
                     (tokenizer.GetToken(i + 1).csToken == _T("(")) &amp;&amp; !tokenizer.GetToken(i + 1).bIsQuotedString &amp;&amp;<br />
                     (tokenizer.GetToken(i + 2).bIsQuotedString) &amp;&amp;<br />
                     (tokenizer.GetToken(i + 3).csToken == _T(")")) &amp;&amp; !tokenizer.GetToken(i + 3).bIsQuotedString<br />
                     )<br />
                  {<br />
                     CString csTrans = TranslateCString(tokenizer.GetToken(i + 2).csToken);<br />
                     CString csEnc = Encrypt(csTrans, csPassword);<br />
                     //CString csDec = Decrypt(csEnc, csPassword);<br />
<br />
                     out.WriteString(_T("///////////////////////////\n#ifdef _USING_CXR\n"));<br />
<br />
                     /*<br />
                     out.WriteString("//");<br />
                     out.WriteString(csDec);<br />
                     out.WriteString("\n");<br />
                     */<br />
<br />
                     // output up to _CXR<br />
                     out.WriteString(line.Left(tokenizer.GetToken(i).iStart));<br />
					 CString _newline=line.Left(tokenizer.GetToken(i).iStart);<br />
					 _newline.Replace("=","");<br />
					 _newline=_newline.Trim(" ");<br />
					 <br />
					 // extern const char* ltrUnknown; //Unknown.<br />
					 //Find last token in the string before = (i.e. variable name)<br />
					 //and make #define lThisName _CRX(ThisName)<br />
					 CString resToken;<br />
					 CString TypeName;<br />
					 int curPos=0;<br />
					 resToken= _newline.Tokenize("% #*",curPos);<br />
					 while (resToken != ""){<br />
						TypeName=resToken;<br />
						resToken= _newline.Tokenize("% #*",curPos);<br />
					<br />
					 };<br />
<br />
					 _newline=" extern "+_newline;<br />
<br />
					 outh.WriteString(_newline);<br />
					 outh.WriteString(_T("; //")+csTrans+_T("\n"));<br />
					 outh.WriteString(_T("#define l")+TypeName+ _T("  _CXR(")+TypeName+_T(").c_str()\n\n"));<br />
                     // encrypted stuff<br />
                     out.WriteString(_T("\""));<br />
                     out.WriteString(csEnc);<br />
                     out.WriteString(_T("\""));<br />
<br />
                     // to the end of the line<br />
                     out.WriteString(line.Mid(tokenizer.GetToken(i + 4).iStop));<br />
<br />
                     out.WriteString(_T("\n"));<br />
 <br />
                     out.WriteString(_T("#else\n"));<br />
                     out.WriteString(line);<br />
                     out.WriteString(_T("\n#endif\n\n"));<br />
<br />
                     bFoundCXR = true;<br />
<br />
                     break;<br />
<br />
                  } // found a good string ?<br />
                  <br />
               } // loop over tokens<br />
<br />
            }  // &gt; 4 tokens<br />
<br />
         } // tokenizer OK<br />
<br />
         if (bFoundCXR)<br />
         {<br />
            continue;<br />
         }<br />
      <br />
         break; // switch<br />
      }<br />
<br />
      // done with it<br />
      out.WriteString(line);<br />
      out.WriteString("\n");<br />
<br />
   } while (1);<br />
   outh.WriteString(_T("\n\n#endif"));<br />
   if (iState == eStateWantPassword)<br />
   {<br />
      cerr &lt;&lt; "No password line found in input file\n";<br />
      return false;<br />
   }<br />
<br />
   ASSERT(iState==eStateHavePassword);<br />
<br />
   // add the decoder functions<br />
   AddDecode(csPassword, out);<br />
<br />
   return true;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
void AddEncByte(BYTE c, CString &amp;csOut)<br />
{<br />
  <br />
   char buf[4];<br />
<br />
   BYTE b1 = c &gt;&gt; 4;<br />
   BYTE b2 = c &amp; 0x0f;<br />
<br />
   _snprintf(buf, 3, "%x", b1 + basechar1);<br />
   csOut+="\\x";<br />
   csOut+=buf;<br />
<br />
   _snprintf(buf, 3, "%x", b2 + basechar1);<br />
   csOut+="\\x";<br />
   csOut+=buf;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
CString Encrypt(const CString &amp;csIn, const char *pPass)<br />
{<br />
   CString csOut;<br />
<br />
   // initialize out <br />
   CCXRIntEnc sap((const BYTE*)pPass, strlen(pPass));<br />
<br />
   /* <br />
      start each string with a random char.<br />
      because this is a stream cipher, the ciphertext of a<br />
      string like "ABC" will be the same as the first 3 bytes<br />
      of the ciphertext for "ABCDEFG". <br />
<br />
      by starting with a random value, the cipher will be in a <br />
      different state (255:1) when it starts the real text. the<br />
      decoder will simply discard the first plaintext byte.<br />
   */ <br />
   BYTE seed = rand() % 256;<br />
   BYTE c = sap.ProcessByte((BYTE)(seed));<br />
   AddEncByte(c, csOut);<br />
<br />
   // encrypt and convert to hex string<br />
   for (int i=0; i &lt; csIn.GetLength(); i++)<br />
   {<br />
      char t = csIn.GetAt(i);<br />
      BYTE c = sap.ProcessByte((BYTE)(t));<br />
      AddEncByte(c, csOut);<br />
   }<br />
<br />
   return csOut;<br />
}<br />
<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
CString Decrypt(const char *pIn, const char *pPass)<br />
{<br />
   CString csOut;<br />
<br />
   CCXRIntDec sap((const BYTE *)pPass, strlen(pPass));<br />
<br />
   int iLen = _tcslen(pIn);<br />
<br />
   if (iLen &gt; 2)<br />
   {<br />
      int iBufLen = strlen(pIn);<br />
      if (iBufLen &amp; 0x01)<br />
      {<br />
         cerr &lt;&lt; "Illegal string length in Decrypt\n";<br />
         return pIn;<br />
      }<br />
<br />
      iBufLen/=2;<br />
<br />
      for (int i=0;i&lt;iBufLen;i++)<br />
      {<br />
         int b1 = pIn[i * 2] - basechar1;<br />
         int b2 = pIn[i * 2 + 1] - basechar2;<br />
         int c = (b1 &lt;&lt; 4) | b2;<br />
<br />
         BYTE bc = sap.ProcessByte((BYTE)(c));<br />
<br />
         if (i&gt;0) csOut+=(char)bc;<br />
      }<br />
   }<br />
<br />
   return csOut;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
bool AddDecode(const CString &amp; csPassword, CStdioFile &amp;out)<br />
{<br />
   out.WriteString(_T("\n\n/////////////////////////////////////////////////////////////\n"));<br />
   out.WriteString(_T("// CXR-generated decoder follows\n\n"));<br />
   out.WriteString(_T("#include &lt;algorithm&gt;\n"));<br />
   out.WriteString(_T("const char * __pCXRPassword = \""));  <br />
<br />
   // the password that encrypted the text used the literal text from the file (non-escaped \ chars).<br />
   // we need to make sure that compiler sees the same text when it gets the passowrd. so,<br />
   // we must double any "\" chars, to prevent them from becoming C-style escapes.<br />
   out.WriteString(EscapeCString(csPassword));<br />
<br />
   out.WriteString(_T("\";\n"));<br />
   CString t; <br />
   t.Format("const int __iCXRDecBase1 = %d;\nconst int __iCXRDecBase2 = %d;\n\n", basechar1, basechar2);<br />
   out.WriteString(t);<br />
                            <br />
   // the high-level decoding function<br />
const char *pDec1 = <br />
"CString __CXRDecrypt(const char *pIn)\n"\<br />
"{\n"\<br />
"   CString x;char b[3];b[2]=0;\n"\<br />
"   CXRD sap((const BYTE*)__pCXRPassword, strlen(__pCXRPassword));\n"\<br />
"   int iLen = strlen(pIn);\n"\<br />
"   if (iLen &gt; 2)\n"\<br />
"   {\n"\<br />
"      int ibl=strlen(pIn);\n"\<br />
"      if (ibl&amp;0x01)\n"\<br />
"      {\n"\<br />
"         ASSERT(!\"Illegal string length in Decrypt\");\n"\<br />
"         return pIn;\n"\<br />
"      }\n"\<br />
"      ibl/=2;\n"\<br />
"      for (int i=0;i&lt;ibl;i++)\n"\<br />
"      {\n"\<br />
"         int b1 =pIn[i*2]-__iCXRDecBase1;int b2=pIn[i*2+1]-__iCXRDecBase2;\n"\<br />
"         int c = (b1 &lt;&lt; 4) | b2; char ch =(char)(sap.pb((BYTE)(c)));\n"\<br />
"         if (i&gt;0) x+=ch;\n"\<br />
"      }\n"\<br />
"   }\n"\<br />
"   return x;\n"\<br />
"}\n";<br />
 <br />
   // the stream cipher<br />
   const char *pStr1 =<br />
"class CCXR\n" \<br />
"{\n" \<br />
"protected:\n" \<br />
"   CCXR(const BYTE *key, unsigned int ks)\n" \<br />
"   {\n" \<br />
"      int i;BYTE rs;unsigned kp;\n" \<br />
"      for(i=0;i&lt;256;i++)c[i]=i;kp=0;rs=0;for(i=255;i;i--)std::swap(c[i],c[kr(i,key,ks,&amp;rs,&amp;kp)]);r2=c[1];r1=c[3];av=c[5];lp=c[7];lc=c[rs];rs=0;kp=0;\n" \<br />
"   }\n" \<br />
"	inline void SC(){BYTE st=c[lc];r1+=c[r2++];c[lc]=c[r1];c[r1]=c[lp];c[lp]=c[r2];c[r2]=st;av+=c[st];}\n" \<br />
"	BYTE c[256],r2,r1,av,lp,lc;    \n" \<br />
"\n" \<br />
"   BYTE kr(unsigned int lm, const BYTE *uk, BYTE ks, BYTE *rs, unsigned *kp)\n" \<br />
"   {\n" \<br />
"      unsigned rl=0,mk=1,u;while(mk&lt;lm)mk=(mk&lt;&lt;1)+1;do{*rs=c[*rs]+uk[(*kp)++];if(*kp&gt;=ks){*kp=0;*rs+=ks;}u=mk&amp;*rs;if(++rl&gt;11)u%=lm;}while(u&gt;lm);return u;\n" \<br />
"   }\n" \<br />
"};\n" \<br />
"struct CXRD:CCXR\n" \<br />
"{\n" \<br />
"	CXRD(const BYTE *userKey, unsigned int keyLength=16) : CCXR(userKey, keyLength) {}\n" \<br />
"	inline BYTE pb(BYTE b){SC();lp=b^c[(c[r1]+c[r2])&amp;0xFF]^c[c[(c[lp]+c[lc]+c[av])&amp;0xFF]];lc=b;return lp;}\n" \<br />
"};\n";<br />
<br />
   out.WriteString(pStr1);<br />
   out.WriteString(pDec1);<br />
<br />
   return true;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
CString TranslateCString(const CString &amp;csIn)<br />
{<br />
   // translate C-style string escapes as documented in K&amp;R 2nd, A2.5.2<br />
<br />
   CString csOut;<br />
<br />
   for (int i=0;i&lt;csIn.GetLength(); i++)<br />
   {<br />
      int c = csIn.GetAt(i);<br />
      switch (c)<br />
      {<br />
      default:<br />
         // normal text<br />
         csOut+=static_cast&lt;char&gt;(c);<br />
         break;<br />
         // c-style escape<br />
      case _T('\\'):<br />
         if (i &lt; csIn.GetLength() - 1)<br />
         {<br />
            c = csIn.GetAt(i + 1);<br />
            switch (c)<br />
            {<br />
            case _T('n'):<br />
               csOut+=_T('\n');<br />
               break;<br />
            case _T('t'):<br />
               csOut+=_T('\t');<br />
               break;<br />
            case _T('v'):<br />
               csOut+=_T('\v');<br />
               break;<br />
            case _T('b'):<br />
               csOut+=_T('\b');<br />
               break;<br />
            case _T('r'):<br />
               csOut+=_T('\r');<br />
               break;<br />
            case _T('f'):<br />
               csOut+=_T('\f');<br />
               break;<br />
            case _T('a'):<br />
               csOut+=_T('\a');<br />
               break;<br />
            case _T('\\'):<br />
               csOut+=_T('\\');<br />
               break;<br />
            case _T('?'):<br />
               csOut+=_T('?');<br />
               break;<br />
            case _T('\''):<br />
               csOut+=_T('\'');<br />
               break;<br />
            case _T('\"'):<br />
               csOut+=_T('\"');<br />
               break;<br />
            case _T('0'):<br />
            case _T('1'):<br />
            case _T('2'):<br />
            case _T('3'):<br />
            case _T('4'):<br />
            case _T('5'):<br />
            case _T('6'):<br />
            case _T('7'):<br />
               {<br />
                  // expand octal<br />
                  int iConsumed = 0;<br />
                  if (!ExpandOctal(csIn.Mid(i), csOut, iConsumed))<br />
                  {<br />
                     cerr &lt;&lt; _T("Invalid octal sequence: ") &lt;&lt; _T('\"') &lt;&lt; (LPCTSTR)csIn &lt;&lt; _T('\"') &lt;&lt; endl;<br />
                     csOut = csIn;<br />
                     break;<br />
                  }<br />
<br />
                  i+=iConsumed - 1;<br />
               }<br />
               break;<br />
            case _T('x'):<br />
               { <br />
                  // expand hex<br />
                  int iConsumed = 0;<br />
                  if (!ExpandHex(csIn.Mid(i), csOut, iConsumed))<br />
                  {<br />
                     cerr &lt;&lt; _T("Invalid hex sequence: ") &lt;&lt; _T('\"') &lt;&lt; (LPCTSTR)csIn &lt;&lt; _T('\"') &lt;&lt; endl;<br />
                     csOut = csIn;<br />
                     break;<br />
                  }<br />
<br />
                  i+=iConsumed - 1;<br />
<br />
               }<br />
               break;<br />
            }<br />
<br />
            i++;<br />
            continue;<br />
         }<br />
         else<br />
         {<br />
            cerr &lt;&lt; _T("Invalid escape sequence: ") &lt;&lt; _T('\"') &lt;&lt; (LPCTSTR)csIn &lt;&lt; _T('\"') &lt;&lt; endl;<br />
            csOut = csIn;<br />
            break;<br />
         }<br />
         break;<br />
      }<br />
   }<br />
<br />
   return csOut;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
bool ExpandOctal(const CString &amp;csIn, CString &amp;csOut, int &amp;iConsumed)<br />
{<br />
   // staring with the escape, we need at least one more char<br />
   if (csIn.GetLength() &lt; 2)<br />
   {<br />
      return false;<br />
   }<br />
<br />
   if (csIn.GetAt(0) != _T('\\'))<br />
   {<br />
      return false;<br />
   }<br />
<br />
   int iStart = 1;<br />
   int iCur = iStart;<br />
<br />
   CString digits;<br />
   int c = csIn.GetAt(iCur);<br />
   while ((c &gt;= _T('0')) &amp;&amp; (c &lt;= _T('7')))<br />
   {<br />
      digits+=static_cast&lt;char&gt;(c);<br />
<br />
      // an escape can't hold more that 3 octal digits (K&amp;R 2nd A2.5.2)<br />
      if (iCur == 3)<br />
      {<br />
         break;<br />
      }<br />
         <br />
      iCur++;<br />
      c = csIn.GetAt(iCur);<br />
   }<br />
<br />
   char *end;<br />
   int octval = (char)_tcstol(digits, &amp;end, 8);<br />
<br />
   iConsumed = digits.GetLength();<br />
<br />
   csOut+=static_cast&lt;char&gt;(octval);<br />
<br />
   return true;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
bool ExpandHex(const CString &amp;csIn, CString &amp;csOut, int &amp;iConsumed)<br />
{<br />
   // staring with the escape and the 'x', we need at least one more char<br />
   if (csIn.GetLength() &lt; 3)<br />
   {<br />
      return false;<br />
   }<br />
<br />
   if ((csIn.GetAt(0) != _T('\\')) || (csIn.GetAt(1) != _T('x')))<br />
   {<br />
      return false;<br />
   }<br />
<br />
   int iStart = 2;<br />
   int iCur = iStart;<br />
<br />
   CString digits;<br />
   int c = csIn.GetAt(iCur);<br />
   while (_istxdigit(c))<br />
   {<br />
      digits+=static_cast&lt;char&gt;(c);<br />
<br />
      iCur++;<br />
      c = csIn.GetAt(iCur);<br />
   }<br />
<br />
   char *end;<br />
<br />
   // "There is no limit on the number of digits, but the behavior is undefined<br />
   // if the resulting character value exceeds that of the largest character"<br />
   // (K&amp;R 2nd A2.5.2)<br />
   int hex = (char)_tcstol(digits, &amp;end, 16);<br />
<br />
   iConsumed = digits.GetLength();<br />
<br />
   iConsumed++; // count the "x"<br />
<br />
   csOut+=static_cast&lt;char&gt;(hex);<br />
<br />
   return true;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
<br />
CString EscapeCString(const char *pIn)<br />
{<br />
   CString csOut;<br />
<br />
   int iLen = _tcslen(pIn);<br />
<br />
   for (int i=0;i&lt;iLen;i++)<br />
   {<br />
      csOut+=pIn[i];<br />
      // double all "\" chars<br />
      if (pIn[i] == _T('\\'))<br />
      {<br />
         csOut+=_T('\\');<br />
      }<br />
   }<br />
<br />
   return csOut;<br />
}<br />
<br />
/////////////////////////////////////////////////////////////////<br />
&lt;/code&gt;<br />
<br />
 -- modified at 16:57 Thursday 2nd March, 2006<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1339610" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1339610" name="react-item_1339610" id="MRF1339610" class="reaction-result"></span><span data-objectref="3_1339610" data-votingtype="GoodOrBad" name="RateItem_1339610" id="MVF1339610" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="/Messages/1339610/Thanks-and-improvements" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1391896_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx1391896xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1391896" parent="1339610" thread="1339610" href="/Messages/1391896/Re-Thanks-and-improvements">Re: Thanks, and improvements</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Hokei</span><span class="date">2-Mar-06  9:24</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=2330329">Hokei</a></span></td><td class="date"><span>2-Mar-06  9:24Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1391896_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1339610);" href="/Messages/1339610/Thanks-and-improvements"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>On many lines: 257, 466, 514, 713, ... your code got cut off or something.<br />
<br />
<div class="pre-lang" id="premain596916"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="596916" id="preShrink596916">Shrink â²</span> Â  <span id="copycode596916" class="copy-code" data-index="596916" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre596916" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
 <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i=<span class="code-digit">0</span>;i&lt;br /&gt;</pre><br />
<br />
And on line 437, I think there is something missing after "#include":<br />
<br />
<div class="pre-lang" id="premain187950"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="187950" id="preShrink187950">Shrink â²</span> Â  <span id="copycode187950" class="copy-code" data-index="187950" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre187950" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">&lt;br /&gt;
<span class="code-keyword">out</span>.WriteString(_T(<span class="code-string">"</span><span class="code-string">#include \n"</span>));&lt;br /&gt;</pre><br />
<br />
 -- modified at 15:31 Thursday 2nd March, 2006<br />
<br />
Update: Oh and also your static_cast statements lost their bracketed data type. I can guess what you meant though. You probably meant to cast the <code>int</code> to a <code>TCHAR</code>, right?<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1339610" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1391896" name="react-item_1391896" id="MRF1391896" class="reaction-result"></span><span data-objectref="3_1391896" data-votingtype="GoodOrBad" name="RateItem_1391896" id="MVF1391896" class="rating-result"></span><a href="/Messages/1391896/Re-Thanks-and-improvements" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1392014_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="56px" class="indent"><a name="xx1392014xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1392014" parent="1391896" thread="1339610" href="/Messages/1392014/Re-Thanks-and-improvements">Re: Thanks, and improvements</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Boniolopez</span><span class="date">2-Mar-06  10:56</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=1031262">Boniolopez</a></span></td><td class="date"><span>2-Mar-06  10:56Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1392014_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:56px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1391896);" href="/Messages/1391896/Re-Thanks-and-improvements"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>Hi,<br />
Thanks for the tip.<br />
all bracketed stuff went away<img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" />  I updated the code.Now it seems to be ok.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1339610" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1392014" name="react-item_1392014" id="MRF1392014" class="reaction-result"></span><span data-objectref="3_1392014" data-votingtype="GoodOrBad" name="RateItem_1392014" id="MVF1392014" class="rating-result"></span><a href="/Messages/1392014/Re-Thanks-and-improvements" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1101560_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1101560xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1101560" parent="0" thread="1101560" href="/Messages/1101560/CXR-for-Linux">CXR for Linux</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">John McGehee</span><span class="date">6-May-05  20:25</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=1445620">John McGehee</a></span></td><td class="date"><span>6-May-05  20:25Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1101560_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Thank you for the excellent tool.<br />
<br />
We have CXR running in Visual C++ using MFC, but we ordinarily develop and build on Linux.<br />
<br />
Does anyone have experience or suggestions on the best approach to get CXR to compile and run on Linux without MFC?<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1101560" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1101560" name="react-item_1101560" id="MRF1101560" class="reaction-result"></span><span data-objectref="3_1101560" data-votingtype="GoodOrBad" name="RateItem_1101560" id="MVF1101560" class="rating-result"></span><a href="/Messages/1101560/CXR-for-Linux" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1408358_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx1408358xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1408358" parent="1101560" thread="1101560" href="/Messages/1408358/Re-CXR-for-Linux">Re: CXR for Linux</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Hokei</span><span class="date">14-Mar-06  20:45</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=2330329">Hokei</a></span></td><td class="date"><span>14-Mar-06  20:45Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1408358_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1101560);" href="/Messages/1101560/CXR-for-Linux"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>Yes. I made a comment post above -- in it I posted code that references STL classes in place of MFC. So now it's not dependent on any MFC code. It's still not 100% ready to compile under Linux, but it will probably require very little changing to make it work now.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1101560" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1408358" name="react-item_1408358" id="MRF1408358" class="reaction-result"></span><span data-objectref="3_1408358" data-votingtype="GoodOrBad" name="RateItem_1408358" id="MVF1408358" class="rating-result"></span><a href="/Messages/1408358/Re-CXR-for-Linux" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F3331106_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="56px" class="indent"><a name="xx3331106xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="3331106" parent="1408358" thread="1101560" href="/Messages/3331106/Re-CXR-for-Linux">Re: CXR for Linux</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">paleozogt</span><span class="date">13-Jan-10  5:59</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=6850367">paleozogt</a></span></td><td class="date"><span>13-Jan-10  5:59Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F3331106_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:56px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1408358);" href="/Messages/1408358/Re-CXR-for-Linux"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>fyi, I've posted a cross-platform branch of CXR on Google Code <a href="http://code.google.com/p/cxr/" rel="nofollow noopener">here</a>.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1101560" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_3331106" name="react-item_3331106" id="MRF3331106" class="reaction-result"></span><span data-objectref="3_3331106" data-votingtype="GoodOrBad" name="RateItem_3331106" id="MVF3331106" class="rating-result"></span><a href="/Messages/3331106/Re-CXR-for-Linux" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1081204_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1081204xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1081204" parent="0" thread="1081204" href="/Messages/1081204/cool">cool</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Proxy4NT</span><span class="date">12-Apr-05  2:09</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=864121">Proxy4NT</a></span></td><td class="date"><span>12-Apr-05  2:09Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1081204_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">you got a 5 from me<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1081204" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1081204" name="react-item_1081204" id="MRF1081204" class="reaction-result"></span><span data-objectref="3_1081204" data-votingtype="GoodOrBad" name="RateItem_1081204" id="MVF1081204" class="rating-result"></span><a href="/Messages/1081204/cool" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062192_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1062192xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1062192" parent="0" thread="1062192" href="/Messages/1062192/You-can-do-very-basic-xor-encryption-with-the-prep">You can do (very) basic xor encryption with the preprocessors</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">MB_OK</span><span class="date">17-Mar-05  20:39</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=4585">MB_OK</a></span></td><td class="date"><span>17-Mar-05  20:39Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062192_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Here's a proof of concept.<br />
This will "encrypt" (scramble, rather) the strings at compile time and decrypt at runtime. <br />
<br />
<div class="pre-lang" id="premain77871"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="77871" id="preShrink77871">Shrink â²</span> Â  <span id="copycode77871" class="copy-code" data-index="77871" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre77871" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate"><span class="code-preprocessor">#ifndef SCRAMBLEH&lt;br /&gt;
</span><span class="code-preprocessor">#define SCRAMBLEH&lt;br /&gt;
</span>&lt;br /&gt;
<span class="code-comment">/*</span><span class="code-comment">*&lt;br /&gt;
 * Here's an example of use&lt;br /&gt;
 *&lt;br /&gt;
 * in the foo.H:&lt;br /&gt;
 *&lt;br /&gt;
 *       STRING_DECL(secrectString);&lt;br /&gt;
 *       #define secrectString STRING_UNSCRAMBLE(secrectString)&lt;br /&gt;
 *&lt;br /&gt;
 * and in the foo.cpp:&lt;br /&gt;
 *		 STRING_DEF(secrectString, ('v', 'e', 'r', 'y', 's', 'e', 'c', 'r', 'e', 't', '\0', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0))&lt;br /&gt;
 *&lt;br /&gt;
 * NOTE NOTE: The string must be 32 characters long. The unused part can be filled&lt;br /&gt;
 * with anything (I used 0.)&lt;br /&gt;
 *&lt;br /&gt;
 * This will define strings whose contents are&lt;br /&gt;
 * scrambled (a lame xor-encryption) and checksummed.&lt;br /&gt;
 *&lt;br /&gt;
 * When you do use the strings in your application, the &lt;br /&gt;
 * strings will be decrypted and checksummed at run-time.&lt;br /&gt;
 * If the checksum does not match, we will call exit(0) straight (gross, I know,&lt;br /&gt;
 * but then again, if someone tampers the executable...).&lt;br /&gt;
 *&lt;br /&gt;
 * This should make it somewhat harder to find the strings from the binary and&lt;br /&gt;
 * alter them. But only somewhat. Any competent hacker *will* find the strings.&lt;br /&gt;
 *&lt;br /&gt;
 * The string must be 32 characters long, and macro takes 32 arguments.&lt;br /&gt;
 * This is because I couldn't device a macro that would cleanly take&lt;br /&gt;
 * any string and yet encrypt it compile time WITHOUT LEAVING THE &lt;br /&gt;
 * CLEAR TEXT STRING LITERAL IN THE BINARY. If you know how to do this,&lt;br /&gt;
 * drop me a note...&lt;br /&gt;
 *&lt;br /&gt;
*/</span>&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define STRING_SCRAMBLE(s00, s01, s02, s03, s04, s05, s06, s07, s08, s09, \&lt;br /&gt;
</span>						s10, s11, s12, s13, s14, s15, s16, s17, s18, s19, \&lt;br /&gt;
						s20, s21, s22, s23, s24, s25, s26, s27, s28, s29, \&lt;br /&gt;
						s30, s31)                                         \&lt;br /&gt;
	{						\&lt;br /&gt;
		<span class="code-keyword">char</span>(s00 ^ <span class="code-digit">0xa3</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s01 ^ <span class="code-digit">0x54</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s02 ^ <span class="code-digit">0xff</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s03 ^ <span class="code-digit">0x75</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s04 ^ <span class="code-digit">0xe7</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s05 ^ <span class="code-digit">0x44</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s06 ^ <span class="code-digit">0x4b</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s07 ^ <span class="code-digit">0x23</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s08 ^ <span class="code-digit">0xbf</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s09 ^ <span class="code-digit">0x45</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s10 ^ <span class="code-digit">0x3b</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s11 ^ <span class="code-digit">0x56</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s12 ^ <span class="code-digit">0xf8</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s13 ^ <span class="code-digit">0x98</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s14 ^ <span class="code-digit">0x5b</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s15 ^ <span class="code-digit">0xf4</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s16 ^ <span class="code-digit">0xb5</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s17 ^ <span class="code-digit">0x87</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s18 ^ <span class="code-digit">0x7b</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s19 ^ <span class="code-digit">0x0f</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s20 ^ <span class="code-digit">0xf4</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s21 ^ <span class="code-digit">0x76</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s22 ^ <span class="code-digit">0xb9</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s23 ^ <span class="code-digit">0x34</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s24 ^ <span class="code-digit">0xbf</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s25 ^ <span class="code-digit">0x1e</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s26 ^ <span class="code-digit">0xe7</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s27 ^ <span class="code-digit">0x78</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s28 ^ <span class="code-digit">0x98</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s29 ^ <span class="code-digit">0xe9</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s30 ^ <span class="code-digit">0x6f</span>),	\&lt;br /&gt;
		<span class="code-keyword">char</span>(s31 ^ <span class="code-digit">0xb4</span>),	\&lt;br /&gt;
		<span class="code-string">'</span><span class="code-string">\0'</span>			 	\&lt;br /&gt;
	}	&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define LICENSE_STRING_CHECKSUM(s) \&lt;br /&gt;
</span>		(s[ 0] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[ 1] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[ 2] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[ 3] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[ 4] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[ 5] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[ 6] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[ 7] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[ 8] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[ 9] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[10] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[11] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[12] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[13] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[14] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[15] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[16] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[17] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[18] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[19] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[20] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[21] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[22] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[23] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[24] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[25] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[26] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[27] &lt;&lt; <span class="code-digit">24</span>) ^	\&lt;br /&gt;
		(s[28] &lt;&lt; <span class="code-digit">0</span>)  ^	\&lt;br /&gt;
		(s[29] &lt;&lt; <span class="code-digit">8</span>)  ^	\&lt;br /&gt;
		(s[30] &lt;&lt; <span class="code-digit">16</span>) ^	\&lt;br /&gt;
		(s[31] &lt;&lt; <span class="code-digit">24</span>)&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-keyword">extern</span> <span class="code-string">"</span><span class="code-string">C"</span> <span class="code-keyword">void</span>   __cdecl exit(<span class="code-keyword">int</span>);&lt;br /&gt;
&lt;br /&gt;
inline char* __STRING_UNSCRAMBLE(<span class="code-keyword">const</span> <span class="code-keyword">char</span> s[], <span class="code-keyword">char</span> clear[32], &lt;br /&gt;
							   unsigned compileTimeChksum) &lt;br /&gt;
{ &lt;br /&gt;
	unsigned curChksum = STRING_CHECKSUM(s);&lt;br /&gt;
	&lt;br /&gt;
	<span class="code-keyword">if</span> (compileTimeChksum != curChksum) &lt;br /&gt;
		exit(<span class="code-digit">0</span>);&lt;br /&gt;
&lt;br /&gt;
	<span class="code-keyword">char</span> temp[] =&lt;br /&gt;
		STRING_SCRAMBLE(s[0],  s[1],  s[2],  s[3],  s[4],  s[5],  s[6],  s[7],  s[8],  s[9], &lt;br /&gt;
					    s[10], s[11], s[12], s[13], s[14], s[15], s[16], s[17], s[18], s[19], &lt;br /&gt;
						s[20], s[21], s[22], s[23], s[24], s[25], s[26], s[27], s[28], s[29],&lt;br /&gt;
						s[30], s[31]);&lt;br /&gt;
&lt;br /&gt;
	<span class="code-keyword">for</span> (unsigned i = <span class="code-digit">0</span>; i &lt; <span class="code-digit">32</span>; i++)&lt;br /&gt;
		clear[i] = temp[i];&lt;br /&gt;
	&lt;br /&gt;
	<span class="code-keyword">return</span> (char*)clear; &lt;br /&gt;
};&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define STRING_DECL(NAME)                   \&lt;br /&gt;
</span>	<span class="code-keyword">extern</span> <span class="code-keyword">const</span> <span class="code-keyword">char</span> NAME ## _Scrambled[]; \&lt;br /&gt;
	<span class="code-keyword">extern</span>       <span class="code-keyword">char</span> NAME ## _Clear[32];   \&lt;br /&gt;
	<span class="code-keyword">extern</span> <span class="code-keyword">const</span> unsigned NAME ## _CheckSum;&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define STRING_UNSCRAMBLE(NAME) \&lt;br /&gt;
</span>	__STRING_UNSCRAMBLE(NAME ## _Scrambled, NAME ## _Clear, NAME ## _CheckSum)&lt;br /&gt;
&lt;br /&gt;
<span class="code-preprocessor">#define STRING_DEF(NAME, VALUE)                                                \&lt;br /&gt;
</span>	<span class="code-keyword">const</span> <span class="code-keyword">char</span>     NAME ## _Scrambled[] = STRING_SCRAMBLE VALUE;               \&lt;br /&gt;
	<span class="code-keyword">char</span>           NAME ## _Clear[32];                                         \&lt;br /&gt;
	<span class="code-keyword">const</span> unsigned NAME ## _CheckSum =    STRING_CHECKSUM(NAME ## _Scrambled);&lt;br /&gt;
&lt;br /&gt;
	&lt;br /&gt;
<span class="code-preprocessor">#endif</span></pre><br />
<br />
(Obviously, change the encryption key...)<br />
<br />
Downside: hardcoded 32-character length for strings (could perhaps be expanded), and all the downsides CXR has. Benefits: does not require extra build step.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1062192" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1062192" name="react-item_1062192" id="MRF1062192" class="reaction-result"></span><span data-objectref="3_1062192" data-votingtype="GoodOrBad" name="RateItem_1062192" id="MVF1062192" class="rating-result"><span>3.50/5 (3 votes)</span></span><a href="/Messages/1062192/You-can-do-very-basic-xor-encryption-with-the-prep" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062205_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx1062205xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="1062205" parent="1062192" thread="1062192" href="/Messages/1062205/Re-You-can-do-very-basic-xor-encryption-with-the-p">Re: You can do (very) basic xor encryption with the preprocessors</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">MB_OK</span><span class="date">17-Mar-05  20:58</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=4585">MB_OK</a></span></td><td class="date"><span>17-Mar-05  20:58Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062205_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1062192);" href="/Messages/1062192/You-can-do-very-basic-xor-encryption-with-the-prep"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div>This could be probably expanded into something more general using the for example the template capabilities of the C++ preprocessor. And I hear even the C preprocessor is Turing complete... <img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" /> <br />
<br />
So, who makes the most elegant solution? <img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" />  <br />
<br />
Bonus point for arbitrary length strings (not hard-coded to 32 chars), unicode support, <br />
public key encryption (no secret key in the binary), compression... <img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" /><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1062192" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1062205" name="react-item_1062205" id="MRF1062205" class="reaction-result"></span><span data-objectref="3_1062205" data-votingtype="GoodOrBad" name="RateItem_1062205" id="MVF1062205" class="rating-result"><span>2.00/5 (1 vote)</span></span><a href="/Messages/1062205/Re-You-can-do-very-basic-xor-encryption-with-the-p" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1061990_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx1061990xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" alt="Question" title="Question" /></td><td class="subject hover-container"><a class="message-link" name="1061990" parent="0" thread="1061990" href="/Messages/1061990/Doesnt-work-with-at-the-end">Doesn't work with \ at the end?</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">mjimenez</span><span class="date">17-Mar-05  13:01</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=36688">mjimenez</a></span></td><td class="date"><span>17-Mar-05  13:01Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1061990_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Chris:<br />
<br />
First of all thanks for sharing your code.<br />
<br />
When I try to crypt the string "\\LocalMachine\\SOFTWARE\\Classes\\CLSID\\{8F99C758-2F07-495d-8533-D1F2C4522108}\\" it just doesn't work. <br />
<br />
I took out the final \\ and presto!<br />
<br />
Is this a bug or a feature? <img src="https://www.codeproject.com/script/Forums/Images/smiley_smile.gif" align="top" alt="Smile | :)" /> <br />
<br />
Sheers<br />
 <br />
<br />
Martin Jimenez<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1061990" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1061990" name="react-item_1061990" id="MRF1061990" class="reaction-result"></span><span data-objectref="3_1061990" data-votingtype="GoodOrBad" name="RateItem_1061990" id="MVF1061990" class="rating-result"></span><a href="/Messages/1061990/Doesnt-work-with-at-the-end" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062052_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx1062052xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_answer.gif" alt="Answer" title="Answer" /></td><td class="subject hover-container"><a class="message-link" name="1062052" parent="1061990" thread="1061990" href="/Messages/1062052/Re-Doesnt-work-with-at-the-end">Re: Doesn't work with \ at the end?</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">C<sup>hris</sup> L<sup>osinger</sup></span><span class="date">17-Mar-05  14:59</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=42">C<sup>hris</sup> L<sup>osinger</sup></a></span></td><td class="date"><span>17-Mar-05  14:59Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F1062052_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,1061990);" href="/Messages/1061990/Doesnt-work-with-at-the-end"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div><small><b>mjimenez wrote:</b></small><br />
<i>Is this a bug or a feature?</i><br />
<br />
bug<br />
<br />
easy enough to fix, though.<br />
<br />
in CTokenizer::GetToken, in the switch statement in the middle, make the following change:<br />
<br />
<div class="pre-lang" id="premain827045"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="827045" id="preShrink827045">Shrink â²</span> Â  <span id="copycode827045" class="copy-code" data-index="827045" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre827045" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate"><span class="code-keyword">switch</span> (*(pInput + i + <span class="code-digit">1</span>))
{
   <span class="code-comment">//</span><span class="code-comment"> if we see \" in a quoted string, don't treat it as a string end!</span>
   <span class="code-keyword">case</span> _T(<span class="code-string">'</span><span class="code-string">"'</span>):
      out+= _T(<span class="code-string">"</span><span class="code-string">\\\""</span>); <span class="code-comment">//</span><span class="code-comment"> output the slash and the quote</span>
      i++; <span class="code-comment">//</span><span class="code-comment"> skip the quote in the string</span>
      <span class="code-keyword">continue</span>;
      <span class="code-keyword">break</span>;
               
   <span class="code-keyword">default</span>:
---&gt;  <span class="code-comment">//</span><span class="code-comment"> copy \ char</span>
---&gt;  out+=c;
---&gt;  <span class="code-comment">//</span><span class="code-comment"> copy escaped character</span>
---&gt;  out+=*(pInput + i + <span class="code-digit">1</span>);
---&gt;  <span class="code-comment">//</span><span class="code-comment"> skip escaped character</span>
---&gt;  i++;
      <span class="code-keyword">continue</span>;
      <span class="code-keyword">break</span>;
}</pre> <br />
<br />
<font size="1"><br />
<a href="http://www.smalleranimals.com/isource.htm" rel="nofollow noopener">Image Toolkits</a> | <a href="http://www.smalleranimals.com/thumb.htm" rel="nofollow noopener">Image Processing</a> | <a href="http://cleek.blogspot.com" rel="nofollow noopener">Cleek</a></font><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=1061990" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_1062052" name="react-item_1062052" id="MRF1062052" class="reaction-result"></span><span data-objectref="3_1062052" data-votingtype="GoodOrBad" name="RateItem_1062052" id="MVF1062052" class="rating-result"></span><a href="/Messages/1062052/Re-Doesnt-work-with-at-the-end" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F301917_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx301917xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="301917" parent="0" thread="301917" href="/Messages/301917/Suggestion-for-obfuscated-strings">Suggestion for obfuscated strings</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Michael Dunn</span><span class="date">5-Oct-02  18:30</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-sitebuilder-16.gif" title="Site Builder" alt="sitebuilder" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=152">Michael Dunn</a></span></td><td class="date"><span>5-Oct-02  18:30Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F301917_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I see now that the strings contain characters above 0x7F.  To be safe, I'd suggest generating \x escapes, instead of putting the characters directly in the CPP file.  For example instead of <code>"|||"</code>, generate <code>"\x8a\x8f\x86"</code>. <br />
<br />
--Mike--<br />
<small>Just released - <a href="http://makeashorterlink.com/?L205126E1" target="_blank" rel="nofollow noopener"><u>1ClickPicGrabber</u></a> - Grab &amp; organize pictures from your favorite web pages, <b>with 1 click!</b><br />
<a href="http://home.inreach.com/mdunn/" rel="nofollow noopener">My really out-of-date homepage</a><br />
Sonork-100.19012 Acid_Helm</small><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=301917" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_301917" name="react-item_301917" id="MRF301917" class="reaction-result"></span><span data-objectref="3_301917" data-votingtype="GoodOrBad" name="RateItem_301917" id="MVF301917" class="rating-result"></span><a href="/Messages/301917/Suggestion-for-obfuscated-strings" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F302275_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx302275xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="302275" parent="301917" thread="301917" href="/Messages/302275/Re-Suggestion-for-obfuscated-strings">Re: Suggestion for obfuscated strings</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://codeproject.freetls.fastly.net/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">C<sup>hris</sup> L<sup>osinger</sup></span><span class="date">6-Oct-02  12:23</span>
</div></td><td class="icon"><img border="0" src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=42">C<sup>hris</sup> L<sup>osinger</sup></a></span></td><td class="date"><span>6-Oct-02  12:23Â </span></td>
</tr>
</tbody></table></td>
</tr><tr id="F302275_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,301917);" href="/Messages/301917/Suggestion-for-obfuscated-strings"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0" /></a></div><small><b>Michael Dunn wrote:</b></small><br />
<i>To be safe</i><br />
<br />
how does that make it any more safe?<br />
<br />
-c <br />
<br />
<hr /><font size="-2">No matter how fast light travels it finds the darkness has always got there first, and is waiting for it.<br />
-- Terry Pratchett,<br />
</font><div align="right"><font size="0"><a href="http://www.smalleranimals.com/etch/etch.htm" rel="nofollow noopener">Etch-a-sketch!</a></font></div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro" rel="nofollow noopener">Sign In</a>Â·<wbr /><a href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=301917" title="ViewÂ Thread" rel="nofollow noopener">ViewÂ Thread</a></td><td style="text-align:right;"><span data-objectref="3_302275" name="react-item_302275" id="MRF302275" class="reaction-result"></span><span data-objectref="3_302275" data-votingtype="GoodOrBad" name="RateItem_302275" id="MVF302275" class="rating-result"></span><a href="/Messages/302275/Re-Suggestion-for-obfuscated-strings" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>Â </td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="footer">
<td><span class="last-visit desktop-only tablet-only">Last Visit: 31-Dec-99  18:00 Â  Â  Last Update: 30-Jun-22  23:36</span></td><td><a rel="nofollow" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26" /><span class="nav-link selected">1</span><a class="nav-link" name="Frm_HoverNL" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26#xx0xx">2</a><a class="nav-link" name="Frm_HoverNL" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=51#xx0xx">3</a> <a class="nav-link" name="Frm_HoverNL" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?fid=4517&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26#xx0xx">Next á</a></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table>
</div><p class="small-text"><img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" width="16px" height="16px" alt="General" /> General Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_news.gif" width="16px" height="16px" alt="News" /> News Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_idea.gif" width="16px" height="16px" alt="Suggestion" /> Suggestion Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" width="16px" height="16px" alt="Question" /> Question Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_bug.gif" width="16px" height="16px" alt="Bug" /> Bug Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_answer.gif" width="16px" height="16px" alt="Answer" /> Answer Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_joke.gif" width="16px" height="16px" alt="Joke" /> Joke Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_kudos.gif" width="16px" height="16px" alt="Praise" /> Praise Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_rant.gif" width="16px" height="16px" alt="Rant" /> Rant Â Â  <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_admin.gif" width="16px" height="16px" alt="Admin" /> Admin Â Â  </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>
				

			</div>
			

            
            <div id="ctl00_RightSideBar" class="article-right-sidebar">

				

                <div id="ctl00_RHSticky" class="container-article-info-sticky padded-top sticky">

					<div class="padded-top" style="height:250px;width:300px">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="senseai" data-country="US" data-tags="C++, Windows, Visual-Studio, Dev, Advanced,rating4.5"><noscript>&lt;a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/senseai&amp;sz=300x250&amp;c=115591"&gt;&lt;img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/senseai&amp;sz=300x250&amp;c=115591"  width="300px" height="250px" target="_blank"/&gt;&lt;/a&gt;</noscript><div id="div-gpt-ad-lqm.codeproject.site/senseai-3" data-google-query-id="CM2Pivax1_gCFQoilgodUU4BwA" style="height: 0px; width: 0px; box-sizing: border-box; border: 0px; font-size: 0px; display: none;"><div id="google_ads_iframe_/6839/lqm.codeproject.site/senseai_0__container__" style="border: 0pt none; width: 300px; height: 0px;"></div></div></div>
					</div>

        		    

<div class="article-summary">

    
    

</div>

				    

                    

				    

				    

					<div class="padded-top" style="height:250px;width:300px">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesCplusplus" data-country="US" data-loadonview="true" data-tags="C++, Windows, Visual-Studio, Dev, Advanced,rating4.5"><noscript>&lt;a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=300x250&amp;c=115591"&gt;&lt;img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesCplusplus&amp;sz=300x250&amp;c=115591"  width="300px" height="250px" target="_blank"/&gt;&lt;/a&gt;</noscript><div id="div-gpt-ad-lqm.codeproject.site/Programming-LanguagesCplusplus-4" data-google-query-id="CN-Pjvax1_gCFchzlgod9NoMPA" style="height: 250px; width: 300px; box-sizing: border-box; border: 0px; font-size: 0px;"><div id="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_1__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_1" name="google_ads_iframe_/6839/lqm.codeproject.site/Programming-LanguagesCplusplus_1" title="3rd party ad content" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" role="region" aria-label="Advertisement" tabindex="0" srcdoc="" data-google-container-id="3" style="border: 0px; vertical-align: bottom;" data-load-complete="true"></iframe></div></div></div>
					</div>

                    <div class="anchorLink gototop" id="gototop">
                        <a id="ctl00_GoToTop" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro#_articleTop">Go to top</a>
                    </div>

			    </div>
            </div>
            

        </div>
        

		
		<div class="site-footer">
			<div class="align-left">
				<a id="ctl00_PermaLink" href="/Articles/2724/Literal-String-Encryption-as-Part-of-the-Build-Pro">Permalink</a><br />
				<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a><br />
				<a id="ctl00_PrivacyLink" href="/info/privacy.aspx">Privacy</a><br />
    			<a id="ctl00_CookiePolicyLink" href="/info/cookie.aspx">Cookies</a><br />
                <a id="ctl00_TermsOfUseLink" href="/info/TermsOfUse.aspx">Terms of Use</a><br />
			</div>

            <div class="align-center">
				


<div class="page-width">
    Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?PageFlow=FixedWidth">fixed</a>
    |
    <a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="/Articles/2724/Literal-string-encryption-as-part-of-the-build-pro?PageFlow=Fluid">fluid</a>
</div>


				

				

	            

                <br />
			</div>
                
			<div class="align-right">
				Article Copyright 2002 by C<sup>hris</sup> L<sup>osinger</sup><br />Everything else
				Copyright Â© <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2022 <br />
                <br />
				Web02 
				2.8.2022.06.24.1<br />
			</div>
		</div>
		

		<br clear="all" />
		
			

	</div> 
	</div> 
</div>



<img id="ctl00_Audience" src="https://pubads.g.doubleclick.net/activity;dc_iu=/6839/DFPAudiencePixel;ord='637922505838178711';dc_seg=33705250?" style="border-width:0px;height:1px;width:1px;" />



<script type="text/javascript"> // IMMEDIATE script

function Join() {
                                     document.location.href = 'https://www.codeproject.com/script/Membership/Modify.aspx';
                                     return false;
                                  }

var rkcdlputvw = function(n){var t=!1;n=n||{};var r=n.RetrievalServiceUrl||"/script/content/webservices/RetrieveContent.aspx/GetContent",u=n.RetrievalServiceRetries||3,f=n.RetrievalServiceTimeout||5e3,e=function(){t||(t=!0,$(window).on("resize scroll",i),i())},i=function(){if(typeof DMAds=="undefined"){var n=$('[data-type="ad"]');n.each(function(){var n=$(this),u=n.attr("data-format")||"",f=n.attr("data-publisher")||"",e=n.attr("data-zone")||"",t=n.attr("data-loadonview"),i=n.attr("data-noadx"),h=n.attr("data-tags")||"",c=n.find("iframe").length!==0||n.find("img").length!==0,r=n.attr("data-processed");t=typeof t=="string"&amp;&amp;t.toLowerCase()==="true";i=typeof i=="string"&amp;&amp;i.toLowerCase()==="true";r=typeof r=="string"&amp;&amp;r.toLowerCase()==="true";r||c||t&amp;&amp;!s(this)||(o(n,u,f,e,i,h),n.attr("data-processed","true"))})}},o=function(n,t,i,e,o,s){var h=new $.Deferred,c=JSON.stringify({format:t,publisherCode:i,zone:e,noAdX:o,keywords:s});$.ajax({url:r,cache:!1,type:"POST",data:c,contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:u,timeout:f}).done(function(t){var i=t?t.d:null;h.resolve(i); i &amp;&amp; i.html &amp;&amp; n.html(i.html)}).fail(function(n,t){h.reject(t)})},s=function(n){var t,f,e,o;if(!h(n))return!1;var u=!1,i=0,r=0;try{t=n.getBoundingClientRect();typeof innerWidth=="number"?(i=window.innerWidth,r=window.innerHeight):document.documentElement&amp;&amp;(document.documentElement.clientWidth||document.documentElement.clientHeight)?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&amp;&amp;(document.body.clientWidth||document.body.clientHeight)&amp;&amp;(i=document.body.clientWidth,r=document.body.clientHeight);f=-200;t.top===t.bottom&amp;&amp;(f+=n.height*-1);e=t.top&gt;=0&amp;&amp;t.top-200&lt;=r||t.top&lt;=0&amp;&amp;t.top&gt;=f;o=i&gt;t.left&amp;&amp;t.right&gt;=0;u=e&amp;&amp;o}catch(s){u=!0}return u},h=function(n){var t=!1,i;return n&amp;&amp;n.style.position!=="fixed"&amp;&amp;n.offsetParent?t=!0:n&amp;&amp;n.style.position==="fixed"&amp;&amp;(i=window.getComputedStyle(n),t=i&amp;&amp;i.display!=="none"),t&amp;&amp;c()},c=function(){var t=!0,n="";return typeof document.hidden!="undefined"?n="hidden":typeof document.mozHidden!="undefined"?n="mozHidden":typeof document.msHidden!="undefined"?n="msHidden":typeof document.webkitHidden!="undefined"&amp;&amp;(n="webkitHidden"),n!==null&amp;&amp;document[n]&amp;&amp;(t=!1),t};return{init:e}};
document.addEventListener('DOMContentLoaded', function() {
var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),t;n.onreadystatechange=function(){try{if(n.readyState==4)if(n.status==200){var t=document.createElement("script");t.type="text/javascript";t.innerHTML=n.responseText;document.getElementsByTagName("body")[0].appendChild(t)}else(new rkcdlputvw).init()}catch(i){(new rkcdlputvw).init()}};try{t='/a.min.js?v=1.3';n.open("GET",t,!0);n.send()}catch(i){(new rkcdlputvw).init()}

  $('div[data-type="ad"][data-showindicator="true"]').before('&lt;div class="small-text muted hidden"&gt;Advertisement&lt;/div&gt;');
  setTimeout(function(){ 
    $('div[data-type="ad"][data-showindicator="true"]').each(function( index ) {
      if ($(this).height() &gt; 0) {
       $(this).prev().removeClass('hidden');
      }
    });
  }, 2000);

});

var ratingCtrl_ctl00_RateArticle;

var forumConfig_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard_forumMsgFlag;
var forumCtrl_ctl00_MessageBoard_rating;
var forumCtrl_ctl00_MessageBoard_ratingConfig;
var forumCtrl_ctl00_MessageBoard_reaction;
var forumCtrl_ctl00_MessageBoard__reactionConfig;

var subscriptionConfig_ctl00_MessageBoard = {
 ParentId      : 'ctl00_MessageBoard_SubscribeDiv',
 NewId         : 'ctl00_MessageBoard_SubscribeNew',
 ReplyId       : 'ctl00_MessageBoard_SubscribeReplies',
 InstantId     : 'ctl00_MessageBoard_SubscribeInstant',
 DailyId       : 'ctl00_MessageBoard_SubscribeDaily',
 MessageTypeId : 'ctl00_MessageBoard_MessageType',
 GetInfoUrl    : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/GetSubscriptions',
 UpdateInfoUrl : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/UpdateSubscription',
 ForumId       : 4517,
};
var subscriptions_ctl00_MessageBoard;

var puumfhp = false;
var DMReportsOK = null;
function showDMAlert() { 
  var $div = $('div.msg-728x90');
  $div.append($('&lt;img src="/images/alert-top-block.gif" style="right:0;position:absolute;z-index:0"&gt;'));
}
function onDMcallBack(event)
{
   if (event.originalEvent) event = event.originalEvent;
   jQuery.support.cors = true;
   if (event.data === 'DM-disabled') DMReportsOK = false;
   else if (event.data=='DM-enabled') DMReportsOK = true;
   else if (typeof event.data == 'object' &amp;&amp; event.data.sender &amp;&amp;             event.data.sender == 'DeveloperMedia' &amp;&amp; event.data.application=='apps' &amp;&amp;
            event.data.action == 'reportEnabled') {
            DMReportsOK = event.data.data.enabled;
   }
   srqixpqoed = !DMReportsOK;
}
function checkLoaded() { 
 var showBlockMsg = false;
 var block        = 'None';
 if (block === 'None' &amp;&amp; typeof DMAds === 'undefined')
     block = 'ResourceBlocked';
 if (block === 'None' &amp;&amp; !document.getElementById('adbp-tester'))     block = 'ResourceBlocked';
 if (block === 'None' &amp;&amp; DMReportsOK === false)     block = 'DomModified';
 srqixpqoed = block != 'None';
 if (puumfhp) {
  $.ajax({ url:'/script/Content/Ajax/VS.aspx',    data:{'cadm':block},     cache:false, async:true });
};
 if (showBlockMsg &amp;&amp; block != 'None')
    showDMAlert();
}
</script>

<script type="text/javascript"> // DEFERRED script

document.addEventListener('DOMContentLoaded', function() {

	new CodeBlocks().initialise('#contentdiv');
	
	$('.author-wrapper .description').shorten({showChars: 400});
	
	anchorAnimate();
	
	$('#__EVENTVALIDATION').attr('autocomplete', 'off');
	
	$('#joinBtn').css('visibility', 'visible');
	
	$('.oauth').click(function () {
	    $this = $(this);
	    href = $this.attr('href');
	    var myWindow = window.open(href, 'popup',
	                              'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
	    myWindow.focus();
	    var timer = setInterval(function () {
	        if (myWindow.closed) {
	            clearInterval(timer);
	            // window.location.reload(); // May do a POST reload, shows a warning
	            window.location = window.location; // force a GET reload
	        }
	    }, 200);
	    return false;
	});
	
	var oSrchFlt = false, oSrchBox=false, srchBoxFoc=false;
	var sbar     = $('#sb_tb');
	var sfilter  = $('#SearchFilter');
	
	if (typeof(InitWatermark) !== 'undefined')
	  InitWatermark('sb_tb', 'Search for articles, questions, tips');
	if (sbar &amp;&amp; sfilter) {
	  sfilter.removeClass('popup'); sfilter.hide(); sfilter.removeClass('open');
	  sbar.blur(function() {
	    if (!oSrchFlt) { sfilter.hide(); sfilter.removeClass('open'); }
	    srchBoxFoc = false;
	  });
	  sbar.focus(function() {
	    oSrchFlt   = false;
	    srchBoxFoc = true;
	    sfilter.show();
	    sfilter.addClass('open');
	  });
	  sbar.mouseleave(function()    { oSrchBox = false; });
	  sbar.mouseover(function()     { oSrchBox = true; });
	  sfilter.mouseleave(function() {
	    oSrchFlt=false;
	    if (!srchBoxFoc &amp;&amp; !oSrchBox) { sfilter.hide(); sfilter.removeClass('open'); }
	  });
	  sfilter.mouseover(function()  { oSrchFlt = true; });
	}
	
	var ratingConfig_ctl00_RateArticle = {
	  objectRef:          '2_2724_5',
	  objectSubtypeId:    1,
	  objectTypeName:     'article',
	  ownerId:            42,
	  votingType:         'None',
	  ratingDisplayMode:  'LargeStars',
	  resultDisplayMode:  'LargeStars',
	  ratingCallback:     null,
	  staticServer:       'https://codeproject.freetls.fastly.net',
	  baseDir:            '/script/Ratings/',
	  ratingUrl:          'ajax/RateItem.aspx',
	  histogramUrl:       'ajax/Histogram.aspx',
	  getRatingUrl:       'ajax/GetRatings.aspx',
	  width:              130,
	  forceComment:       false,
	  lowVoteThreshold:   0,
	  minRating:          1,
	  maxRating:          5
	};
	ratingCtrl_ctl00_RateArticle = new RatingControl('#ctl00_RateArticle_RatingTable',ratingConfig_ctl00_RateArticle);
	
	forumConfig_ctl00_MessageBoard_ratingConfig = {
	  objectTypeId:       3,
	  objectTypeName:     'message',
	  bulkResultSelector: '#_MessageBoardctl00_MessageBoard',
	  votingType:         'GoodOrBad',
	  staticServer:       'https://codeproject.freetls.fastly.net',
	  forceComment:       false,
	  ratingDisplayMode:  'TextOnly',
	  resultDisplayMode:  'TextOnly'
	};
	forumCtrl_ctl00_MessageBoard_rating = new RatingControl('#_MessageBoardctl00_MessageBoard .content', forumConfig_ctl00_MessageBoard_ratingConfig);
	forumConfig_ctl00_MessageBoard = {
	    objectName          : 'forumCtrl_ctl00_MessageBoard',
	    messageTypeId       : 3,
	    searchPrompt        : 'Search Comments',
	    smoothScroll        : true,
	    allowReporting      : false,
	    allowRating         : false,
	    allowRatingDisplay  : true,
	    allowReactions      : false,
	    forumDir            : '/script/Forums/',
	    staticServer        : 'https://codeproject.freetls.fastly.net',
	    switchMsgCallback   : null,
	    ratingControl       : forumCtrl_ctl00_MessageBoard_rating,
	    reactionControl     : null,
	    codeblockProcessor  : new CodeBlocks(),
	    getReportFormMethod : getReportFormHtml,
	    voteHiThreshold     : 5 - 0.5,
	    reportOptions       : [
	       { reportTypeId : 19, name : 'Abusive / Trolling'},
	       { reportTypeId : 20, name : 'Inappropriate'},
	       { reportTypeId : 5, name : 'Spam'},
	    ],
	};
	forumCtrl_ctl00_MessageBoard = new ForumControl('#ForumTable',forumConfig_ctl00_MessageBoard, -1);
	forumCtrl_ctl00_MessageBoard_rating.setConfig('ratingCallback', forumCtrl_ctl00_MessageBoard.showMessageRating);
	forumCtrl_ctl00_MessageBoard.Initialise();
	
	subscriptions_ctl00_MessageBoard = new Subscriptions(subscriptionConfig_ctl00_MessageBoard);
	subscriptions_ctl00_MessageBoard.initialise();
	
	cookieconsent.initialise({
	                                    enabled : true,
	                                    cookie  : { domain: 'codeproject.com' },
	                                    palette : {
	                                        popup: { background: '#ff9900' },
	                                        button: { background: '#f5d948' }
	                                    },
	                                    law :  {
	                                        showForAllRegions : true, 
	                                        countryCode : 'US' 
	                                    },
	                                    theme: 'edgeless',
	                                    type : 'opt-in-out',
	                                    content: {
	                                        message: 'Like every other website we use cookies. By using our site you acknowledge that you have read and understand our &lt;a href=\'/info/cookie.aspx\'&gt;Cookie Policy&lt;/a&gt;, &lt;a href=\'/info/privacy.aspx\'&gt;Privacy Policy&lt;/a&gt;, and our &lt;a href=\'/info/TermsOfUse.aspx\'&gt;Terms of Service&lt;/a&gt;.',
	                                        href:    'https://www.codeproject.com/info/privacy.aspx',
	                                        dismiss: 'Ask me later'
	                                    },
	                                    revokable:true,
	                                    onStatusChange: function(status) {
	                                        $.ajax({
	                                		    dataType  : 'json',
	                                            data: JSON.stringify({ allowCookies : this.hasConsented() }),
	                                            url: '/script/membership/webservices/LoggedOnMemberservices.aspx/SetCookieConsent',
	                                            cache: false,
	                                            type: 'POST',
	                                            contentType: 'application/json'
	                                        })
	                                        console.log(this.hasConsented() ? 'enable cookies' : 'disable cookies');
	                                        console.log(this.hasAnswered() ? 'has answered' : 'did not answer');
	                                    },
	                                });
	
	$(window).on('message', onDMcallBack);
	setTimeout(checkLoaded, 4000);

})
</script>










<div id="adbp-tester">an advertisement</div><style type="text/css">.copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } </style><style type="text/css">.copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } </style><script type="text/javascript">if(typeof DMAds=="undefined"){var SendDmAdUid=!1,SendSearchTermsToServer=!0,CodeProjectPublisherId="lqm.codeproject.site",EnableMutableAds=!0,EnableViewOnScroll=!0,adServer=adServer||window.location.protocol+"//ads.DeveloperMedia.com/",SearchTermUrl="https://apps.developermedia.com/Ads/PageTerms/GetTerms",AdClickUrl="https://apps.developermedia.com/Ads/PageTerms/LogClick",DownvoteUrl="https://apps.developermedia.com/Ads/AdVote/DownvoteByFingerprint",UndoDownvoteUrl="https://apps.developermedia.com/Ads/AdVote/UndoDownvote",ReportAdUrl="https://apps.developermedia.com/Ads/AdVote/ReportAd",GlobalIdUrl="https://apps.developermedia.com/Ads/GlobalUserIdentification/",CloseAdImageUrl="https://cdn1.developermedia.com/Content/images/undo.png",UndoCloseAdImageUrl="https://cdn1.developermedia.com/Content/images/redo.png",DmLogoImageUrl="https://cdn1.developermedia.com/Content/images/dm-logo-150x23.png";String.prototype.includes||(String.prototype.includes=function(n,t){"use strict";return(typeof t!="number"&amp;&amp;(t=0),t+n.length&gt;this.length)?!1:this.indexOf(n,t)!==-1});var DMAdXHelper=function(){var n=[],t={},s=!1,r=!1,v=0,f=null,y=function(n){try{var i=p(n),t=w(n),r=b(n);t.insertBefore(r,t.children[0]);n.closeAdButton=i;n.reportAdDiv=t;n.adContainer.appendChild(i);n.adContainer.parentNode.appendChild(t);n.reportButton=t.getElementsByClassName("reportButton")[0];n.reportButton.disabled=!0;n.reportButton.onclick=function(){return l(n),!1}}catch(u){console.log(u)}},p=function(n){var i=document.createElement("input");return i.type="image",i.src=t.CloseAdImageUrl,i.title="Report Ad",i.align="left",i.style.cssText="z-index:1000; position:relative; left:0px; top:-"+n.height+"px; margin-top: 0px; margin-left: 0px; display:block; font-size:0px; border: 0px; padding: 0px; height:14px; width:14px",i.onclick=n.width===125&amp;&amp;n.height===125?function(){return c(n),l(n),!1}:function(){return c(n),!1},i},w=function(n){var t=n.width,i=n.height,r=document.createElement("div"),u="&lt;select class='reportReason' style='max-width:150px !important; padding: 0px !important'&gt;&lt;option&gt;Offensive&lt;\/option&gt;&lt;option&gt;Abusive&lt;\/option&gt;&lt;option&gt;Off topic&lt;\/option&gt;&lt;option&gt;Don't like the Ad&lt;\/option &gt; &lt;option&gt;Wrong language&lt;\/option&gt;&lt;\/select &gt; ",f="&lt;input type='button' disabled class='reportButton' style='padding: 0px !important' value='Report'&gt;&lt;\/input&gt;";return t===728&amp;&amp;i===90?k(r,u,f):t===300&amp;&amp;i===250?d(r,u,f):t===160&amp;&amp;i===600?g(r,u,f):t===125&amp;&amp;i===125&amp;&amp;nt(r),(t===728&amp;&amp;i===90||t===300&amp;&amp;i===250||t===160&amp;&amp;i===600)&amp;&amp;tt(n,r),r},b=function(n){var i=document.createElement("input");return i.type="image",i.src=t.UndoCloseAdImageUrl,i.title="Show Ad",i.style.cssText="z-index:1000; position:relative; left:0px; top:0px; width:14px; height:14px;margin-top: 0px; margin-left: 0px; font-size:0px; display:block; padding: 0px; border: 0px",i.onclick=function(){return h(n),!1},i},k=function(n,i,r){n.innerHTML="&lt;div class='sendReportContainer' style='padding-left: 2px; display:block; line-height:initial !important'&gt;&lt;div style='display:inline-block; font:14px/18px \"Segoe UI\", Arial'&gt;&lt;b&gt;Don't like this Ad?&lt;\/b&gt;&lt;\/div&gt;&lt;div class='dropzone' contenteditable='true' style='margin-left:10px; height:60px; width: 250px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; display:inline-block; white-space:normal'&gt;1. Hit the refresh icon to show the ad again and take a screenshot. 2. Drag and Drop or paste the screenshot here&lt;\/div&gt;&lt;div style='margin-left:10px; display:inline-block; font:14px/18px \"Segoe UI\", Arial;'&gt; "+i+"&amp;nbsp;"+r+"&lt;\/div&gt;&lt;\/div&gt;&lt;div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial;'&gt;&lt;span style='color:#999'&gt;Thank you for the report!&lt;\/span&gt;&lt;\/div&gt;&lt;a href='http://www.developermedia.com/' target='_blank'&gt;&lt;img src='"+t.DmLogoImageUrl+"' style='max-width:100%;position:absolute; right:10px; top:10px;'&gt;&lt;\/a&gt;";n.style.cssText="display:none; width:728px; height:90px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},d=function(n,i,r){n.innerHTML="&lt;div class='sendReportContainer' style='padding: 5px 5px; display:block; line-height:initial !important'&gt;&lt;div style='padding-bottom:5px; font:14px/18px \"Segoe UI\", Arial;'&gt;&lt;b&gt;Don't like this Ad?&lt;\/b&gt;&lt;\/div&gt;&lt;div class='dropzone' contenteditable='true' style='height:100px; width: 290px; margin-top:20px; margin-bottom: 20px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; box-sizing:border-box; white-space:normal'&gt;1. Hit the refresh icon to show the ad again so you can take a screenshot &lt;br/&gt;2. Drag and Drop or paste the screenshot here&lt;\/div&gt;&lt;div style='margin-top:5px; font:14px/18px \"Segoe UI\", Arial; '&gt; "+i+"&lt;\/div&gt;&lt;div style='margin-top:5px; display:block; font:14px/18px \"Segoe UI\", Arial;'&gt;"+r+"&lt;\/div&gt;&lt;\/div&gt;&lt;div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial; '&gt;&lt;span style='color:#999;'&gt;Thank you for the report!&lt;\/span&gt;&lt;\/div&gt;&lt;a href='http://www.developermedia.com/' target='_blank'&gt;&lt;img src='"+t.DmLogoImageUrl+"' style='max-width:100%;position:absolute; right:20px; bottom:10px;'&gt;&lt;\/a&gt;";n.style.cssText="display:none; width:300px; height:250px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},g=function(n,i,r){n.innerHTML="&lt;div class='sendReportContainer' style='padding: 20px 15px; display:block; line-height:initial !important'&gt;&lt;div style='padding-bottom:20px; display:block; font:14px/18px \"Segoe UI\", Arial;'&gt;&lt;b&gt;Don't like this Ad?&lt;\/b&gt;&lt;\/div&gt;&lt;div class='dropzone' contenteditable='true' style='height:180px; width: 130px; margin-top:20px; margin-bottom: 20px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; box-sizing:border-box; white-space:normal'&gt;1. Hit the refresh icon to show the ad again so you can take a screenshot &lt;br/&gt;&lt;br/&gt;2. Drag and Drop or paste the screenshot here&lt;\/div&gt;&lt;div style='padding-bottom:10px; padding-top: 10px display:block; font:14px/18px \"Segoe UI\", Arial;'&gt; "+i+"&lt;\/div&gt;&lt;div style='font:14px/18px \"Segoe UI\", Arial;'&gt;"+r+"&lt;\/div&gt;&lt;\/div&gt;&lt;div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial;'&gt;&lt;span style='color:#999;'&gt;Thank you for the report!&lt;\/span&gt;&lt;\/div&gt;&lt;a href='http://www.developermedia.com/' target='_blank'&gt;&lt;img src='"+t.DmLogoImageUrl+"' style='max-width:120px;position:absolute; right:20px; bottom:20px;'&gt;&lt;\/a&gt;";n.style.cssText="display:none; width:160px; height:600px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},nt=function(n){n.innerHTML="&lt;div class='reportSentContainer' style='padding: 5px 5px;font:14px/18px \"Segoe UI\", Arial; width: 100px; height: 100px'&gt;&lt;span style='color:#999;'&gt;Thank you for the report!&lt;\/span&gt;&lt;\/div&gt;";n.style.cssText="display:none; width:125px; height:125px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},tt=function(n,t){if(n&amp;&amp;n.adContainer){var i=t.getElementsByClassName("dropzone")[0];i.dropzoneFor=n.adContainer.id;n.dropzone=i;s&amp;&amp;(i.ondragenter=function(n){n.currentTarget.style.backgroundColor="yellow";n.currentTarget.innerHTML="&lt;br/&gt;&lt;br/&gt;Drag and Drop the ad here"},i.ondragleave=function(n){n.currentTarget.style.backgroundColor="lightgray";u(n.currentTarget.dropzoneFor)},i.ondragover=function(n){n.stopPropagation();n.preventDefault();n.currentTarget.style.backgroundColor="yellow"},i.ondrop=function(n){n.currentTarget.style.backgroundColor="lightgreen";rt(n)});r?f?f.observe(i,{childList:!0}):i.addEventListener("DOMSubtreeModified",function(){a(i)}):i.addEventListener("paste",it,!1)}},h=function(n){n.reportAdDiv.style.display==="none"?(n.reportAdDiv.style.display="table",n.closeAdButton.style.display="none",n.adContainer.style.display="none",n.dropzone.focus()):(n.reportAdDiv.style.display="none",n.closeAdButton.style.display="block",n.adContainer.style.display="block")},e=function(n){var t=i(n),r=t.dropzone;r.style.backgroundColor="lightgreen";r.innerHTML=t.width===160&amp;&amp;t.height===600?"&lt;br/&gt; Your screenshot has been received â thanks! &lt;br/&gt;&lt;br/&gt; Next step: Whatâs wrong with the ad":t.width===300&amp;&amp;t.height===250?"&lt;br/&gt; Your screenshot has been received â thanks! &lt;br/&gt;&lt;br/&gt; Next step: Whatâs wrong with the ad":t.width===728&amp;&amp;t.height===90?"Your screenshot has been received â thanks! Next step: Whatâs wrong with the ad":"Ad info received. Press Report to submit"},o=function(n){var t=i(n);t&amp;&amp;(t.reportButton.disabled=!1)},u=function(n){var t=i(n);t&amp;&amp;(t.reportButton.disabled=!0)},c=function(n){h(n)},l=function(n){var r=n.reportAdDiv.getElementsByClassName("reportReason")[0],s=r&amp;&amp;r.options[r.selectedIndex].value||"Unspecified",u=n.reportAdDiv.getElementsByClassName("sendReportContainer")[0],f=n.reportAdDiv.getElementsByClassName("reportSentContainer")[0];u&amp;&amp;(u.style.display="none");f&amp;&amp;(f.style.display="block");try{var e=new XMLHttpRequest,i=new FormData,h=DMUserIdentityHelper&amp;&amp;DMUserIdentityHelper.getGlobalUserId()||0,o=null;n.fileList&amp;&amp;n.fileList.length&gt;0&amp;&amp;(o=n.fileList[0]);e.open("POST",t.DownvoteUrl,!0);i.append("adScreenshot",o);i.append("reason",s);i.append("DmGlobalUserId",h);e.send(i)}catch(c){console.log(c)}},it=function(n){var t,h,l,s,c,a,f,v;if(!r){if(n.preventDefault(),t=[],h=!1,window.clipboardData)t=window.clipboardData.files,h=!0;else if((n.clipboardData||n.originalEvent.clipboardData)&amp;&amp;(l=n.clipboardData||n.originalEvent.clipboardData,s=l&amp;&amp;l.items||[],t=[],s&amp;&amp;s.length&gt;0))for(h=!0,c=0;c&lt;s.length;c++)a=s[c],a.kind==="file"&amp;&amp;(t[t.length]=a.getAsFile());f=n.currentTarget.dropzoneFor;t&amp;&amp;t.length&gt;0?(v=i(f),v&amp;&amp;(v.fileList=t),o(f),e(f)):h?(n.currentTarget.innerHTML="&lt;br/&gt;&lt;br/&gt; No files found on clipboard &lt;br/&gt;",u(f)):(n.currentTarget.innerHTML="&lt;br/&gt;&lt;br/&gt; Paste not supported on your browser &lt;br/&gt;",u(f))}},rt=function(n){var f,r,t;if(n.stopPropagation(),n.preventDefault(),f=i(n.currentTarget.dropzoneFor),r=[],n.dataTransfer.files&amp;&amp;n.dataTransfer.files.length&gt;0)for(t=0;t&lt;n.dataTransfer.files.length;t++)n.dataTransfer.files[t].type&amp;&amp;n.dataTransfer.files[t].type.indexOf("image")&gt;=0&amp;&amp;(r[r.length]=n.dataTransfer.files[t]);r.length&gt;0?(f&amp;&amp;(f.fileList=r),e(n.currentTarget.dropzoneFor),o(n.currentTarget.dropzoneFor)):(n.currentTarget.style.backgroundColor="yellow",n.currentTarget.innerHTML="&lt;br/&gt;&lt;br/&gt;The dropped item was not an image",u(n.currentTarget.dropzoneFor))},a=function(n){for(var t,i=0;i&lt;n.children.length;i++)t=n.children[i],t.nodeName.toLowerCase()==="img"&amp;&amp;t.style.display!=="none"&amp;&amp;t.src&amp;&amp;(t.style.display="none",ut(t.src,n))},ut=function(n,t){if(n){var f=n.indexOf(","),r=n.substring(0,f),h=r.indexOf(":"),c=r.indexOf(";"),l=r.substring(h+1,c),a=n.substring(f+1),v=ot(a,l,512),u=t.dropzoneFor,s=i(u);s&amp;&amp;(s.fileList=[v]);e(u);o(u)}},ft=function(){var n=document.createElement("div");return"draggable"in n||"ondragstart"in n&amp;&amp;"ondrop"in n},et=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")&gt;-1},i=function(t){for(var i=0,r=n.length;i&lt;r;i++)if(n[i]&amp;&amp;n[i].adContainer&amp;&amp;n[i].adContainer.id===t)return n[i];return null},ot=function(n,t,i){var e,o,r,f,s,u,h;for(t=t||"",i=i||512,e=atob(n),o=[],r=0;r&lt;e.length;r+=i){for(f=e.slice(r,r+i),s=new Array(f.length),u=0;u&lt;f.length;u++)s[u]=f.charCodeAt(u);h=new Uint8Array(s);o.push(h)}return new Blob(o,{type:t})};return{appendAd:function(t){n.push(t)},init:function(i,u){n=i;t=u;s=ft();r=et();r&amp;&amp;window.MutationObserver&amp;&amp;(f=new MutationObserver(function(n){n.forEach(function(n){a(n.target)})}))},showAdReportingInterface:function(n){var t=i(n);t&amp;&amp;y(t)},setGlobalUserId:function(n){v=n}}}(),DMUserIdentityHelper=function(){var r,t,u="dmaduid",f="dmaduid_confirm",e,o,i=[],n=0,l=function(){return SendDmAdUid?navigator.cookieEnabled!==void 0?navigator.cookieEnabled:(document.cookie="testcookie=test; max-age=10000",document.cookie.indexOf("testcookie=test")&gt;=0):!1},a=function(){var t=document.location.hostname,n=/([^.]+\.[^.]{3,})$/i.exec(t);return n?n[1]:(n=/([^.]+\.[^.]+\.[^.]{2})$/i.exec(t),n!==null?n[1]:t)},s=function(n,t,i,r,u,f){var e="",o;e=n+"="+t;i&gt;0&amp;&amp;(o=new Date,o.setTime(o.getTime()+i*864e5))&amp;&amp;(e+="; expires="+o.toGMTString());r&amp;&amp;(e+="; path="+r);u&amp;&amp;u.indexOf(".")!==-1&amp;&amp;(e+="; domain="+u);f&amp;&amp;(e+="; secure");document.cookie=e},h=function(n){var r=document.cookie,u=null,t,i;if(r!=="")for(t=r.split(";"),index=0;index&lt;t.length;index++)if(i=t[index].replace(/^\s+/,""),i.substring(0,n.length+1)===n+"="){u=i.substring(n.length+1);break}return u},v=function(n){var t=document.createElement("IFRAME");return t.width=1,t.height=1,t.src=e,t.id="DMGlobalUserIdetifierIFRAME",t.name="DMGlobalUserIdetifierIFRAME",t.style.display="none",document.body.appendChild(t),t.onload=n,t},y=function(){var i,l,n,a,e;if(r)if(i=h(u),l=h(f),!l&amp;&amp;JSON){if(n={},n.sender=location.href,n.Id=Math.random(),a=function(){o.contentWindow.postMessage(JSON.stringify(n),GlobalIdUrl)},e=function(i){var r=null,e;try{r=JSON.parse(i.data)}catch(o){}r&amp;&amp;r.Id&amp;&amp;r.Id===n.Id&amp;&amp;(e=r.DmGlobalUserId,s(u,e,365,"/",t,!1),s(f,r.DmGlobalUserConfirmResponse,365,"/",t,!1),c(e))},window.addEventListener)window.addEventListener("message",e,!1);else try{window.attachEvent("message",e)}catch(y){}o=v(a)}else i&amp;&amp;c(i)},c=function(t){for(n=t;i.length&gt;0;){var r=i.pop();typeof r=="function"&amp;&amp;r()}};return{init:function(n){e=n;r=l();t=a();y()},getGlobalUserId:function(t){return n!==0?n:t?(i.push(t),n):void 0}}}(),DMAds={PageQueryTerms:"",PageTags:null,Tile:1,CurrentDocument:null,PublisherCode:"",PublisherPageViewID:0,PublisherPageViewGuid:null,CreateAdsCalled:!1,GetTermsCalled:!1,Ads:[],GPTRenderingMode:"loading",PIIViolatingUrls:["http://www.aspsnippets.com/handlers/comments.ashx","codeproject.com/script/membership/sendpassword.aspx","http://www.dailyfreecode.com/userlogin.aspx","codeproject.com/script/membership/modify.aspx","dotnetspider.com/account/login.aspx","codeproject.com/script/membership/logon.aspx"],SetQueryTerms:function(){function u(n){for(var i,u="",t=0;t&lt;r.length;t++)if(i=r[t],n.indexOf(i.d)&gt;=0){u=i.q;break}return u}function f(n,t){var r=t.toLowerCase().indexOf(n),u,i;return r&lt;0||r+n.length&gt;=t.length?"":(u=t.indexOf("&amp;",r),u&lt;0&amp;&amp;(u=t.length),i=t.substring(r+n.length,u),i=i.replace(/\+/gi," "),i=decodeURIComponent(i),i.replace(/\"/gi,""))}function e(n){if(n===undefined)return"";var t=n.replace(/^\s+|\s+$/gi,"");return t?(t=t.replace(/\bAND\b|\bNOT\b|^NOT\b|\bOR\b|[^A-Z0-9\+\-\#\._\s]+|\b[A-Z0-9]+:/gi," "),t.replace(/\s+/g," ")):""}var r=[{d:"www.google.",q:"q="},{d:"www.bing.com",q:"q="},{d:"search.live.com",q:"q="},{d:"search.yahoo.com",q:"p="},{d:"codeproject.com",q:"q="},{d:"msdn.microsoft.com",q:"query="},{d:"www.ask.com",q:"q="},{d:"yandex.com",q:"text="},{d:"yandex.ru",q:"text="},{d:"www.baidu.com",q:"wd="},{d:"localhost",q:"q="},{d:"mkyong.com",q:"q="},{d:"codeplex.com",q:"query="},{d:"aspsnippets.com",q:"q="},{d:"trirand.com",q:"s="}],i="",n=document.URL,t=u(n);if(t!==""&amp;&amp;(i=e(f(t,n))),i===""){if(n=document.referrer.toLocaleLowerCase(),!n)return"";t=u(n);t!==""&amp;&amp;(i=e(f(t,n)))}DMAds.PageQueryTerms=i},SetPageTagsAndPixels:function(n){var t,i,r,u;if(JSON){if(DMAds.GetTermsCalled){n&amp;&amp;n();return}DMAds.GetTermsCalled=!0;t=document.URL;t.indexOf("?")&gt;0&amp;&amp;(t=t.substring(0,t.indexOf("?")));try{i=top.document.title}catch(f){i="FAILED TO GET DOCUMENT TITLE"}r={terms:DMAds.PageQueryTerms,title:i,url:t,publisher:DMAds.PublisherCode,DmGlobalUserId:DMUserIdentityHelper&amp;&amp;DMUserIdentityHelper.getGlobalUserId()||0,numberOfAdsOnPage:DMAds.Ads.length};u=function(t){if(t){var i;try{i=JSON.parse(t)}catch(r){}i&amp;&amp;(i.SearchTerms&amp;&amp;(DMAds.PageTags=i.SearchTerms),i.PublisherPageViewGuid&amp;&amp;(DMAds.PublisherPageViewGuid=i.PublisherPageViewGuid),i.aid&amp;&amp;i.aid.length&amp;&amp;i.aid.length&gt;0&amp;&amp;DMAds.InsertAudiencePixels(i.aid))}DMAds.PublisherPageViewGuid||(DMAds.PublisherPageViewGuid=1);n&amp;&amp;n()};DMAds.POSTJson(SearchTermUrl,r,u,!0,500)}},InsertAudiencePixels:function(n){var t,i;try{for(t=0,i=n.length;t&lt;i;t++){var r=Math.random()+"",u=r*1e13,f=new Image;f.src="https://pubads.g.doubleclick.net/activity;dc_iu=/6839/DFPAudiencePixel;ord="+u+";dc_seg="+n[t]+"?"}}catch(e){}},GetRandom:function(n,t){for(var u,i="",r=0;r&lt;n;r++)u=Math.floor(Math.random()*t).toString(t).toUpperCase(),i=i+u;return i},POSTJson:function(n,t,i,r,u){var f;if(JSON&amp;&amp;(f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),f)){var s=!1,o=function(n){s||(s=!0,i&amp;&amp;i(n))},e=null;r&amp;&amp;(e=setTimeout(function(){try{f.abort()}catch(n){}o(null)},u));f.onreadystatechange=function(){try{f.readyState===4&amp;&amp;(e&amp;&amp;clearTimeout(e),f.status===200?o(f.responseText):o(null))}catch(n){e&amp;&amp;clearTimeout(e);o(null)}};try{f.open("POST",n,!0);f.setRequestHeader("Content-Type","application/json");f.send(JSON.stringify(t))}catch(h){e&amp;&amp;clearTimeout(e);o(null)}}},SignalSuccess:function(n){window.top&amp;&amp;window.top.postMessage&amp;&amp;setTimeout(function(){window.top.postMessage(n?"DM-enabled":"DM-disabled","*")},1e3)},CreateAds:function(n){this.PageRandomNumber=DMAds.GetRandom(32,16);var e=function(n){var t=DMAds.Ads[n];t.rendered=!0;DMAds.GPTRenderingMode==="weLoadedGPT"?DMAds.BuildGPTTag(t):DMAds.BuildInlineGPTTag(t)},l=function(n){var e=DMAds.Ads[n],h=e.theAdDiv,u=!1,i=0,r=0,t,f,o,s;try{t=h.getBoundingClientRect();typeof innerWidth=="number"?(i=window.innerWidth,r=window.innerHeight):document.documentElement&amp;&amp;(document.documentElement.clientWidth||document.documentElement.clientHeight)?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&amp;&amp;(document.body.clientWidth||document.body.clientHeight)&amp;&amp;(i=document.body.clientWidth,r=document.body.clientHeight);f=-200;t.top===t.bottom&amp;&amp;(f+=e.height*-1);o=t.top&gt;=0&amp;&amp;t.top-200&lt;=r||t.top&lt;=0&amp;&amp;t.top&gt;=f;s=i&gt;t.left&amp;&amp;t.right&gt;=0;u=o&amp;&amp;s}catch(c){u=!0}return u},t=function(){for(var t,i=0,n=0;n&lt;DMAds.Ads.length;n++)t=DMAds.Ads[n],!t.rendered&amp;&amp;l(n)&amp;&amp;u(n)&amp;&amp;e(n),t.rendered&amp;&amp;(i++,t.sticky&amp;&amp;!t.stickySettings&amp;&amp;(t.stickySettings=s(t)),c(n));i===DMAds.Ads.length&amp;&amp;clearInterval(f)},o=function(){var n=function(){for(var c,i,r,o,s=EnableViewOnScroll,n=0;n&lt;DMAds.Ads.length;n++)c=DMAds.Ads[n],c.rendered=!1,i=c.displayOverride,i==="onscroll"||i==="true"?s=!0:(i==="always"||i==="false")&amp;&amp;(s=!1),!s&amp;&amp;u(n)&amp;&amp;e(n);if(t(),window.addEventListener)window.addEventListener("resize",function(){t();h()},!1),window.addEventListener("scroll",t,!1);else try{window.attachEvent("onresize",function(){t();h()});window.attachEvent("onscroll",t)}catch(l){}for(a(),r=!1,o=0;o&lt;DMAds.Ads.length&amp;&amp;!r;o++)if(r=!u(o),r)break;r&amp;&amp;(f=setInterval(t,100))};DMAds.GPTRenderingMode==="loading"?googletag.cmd.push(function(){n()}):n()},a=function(){var n=null;typeof document.hidden!="undefined"?n="visibilitychange":typeof document.mozHidden!="undefined"?n="mozvisibilitychange":typeof document.msHidden!="undefined"?n="msvisibilitychange":typeof document.webkitHidden!="undefined"&amp;&amp;(n="webkitvisibilitychange");n&amp;&amp;document.addEventListener&amp;&amp;document.addEventListener(n,t,!1)},s=function(n){var u=null,i,t;return n.adContainer&amp;&amp;(i=r(n.adContainer),t={},t.isStickyRequired=n.sticky&amp;&amp;n.sticky==="top",t.absoluteTop=i.y,t.absoluteLeft=i.x,t.absoluteTop!==-1&amp;&amp;(t.originalPosition=n.theAdDiv.style.position,u=t)),u},h=function(){for(i=0;i&lt;DMAds.Ads.length;i++){var n=DMAds.Ads[i];n.stickySettings&amp;&amp;n.adContainer&amp;&amp;(n.adContainer.style.position=n.stickySettings.originalPosition,n.stickySettings=s(n),c(i))}},c=function(n){var t=DMAds.Ads[n].adContainer,i=DMAds.Ads[n].stickySettings,f=DMAds.Ads[n].theAdDiv,u,h,s;if(i&amp;&amp;i.isStickyRequired&amp;&amp;t.getBoundingClientRect&amp;&amp;document.getElementsByClassName){u=document.getElementsByClassName("sticky-stop")[0];u&amp;&amp;(h=r(u),s=u.getBoundingClientRect());var c=r(t),e=t.getBoundingClientRect(),o,l=c.y+e.height+Math.abs(e.top)&gt;h.y;u&amp;&amp;l&amp;&amp;s.top&lt;e.height?o=s.top-e.height+"px":window.pageYOffset+10&gt;=i.absoluteTop&amp;&amp;(o="10px");o?(t.style.position="fixed",t.style.top=o,t.style.left=i.absoluteLeft-window.pageXOffset+"px",f.clientHeight===0&amp;&amp;(f.style.height=t.clientHeight+"px"),f.clientWidth===0&amp;&amp;(f.style.width=t.clientWidth+"px")):t.style.position=i.originalPosition}},r=function(n){var t={};if(t.x=-1,t.y=-1,n.getBoundingClientRect){var r=n.getBoundingClientRect(),i=document.documentElement,u=window.pageYOffset||i.scrollTop||document.body.scrollTop||0,f=window.pageXOffset||i.scrollLeft||document.body.scrollLeft||0,e=i.clientTop||document.body.clientTop||0,o=i.clientLeft||document.body.clientLeft||0;t.y=r.top+u-e;t.x=r.left+f-o}return t},u=function(n){var t=DMAds.Ads[n].theAdDiv,i=!1,r;return t&amp;&amp;t.style.position!=="fixed"&amp;&amp;t.offsetParent?i=!0:t&amp;&amp;t.style.position==="fixed"&amp;&amp;(r=window.getComputedStyle(t),i=r&amp;&amp;r.display!=="none"),i&amp;&amp;v()},v=function(){var t=!0,n="";return typeof document.hidden!="undefined"?n="hidden":typeof document.mozHidden!="undefined"?n="mozHidden":typeof document.msHidden!="undefined"?n="msHidden":typeof document.webkitHidden!="undefined"&amp;&amp;(n="webkitHidden"),n!==null&amp;&amp;document[n]&amp;&amp;(t=!1),t},f=f||null;n||DMAds.CreateAdsCalled?n&amp;&amp;(DMAds.Ads[DMAds.Ads.length]=DMAds.GetDivRequestData(n,DMAds.Ads.length-1),DMAds.PublisherCode=DMAds.Ads[0].publisher,DMAds.SetPageTagsAndPixels(o)):(DMAds.CreateAdsCalled=!0,DMAds.SetAdRequestData(),DMAds.Ads.length&gt;0&amp;&amp;(DMAds.PublisherCode=DMAds.Ads[0].publisher,DMAds.SetPageTagsAndPixels(o)))},ShowAd:function(n){var t=DMAds.Ads,i;if(n&amp;&amp;(DMAds.GPTRenderingMode!=="weLoadedGPT"||!DMAds.PublisherPageViewGuid))t.push(n),DMAds.GetTermsCalled||(DMAds.PublisherCode=n.sitename,DMAds.SetPageTagsAndPixels(DMAds.ShowAd));else if(DMAds.GPTRenderingMode==="weLoadedGPT"&amp;&amp;DMAds.PublisherPageViewGuid){while(t&amp;&amp;t.length&gt;0)i=t.pop(),DMAds.RequestQueuedAd(i);n&amp;&amp;DMAds.RequestQueuedAd(n)}},InitGPTLibrary:function(){if(googletag){var n=function(){if(googletag.pubadsReady)DMAds.GPTRenderingMode!=="weLoadedGPT"&amp;&amp;(DMAds.GPTRenderingMode="gptAlreadyLoaded");else{if(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),DMAds.Ads&amp;&amp;DMAds.Ads[0]&amp;&amp;typeof DMAds.Ads[0].cookieConsent!="undefined"){var n=DMAds.Ads[0].cookieConsent?1:0;googletag.pubads().setRequestNonPersonalizedAds(n?0:1)}googletag.pubads().enableAsyncRendering();googletag.enableServices();DMAds.GPTRenderingMode="weLoadedGPT";googletag.pubads().addEventListener("slotRenderEnded",function(n){DMAds.OnSlotRendered(n)})}};googletag.apiReady?n():googletag.cmd.push(function(){n()})}},BuildIFrameTag:function(n){var t=document.createElement("IFRAME"),i;return t.allowtransparency=!1,t.id="dm-gpt-iframe-"+n.tile,t.width=n.width,t.height=n.height,t.marginWidth=0,t.marginHeight=0,t.frameBorder=0,t.scrolling="no",i=encodeURIComponent(location.href),i.length&lt;2048&amp;&amp;(t.dc_ref=i),t},BuildInlineGPTTagScript:function(n){var t="div-gpt-ad-"+n.publisher+"-"+n.zone+"-"+n.tile,i="/6839/"+n.publisher+"/"+n.zone,r="["+n.width+", "+n.height+"]",u=(n.tags||"")+","+(DMAds.PageSearchTerms||"")+","+(DMAds.PageQueryTerms||""),f=n.cookieConsent!==undefined,e=n.cookieConsent?1:0,o="&lt;div id='"+t+"'&gt;     &lt;script type='text/javascript'&gt;         googletag.cmd.push(function() {             if ( "+f+" &amp;&amp; typeof googletag.pubads == 'function') {               googletag.pubads().setRequestNonPersonalizedAds("+e+" ? 0 : 1);            }            googletag.defineSlot('"+i+"', "+r+",'"+t+"')                 .addService(googletag.pubads())                 .setTargeting('kw', '"+u+"');             googletag.enableServices();             googletag.display('"+t+"');         });     &lt;\/script&gt; &lt;\/div&gt;";return"&lt;script type='text/javascript'&gt; var googletag = googletag || {}; googletag.cmd = googletag.cmd || []; (function() {     var gads = document.createElement('script');     gads.async = true;     gads.type = 'text/javascript';     var useSSL = 'https:' == document.location.protocol;     gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';     var node =document.getElementsByTagName('script')[0];     node.parentNode.insertBefore(gads, node); })(); &lt;\/script&gt;"+o},BuildGPTTag:function(n){var t=document.createElement("DIV"),i;t.style.height=n.height+"px";t.style.width=n.width+"px";t.style.boxSizing="border-box";t.style.border="0px";t.style.fontSize="0px";i="div-gpt-ad-"+n.publisher+"/"+n.zone+"-"+n.tile;t.id=i;t.adIndex=n.index;n.theAdDiv.appendChild(t);n.adContainer=t;googletag.cmd.push(function(){var u="/6839/"+n.publisher+"/"+n.zone,r=(n.tags||"")+","+(DMAds.PageSearchTerms||"")+","+(DMAds.PageQueryTerms||""),t;r=DMAds.EscapeSpecialCharacters({tags:r});t=googletag.defineSlot(u,[n.width,n.height],i).setTargeting("kw",r);n.articleid&amp;&amp;n.articleid&gt;0&amp;&amp;t.setTargeting("articleid",n.articleid);t.addService(googletag.pubads());n.collapse_empty&amp;&amp;t.setCollapseEmptyDiv(!0,!0);googletag.display(i);googletag.pubads().refresh([t],{changeCorrelator:!1})})},RequestQueuedAd:function(n){googletag.cmd.push(function(){var r="/6839/"+n.sitename+"/"+n.zonename,i=(n.tags||"")+","+(DMAds.PageSearchTerms||""),t;i=DMAds.EscapeSpecialCharacters({tags:i});t=googletag.defineSlot(r,[n.width,n.height],n.targetDivId).setTargeting("kw",i);n.articleid&amp;&amp;n.articleid&gt;0&amp;&amp;t.setTargeting("articleid",n.articleid);t.addService(googletag.pubads());n.collapse_empty&amp;&amp;t.setCollapseEmptyDiv(!0,!0);googletag.display(n.targetDivId);googletag.pubads().refresh([t],{changeCorrelator:!1})})},BuildInlineGPTTag:function(n){var t=DMAds.BuildIFrameTag(n),i;n.theAdDiv.appendChild(t);i=t.contentDocument||t.contentWindow.document||t.contentWindow.window.document;i.write(DMAds.BuildInlineGPTTagScript(n))},EscapeSpecialCharacters:function(n){var t=n.tags,i;t=t.replace(/\+/gi,"{plus}");t=t.replace(/\#/gi,"{sharp}");t=t.replace(/\./gi,"{dot}");t=t.replace(/[\#\*\.\(\)\+\&lt;\&gt;\[\]]/gi,"");for(var r=t.split(","),u=[];r.length&gt;0;)i=r.shift(),/[^\u0020-\u007f]/.test(i)||u.push(i);return u.join(",")},GetArticleId:function(n){var t=0,i,r;if(n&amp;&amp;n===CodeProjectPublisherId)try{i="Articles";r=window.location.href.indexOf(i);r&gt;=0&amp;&amp;(t=window.location.href.substring(r+i.length+1),t=t.substring(0,t.indexOf("/")),t=parseInt(t),isNaN(t)&amp;&amp;(t=0))}catch(u){t=0}return t},IsPagePIICompliant:function(){var t=!0,i,n,r;try{for(i=window.location.href.toLowerCase(),n=0,r=DMAds.PIIViolatingUrls.length;n&lt;r&amp;&amp;t;n++)t=!(i.indexOf(DMAds.PIIViolatingUrls[n])&gt;=0)}catch(u){console.log("Error in IsPagePIICompliant: "+u)}return t},OnSlotRendered:function(n){if(window.location.href&amp;&amp;window.location.href.includes("show_creative_id=1")&amp;&amp;n&amp;&amp;n.creativeId&amp;&amp;console.log(n.creativeId),EnableMutableAds&amp;&amp;n&amp;&amp;!n.isEmpty&amp;&amp;(!n.lineItemId||n.lineItemId&amp;&amp;n.lineItemId===0))DMAdXHelper.showAdReportingInterface(n.slot.getSlotElementId());else if(n&amp;&amp;n.isEmpty){var t=document.getElementById(n.slot.getSlotElementId());t.style.width="0px";t.style.height="0px";t.style.display="none"}DMAds.SignalSuccess(!0)},DetermineTagSize:function(n){if(n.format){var t=n.format.split("x");t.length===2&amp;&amp;(n.width=parseInt(t[0]),n.height=parseInt(t[1]))}},GetElementsByAttr:function(n,t,i,r){var o=[],u,e;i||(i=document);r||(r="*");var f=i.getElementsByTagName(r),s=f.length,h=new RegExp("(^|\\s)"+t+"(\\s|$)");for(u=0,e=0;u&lt;s;u++)h.test(f[u].getAttribute(n))&amp;&amp;(o[e]=f[u],e++);return o},GetElementsByClass:function(n,t,i){var e=[],r,f;t||(t=document);i||(i="*");var u=t.getElementsByTagName(i),o=u.length,s=new RegExp("(^|\\s)"+n+"(\\s|$)");for(r=0,f=0;r&lt;o;r++)s.test(u[r].className)&amp;&amp;(e[f]=u[r],f++);return e},SetAdRequestData:function(){var n=DMAds.GetElementsByAttr("data-type","ad",document,"div"),t;for((n===null||n.length&lt;=0)&amp;&amp;(n=DMAds.GetElementsByClass("lqm_ad",document,"div")),t=0;t&lt;n.length;t++)DMAds.Ads[DMAds.Ads.length]=DMAds.GetDivRequestData(n[t],t)},GetDivRequestData:function(n,t){for(var u,f,r,o=n.attributes,s=o.length,i={},e=0;e&lt;s;e++)u=o.item(e),u.nodeName.indexOf("lqm_")===0&amp;&amp;(f=u.nodeName.slice(4),i[f]=u.value||u.nodeValue),u.nodeName.indexOf("data-")===0&amp;&amp;(f=u.nodeName.slice(5),i[f]=u.value||u.nodeValue);return r={height:0,width:0,publisher:i.publisher,zone:i.zone||"ros",site:i.site,tags:i.tags,sitename:undefined,zonename:undefined,target:"_blank",format:i.format,index:t,tile:t+1,type:i.type,noadx:i.noadx,collapse_empty:i.collapse_empty,displayOverride:i.display||i.loadOnView,sticky:i.sticky,charity:i.charity,cookieConsent:i.cookieconsent,theAdDiv:n},r.tags&amp;&amp;(r.tags=decodeURIComponent(r.tags)),DMAds.DetermineTagSize(r),r.publisher&amp;&amp;r.publisher===CodeProjectPublisherId&amp;&amp;(r.articleid=DMAds.GetArticleId(r.publisher)),r},SetupAds:function(){DMAds.IsPagePIICompliant()&amp;&amp;(DMAds.InitGPTLibrary(),DMAds.SetQueryTerms(),DMAdXHelper.init(DMAds.Ads,{DownvoteUrl:DownvoteUrl,UndoDownvoteUrl:UndoDownvoteUrl,ReportAdUrl:ReportAdUrl,CloseAdImageUrl:CloseAdImageUrl,UndoCloseAdImageUrl:UndoCloseAdImageUrl,DmLogoImageUrl:DmLogoImageUrl}),DMUserIdentityHelper.init(GlobalIdUrl),DMAds.CreateAds())},Initialise:function(){if(DMAds.IsPagePIICompliant())if(window.googletag)DMAds.SetupAds();else{var t="https:"===document.location.protocol,n=document.createElement("script");n.async=!0;n.type="text/javascript";n.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";n.onload=this.SetupAds;document.body.appendChild(n)}}};window.DMAds=DMAds}if(DMAds.IsPagePIICompliant())if(window.addEventListener)window.addEventListener("load",function(){DMAds.Initialise()},!1);else try{window.attachEvent("onload",function(){DMAds.Initialise()})}catch(e){DMAds.Initialise()}</script><canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><script async="" type="text/javascript" src="https://www.googletagservices.com/tag/js/gpt.js"></script><script async="" type="text/javascript" src="https://www.googletagservices.com/tag/js/gpt.js"></script><iframe src="https://018f4af966b9a12e9c4fd4f6b7a22647.safeframe.googlesyndication.com/safeframe/1-0-38/html/container.html" style="visibility: hidden; display: none;"></iframe><iframe src="https://www.google.com/recaptcha/api2/aframe" width="0" height="0" style="display: none;"></iframe></body></html>