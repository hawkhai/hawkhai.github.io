<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head>
		
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="XiunoBBS 4.0" />
	<meta name="keywords" content="[原创]Android Hook技术学习——常见的Hook技术方案总结" />
	<meta name="description" content="[原创]Android Hook技术学习——常见的Hook技术方案总结" />
	<meta name="application-name" content="[原创]Android Hook技术学习——常见的Hook技术方案总结-Android安全-看雪论坛-安全社区|安全招聘|bbs.pediy.com" />
	<meta name="csrf-token" content="9e9248331444f0fe1783c79a740fb555" />
	<meta name="renderer" content="webkit" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
		<title>
		[原创]Android Hook技术学习——常见的Hook技术方案总结-Android安全-看雪论坛-安全社区|安全招聘|bbs.pediy.com	</title>

	<link rel="shortcut icon" href="view/img/favicon.ico" />
	<link rel="icon" sizes="32x32" href="view/img/favicon.ico" />
	<link rel="Bookmark" href="view/img/favicon.ico" />
	<link rel="stylesheet" href="view/css/bootstrap.css?1.5" />
	<link rel="stylesheet" href="view/css/bootstrap-bbs.css?1.5" />
	<!-- <link rel="stylesheet" href="view/css/bootstrap-icon.css"> -->

	<link rel="stylesheet" href="plugin/kanxue/css/kanxue.css?1.5" />

	<style>
		@media only screen and (max-width: 780px) {

			.card&gt;.card-body {
				padding: 0.3rem 0.5rem;
			}

			#body {
				padding: 0.5rem 0.5rem;
			}

			.container {
				padding-left: 0;
				padding-right: 0;
			}

		}

		.content_box ul.nav .nav-link.active {
			border-bottom: 3px solid #0099ee;
		}

		.avatar-3 {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 3.5rem;
		}

		main#body {
			background: #e9ecef;
		}
	</style>

	<style>
		/* .photo_frame {
			padding: 0.36rem;
		}
		.photo_frame::after {
			content: '';
			background-size: 102%;
			background-position: right top;
			background-repeat: no-repeat;
			width: 100%;
			height: 100%;

			display: inline-block;
			vertical-align: middle;
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 1;
		}

		.photo_frame_image1::after {
			background-image: url(view/img/20photo_frame1.png);
		}

		.photo_frame_image2::after {
			background-image: url(view/img/20photo_frame2.png);
		}

		.photo_frame_image3::after {
			background-image: url(view/img/20photo_frame3.png);
		} */
	</style>

	    <link rel="stylesheet" href="plugin/xn_chm/css/user_tree.css" type="text/css" />
    <link rel="stylesheet" href="plugin/xn_chm/css/folder-tree.css" type="text/css" />
<style>
/*
box-shadow: 0 0 5px red;
*/
@keyframes xndigest {
	0% { color: red; text-shadow: 0 0 3px #FF8D8D;} 
	20% { color: orange; text-shadow: 0 0 3px #FFE1AD;} 
	40% { color: green; text-shadow: 0 0 3px #B3FFAF;} 
	65% { color: blue; text-shadow: 0 0 3px #AFE4FF;} 
	80% { color: purple; text-shadow: 0 0 3px #FFC9F3;} 
	100% { color: red; text-shadow: 0 0 3px #FF8D8D;} 
}

/*水晶闪烁效果 占内存*/
i.icon-diamond.flash{color: #D53D38;  /*animation: xndigest 5s linear infinite;*/ }

i.icon-digest-1 {  text-shadow: 0 0 3px #AFE4FF; }
i.icon-digest-2 {  text-shadow: 0 0 3px #FFF177; }
i.icon-digest-3 {  text-shadow: 0 0 3px #FF8D8D; }
.icon-digest-1:before { content: "\f219";  color: #5BC0DE;} /* "\f0a5" */
.icon-digest-2:before { content: "\f219";  color: #ECA541;}
.icon-digest-3:before { content: "\f219"; color: #D53D38;}
.icon-digest-3:afteer { content: "精"; color: #D53D38;}
</style><style>
.deleted div.subject &gt; a { text-decoration: line-through; color: grey !important; }
.deleted div.message { text-decoration: line-through; color: grey !important; }
</style><style>
/*
.toggle_more {
	max-height: 100px;
}
*/
.update_log_list a.update_log_history, 
.update_log_list a.update_log_delete {
	display: none;
}

.update_log_list &gt; li:hover {
	background: var(--gray-300);
}
.update_log_list &gt; li:hover &gt; a.update_log_history, 
.update_log_list &gt; li:hover &gt; a.update_log_delete {
	display: inline-block;
}

</style><style>
.icon-new { width: 26px; height: 12px; display: inline-block; background: url(view/img/new.gif)}
</style>

<link rel="stylesheet" href="https://www.kanxue.com/view/js/layer/skin/default/layer.css?v=3.0.3303" id="layuicss-skinlayercss" /><script src="https://www.google-analytics.com/ga.js"></script></head>

<body><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="position: absolute; width: 0px; height: 0px; overflow: hidden;"><symbol id="icon-group_101" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#93E4D8"/><path d="M569.6 224v588.8h57.6V224zM1004.8 505.6v300.8h-57.6v-25.6h-204.8v32h-57.6V505.6h320z m-57.6 57.6h-70.4v160h70.4V563.2z m-128 0h-76.8v160h76.8V563.2zM851.2 364.8l-44.8 32c32 32 64 64 83.2 96l44.8-32c-19.2-25.6-44.8-57.6-83.2-96zM460.8 300.8V704h64V300.8z" fill="#FFFFFF"/><path d="M761.6 358.4h256v-64h-224l12.8-44.8c0-6.4 6.4-12.8 6.4-19.2l-57.6-12.8c-32 89.6-70.4 153.6-108.8 204.8l38.4 51.2c32-32 57.6-76.8 76.8-115.2zM1363.2 268.8v480h-57.6V704h-76.8v57.6h-64V268.8h198.4zM1305.6 512h-76.8v140.8h76.8V512z m0-192h-76.8v134.4h76.8V320zM1459.2 460.8l-51.2 32c38.4 57.6 70.4 115.2 89.6 160l51.2-38.4c-19.2-44.8-51.2-96-89.6-153.6z" fill="#FFFFFF"/><path d="M1600 806.4h-115.2l-12.8-57.6h108.8c12.8 0 25.6-6.4 25.6-25.6V390.4h-211.2v-57.6h211.2V224h64v108.8h70.4v57.6h-70.4v345.6c-6.4 51.2-32 70.4-70.4 70.4z" fill="#FFFFFF"/></symbol><symbol id="icon-group_102" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#81E2ED"/><path d="M608 499.2c12.8 25.6 32 51.2 51.2 83.2l38.4-51.2c-25.6-32-57.6-64-83.2-96v-32h70.4v-57.6H608V224h-64v121.6H460.8v57.6h83.2C524.8 473.6 492.8 544 448 601.6l25.6 64c32-44.8 57.6-102.4 70.4-160v300.8h64V499.2z" fill="#FFFFFF"/><path d="M972.8 243.2v38.4c-12.8 51.2-25.6 102.4-32 140.8h76.8v32c-12.8 83.2-44.8 160-83.2 217.6 32 32 70.4 64 115.2 89.6l-44.8 51.2c-38.4-32-76.8-57.6-108.8-96-38.4 38.4-83.2 70.4-134.4 96l-38.4-57.6c51.2-25.6 96-51.2 128-89.6-32-44.8-57.6-89.6-70.4-140.8-19.2 121.6-57.6 217.6-108.8 281.6l-51.2-38.4c70.4-83.2 108.8-224 108.8-409.6v-57.6h-64v-57.6h307.2z m-64 57.6h-121.6v89.6c12.8 89.6 51.2 166.4 102.4 236.8 32-44.8 51.2-96 64-147.2h-89.6c12.8-38.4 25.6-83.2 32-134.4l12.8-44.8zM1644.8 608v204.8h-57.6v-25.6h-256v25.6h-57.6V608h371.2z m-57.6 51.2h-256v76.8h256v-76.8z" fill="#FFFFFF"/><path d="M1363.2 326.4l57.6 12.8c-6.4 12.8-12.8 25.6-25.6 32h230.4v51.2c-25.6 32-57.6 64-102.4 89.6 64 25.6 134.4 38.4 217.6 38.4l-12.8 57.6c-102.4-6.4-192-25.6-268.8-64-76.8 32-166.4 57.6-281.6 76.8l-25.6-57.6c96-12.8 179.2-32 243.2-57.6-25.6-12.8-51.2-32-70.4-51.2l-76.8 57.6-38.4-44.8c57.6-38.4 108.8-83.2 153.6-140.8z m185.6 96h-185.6c32 25.6 57.6 44.8 96 57.6 38.4-12.8 70.4-32 89.6-57.6z" fill="#FFFFFF"/><path d="M1715.2 262.4v128h-64V320h-409.6v76.8h-64v-128H1408l-19.2-38.4 70.4-12.8c6.4 12.8 12.8 32 19.2 44.8h236.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_7" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#C1D5E4"/><path d="M563.2 486.4v51.2h435.2v-51.2H563.2zM512 576v57.6h249.6v102.4c0 12.8-6.4 19.2-19.2 19.2-19.2 0-32 0-51.2-6.4l12.8 57.6h57.6c38.4 0 64-19.2 64-57.6V633.6h230.4V576H512z m409.6 76.8l-32 44.8c44.8 25.6 89.6 64 128 108.8l32-51.2c-32-38.4-76.8-76.8-128-102.4z m-294.4 0c-32 38.4-70.4 70.4-121.6 102.4l38.4 51.2c51.2-32 89.6-70.4 128-115.2l-44.8-38.4zM512 262.4V320h96c-32 38.4-64 70.4-108.8 96l32 51.2c32-25.6 64-57.6 83.2-102.4v102.4h57.6V364.8c12.8 12.8 32 32 51.2 57.6l32-51.2c-19.2-12.8-51.2-32-76.8-51.2H768v-57.6h-89.6v-51.2h-64v51.2H512z m281.6 0V320h64c-25.6 38.4-57.6 70.4-96 96l32 51.2c32-32 57.6-70.4 83.2-115.2v115.2h57.6V345.6c19.2 38.4 51.2 76.8 83.2 115.2l38.4-51.2c-38.4-25.6-70.4-57.6-89.6-89.6h89.6v-57.6h-108.8v-51.2h-57.6v51.2h-96z m691.2-44.8h64v204.8h192v57.6h-192v243.2h230.4v57.6h-569.6v-57.6h102.4V326.4h64v390.4h121.6V217.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_104" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#72D6FF"/><path d="M460.8 384v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320H1024V384h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H460.8zM1216 480v332.8h64V384c25.6-44.8 44.8-89.6 57.6-140.8l-57.6-25.6c-25.6 96-70.4 185.6-128 262.4l19.2 64c12.8-25.6 32-44.8 44.8-64zM1644.8 371.2c-12.8 44.8-25.6 83.2-44.8 115.2l51.2 19.2c19.2-32 32-70.4 44.8-115.2l-51.2-19.2zM1395.2 371.2l-51.2 19.2c12.8 32 25.6 70.4 38.4 108.8l51.2-12.8c-12.8-44.8-25.6-76.8-38.4-115.2z" fill="#FFFFFF"/><path d="M1337.6 294.4h160V224h57.6v70.4h160v57.6h-160v70.4c0 32 0 64-6.4 89.6H1728v57.6h-160c38.4 70.4 96 134.4 179.2 185.6l-44.8 51.2c-83.2-64-140.8-134.4-179.2-211.2-32 96-102.4 166.4-198.4 211.2l-38.4-51.2c96-25.6 160-89.6 185.6-179.2h-153.6v-57.6h166.4c6.4-25.6 6.4-51.2 6.4-76.8V352h-160v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_114" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFA966"/><path d="M1030.4 352h-121.6c19.2-25.6 44.8-64 64-102.4l-64-25.6c-19.2 44.8-44.8 89.6-70.4 128H601.6l38.4-19.2c-19.2-38.4-38.4-70.4-57.6-102.4l-57.6 25.6c19.2 25.6 44.8 57.6 64 89.6H473.6v153.6h57.6V409.6h435.2v96h57.6V352z" fill="#FFFFFF"/><path d="M576 448v51.2h256l-19.2 12.8c-25.6 12.8-51.2 25.6-83.2 38.4v51.2h-256v57.6h256v76.8c0 12.8-6.4 25.6-19.2 25.6H633.6l12.8 57.6h83.2c38.4 0 57.6-19.2 57.6-57.6v-102.4H1024v-57.6h-236.8V576c51.2-25.6 96-51.2 134.4-76.8V448H576zM736 217.6l-57.6 25.6c19.2 32 44.8 64 64 102.4l51.2-25.6c-19.2-38.4-38.4-70.4-57.6-102.4zM1459.2 224v64H1600v57.6h-140.8v64H1536c51.2-38.4 96-76.8 134.4-121.6l19.2-25.6 44.8 32c-25.6 32-51.2 57.6-83.2 89.6l-25.6 19.2h115.2v57.6h-192l-25.6 12.8c-19.2 12.8-38.4 25.6-64 32l-19.2 6.4h217.6v294.4h-64v-12.8h-256v25.6h-64V588.8l-102.4 38.4-25.6-57.6c89.6-19.2 172.8-51.2 249.6-89.6l32-12.8h-268.8v-64h230.4v-57.6H1216v-57.6h172.8v-64h70.4z m147.2 454.4h-256v57.6h256v-57.6z m0-102.4h-256v57.6h256V576z" fill="#FFFFFF"/></symbol><symbol id="icon-group_21" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#63AFFF"/><path d="M729.6 217.6C652.8 300.8 563.2 371.2 448 422.4l32 57.6c108.8-57.6 204.8-128 268.8-211.2 76.8 89.6 160 160 268.8 211.2l32-57.6c-102.4-44.8-198.4-115.2-275.2-204.8h-44.8z" fill="#FFFFFF"/><path d="M736 390.4v332.8H627.2V480h-57.6v243.2H480v64h537.6v-64h-217.6V582.4h166.4v-57.6h-166.4V390.4zM1356.8 224v499.2h-185.6v64h569.6v-64h-185.6V224h-64v499.2h-76.8V224z" fill="#FFFFFF"/><path d="M1670.4 339.2c-25.6 115.2-57.6 211.2-96 281.6l57.6 19.2c38.4-83.2 70.4-179.2 96-288l-57.6-12.8zM1235.2 339.2c32 83.2 64 185.6 89.6 294.4l-57.6 12.8c-19.2-102.4-51.2-198.4-83.2-288l51.2-19.2z" fill="#FFFFFF"/></symbol><symbol id="icon-group_118" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FF997D"/><path d="M473.6 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 313.6l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-51.2h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H473.6zM1190.4 300.8V640h57.6V300.8z" fill="#FFFFFF"/><path d="M1292.8 211.2v307.2c0 108.8-38.4 192-108.8 243.2l44.8 38.4c76.8-57.6 121.6-153.6 121.6-281.6V211.2h-57.6zM1388.8 230.4h358.4v57.6h-153.6v70.4H1728v313.6c0 38.4-19.2 64-51.2 64h-44.8l-12.8-57.6 38.4 6.4c12.8-6.4 19.2-12.8 19.2-25.6V416H1600v384h-57.6v-384h-76.8v320H1408V358.4h134.4V288h-153.6v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_2" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#798FEC"/><path d="M1011.2 505.6v204.8h-256V505.6h256z m-57.6 51.2h-140.8v102.4h140.8V556.8z" fill="#FFFFFF"/><path d="M480 294.4H576V211.2h57.6v83.2h89.6v51.2H633.6v83.2h89.6v57.6h-76.8v76.8h76.8v57.6h-76.8v96h6.4c32 12.8 115.2 19.2 236.8 19.2h19.2c57.6 0 96 0 128-6.4l-6.4 64h-108.8c-160 0-262.4-6.4-307.2-25.6-32-12.8-57.6-38.4-83.2-76.8-6.4 38.4-19.2 76.8-32 108.8l-44.8-38.4c25.6-76.8 38.4-153.6 44.8-243.2l51.2 6.4c0 38.4-6.4 70.4-6.4 96 12.8 25.6 32 44.8 44.8 57.6v-192H473.6v-57.6h96V345.6H480v-51.2z" fill="#FFFFFF"/><path d="M742.4 294.4v-57.6H1024c0 115.2-6.4 179.2-19.2 204.8-19.2 25.6-38.4 32-64 32h-51.2l-12.8-51.2h51.2c12.8 0 25.6-6.4 25.6-19.2 6.4-12.8 6.4-51.2 6.4-108.8h-83.2c-6.4 44.8-19.2 76.8-32 102.4-19.2 32-44.8 57.6-76.8 83.2l-44.8-44.8c32-19.2 51.2-38.4 70.4-64 12.8-19.2 19.2-44.8 25.6-76.8h-76.8zM1312 217.6h57.6V384h38.4v64h-147.2v70.4h121.6v281.6h-57.6V576h-64c-6.4 89.6-25.6 166.4-51.2 211.2l-51.2-32c25.6-57.6 38.4-153.6 38.4-281.6V230.4h57.6V384h51.2V217.6z" fill="#FFFFFF"/><path d="M1708.8 217.6l25.6 51.2c-76.8 19.2-153.6 32-249.6 38.4v83.2h230.4v51.2c-6.4 89.6-32 160-70.4 217.6 32 38.4 64 70.4 108.8 89.6l-32 51.2c-44.8-25.6-83.2-51.2-115.2-96-32 38.4-70.4 70.4-121.6 96l-25.6-51.2c44.8-25.6 83.2-51.2 115.2-89.6-32-57.6-57.6-128-70.4-204.8h-12.8v51.2c0 121.6-25.6 224-64 294.4l-44.8-44.8c32-57.6 51.2-140.8 51.2-249.6V256c102.4 0 192-12.8 275.2-38.4zM1664 454.4h-108.8c12.8 64 32 115.2 51.2 153.6 32-51.2 44.8-102.4 57.6-153.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_8" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#CDA6F4"/><path d="M550.4 268.8l185.6 512H832l185.6-512h-83.2l-147.2 422.4-153.6-422.4H550.4z m518.4 0v512h76.8v-512h-76.8z m172.8 0v512h76.8V582.4h134.4c121.6 0 185.6-51.2 185.6-153.6 0-102.4-57.6-153.6-179.2-153.6h-217.6z m83.2 64h128c38.4 0 64 6.4 83.2 19.2 19.2 12.8 25.6 38.4 25.6 64s-12.8 64-25.6 76.8c-19.2 12.8-44.8 19.2-83.2 19.2h-128V332.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_6" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#C1D5E4"/><path d="M774.4 416V448h179.2v-38.4c19.2 19.2 38.4 44.8 64 64l32-51.2c-76.8-57.6-128-128-160-204.8h-51.2c-38.4 83.2-89.6 153.6-160 211.2l32 51.2 64-64z m166.4-19.2h-147.2c25.6-32 51.2-76.8 76.8-121.6 12.8 44.8 38.4 83.2 70.4 121.6z m-243.2 326.4v57.6h345.6v-57.6H960c25.6-64 44.8-140.8 57.6-230.4l-57.6-12.8c-19.2 96-38.4 179.2-57.6 243.2h-204.8zM768 499.2l-51.2 19.2c19.2 57.6 38.4 115.2 51.2 172.8l51.2-12.8c-19.2-64-32-128-51.2-179.2z m96-19.2l-51.2 19.2c19.2 51.2 32 108.8 44.8 166.4l51.2-12.8c-12.8-64-32-121.6-44.8-172.8zM620.8 294.4l-25.6 211.2h-64l25.6-166.4h-57.6l-25.6 217.6h160v32c0 70.4-6.4 115.2-6.4 128-6.4 19.2-25.6 25.6-51.2 25.6-6.4 0-25.6 0-44.8-6.4l12.8 51.2h44.8c38.4 0 70.4-12.8 83.2-32 12.8-25.6 19.2-108.8 19.2-256h-38.4l32-262.4H473.6v57.6h147.2z m-12.8 307.2c-44.8 12.8-89.6 25.6-147.2 32l6.4 57.6c51.2-12.8 96-25.6 140.8-38.4v-51.2z m934.4-300.8v422.4H1472V396.8h-57.6v326.4h-57.6v57.6h390.4v-57.6h-134.4V518.4H1728v-57.6h-115.2V300.8H1728v-57.6h-358.4v57.6h172.8z m-294.4-76.8l-38.4 38.4c44.8 32 76.8 64 102.4 96l32-44.8c-25.6-32-57.6-57.6-96-89.6z m-89.6 179.2h140.8v262.4c19.2-12.8 32-32 57.6-51.2l12.8 64c-38.4 38.4-76.8 70.4-121.6 96l-25.6-57.6c12.8-6.4 12.8-19.2 12.8-32V460.8h-89.6v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_110" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFC55F"/><path d="M460.8 403.2v64h160c-12.8 44.8-25.6 83.2-44.8 128h307.2c-32 38.4-76.8 70.4-128 102.4-32-12.8-76.8-25.6-121.6-38.4l-32 44.8c102.4 25.6 198.4 64 294.4 108.8l32-51.2c-32-12.8-64-25.6-102.4-38.4 64-44.8 108.8-89.6 134.4-128v-57.6h-294.4c12.8-25.6 19.2-44.8 25.6-70.4h345.6v-64H704l12.8-38.4c0-6.4 6.4-12.8 6.4-25.6h281.6v-57.6h-268.8c6.4-19.2 6.4-44.8 12.8-70.4h-64l-12.8 70.4H505.6v57.6h153.6l-19.2 64H460.8zM1548.8 563.2c32 83.2 76.8 160 147.2 217.6l44.8-51.2c-64-44.8-115.2-108.8-140.8-179.2 38.4-19.2 76.8-38.4 108.8-57.6l-38.4-38.4c-51.2 32-102.4 57.6-160 70.4-12.8-25.6-25.6-44.8-44.8-64l19.2-19.2c6.4-6.4 12.8-6.4 12.8-12.8h140.8v-57.6h-377.6v57.6h140.8c-12.8 6.4-25.6 12.8-44.8 19.2-51.2 19.2-108.8 38.4-166.4 51.2l38.4 51.2c76.8-25.6 134.4-44.8 179.2-64h6.4c6.4 6.4 12.8 12.8 19.2 25.6-57.6 44.8-140.8 76.8-243.2 102.4l32 51.2c102.4-32 179.2-64 236.8-108.8 6.4 12.8 12.8 25.6 12.8 38.4-70.4 57.6-166.4 102.4-294.4 134.4l32 51.2c108.8-32 204.8-76.8 268.8-128v19.2c0 38.4-6.4 57.6-12.8 70.4-6.4 12.8-32 12.8-70.4 12.8h-32l19.2 51.2h19.2c57.6 0 96-12.8 115.2-32 12.8-19.2 19.2-57.6 19.2-108.8 0-32-6.4-64-12.8-96 12.8 0 19.2-6.4 25.6-6.4z" fill="#FFFFFF"/><path d="M1472 211.2c6.4 19.2 12.8 32 19.2 57.6h243.2v121.6h-57.6v-64h-428.8v64h-64V268.8h249.6c-6.4-19.2-12.8-32-19.2-44.8l57.6-12.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_4" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#93ABF4"/><path d="M595.2 217.6V384h-51.2V230.4h-57.6v236.8c0 128-12.8 224-38.4 288l44.8 38.4c25.6-51.2 44.8-121.6 51.2-217.6h64v224h57.6V518.4H544v-32V448h140.8V384h-32V217.6h-57.6z" fill="#FFFFFF"/><path d="M992 217.6l32 51.2c-76.8 25.6-160 38.4-249.6 38.4v83.2h236.8v51.2c-19.2 89.6-44.8 160-83.2 224 32 38.4 64 70.4 108.8 89.6l-32 51.2c-44.8-25.6-83.2-57.6-115.2-96-32 38.4-70.4 70.4-115.2 96l-32-51.2c44.8-25.6 83.2-57.6 115.2-96-32-57.6-57.6-121.6-70.4-204.8h-12.8v51.2c0 121.6-25.6 224-64 294.4l-44.8-44.8c32-57.6 51.2-140.8 51.2-249.6V256c102.4 0 192-12.8 275.2-38.4z m-44.8 236.8h-102.4c12.8 57.6 25.6 108.8 51.2 153.6 25.6-44.8 44.8-96 51.2-153.6zM1414.4 377.6h-230.4V320h230.4c-12.8-32-19.2-64-38.4-89.6l57.6-19.2c12.8 38.4 25.6 70.4 38.4 102.4h236.8v57.6h-230.4v134.4h204.8v57.6h-204.8v160h256v57.6h-569.6v-57.6h256V569.6h-211.2V512H1408V377.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_107" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#96C7F9"/><path d="M486.4 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-179.2 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-57.6h-256c6.4-38.4 6.4-83.2 6.4-121.6v-44.8h-64v57.6c0 38.4 0 70.4-6.4 108.8H486.4zM1292.8 396.8c-19.2 44.8-44.8 76.8-70.4 115.2l-38.4-51.2c44.8-57.6 83.2-134.4 115.2-230.4l57.6 12.8-38.4 96h134.4V204.8h64v128H1728v64h-211.2v147.2h243.2v57.6h-243.2v192h-64v-192h-268.8v-64h268.8V396.8h-160z" fill="#FFFFFF"/></symbol><symbol id="icon-group_117" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFA966"/><path d="M1030.4 352h-121.6c19.2-25.6 44.8-64 64-102.4l-64-25.6c-19.2 44.8-44.8 89.6-70.4 128H601.6l38.4-19.2c-19.2-38.4-38.4-70.4-57.6-102.4l-57.6 25.6c19.2 25.6 44.8 57.6 64 89.6H473.6v153.6h57.6V409.6h435.2v96h57.6V352z" fill="#FFFFFF"/><path d="M576 448v51.2h256l-19.2 12.8c-25.6 12.8-51.2 25.6-83.2 38.4v51.2h-256v57.6h256v76.8c0 12.8-6.4 25.6-19.2 25.6H633.6l12.8 57.6h83.2c38.4 0 57.6-19.2 57.6-57.6v-102.4H1024v-57.6h-236.8V576c51.2-25.6 96-51.2 134.4-76.8V448H576zM736 217.6l-57.6 25.6c19.2 32 44.8 64 64 102.4l51.2-25.6c-19.2-38.4-38.4-70.4-57.6-102.4zM1459.2 224v64H1600v57.6h-140.8v64H1536c51.2-38.4 96-76.8 134.4-121.6l19.2-25.6 44.8 32c-25.6 32-51.2 57.6-83.2 89.6l-25.6 19.2h115.2v57.6h-192l-25.6 12.8c-19.2 12.8-38.4 25.6-64 32l-19.2 6.4h217.6v294.4h-64v-12.8h-256v25.6h-64V588.8l-102.4 38.4-25.6-57.6c89.6-19.2 172.8-51.2 249.6-89.6l32-12.8h-268.8v-64h230.4v-57.6H1216v-57.6h172.8v-64h70.4z m147.2 454.4h-256v57.6h256v-57.6z m0-102.4h-256v57.6h256V576z" fill="#FFFFFF"/></symbol><symbol id="icon-group_115" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFA966"/><path d="M1030.4 352h-121.6c19.2-25.6 44.8-64 64-102.4l-64-25.6c-19.2 44.8-44.8 89.6-70.4 128H601.6l38.4-19.2c-19.2-38.4-38.4-70.4-57.6-102.4l-57.6 25.6c19.2 25.6 44.8 57.6 64 89.6H473.6v153.6h57.6V409.6h435.2v96h57.6V352z" fill="#FFFFFF"/><path d="M576 448v51.2h256l-19.2 12.8c-25.6 12.8-51.2 25.6-83.2 38.4v51.2h-256v57.6h256v76.8c0 12.8-6.4 25.6-19.2 25.6H633.6l12.8 57.6h83.2c38.4 0 57.6-19.2 57.6-57.6v-102.4H1024v-57.6h-236.8V576c51.2-25.6 96-51.2 134.4-76.8V448H576zM736 217.6l-57.6 25.6c19.2 32 44.8 64 64 102.4l51.2-25.6c-19.2-38.4-38.4-70.4-57.6-102.4zM1459.2 224v64H1600v57.6h-140.8v64H1536c51.2-38.4 96-76.8 134.4-121.6l19.2-25.6 44.8 32c-25.6 32-51.2 57.6-83.2 89.6l-25.6 19.2h115.2v57.6h-192l-25.6 12.8c-19.2 12.8-38.4 25.6-64 32l-19.2 6.4h217.6v294.4h-64v-12.8h-256v25.6h-64V588.8l-102.4 38.4-25.6-57.6c89.6-19.2 172.8-51.2 249.6-89.6l32-12.8h-268.8v-64h230.4v-57.6H1216v-57.6h172.8v-64h70.4z m147.2 454.4h-256v57.6h256v-57.6z m0-102.4h-256v57.6h256V576z" fill="#FFFFFF"/></symbol><symbol id="icon-group_116" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFA966"/><path d="M1030.4 352h-121.6c19.2-25.6 44.8-64 64-102.4l-64-25.6c-19.2 44.8-44.8 89.6-70.4 128H601.6l38.4-19.2c-19.2-38.4-38.4-70.4-57.6-102.4l-57.6 25.6c19.2 25.6 44.8 57.6 64 89.6H473.6v153.6h57.6V409.6h435.2v96h57.6V352z" fill="#FFFFFF"/><path d="M576 448v51.2h256l-19.2 12.8c-25.6 12.8-51.2 25.6-83.2 38.4v51.2h-256v57.6h256v76.8c0 12.8-6.4 25.6-19.2 25.6H633.6l12.8 57.6h83.2c38.4 0 57.6-19.2 57.6-57.6v-102.4H1024v-57.6h-236.8V576c51.2-25.6 96-51.2 134.4-76.8V448H576zM736 217.6l-57.6 25.6c19.2 32 44.8 64 64 102.4l51.2-25.6c-19.2-38.4-38.4-70.4-57.6-102.4zM1459.2 224v64H1600v57.6h-140.8v64H1536c51.2-38.4 96-76.8 134.4-121.6l19.2-25.6 44.8 32c-25.6 32-51.2 57.6-83.2 89.6l-25.6 19.2h115.2v57.6h-192l-25.6 12.8c-19.2 12.8-38.4 25.6-64 32l-19.2 6.4h217.6v294.4h-64v-12.8h-256v25.6h-64V588.8l-102.4 38.4-25.6-57.6c89.6-19.2 172.8-51.2 249.6-89.6l32-12.8h-268.8v-64h230.4v-57.6H1216v-57.6h172.8v-64h70.4z m147.2 454.4h-256v57.6h256v-57.6z m0-102.4h-256v57.6h256V576z" fill="#FFFFFF"/></symbol><symbol id="icon-group_103" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#81E2ED"/><path d="M608 499.2c12.8 25.6 32 51.2 51.2 83.2l38.4-51.2c-25.6-32-57.6-64-83.2-96v-32h70.4v-57.6H608V224h-64v121.6H460.8v57.6h83.2C524.8 473.6 492.8 544 448 601.6l25.6 64c32-44.8 57.6-102.4 70.4-160v300.8h64V499.2z" fill="#FFFFFF"/><path d="M972.8 243.2v38.4c-12.8 51.2-25.6 102.4-32 140.8h76.8v32c-12.8 83.2-44.8 160-83.2 217.6 32 32 70.4 64 115.2 89.6l-44.8 51.2c-38.4-32-76.8-57.6-108.8-96-38.4 38.4-83.2 70.4-134.4 96l-38.4-57.6c51.2-25.6 96-51.2 128-89.6-32-44.8-57.6-89.6-70.4-140.8-19.2 121.6-57.6 217.6-108.8 281.6l-51.2-38.4c70.4-83.2 108.8-224 108.8-409.6v-57.6h-64v-57.6h307.2z m-64 57.6h-121.6v89.6c12.8 89.6 51.2 166.4 102.4 236.8 32-44.8 51.2-96 64-147.2h-89.6c12.8-38.4 25.6-83.2 32-134.4l12.8-44.8zM1644.8 608v204.8h-57.6v-25.6h-256v25.6h-57.6V608h371.2z m-57.6 51.2h-256v76.8h256v-76.8z" fill="#FFFFFF"/><path d="M1363.2 326.4l57.6 12.8c-6.4 12.8-12.8 25.6-25.6 32h230.4v51.2c-25.6 32-57.6 64-102.4 89.6 64 25.6 134.4 38.4 217.6 38.4l-12.8 57.6c-102.4-6.4-192-25.6-268.8-64-76.8 32-166.4 57.6-281.6 76.8l-25.6-57.6c96-12.8 179.2-32 243.2-57.6-25.6-12.8-51.2-32-70.4-51.2l-76.8 57.6-38.4-44.8c57.6-38.4 108.8-83.2 153.6-140.8z m185.6 96h-185.6c32 25.6 57.6 44.8 96 57.6 38.4-12.8 70.4-32 89.6-57.6z" fill="#FFFFFF"/><path d="M1715.2 262.4v128h-64V320h-409.6v76.8h-64v-128H1408l-19.2-38.4 70.4-12.8c6.4 12.8 12.8 32 19.2 44.8h236.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_105" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#72D6FF"/><path d="M460.8 384v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320H1024V384h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H460.8zM1216 480v332.8h64V384c25.6-44.8 44.8-89.6 57.6-140.8l-57.6-25.6c-25.6 96-70.4 185.6-128 262.4l19.2 64c12.8-25.6 32-44.8 44.8-64zM1644.8 371.2c-12.8 44.8-25.6 83.2-44.8 115.2l51.2 19.2c19.2-32 32-70.4 44.8-115.2l-51.2-19.2zM1395.2 371.2l-51.2 19.2c12.8 32 25.6 70.4 38.4 108.8l51.2-12.8c-12.8-44.8-25.6-76.8-38.4-115.2z" fill="#FFFFFF"/><path d="M1337.6 294.4h160V224h57.6v70.4h160v57.6h-160v70.4c0 32 0 64-6.4 89.6H1728v57.6h-160c38.4 70.4 96 134.4 179.2 185.6l-44.8 51.2c-83.2-64-140.8-134.4-179.2-211.2-32 96-102.4 166.4-198.4 211.2l-38.4-51.2c96-25.6 160-89.6 185.6-179.2h-153.6v-57.6h166.4c6.4-25.6 6.4-51.2 6.4-76.8V352h-160v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_106" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#72D6FF"/><path d="M460.8 384v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320H1024V384h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H460.8zM1216 480v332.8h64V384c25.6-44.8 44.8-89.6 57.6-140.8l-57.6-25.6c-25.6 96-70.4 185.6-128 262.4l19.2 64c12.8-25.6 32-44.8 44.8-64zM1644.8 371.2c-12.8 44.8-25.6 83.2-44.8 115.2l51.2 19.2c19.2-32 32-70.4 44.8-115.2l-51.2-19.2zM1395.2 371.2l-51.2 19.2c12.8 32 25.6 70.4 38.4 108.8l51.2-12.8c-12.8-44.8-25.6-76.8-38.4-115.2z" fill="#FFFFFF"/><path d="M1337.6 294.4h160V224h57.6v70.4h160v57.6h-160v70.4c0 32 0 64-6.4 89.6H1728v57.6h-160c38.4 70.4 96 134.4 179.2 185.6l-44.8 51.2c-83.2-64-140.8-134.4-179.2-211.2-32 96-102.4 166.4-198.4 211.2l-38.4-51.2c96-25.6 160-89.6 185.6-179.2h-153.6v-57.6h166.4c6.4-25.6 6.4-51.2 6.4-76.8V352h-160v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_108" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#96C7F9"/><path d="M486.4 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-179.2 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-57.6h-256c6.4-38.4 6.4-83.2 6.4-121.6v-44.8h-64v57.6c0 38.4 0 70.4-6.4 108.8H486.4zM1292.8 396.8c-19.2 44.8-44.8 76.8-70.4 115.2l-38.4-51.2c44.8-57.6 83.2-134.4 115.2-230.4l57.6 12.8-38.4 96h134.4V204.8h64v128H1728v64h-211.2v147.2h243.2v57.6h-243.2v192h-64v-192h-268.8v-64h268.8V396.8h-160z" fill="#FFFFFF"/></symbol><symbol id="icon-group_109" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#96C7F9"/><path d="M486.4 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-179.2 256-320 51.2 134.4 134.4 243.2 256 320l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-57.6h-256c6.4-38.4 6.4-83.2 6.4-121.6v-44.8h-64v57.6c0 38.4 0 70.4-6.4 108.8H486.4zM1292.8 396.8c-19.2 44.8-44.8 76.8-70.4 115.2l-38.4-51.2c44.8-57.6 83.2-134.4 115.2-230.4l57.6 12.8-38.4 96h134.4V204.8h64v128H1728v64h-211.2v147.2h243.2v57.6h-243.2v192h-64v-192h-268.8v-64h268.8V396.8h-160z" fill="#FFFFFF"/></symbol><symbol id="icon-group_119" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FF997D"/><path d="M473.6 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 313.6l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-51.2h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H473.6zM1190.4 300.8V640h57.6V300.8z" fill="#FFFFFF"/><path d="M1292.8 211.2v307.2c0 108.8-38.4 192-108.8 243.2l44.8 38.4c76.8-57.6 121.6-153.6 121.6-281.6V211.2h-57.6zM1388.8 230.4h358.4v57.6h-153.6v70.4H1728v313.6c0 38.4-19.2 64-51.2 64h-44.8l-12.8-57.6 38.4 6.4c12.8-6.4 19.2-12.8 19.2-25.6V416H1600v384h-57.6v-384h-76.8v320H1408V358.4h134.4V288h-153.6v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_120" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FF997D"/><path d="M473.6 371.2v57.6h236.8c-32 147.2-115.2 256-249.6 320l38.4 51.2c128-70.4 217.6-172.8 256-320 51.2 134.4 134.4 243.2 256 313.6l38.4-51.2c-128-76.8-211.2-179.2-256-320h243.2v-51.2h-256c6.4-38.4 6.4-76.8 6.4-121.6v-38.4h-64v57.6c0 38.4 0 70.4-6.4 108.8H473.6zM1190.4 300.8V640h57.6V300.8z" fill="#FFFFFF"/><path d="M1292.8 211.2v307.2c0 108.8-38.4 192-108.8 243.2l44.8 38.4c76.8-57.6 121.6-153.6 121.6-281.6V211.2h-57.6zM1388.8 230.4h358.4v57.6h-153.6v70.4H1728v313.6c0 38.4-19.2 64-51.2 64h-44.8l-12.8-57.6 38.4 6.4c12.8-6.4 19.2-12.8 19.2-25.6V416H1600v384h-57.6v-384h-76.8v320H1408V358.4h134.4V288h-153.6v-57.6z" fill="#FFFFFF"/></symbol><symbol id="icon-group_111" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFC55F"/><path d="M460.8 403.2v64h160c-12.8 44.8-25.6 83.2-44.8 128h307.2c-32 38.4-76.8 70.4-128 102.4-32-12.8-76.8-25.6-121.6-38.4l-32 44.8c102.4 25.6 198.4 64 294.4 108.8l32-51.2c-32-12.8-64-25.6-102.4-38.4 64-44.8 108.8-89.6 134.4-128v-57.6h-294.4c12.8-25.6 19.2-44.8 25.6-70.4h345.6v-64H704l12.8-38.4c0-6.4 6.4-12.8 6.4-25.6h281.6v-57.6h-268.8c6.4-19.2 6.4-44.8 12.8-70.4h-64l-12.8 70.4H505.6v57.6h153.6l-19.2 64H460.8zM1548.8 563.2c32 83.2 76.8 160 147.2 217.6l44.8-51.2c-64-44.8-115.2-108.8-140.8-179.2 38.4-19.2 76.8-38.4 108.8-57.6l-38.4-38.4c-51.2 32-102.4 57.6-160 70.4-12.8-25.6-25.6-44.8-44.8-64l19.2-19.2c6.4-6.4 12.8-6.4 12.8-12.8h140.8v-57.6h-377.6v57.6h140.8c-12.8 6.4-25.6 12.8-44.8 19.2-51.2 19.2-108.8 38.4-166.4 51.2l38.4 51.2c76.8-25.6 134.4-44.8 179.2-64h6.4c6.4 6.4 12.8 12.8 19.2 25.6-57.6 44.8-140.8 76.8-243.2 102.4l32 51.2c102.4-32 179.2-64 236.8-108.8 6.4 12.8 12.8 25.6 12.8 38.4-70.4 57.6-166.4 102.4-294.4 134.4l32 51.2c108.8-32 204.8-76.8 268.8-128v19.2c0 38.4-6.4 57.6-12.8 70.4-6.4 12.8-32 12.8-70.4 12.8h-32l19.2 51.2h19.2c57.6 0 96-12.8 115.2-32 12.8-19.2 19.2-57.6 19.2-108.8 0-32-6.4-64-12.8-96 12.8 0 19.2-6.4 25.6-6.4z" fill="#FFFFFF"/><path d="M1472 211.2c6.4 19.2 12.8 32 19.2 57.6h243.2v121.6h-57.6v-64h-428.8v64h-64V268.8h249.6c-6.4-19.2-12.8-32-19.2-44.8l57.6-12.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_112" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFC55F"/><path d="M460.8 403.2v64h160c-12.8 44.8-25.6 83.2-44.8 128h307.2c-32 38.4-76.8 70.4-128 102.4-32-12.8-76.8-25.6-121.6-38.4l-32 44.8c102.4 25.6 198.4 64 294.4 108.8l32-51.2c-32-12.8-64-25.6-102.4-38.4 64-44.8 108.8-89.6 134.4-128v-57.6h-294.4c12.8-25.6 19.2-44.8 25.6-70.4h345.6v-64H704l12.8-38.4c0-6.4 6.4-12.8 6.4-25.6h281.6v-57.6h-268.8c6.4-19.2 6.4-44.8 12.8-70.4h-64l-12.8 70.4H505.6v57.6h153.6l-19.2 64H460.8zM1548.8 563.2c32 83.2 76.8 160 147.2 217.6l44.8-51.2c-64-44.8-115.2-108.8-140.8-179.2 38.4-19.2 76.8-38.4 108.8-57.6l-38.4-38.4c-51.2 32-102.4 57.6-160 70.4-12.8-25.6-25.6-44.8-44.8-64l19.2-19.2c6.4-6.4 12.8-6.4 12.8-12.8h140.8v-57.6h-377.6v57.6h140.8c-12.8 6.4-25.6 12.8-44.8 19.2-51.2 19.2-108.8 38.4-166.4 51.2l38.4 51.2c76.8-25.6 134.4-44.8 179.2-64h6.4c6.4 6.4 12.8 12.8 19.2 25.6-57.6 44.8-140.8 76.8-243.2 102.4l32 51.2c102.4-32 179.2-64 236.8-108.8 6.4 12.8 12.8 25.6 12.8 38.4-70.4 57.6-166.4 102.4-294.4 134.4l32 51.2c108.8-32 204.8-76.8 268.8-128v19.2c0 38.4-6.4 57.6-12.8 70.4-6.4 12.8-32 12.8-70.4 12.8h-32l19.2 51.2h19.2c57.6 0 96-12.8 115.2-32 12.8-19.2 19.2-57.6 19.2-108.8 0-32-6.4-64-12.8-96 12.8 0 19.2-6.4 25.6-6.4z" fill="#FFFFFF"/><path d="M1472 211.2c6.4 19.2 12.8 32 19.2 57.6h243.2v121.6h-57.6v-64h-428.8v64h-64V268.8h249.6c-6.4-19.2-12.8-32-19.2-44.8l57.6-12.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_113" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#FFC55F"/><path d="M460.8 403.2v64h160c-12.8 44.8-25.6 83.2-44.8 128h307.2c-32 38.4-76.8 70.4-128 102.4-32-12.8-76.8-25.6-121.6-38.4l-32 44.8c102.4 25.6 198.4 64 294.4 108.8l32-51.2c-32-12.8-64-25.6-102.4-38.4 64-44.8 108.8-89.6 134.4-128v-57.6h-294.4c12.8-25.6 19.2-44.8 25.6-70.4h345.6v-64H704l12.8-38.4c0-6.4 6.4-12.8 6.4-25.6h281.6v-57.6h-268.8c6.4-19.2 6.4-44.8 12.8-70.4h-64l-12.8 70.4H505.6v57.6h153.6l-19.2 64H460.8zM1548.8 563.2c32 83.2 76.8 160 147.2 217.6l44.8-51.2c-64-44.8-115.2-108.8-140.8-179.2 38.4-19.2 76.8-38.4 108.8-57.6l-38.4-38.4c-51.2 32-102.4 57.6-160 70.4-12.8-25.6-25.6-44.8-44.8-64l19.2-19.2c6.4-6.4 12.8-6.4 12.8-12.8h140.8v-57.6h-377.6v57.6h140.8c-12.8 6.4-25.6 12.8-44.8 19.2-51.2 19.2-108.8 38.4-166.4 51.2l38.4 51.2c76.8-25.6 134.4-44.8 179.2-64h6.4c6.4 6.4 12.8 12.8 19.2 25.6-57.6 44.8-140.8 76.8-243.2 102.4l32 51.2c102.4-32 179.2-64 236.8-108.8 6.4 12.8 12.8 25.6 12.8 38.4-70.4 57.6-166.4 102.4-294.4 134.4l32 51.2c108.8-32 204.8-76.8 268.8-128v19.2c0 38.4-6.4 57.6-12.8 70.4-6.4 12.8-32 12.8-70.4 12.8h-32l19.2 51.2h19.2c57.6 0 96-12.8 115.2-32 12.8-19.2 19.2-57.6 19.2-108.8 0-32-6.4-64-12.8-96 12.8 0 19.2-6.4 25.6-6.4z" fill="#FFFFFF"/><path d="M1472 211.2c6.4 19.2 12.8 32 19.2 57.6h243.2v121.6h-57.6v-64h-428.8v64h-64V268.8h249.6c-6.4-19.2-12.8-32-19.2-44.8l57.6-12.8z" fill="#FFFFFF"/></symbol><symbol id="icon-group_5" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#A6DEF4"/><path d="M768 672c83.2 32 166.4 76.8 243.2 128l32-51.2c-70.4-44.8-153.6-83.2-243.2-121.6 6.4 0 6.4-6.4 12.8-12.8h224v-57.6h-198.4c12.8-38.4 19.2-83.2 19.2-128V352h-57.6v76.8c0 44.8-12.8 89.6-25.6 128H492.8v57.6h249.6l-12.8 12.8c-44.8 51.2-121.6 89.6-243.2 121.6l32 51.2c115.2-32 198.4-70.4 249.6-128z" fill="#FFFFFF"/><path d="M582.4 435.2l-32 44.8c44.8 19.2 89.6 38.4 128 70.4l32-51.2c-38.4-25.6-83.2-44.8-128-64zM646.4 345.6l-32 44.8c44.8 19.2 83.2 38.4 128 70.4l32-51.2c-38.4-25.6-83.2-44.8-128-64z" fill="#FFFFFF"/><path d="M1030.4 262.4h-230.4c-6.4-19.2-12.8-38.4-25.6-57.6l-64 12.8c6.4 12.8 12.8 32 19.2 51.2H492.8v128h57.6V320h416v76.8h57.6V262.4zM1555.2 499.2c-96 57.6-211.2 108.8-345.6 147.2l25.6 57.6c134.4-44.8 243.2-96 332.8-147.2l-12.8-57.6zM1312 352l-44.8 44.8c57.6 44.8 96 76.8 128 115.2l38.4-44.8c-25.6-38.4-70.4-70.4-121.6-115.2z" fill="#FFFFFF"/><path d="M1491.2 793.6l-19.2-57.6h108.8c19.2 0 32-6.4 38.4-25.6 6.4-12.8 12.8-51.2 12.8-102.4V524.8 294.4h-409.6v-51.2h480l-6.4 166.4c0 115.2-6.4 192-6.4 224v6.4c0 57.6-12.8 102.4-25.6 121.6-12.8 19.2-38.4 32-70.4 32h-102.4z" fill="#FFFFFF"/></symbol><symbol id="icon-group_1" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#A69FF4"/><path d="M691.2 249.6v57.6h307.2v-57.6zM665.6 428.8v57.6h115.2c-25.6 83.2-44.8 147.2-70.4 198.4-6.4 12.8-25.6 19.2-44.8 25.6l12.8 57.6 96-12.8c83.2-12.8 147.2-19.2 192-32 6.4 19.2 12.8 44.8 19.2 64l57.6-12.8c-25.6-89.6-57.6-172.8-96-243.2l-57.6 19.2 57.6 115.2c-57.6 12.8-115.2 25.6-172.8 32 25.6-51.2 44.8-121.6 70.4-211.2h192v-57.6h-371.2zM454.4 371.2v57.6h70.4v217.6l-76.8 19.2 12.8 64c76.8-19.2 140.8-44.8 204.8-76.8v-64c-25.6 12.8-57.6 25.6-76.8 38.4v-192h64v-64h-64V211.2h-64v160H454.4zM1420.8 371.2h-230.4v-57.6h230.4c-12.8-32-25.6-64-38.4-89.6l64-19.2c12.8 38.4 25.6 70.4 38.4 102.4h236.8v57.6h-230.4v134.4h204.8v57.6h-204.8v160h256v57.6h-569.6v-57.6h256V563.2h-198.4v-57.6h198.4V371.2z" fill="#FFFFFF"/></symbol><symbol id="icon-group_0" viewBox="0 0 2176 1024"><path d="M512 64h1152c249.6 0 448 198.4 448 448s-198.4 448-448 448H512c-249.6 0-448-198.4-448-448s198.4-448 448-448z" fill="#AAE3C5"/><path d="M870.4 358.4h172.8v-57.6h-153.6l19.2-76.8-57.6-12.8c-12.8 83.2-38.4 153.6-76.8 198.4l38.4 44.8c19.2-25.6 38.4-57.6 57.6-96zM499.2 224l-44.8 38.4c38.4 32 64 57.6 83.2 83.2l44.8-44.8c-19.2-25.6-51.2-51.2-83.2-76.8zM492.8 384l-38.4 38.4c38.4 32 70.4 64 89.6 89.6l44.8-44.8c-25.6-25.6-57.6-51.2-96-83.2zM524.8 556.8C505.6 633.6 480 704 448 774.4l57.6 25.6c25.6-64 51.2-140.8 76.8-217.6l-57.6-25.6z" fill="#FFFFFF"/><path d="M633.6 371.2v32c0 166.4-25.6 281.6-76.8 358.4l44.8 38.4c44.8-70.4 76.8-166.4 83.2-294.4h44.8v102.4c0 57.6-6.4 89.6-6.4 102.4 0 19.2-6.4 32-19.2 32h-51.2l12.8 51.2h44.8c38.4 0 57.6-19.2 64-57.6v-12.8c6.4-44.8 6.4-134.4 6.4-275.2h-89.6V371.2h108.8v-57.6h-70.4c-12.8-38.4-19.2-70.4-25.6-102.4l-64 12.8c6.4 25.6 19.2 57.6 25.6 89.6H582.4v57.6h51.2zM844.8 416v51.2h108.8l-12.8 19.2c-12.8 12.8-25.6 32-38.4 44.8v38.4h-89.6v51.2h89.6V704c0 25.6-6.4 32-12.8 32h-51.2l12.8 57.6h57.6c32 6.4 51.2-19.2 51.2-64V627.2h83.2v-57.6H960v-32c25.6-19.2 44.8-44.8 64-70.4v-51.2h-179.2zM1644.8 601.6v204.8h-57.6v-25.6h-256v25.6h-57.6V601.6h371.2z m-57.6 51.2h-256v76.8h256v-76.8z" fill="#FFFFFF"/><path d="M1363.2 320l57.6 12.8c-6.4 12.8-12.8 25.6-25.6 32h230.4v51.2c-25.6 32-57.6 64-102.4 89.6 64 25.6 134.4 38.4 217.6 38.4l-12.8 57.6c-102.4-6.4-192-25.6-268.8-64-76.8 32-166.4 57.6-281.6 76.8l-25.6-57.6c96-12.8 179.2-32 243.2-57.6-25.6-19.2-51.2-32-76.8-57.6l-76.8 57.6-38.4-44.8c64-32 115.2-76.8 160-134.4z m192 96h-185.6c32 25.6 57.6 44.8 96 57.6 32-12.8 64-32 89.6-57.6z" fill="#FFFFFF"/><path d="M1715.2 256v128h-64V313.6h-409.6v76.8h-64v-128H1408l-19.2-38.4 64-12.8c6.4 12.8 12.8 32 19.2 44.8h243.2z" fill="#FFFFFF"/></symbol></svg>
	
<style>
	.top-banner {
		height: 100px;
		overflow: hidden;
		display: none;
		background:#0d1e28 url('');
		background-repeat: no-repeat;
		background-position: center center;
		background-size: cover;
	}
	@media only screen and (max-width: 780px) {
		.top-banner-section {
			display: none;
		}
	}
</style>
<!-- 顶部广告条 -->
<!-- 顶部广告条结束 -->	
	<style>
.btn-default {
    color: #333;
    background-color: #fff;
    border-color: #ccc;
}
#header {
    /* border-top: 3px solid #0099ee; */
    box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 0.1), 0 1px rgba(0, 0, 0, 0.1);
    background: #fafafa;
}

#header .container {
    height: 64px;
    line-height: 64px;
}

#header .navbar {
    padding: 0;
}

#header nav li.nav-item {
    line-height: 34px;
}

#header nav a.nav-link {
    font-size: 16px;
    color: #757575;
    font-weight: 500;
    text-decoration: none;
}
#header .login_btn,  #header .reg_btn{
	font-size: 13px;
	padding: 4px 16px;
	
	font-weight: 500;
	color: #0099ee;
	text-decoration: none;
	border: 1px solid #0099ee;
}
#header .reg_btn {
	color: #fff;
	background: #0099ee;
}
#header nav a.nav-link,
#header nav .dropdown {
    padding: 0 1rem;
}

#header nav a.nav-link:hover {
    background-color: #F3F3F3;
}

#header nav li.nav-item.active a {
    color: #0099ee;
    font-weight: 600;
}

#header nav .home_seach_form {
    border: 1px solid #ccc;
    border-radius: 4px;
}

#header nav .dropdown a.dropdown-item:hover {
    color: #0099ee;
    text-decoration: none;
    background-color: #f3f3f3;
}

.dropup .dropdown-toggle::after {
    display: none !important;
}

.bottom-nav {
    /* display: none; */
    background-color: #fafafa;
    box-shadow: 0 -1px rgba(0,0,0,0.1), 0 -2px 10px rgba(0,0,0,0.1);
}
.bottom-nav .opts-group {
    position: relative;
    display: inline-block;
    /* padding-top: 6px; */
    line-height: 20px;
    color: #9e9e9e;
    cursor: pointer;
}
.bottom-nav .opts-group.active {
    color: #0099ee;
}

@media only screen and (min-width: 992px) {
    .bottom-nav, .header_seach_but {
        display: none !important;
    }
    
}
@media only screen and (max-width: 992px) {
    .nav-logo {
        margin-right: 0 !important;
    }

	.nav_user_item {
		width: 96px;
	}
	.nav_user_item .login_btn,  .nav_user_item .reg_btn {
		padding: 3px 6px !important;
	}
}

.seach_li {
    margin-left: 40px;
}

@media only screen and (max-width: 1200px) {
    .seach_li {
        margin-left: 0px !important;
        width: 100%;
        max-width: 120px !important;
    }
}
.dropdown i.angle-down {
    display: inline-block;
    transition: transform linear .2s, -webkit-transform linear .2s, -o-transform linear .2s;
    
}
.dropdown.active i.angle-down {
    transform: rotate(180deg);
}

</style>

<header id="header">
    <div class="container" style="padding-right: 15px;padding-left: 15px;">
        <nav class="navbar navbar-expand-lg navbar-light">
            <a href="/search.htm" class="header_seach_but" style="display:block; width: 96px;"><i class="icon-search" aria-hidden="true"></i></a>
            <a class="navbar-brand nav-logo" href="/" style="line-height: 0px;" title="看雪论坛-安全社区|安全招聘|bbs.pediy.com">
                <img src="plugin/kanxue/img/kanxuelogo.png" height="25" alt="看雪论坛-安全社区|安全招聘|bbs.pediy.com" />
            </a>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="//www.kanxue.com">首页</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="//www.kanxue.com/course.htm">课程</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="//www.kanxue.com/question-list.htm">问答</a>
                    </li>
                    <li class="nav-item  position-relative">
                        <div class="dropdown">
                            <a class="dropdown-toggle nav-link px-0" href="#" role="button" id="ctfdropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                CTF
                            </a>
                            <!-- <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="//passport.kanxue.com/pc/view/img/hot.png" alt=""> -->
                            <div class="dropdown-menu " aria-labelledby="ctfdropdownMenuLink">
                                <a class="dropdown-item" style="color: #212529; font-weight: 400;" href="//ctf.pediy.com">CTF竞赛</a>
                                <a class="dropdown-item" style="color: #212529; font-weight: 400;" href="//ctf.pediy.com/itembank.htm">题库</a>
                                
                            </div>
                        </div>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="//bbs.pediy.com">论坛</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="//job.kanxue.com">招聘</a>
                    </li>
                    <li class="nav-item position-relative">
                            <a class="nav-link" href="//www.kanxue.com/conference.htm">看雪峰会</a>
                            <!-- <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="//passport.kanxue.com/pc/view/img/hot.png" alt=""> -->
                    </li>
                    <li class="nav-item">
                        <div class="dropdown">
                            <a class="dropdown-toggle nav-link px-0" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                发现
                            </a>
                            <div class="dropdown-menu " aria-labelledby="dropdownMenuLink">
                                <!-- <a class="dropdown-item" href="//ctf.pediy.com">CTF</a> -->
                                <a class="dropdown-item" href="//qifu.kanxue.com">企服</a>
                                <a class="dropdown-item" href="//ce.kanxue.com">众测</a>
                                <a class="dropdown-item" href="//www.kanxue.com/rank.htm">排行榜</a>
                                <a class="dropdown-item" href="//www.kanxue.com/chm.htm">知识库</a>
                                <a class="dropdown-item" href="//www.kanxue.com/tool.htm">工具下载</a>
                                <!-- <a class="dropdown-item" href="//www.kanxue.com/conference.htm">看雪峰会</a> -->
                                <a class="dropdown-item" href="//www.kanxue.com/mrt.htm">看雪20年</a>
                                <a class="dropdown-item" href="//www.kanxue.com/shop.htm">看雪商城</a>
                                <a class="dropdown-item " href="//www.kanxue.com/certificate.htm">证书查询</a>
                            </div>
                        </div>
                    </li>
                    <li class="seach_li">
                        <form class="form-inline my-2 my-lg-0 mr-auto" action="search.htm" id="search_form" style="margin-right: 20px; max-width: 150px;">
                            <div class="input-group home_seach_form">
                                <input type="text" class="form-control border-0" name="keyword" placeholder="论坛关键词 回车搜索" />
                                <div class="input-group-append">
                                    <button class="btn px-2" type="submit" id="button-addon2">
                                        <i class="icon-search"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </li>
                </ul>
                
            </div>
            <div class="text-right nav_user_item" style="white-space: nowrap;">
                                    
                <a class="login_btn" href="//passport.kanxue.com/user-login.htm">登录</a>
                <a class="reg_btn ml-2" href="//passport.kanxue.com/user-mobile-1.htm">注册</a>
                            </div>
            
        </nav>
    </div>
</header>
<div class="position-fixed w-100 header_fiexd bottom-nav" style="width: 100%; height: 50px; bottom: 0; z-index: 2; background: #fafafa;">
    <div class="row mx-0 text-center align-items-center" style="height: 50px;">
        <a href="//www.kanxue.com" class="d-inline-blok col px-0 header_nav_a opts-group " style="max-width: 20%;">
            <div>
                <i class="icon-home"></i>
            </div>
            <div>
                首页
            </div>
        </a>
        <a href="//bbs.pediy.com" class="d-inline-blok col px-0 header_nav_a opts-group active" style="max-width: 20%;">
            <div>
                <i class="icon-comments"></i>
            </div>
            <div>
                论坛
            </div>
        </a>
        
        <a href="//www.kanxue.com/course.htm" class="d-inline-blok col px-0 header_nav_a opts-group" style="max-width: 20%;">
            <div>
                <i class="icon-book"></i>
            </div>
            <div>
                课程
            </div>
        </a>
        <a href="//job.kanxue.com" class="d-inline-blok col px-0 header_nav_a opts-group" style="max-width: 20%;">
            <div>
                <i class="icon-clipboard"></i>
            </div>
            <div>
                招聘
            </div>
        </a>
        
        <div class=" dropup d-inline-blok col px-0" style="max-width: 20%;">
            <a class="dropdown-toggle d-inline-block header_nav_a opts-group" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <div>

                    <i class="icon-list"></i>
                </div>
                <div>
                    发现
                </div>
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="//www.kanxue.com/question-list.htm">问答</a>
                <a class="dropdown-item" href="//qifu.kanxue.com">企服</a>
                <a class="dropdown-item" href="//zhuanlan.kanxue.com">专栏</a>
                <a class="dropdown-item" href="//ctf.pediy.com">CTF</a>
                <!-- <a class="dropdown-item" href="//ctf.pediy.com/itembank.htm">题库</a> -->
                <a class="dropdown-item" href="//ce.kanxue.com">众测</a>
                <a class="dropdown-item" href="//www.kanxue.com/rank.htm">排行榜</a>
                <a class="dropdown-item" href="//www.kanxue.com/chm.htm">知识库</a>
                <a class="dropdown-item" href="//www.kanxue.com/tool.htm">工具下载</a>
                <a class="dropdown-item" href="//www.kanxue.com/conference.htm">看雪峰会</a>
                <a class="dropdown-item" href="//www.kanxue.com/mrt.htm">看雪20年</a>
                <a class="dropdown-item" href="//www.kanxue.com/shop.htm">看雪商城</a>
                <a class="dropdown-item" href="//www.kanxue.com/certificate.htm">证书查询</a>
            </div>
        </div>
       
    </div>
</div>


		<main id="body">
	<div class="container">
		

			
	
<link rel="stylesheet" type="text/css" href="plugin/xn_syntax_hightlighter/syntax_hightlighter/syntax.css" />
<style>
	.table thead th {
		vertical-align: bottom;
		border-bottom: unset !important;
	}
	.postlist tr.post:first-child td {
		border-top: unset !important;
	}
	.postlist tr.post, .postlist tr.post:last-child td {
		border-bottom: unset !important;
	}
	.qqFace img:hover {
		border-color: #0066cc !important;
	}
	.btn-0099ee {
		background-color: #0099ee;
		color: #fff!important;
	}
	.btn-followed {
		background-color: #c0c5cc;
		color: #fff!important;
	}
	.thread-poptip-box {
		display: none;
		top: 0%;
		left: 100%;
		z-index: 1;
		width: 380px; 
		border-radius: 5px;
		box-shadow: 0 4px 12px 0 rgba(37,77,157,.1)!important; 
		color: #494b4d!important;
		transition: all 500ms;
	}
	.thread-poptip-box1 {
		display: none;
		top: 100%;
		right: 0;
		z-index: 1;
		width: 380px; 
		border-radius: 5px;
		box-shadow: 0 4px 12px 0 rgba(37,77,157,.1)!important; 
		color: #494b4d!important;
		transition: all 500ms;
	}
	@media screen and (min-width: 992px) {
		.post_online_time {
			cursor: pointer;
		}
		img.huoyue_num {
			transition: all 200ms ease;
		}
		img.huoyue_num:hover {
			transform: scale(1.5);
		}
	}
	svg.icon {
		width: 3rem;
		height: 1.3rem;
		vertical-align: middle;
		fill: currentColor;
		overflow: hidden;
	}
	.breadcrumb {
		background-color: unset !important;
		border: unset !important;
		box-shadow: unset !important;
	}
	.breadcrumb:hover {
		background-color: unset !important;
	}
	.nav .active {
		font-weight: 800;
		color: #0099ee !important;
	}
	
	.card &gt; .card-header {
		color: #161616;
		text-shadow: unset !important;
		padding: 0.6rem 1rem;
		border-bottom: 1px solid #eeeeee;
		background: #fff !important;
	}	
	div.btn-group.mod-button {
		flex-wrap: wrap;
	}
	div.btn-group.mod-button button {
		margin-top: 0.5rem;
	}

	.collection_thumb_left i { font-size: 18px;}
</style>
<style>
	/* 收藏点赞区样式 */
	.card_collection { border-radius: 5px; width: 70px; vertical-align: middle; display: inline-block;}
	.card_collection div { margin-bottom: 0px;font-size: 14px;}
	.card_collection div&gt;a&gt;i {font-size: 22px;}
	.card_collection div a { text-decoration: none; }
	.alipay-bg { width: 60px;height: 20px;display: inline-block;vertical-align: middle;background: url(view/img/reward_alipay.png) 0 0 no-repeat;}
	.color4A4A4A {
		color: #C4C4C4;
	}
	.bbsshare_modal {position: absolute;z-index: 2; top: 0; right: -155px;}
	.likes_box_hide {display: none;}
	.likes_box_show {display: inline;}

	.position-sticky {
		position: -webkit-sticky; 
		position: sticky; 
	}
	
	/* 右侧目录样式 */


	.is-collapsible {
		max-height: 1000px;
		overflow: hidden;
		transition: all 300ms ease-in-out
	}

	.is-collapsed {
		max-height: 0
	}

	.is-position-fixed {
		position: fixed !important;
		top: 0
	}

	.is-active-link {
		font-weight: 700
	}
	.js-toc {
		max-height: 21rem;
		overflow: auto;
	}
	.js-toc ol {
		margin:0;
		padding-left: 1rem;
		list-style-type: none;
	}
	.js-toc a {
		width: 100%;
		margin: 0.2rem 0 0;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		display: inline-block;
		
	}
	.js-toc li.is-active-li a.is-active-link {
		color: #0099ee;
		font-weight: bolder;
	}
	.show_tocbot {
		display: none;
	}
</style>

<ol class="breadcrumb mb-3">
	<li class="breadcrumb-item"><a href="./" aria-label="首页"><i class="icon-home"></i> 看雪论坛</a></li>
	<li class="breadcrumb-item"><a href="forum-161.htm">Android安全</a></li>
	
	<div class="media-body text-right">
			<a href="thread-create-161.htm" role="button" class="btn btn-sm btn-primary" style="float: right; border: 1px solid #0099ee;">发新帖</a>
		</div>
</ol>
<div class="row mx-0">
	<div class="col-12 col-md-9 px-0">	
		<div class="position-fixed text-center collection_thumb_left" style="z-index: 2; width: 70px; margin-left: -70px;">
			<div>
								<a href="javascript:void(0)" class="favorite d-inline-block bg-white" title="收藏" style="text-decoration: none; border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px; line-height: 40px;">
				<i class="icon-star-o color4A4A4A"></i>
								</a>
				<div>
					<span class="likes_box likes_box_show" style="font-size: 13px;color: #0099ee;"><span class="likes">83</span></span>
				</div>
			</div>
			<div class="mt-3">
										<a href="javascript:void(0)" class="d-inline-block bg-white thumb" style="text-decoration: none; border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px; line-height: 40px;">
					<i class="icon-thumbs-o-up color4A4A4A"></i>
										</a>
					<div>
						<span class="thumbs_num_box" style="font-size: 13px;color: #0099ee;"><span class="thumbs_num">20</span></span>
					</div>
			</div>
			<div class="mt-3">
				<a href="javascript:void(0)" id="exampleModalLabel" class="d-inline-block bg-white" style="text-decoration: none; border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px; line-height: 40px;" data-toggle="modal" data-target=".reward">
					<i class="icon-rmb color4A4A4A"></i>
				</a>
			</div>
		</div>
		
		<div class="card message_card">
			<div class="mb-0">
				<div class="card-body">
					<div class="d-none d-lg-block">
						<dl class="row">
							<dd class="vtop">
								<dl class="row small" style="height: 34px; line-height: 34px;">
									<dt style="padding: 0px;">
										
										<div class="break-all m-0">
																												
											<span style="font-size: 1.4rem;">[原创]Android Hook技术学习——常见的Hook技术方案总结</span>
																							
											
																		
									<i class="icon-digest-3" aria-hidden="true" title="精华"></i>
							
										</div>
										
									</dt>
									
								</dl>
								<dl class="row small mt-1">
									<dt style="padding: 0px;">
										
										<div>
											<span class="date text-grey ml-1"><i class="icon-clock-o" aria-hidden="true"></i> 2022-5-17 21:56</span>
											<span class="text-grey ml-3 hidden-md-down"><i class="icon-eye" aria-hidden="true"></i> 14877</span>
											
											<!-- <span class="post_online_time" style="vertical-align: text-bottom;" data-online_time="3753897" data-desc="" onmouseenter="show_online_level(event)"> </span> -->
										</div>
										
									</dt>
									<dd class="text-right">
																																								
																				
																			</dd>
								</dl>
								
															</dd>
						</dl>
					</div>
					<!-- choadi 手机端适配 开始-->
					<div class="px-3 pt-3 d-block d-lg-none">
						
						<h3 class="break-all subject m-0">
																				[原创]Android Hook技术学习——常见的Hook技术方案总结														
																		
									<i class="icon-digest-3" aria-hidden="true" title="精华"></i>
							
						</h3>
						
						<div class="row mx-0 mt-2">
							<div class="col-8 px-0">
								<a href="user-home-905443.htm" style="text-decoration: none;" aria-hidden="true" tabindex="-1">
									<img style="width: 2rem; height: 2rem; border-radius: 6rem;" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								
								<a class="small" href="user-home-905443.htm" style="text-decoration: none;">随风而行aa</a>					
								<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />		
																	<div class="d-inline-block" style="font-size: 12px;">
										<span class="icon-diamond text-danger" title="精华数"></span>
										<span class="font-weight-bold text-danger"> 9</span>
									</div>
															</div>
							<div class="col px-0 text-right">
																	
																		
																		
																</div>
							<!-- <img style="" src="//bbs.pediy.com/view/img/stars03.gif" alt="">  -->
							
							
						</div>
						<div class="small row mx-0 mt-2">
							<div class="col px-0">
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
								<span class="post_online_time" style="vertical-align: text-bottom;" data-online_time="3753897" data-desc="1042 小时，  20 级" onmouseenter="show_online_level(event)"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
							</div>
							<div class="col px-0 text-right">
																								
															</div>
						</div>
						<div class="small row mx-0 mt-2">
							<div class="col px-0"><span class="date text-grey">2022-5-17 21:56</span></div>
							<div class="col px-0 text-right"><span class="text-grey hidden-md-down"><i class="icon-eye" aria-hidden="true"></i> 14877</span></div>
						</div>
						
											</div>
					<!-- choadi 手机端适配 结束-->

					
					<hr aria-hidden="true" />
					
					<div class="message " isfirst="1">
										
						
						<h1 id="msg_header_h1_0"><a name="" class="anchor" href=""><span class="header-link"></span></a>Android Hook技术学习——常见的hook技术方案</h1><p></p><fieldset class="fieldset toc"><legend>目录</legend><div class="tocs"><ul class="toc-tree" style="padding-left:0;"><li class="toc-item toc-level-1"><a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">Android Hook技术学习——常见的hook技术方案</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#一、前言"><span class="toc-number"></span> <span class="toc-text">一、前言</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#二、编译原理"><span class="toc-number"></span> <span class="toc-text">二、编译原理</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href="#1.编译过程"><span class="toc-number"></span> <span class="toc-text">1.编译过程</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）链接方式"><span class="toc-number"></span> <span class="toc-text">（1）链接方式</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）链接库"><span class="toc-number"></span> <span class="toc-text">（2）链接库</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href="#2.可执行文件（elf）"><span class="toc-number"></span> <span class="toc-text">2.可执行文件（ELF）</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）elf文件结构"><span class="toc-number"></span> <span class="toc-text">（1）ELF文件结构</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）got和plt"><span class="toc-number"></span> <span class="toc-text">（2）GOT和PLT</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#三、ndk基础知识"><span class="toc-number"></span> <span class="toc-text">三、NDK基础知识</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">1.Android so文件的类型</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href="#2.so文件加载"><span class="toc-number"></span> <span class="toc-text">2.so文件加载</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#四、各类hook技术原理分析"><span class="toc-number"></span> <span class="toc-text">四、各类hook技术原理分析</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">1.Xposed hook技术</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">2.Frida hook技术</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">3.inlinehook 技术</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）基本原理"><span class="toc-number"></span> <span class="toc-text">（1）基本原理</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）inlinehook组成"><span class="toc-number"></span> <span class="toc-text">（2）inlineHook组成</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（3）inlinehook实现"><span class="toc-number"></span> <span class="toc-text">（3）inlineHook实现</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">（4）Android-Inline-Hook和SandHook 技术</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">4.PLT/GOT hook技术</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">5.Unicorn hook技术</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#五、各类hook技术实操"><span class="toc-number"></span> <span class="toc-text">五、各类hook技术实操</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">1.Xposed hook实操</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）环境安装"><span class="toc-number"></span> <span class="toc-text">（1）环境安装</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）xposed插件编写"><span class="toc-number"></span> <span class="toc-text">（2）Xposed插件编写</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">2.frida hook实操</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）环境安装"><span class="toc-number"></span> <span class="toc-text">（1）环境安装</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）frida使用"><span class="toc-number"></span> <span class="toc-text">（2）frida使用</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href="#3.inlinehook实操"><span class="toc-number"></span> <span class="toc-text">3.inlinehook实操</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（1）android-lnine-hook"><span class="toc-number"></span> <span class="toc-text">（1）Android-lnine-Hook</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;1&gt;编写目标函数so文件</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;2&gt;导入文件</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;3&gt;修改配置文件</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;4&gt;编写hook代码</span></a></li><li class="toc-item toc-level-4">                        <a class="toc-link" href="#（2）sandhook实操"><span class="toc-number"></span> <span class="toc-text">（2）SandHook实操</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;1&gt;导入文件</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;2&gt;配置环境</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;3&gt;编写hook代码</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">4.PLT/GOT hook实操</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;1&gt;获得so模块的加载地址</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;2&gt;找到got表的位置</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;3&gt;定位到节表的地址</span></a></li><li class="toc-item toc-level-5">                                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">&lt;4&gt;定位到got表的位置和函数位置</span></a></li><li class="toc-item toc-level-3">                <a class="toc-link" href=""><span class="toc-number"></span> <span class="toc-text">5.Unicorn hook使用</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#六、实验总结"><span class="toc-number"></span> <span class="toc-text">六、实验总结</span></a></li><li class="toc-item toc-level-2">        <a class="toc-link" href="#参考文献"><span class="toc-number"></span> <span class="toc-text">参考文献</span></a></li></ul></div></fieldset><p></p>
<h2 id="msg_header_h2_0"><a name="一、前言" class="anchor" href="#一、前言"><span class="header-link"></span></a>一、前言</h2><p>最近一段时间在研究Android加壳和脱壳技术，其中涉及到了一些hook技术，于是将自己学习的一些hook技术进行了一下梳理，以便后面回顾和大家学习。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>本文第二节主要讲述编译原理，了解编译原理可以帮助进一步理解hook技术</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>本文第三节主要讲述NDK开发的一些基础知识</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>本文第四节主要讲述各类hook技术的实现原理</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>本文第五节主要讲述各hook技术的实现步骤和案例演示</p>
<h2 id="msg_header_h2_1"><a name="二、编译原理" class="anchor" href="#二、编译原理"><span class="header-link"></span></a>二、编译原理</h2><h3 id="msg_header_h3_0"><a name="" class="anchor" href="#1.编译过程"><span class="header-link"></span></a>1.编译过程</h3><p><img src="upload/attach/202205/905443_JC5TBVTX9ZNWVFV.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们可以借助gcc来实现上面的过程：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">预处理阶段：预处理器（cpp）根据以字符</code><code class="python comments">#开头的命令修给原始的C程序，结果得到另一个C程序，通常以.i作为文件扩展名。主要是进行文本替换、宏展开、删除注释这类简单工作。 </code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">命令行：gcc </code><code class="python keyword">-</code><code class="python plain">E hello.c hello.i</code></div><div class="line number3 index2 alt2"><code class="python plain">编译阶段：将文本文件hello.i翻译成hello.s，包含相应的汇编语言程序</code></div><div class="line number4 index3 alt1"><code class="python plain">汇编阶段：将.S文件翻译成机器指令，然后把这些指令打包成一种可重定位目标程序的格式，并把结果保存在目标文件.o中（汇编——&gt;机器）</code></div><div class="line number5 index4 alt2"><code class="python spaces">    </code><code class="python plain">命令行：gcc </code><code class="python keyword">-</code><code class="python plain">c hello.c hello.o</code></div><div class="line number6 index5 alt1"><code class="python plain">链接阶段：hello程序调用了printf函数，链接器（</code><code class="python functions">Id</code><code class="python plain">）就把printf.o文件并入hello.o文件中，得到hello可执行文件，然后加载到存储器中由系统执行。</code></div><div class="line number7 index6 alt2"><code class="python spaces">    </code><code class="python plain">函数库包括静态库和动态库</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python plain">静态库：编译链接时，把库文件代码全部加入可执行文件中，运行时不需要库文件，后缀为.a。</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python plain">动态库：编译链接时，不加入，在程序执行时，由运行时链接文件加载库，这样节省开销，后缀为.so。（gcc编译时默认使用动态库）</code></div><div class="line number10 index9 alt1"><code class="python plain">再经过汇编器和连接器的作用后输出一个目标文件，这个目标文件为可执行文件</code></div></div></td></tr></tbody></table>
<p>这里我们对编译过程做了一个初步的讲解，详细大家可以去看《程序员的自我修养——链接、装载与库》一书，下面我们主要介绍链接方式、链接库、可执行目标文件几个基本概念。</p>
<h4><a name="（1）链接方式" class="anchor" href="#（1）链接方式"><span class="header-link"></span></a>（1）链接方式</h4><p><strong>静态链接：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">对于静态库，程序在编译链接时，将库的代码链接到可执行文件中，程序运行时不再需要静态库。在使用过程中只需要将库和我们的程序编译后的文件链接在一起就可形成一个可执行文件。</code></div></div></td></tr></tbody></table>
<p><strong>缺点：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">1</code><code class="python plain">、内存和磁盘空间浪费：静态链接方式对于计算机内存和磁盘的空间浪费十分严重。假如一个c语言的静态库大小为</code><code class="python value">1MB</code><code class="python plain">，系统中有</code><code class="python value">100</code><code class="python plain">个需要使用到该库文件，采用静态链接的话，就要浪费进</code><code class="python value">100M</code><code class="python plain">的内存，若数量再大，那浪费的也就更多。</code></div><div class="line number2 index1 alt1"><code class="python value">2.</code><code class="python plain">更新麻烦：比如一个程序</code><code class="python value">20</code><code class="python plain">个模块，每个模块只有</code><code class="python value">1MB</code><code class="python plain">，那么每次更新任何一个模块，用户都得重新下载</code><code class="python value">20M</code><code class="python plain">的程序</code></div></div></td></tr></tbody></table>
<p><strong>动态链接：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">由于静态链接具有浪费内存和模块更新困难等问题，提出了动态链接。基本实现思想是把程序按照模块拆分成各个相对独立部分，在程序运行时才将他们链接在一起形成一个完整的程序，而不是像静态链接那样把所有的程序模块都链接成一个单独的可执行文件。所以动态链接是将链接过程推迟到了运行时才进行。</code></div></div></td></tr></tbody></table><p>例子：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">同样，假如有程序</code><code class="python value">1</code><code class="python plain">，程序</code><code class="python value">2</code><code class="python plain">，和Lib.o三个文件，程序</code><code class="python value">1</code><code class="python plain">和程序</code><code class="python value">2</code><code class="python plain">在执行时都需要用到Lib.o文件，当运行程序</code><code class="python value">1</code><code class="python plain">时，系统首先加载程序</code><code class="python value">1</code><code class="python plain">，当发现需要Lib.o文件时，也同样加载到内存，再去加载程序</code><code class="python value">2</code><code class="python plain">当发现也同样需要用到Lib.o文件时，则不需要重新加载Lib.o，只需要将程序</code><code class="python value">2</code><code class="python plain">和Lib.o文件链接起来即可，内存中始终只存在一份Lib.o文件。</code></div></div></td></tr></tbody></table><p><img src="upload/attach/202205/905443_PBRES2N9MDUUJG2.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>优点：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）毋庸置疑的就是节省内存；</code></div><div class="line number2 index1 alt1"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）减少物理页面的换入换出；</code></div><div class="line number3 index2 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）在升级某个模块时，理论上只需要将对应旧的目标文件覆盖掉即可。新版本的目标文件会被自动装载到内存中并且链接起来；</code></div><div class="line number4 index3 alt1"><code class="python plain">（</code><code class="python value">4</code><code class="python plain">）程序在运行时可以动态的选择加载各种程序模块，实现程序的扩展。</code></div></div></td></tr></tbody></table>
<h4><a name="（2）链接库" class="anchor" href="#（2）链接库"><span class="header-link"></span></a>（2）链接库</h4><p>我们在链接的过程中，一般会链接一些库文件，主要分为静态链接库和动态链接库。静态链接库一般为<code>Windows下的.lib和Linux下的.a</code>,动态链接库一般为<code>Windows下的.dll和Linux下的.so</code>，这里考虑到我们主要是对so文件hook讲解，下面我们主要介绍linux系统下的情况。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>静态库：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">命名规范为libXXX.a</code></div><div class="line number2 index1 alt1"><code class="python plain">库函数会被连接进可执行程序，可执行文件体积较大</code></div><div class="line number3 index2 alt2"><code class="python plain">可执行文件运行时，不需要从磁盘载入库函数，执行效率较高</code></div><div class="line number4 index3 alt1"><code class="python plain">库函数更新后，需要重新编译可执行程序</code></div></div></td></tr></tbody></table><p><strong>动态库：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">命名规范为libXXX.so</code></div><div class="line number2 index1 alt1"><code class="python plain">库函数不被连接进可执行程序，可执行文件体积较小</code></div><div class="line number3 index2 alt2"><code class="python plain">可执行文件运行时，库函数动态载入</code></div><div class="line number4 index3 alt1"><code class="python plain">使用灵活，库函数更新后，不需要重新编译可执行程序</code></div></div></td></tr></tbody></table><h3 id="msg_header_h3_1"><a name="" class="anchor" href="#2.可执行文件（elf）"><span class="header-link"></span></a>2.可执行文件（ELF）</h3><p>目前PC平台比较流行的可执行文件格式主要是Windows下的PE和Linux下的ELF，它们都是COFF格式的变种。在Windows平台下就是我们比较熟悉的.exe文件，而Linux平台下现在便是统称的ELF文件。这里我们主要介绍一下Linux下的ELF文件。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>ELF文件的类型：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">可重定位目标文件：包含二进制代码和数据，其形式可以和其他目标文件进行合并，创建一个可执行目标文件。比如linux下的.o文件</code></div><div class="line number2 index1 alt1"><code class="python plain">可执行目标文件：包含二进制代码和数据，可直接被加载器加载执行。 比如</code><code class="python keyword">/</code><code class="python functions">bin</code><code class="python keyword">/</code><code class="python plain">sh文件</code></div><div class="line number3 index2 alt2"><code class="python plain">共享目标文件：可被动态的加载和链接。比如.so文件</code></div></div></td></tr></tbody></table>
<p><strong>ELF文件的结构：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>elf文件在不同的平台上有不同的格式，在Unix和x86-64 Linux上称ELF：</p>
<h4><a name="（1）elf文件结构" class="anchor" href="#（1）elf文件结构"><span class="header-link"></span></a>（1）ELF文件结构</h4><p>目标文件既要参与程序链接，又要参与程序执行：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_7TFTERM5FTMWAVF.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517112124280" class="div_message_boxShadow" /></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">)文件开始处：是一个ELF头部（ELF Header），用来描述整个文件的组织。节区部分包含链接视图的大量信息：指令、数据、符号表、重定位信息等。</code></div><div class="line number2 index1 alt1"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">)程序头部表(Program Header Table)：如果存在的话，会告诉系统如何创建进程映像。用来构造进程映像的目标文件必须具有程序头部表，可重定位文件不需要这个表。</code></div><div class="line number3 index2 alt2"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">)节区头部表(Section Header Table)：包含了描述文件节区的信息，每个节区在表中都有一项，每一项给出诸如节区名称、节区大小这类信息。用于链接的目标文件必须包含节区头部表，其他目标文件可以有，也可以没有这个表。</code></div></div></td></tr></tbody></table>
<p>下面我们来从分别从连接视角和程序执行的视角来看ELF文件：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_5N6DT5YSG5SHXYY.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">ELF Header:描述了描述了体系结构和操作系统等基本信息并指出Section Header Table和Program Header Table在文件中的什么位置</code></div><div class="line number2 index1 alt1"><code class="python plain">Program Header Table: 保存了所有Segment的描述信息；在汇编和链接过程中没有用到，所以是可有可无的</code></div><div class="line number3 index2 alt2"><code class="python plain">Section Header Table:保存了所有Section的描述信息；Section Header Table在加载过程中没有用到，所以是可有可无的</code></div></div></td></tr></tbody></table><p>下面我们来看一张更加详细的ELF结构图</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_34AAE6M4KDSPFPX.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>从中我们可以详细的知道ELF文件各个字段的含义，其他字段的含义如下图</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_TFE3WYCC7Q4QHHR.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<h4><a name="（2）got和plt" class="anchor" href="#（2）got和plt"><span class="header-link"></span></a>（2）GOT和PLT</h4><p>上面我们简单的分析了ELF的文件结构，而这里我们介绍一下其中两个重要的节表<code>GOT(全局偏移表)</code>和<code>PLT(程序链接表)</code></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>首先，我们需要理解为什么需要GOT表和PLT表</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>经过上面的分析，我们知道程序在经历了编译流程后，就来到了链接过程，链接过程就是将一个或者多个中间文件（.o文件）通过链接器将它们链接成一个可执行文件，主要要完成以下事情：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">1.</code><code class="python plain">各个中间文之间的同名section合并</code></div><div class="line number2 index1 alt1"><code class="python value">2.</code><code class="python plain">对代码段，数据段以及各符号进行地址分配</code></div><div class="line number3 index2 alt2"><code class="python value">3.</code><code class="python plain">链接时重定位修正</code></div></div></td></tr></tbody></table><p>但是当我们程序运行起来，<code>glibc</code>动态库也装载了，函数地址也确定了，那我们程序如何去调用动态库中的函数呢，这个时候就需要理解一下重定位的概念：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>重定位：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">1.</code><code class="python plain">链接重定位：将一个或多个中间文件(.o文件)通过链接器将它们链接成一个可执行文件，一般分为两种情况：</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）如果是在其他中间文件中已经定义了的函数，链接阶段可以直接重定位到函数地址，比如我们从头文件访问另一个函数</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）如果是在动态库中定义了的函数，链接阶段无法直接重定位到函数地址，只能生成额外的小片段代码，也就是PLT表，然后重定位到该代码片段</code></div><div class="line number4 index3 alt1"><code class="python value">2.</code><code class="python plain">运行重定位：运行后加载动态库，把动态库中的相应函数地址填入GOT表，由于PLT表是跳转到GOT表的，这就构成了运行时重定位</code></div><div class="line number5 index4 alt2"><code class="python value">3.</code><code class="python plain">延迟重定位：只有动态库函数在被调用时，才会进行地址解析和重定位工作，这时候动态库函数的地址才会被写入到GOT表项中</code></div></div></td></tr></tbody></table><p>这里我们就可以明白流程，程序在加载动态库中函数时，需要两部分：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">需要存放外部函数的代码段表（PLT表）</code></div><div class="line number2 index1 alt1"><code class="python plain">存放函数地址的数据表（GOT表）</code></div></div></td></tr></tbody></table><p>这里我用一个实例加深大家的理解，例如程序在链接时发现scanf定义在动态库时，链接器生成一小段代码scanf_stub,这就是我们的PLT表，然后scanf_stub地址取代原来的scanf,因此程序此时就转换为链接scanf_stub，这个过程叫链接重定位，然后在运行时动态库glibc中的scanf_libc地址填入GOT表，然后程序通过scanf_stub访问到scanf_libc，这个过程叫运行时重定位。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>讲到这里，其实我们对PLT和GOT表的作用已经了解了，<code>PLT（程序链接表）</code>就是链接时需要存放外部函数的数据段，<code>GOT（全局偏移表）</code>是存放函数地址的代码</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>PLT和GOT的结构：</strong></p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">PLT表中的第一项为公共表项，剩下的是每个动态库函数为一项,每项PLT都从对应的GOT表项中读取目标函数地址</code></div><div class="line number2 index1 alt1"> </div><div class="line number3 index2 alt2"><code class="python plain">GOT表中前</code><code class="python value">3</code><code class="python plain">个为特殊项，分别用于保存 .dynamic段地址、本镜像的link_map数据结构地址和_dl_runtime_resolve函数地址</code></div><div class="line number4 index3 alt1"><code class="python plain">dynamic段：提供动态链接的信息，例如动态链接中各个表的位置</code></div><div class="line number5 index4 alt2"><code class="python plain">link_map：已加载库的链表，由动态库函数的地址构成的链表</code></div><div class="line number6 index5 alt1"><code class="python plain">_dl_runtime_resolve：在第一次运行时进行地址解析和重定位工作</code></div></div></td></tr></tbody></table><p>根据操作系统规定不允许修改代码段，只能修改数据段，所以PLT表是不变的，GOT表是可以改变的</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th style="border:1px solid; padding:0.2rem 1.5rem;">.plt</th>
<th style="border:1px solid; padding:0.2rem 1.5rem;">代码段</th>
<th style="border:1px solid; padding:0.2rem 1.5rem;">RE（可读，可执行）</th>
<th style="border:1px solid; padding:0.2rem 1.5rem;">.plt section 实际就是通常所说的过程链接表（Procedure Linkage Table, PLT）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.plt.got</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">代码段</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">RE</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.plt.got section 用于存放 __cxa_finalize 函数对应的 PLT 条目</td>
</tr>
<tr>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.got</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">数据段</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">RW（可读，可写）</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.got section 中可以用于存放全局变量的地址；.got section 中也可以用于存放不需要延迟绑定的函数的地址。</td>
</tr>
<tr>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.got.plt</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">数据段</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">RW</td>
<td style="border:1px solid; padding:0.2rem 1.5rem;">.got.plt section 用于存放需要延迟绑定的函数的地址</td>
</tr>
</tbody>
</table></div>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>因此我们可以看一下程序调用PLT表和GOT表的逻辑</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_E2EUR5PYRBX7ZB2.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517105915852" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>最后我们来详细看一下程序调用函数的变化流程：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>程序第一次调用函数时：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_DJSS6R4KNDG87XM.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517105915852" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>此时第一步由函数调用跳入到PLT表中，然后第二步PLT表跳到GOT表中，可以看到第三步由GOT表回跳到PLT表中，这时候进行压栈，把代表函数的ID压栈，接着第四步跳转到公共的PLT表项中，第5步进入到GOT表中，然后_dl_runtime_resolve对动态函数进行地址解析和重定位，第七步把动态函数真实的地址写入到GOT表项中，然后执行函数并返回，此时GOT表中就存放了函数的真实地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>之后函数被调用时：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_AVAS94K9B65W2CH.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517105915852" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>第一步还是由函数调用跳入到PLT表，但是第二步跳入到GOT表中时，由于这个时候该表项已经是动态函数的真实地址了，所以可以直接执行然后返回</p>
<h2 id="msg_header_h2_2"><a name="三、ndk基础知识" class="anchor" href="#三、ndk基础知识"><span class="header-link"></span></a>三、NDK基础知识</h2><p>这里我们主要介绍Android中的so文件加载的原理，为后面hook技术讲解做铺垫：</p>
<h3 id="msg_header_h3_2"><a name="" class="anchor" href=""><span class="header-link"></span></a>1.Android so文件的类型</h3><p>NDK开发的so不再具备跨平台特性，需要编译提供不同平台支持</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_JD8BB3AV53PKUH3.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们从官网可以得知so文件在不同架构下也不同，这里依次对应<code>arm32位和64位，x86_32位和64位</code></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们可以使用指令查看我们手机的架构：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">adb shell</code></div><div class="line number2 index1 alt1"><code class="python plain">cat </code><code class="python keyword">/</code><code class="python plain">proc</code><code class="python keyword">/</code><code class="python plain">cpuinfo</code></div></div></td></tr></tbody></table>
<p><img src="upload/attach/202205/905443_8B8V7Q8RVKM4QH6.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919155021588" class="div_message_boxShadow" /></p>
<h3 id="msg_header_h3_3"><a name="" class="anchor" href="#2.so文件加载"><span class="header-link"></span></a>2.so文件加载</h3><p>Android中我们通常使用系统提供的两种API：System.loadLibrary或者System.load来加载so文件：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">加载的是libnative</code><code class="python keyword">-</code><code class="python plain">lib.so，注意的是这边只需要传入</code><code class="python string">"native-lib"</code></div><div class="line number2 index1 alt1"><code class="python plain">System.loadLibrary(</code><code class="python string">"native-lib"</code><code class="python plain">);</code></div><div class="line number3 index2 alt2"><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">传入的是so文件完整的绝对路径</code></div><div class="line number4 index3 alt1"><code class="python plain">System.load(</code><code class="python string">"/data/data/应用包名/lib/libnative-lib.so"</code><code class="python plain">)</code></div></div></td></tr></tbody></table><p>System.loadLibrary()和System.load()的区别：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）loadLibray传入的是编译脚本指定生成的so文件名称，一般不需要包含开头的lib和结尾的.so，而load传入的是so文件所在的绝对路径</code></div><div class="line number2 index1 alt1"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）loadLibrary传入的不能是路径，查找so时会优先从应用本地路径下(</code><code class="python keyword">/</code><code class="python plain">data</code><code class="python keyword">/</code><code class="python plain">data</code><code class="python keyword">/</code><code class="python plain">${package</code><code class="python keyword">-</code><code class="python plain">name}</code><code class="python keyword">/</code><code class="python plain">lib</code><code class="python keyword">/</code><code class="python plain">arm</code><code class="python keyword">/</code><code class="python plain">)进行查找，不存在的话才会从系统lib路径下(</code><code class="python keyword">/</code><code class="python plain">system</code><code class="python keyword">/</code><code class="python plain">lib、</code><code class="python keyword">/</code><code class="python plain">vendor</code><code class="python keyword">/</code><code class="python plain">lib等)进行查找；而load则没有路径查找的过程</code></div><div class="line number3 index2 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）load传入的不能是sdcard路径，会导致加载失败，一般只支持应用本地存储路径</code><code class="python keyword">/</code><code class="python plain">data</code><code class="python keyword">/</code><code class="python plain">data</code><code class="python keyword">/</code><code class="python plain">${package</code><code class="python keyword">-</code><code class="python plain">name}</code><code class="python keyword">/</code><code class="python plain">，或者是系统lib路径system</code><code class="python keyword">/</code><code class="python plain">lib等这</code><code class="python value">2</code><code class="python plain">类路径</code></div><div class="line number4 index3 alt1"><code class="python plain">（</code><code class="python value">4</code><code class="python plain">）loadLibrary加载的都是一开始就已经打包进apk或系统的so文件了，而load可以是一开始就打包进来的so文件，也可以是后续从网络下载，外部导入的so文件</code></div><div class="line number5 index4 alt2"><code class="python plain">（</code><code class="python value">5</code><code class="python plain">）重复调用loadLibrar,load并不会重复加载so，会优先从已加载的缓存中读取，所以只会加载一次</code></div><div class="line number6 index5 alt1"><code class="python plain">（</code><code class="python value">6</code><code class="python plain">）加载成功后会去搜索so是否有</code><code class="python string">"JNI_OnLoad"</code><code class="python plain">，有的话则进行调用，所以</code><code class="python string">"JNI_OnLoad"</code><code class="python plain">只会在加载成功后被主动回调一次，一般可以用来做一些初始化的操作，比如动态注册jni相关方法等</code></div></div></td></tr></tbody></table>
<p><strong>源码分析：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><strong>Android 6.0：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>[System.java] java.lang.System:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python spaces">  </code><code class="python plain">public static void load(String pathName) {</code></div><div class="line number2 index1 alt1"><code class="python spaces">        </code><code class="python plain">Runtime.getRuntime().load(pathName, VMStack.getCallingClassLoader());</code></div><div class="line number3 index2 alt2"><code class="python spaces">   </code><code class="python plain">}</code></div><div class="line number4 index3 alt1"> </div><div class="line number5 index4 alt2"><code class="python spaces">   </code><code class="python plain">public static void loadLibrary(String libName) {</code></div><div class="line number6 index5 alt1"><code class="python spaces">       </code><code class="python plain">Runtime.getRuntime().loadLibrary(libName, VMStack.getCallingClassLoader());</code></div><div class="line number7 index6 alt2"><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p>[Runtime.java] java.lang.Runtime:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">void load(String absolutePath, ClassLoader loader) {</code></div><div class="line number2 index1 alt1"><code class="python spaces">        </code><code class="python keyword">if</code> <code class="python plain">(absolutePath </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">null) {</code></div><div class="line number3 index2 alt2"><code class="python spaces">            </code><code class="python plain">throw new NullPointerException(</code><code class="python string">"absolutePath == null"</code><code class="python plain">);</code></div><div class="line number4 index3 alt1"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number5 index4 alt2"><code class="python spaces">        </code><code class="python plain">String error </code><code class="python keyword">=</code> <code class="python plain">doLoad(absolutePath, loader);</code></div><div class="line number6 index5 alt1"><code class="python spaces">        </code><code class="python keyword">if</code> <code class="python plain">(error !</code><code class="python keyword">=</code> <code class="python plain">null) {</code></div><div class="line number7 index6 alt2"><code class="python spaces">            </code><code class="python plain">throw new UnsatisfiedLinkError(error);</code></div><div class="line number8 index7 alt1"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python plain">}</code></div><div class="line number10 index9 alt1"><code class="python plain">public void loadLibrary(String nickname) {</code></div><div class="line number11 index10 alt2"><code class="python spaces">        </code><code class="python plain">loadLibrary(nickname, VMStack.getCallingClassLoader());</code></div><div class="line number12 index11 alt1"><code class="python spaces">    </code><code class="python plain">}</code></div><div class="line number13 index12 alt2"> </div><div class="line number14 index13 alt1"><code class="python plain">void loadLibrary(String libraryName, ClassLoader loader) {</code></div><div class="line number15 index14 alt2"><code class="python spaces">        </code><code class="python keyword">if</code> <code class="python plain">(loader !</code><code class="python keyword">=</code> <code class="python plain">null) {</code></div><div class="line number16 index15 alt1"><code class="python spaces">            </code><code class="python plain">String filename </code><code class="python keyword">=</code> <code class="python plain">loader.findLibrary(libraryName);</code></div><div class="line number17 index16 alt2"><code class="python spaces">            </code><code class="python keyword">if</code> <code class="python plain">(filename </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">null) {...</code></div></div></td></tr></tbody></table>
<p>我们对比了Android6.0下的System.load和System.loadLibrary:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">我们可以发现System.loadLibrary()中会修改类加载器，这个在我们后面hook过程可能会报错，而Runtime.loadLibray()中有重写的方法，则可以正确实现</code></div></div></td></tr></tbody></table><p><strong>Android 7.0：</strong></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>[System.java] java.lang.System:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">public static void load(String filename) {</code></div><div class="line number2 index1 alt1"><code class="python spaces">      </code><code class="python plain">Runtime.getRuntime().load0(VMStack.getStackClass1(), filename);</code></div><div class="line number3 index2 alt2"><code class="python spaces">  </code><code class="python plain">}</code></div><div class="line number4 index3 alt1"> </div><div class="line number5 index4 alt2"><code class="python plain">public static void loadLibrary(String libname) {</code></div><div class="line number6 index5 alt1"><code class="python spaces">      </code><code class="python plain">Runtime.getRuntime().loadLibrary0(VMStack.getCallingClassLoader(), libname);</code></div><div class="line number7 index6 alt2"><code class="python spaces">  </code><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p>[Runtime.java] java.lang.Runtime:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">synchronized void load0(Class fromClass, String filename) {</code></div><div class="line number2 index1 alt1"><code class="python spaces">       </code><code class="python keyword">if</code> <code class="python plain">(!(new </code><code class="python functions">File</code><code class="python plain">(filename).isAbsolute())) {</code></div><div class="line number3 index2 alt2"><code class="python spaces">           </code><code class="python plain">throw new UnsatisfiedLinkError(</code></div><div class="line number4 index3 alt1"><code class="python spaces">               </code><code class="python string">"Expecting an absolute path of the library: "</code> <code class="python keyword">+</code> <code class="python plain">filename);        }</code></div><div class="line number5 index4 alt2"><code class="python spaces">       </code><code class="python keyword">if</code> <code class="python plain">(filename </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">null) {</code></div><div class="line number6 index5 alt1"><code class="python spaces">           </code><code class="python plain">throw new NullPointerException(</code><code class="python string">"filename == null"</code><code class="python plain">);</code></div><div class="line number7 index6 alt2"><code class="python spaces">       </code><code class="python plain">}</code></div><div class="line number8 index7 alt1"><code class="python spaces">       </code><code class="python plain">String error </code><code class="python keyword">=</code> <code class="python plain">doLoad(filename, fromClass.getClassLoader());</code></div><div class="line number9 index8 alt2"><code class="python spaces">       </code><code class="python keyword">if</code> <code class="python plain">(error !</code><code class="python keyword">=</code> <code class="python plain">null) {</code></div><div class="line number10 index9 alt1"><code class="python spaces">           </code><code class="python plain">throw new UnsatisfiedLinkError(error);</code></div><div class="line number11 index10 alt2"><code class="python spaces">       </code><code class="python plain">}</code></div><div class="line number12 index11 alt1"><code class="python spaces">   </code><code class="python plain">}</code></div><div class="line number13 index12 alt2"> </div><div class="line number14 index13 alt1"><code class="python spaces">    </code><code class="python plain">public void loadLibrary(String libname, ClassLoader classLoader) {</code></div><div class="line number15 index14 alt2"><code class="python spaces">       </code><code class="python plain">java.lang.System.logE(</code><code class="python string">"java.lang.Runtime#loadLibrary(String, ClassLoader)"</code> <code class="python keyword">+</code></div><div class="line number16 index15 alt1"><code class="python spaces">                             </code><code class="python string">" is private and will be removed in a future Android release"</code><code class="python plain">);</code></div><div class="line number17 index16 alt2"><code class="python spaces">      </code><code class="python plain">loadLibrary0(classLoader, libname);</code></div><div class="line number18 index17 alt1"><code class="python spaces">   </code><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p>我们可以发现不同版本的区别：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">Android </code><code class="python value">6.0</code><code class="python plain">采用的是loadLibrary,</code><code class="python value">6.0</code><code class="python plain">之后都采用的是loadLibrary0; 同理 load函数也一样,</code><code class="python value">6.0</code><code class="python plain">之后采用的是load0</code></div></div></td></tr></tbody></table>
<p>同时我们分析了loadLibrary0：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">1.</code> <code class="python plain">classLoader存在时，通过classLoader.findLibrary(libraryName)来获取存放指定so文件的路径；</code></div><div class="line number2 index1 alt1"><code class="python value">2.</code> <code class="python plain">classLoader不存在时，则通过getLibPaths()接口来获取</code></div><div class="line number3 index2 alt2"><code class="python value">3.</code> <code class="python plain">最终调用nativeLoad加载指定路径的so文件</code></div></div></td></tr></tbody></table><h2 id="msg_header_h2_3"><a name="四、各类hook技术原理分析" class="anchor" href="#四、各类hook技术原理分析"><span class="header-link"></span></a>四、各类hook技术原理分析</h2><p>hook技术就是指截获进程对某个API函数的调用，使得API的执行流程转向我们实现的代码片段，从而实现我们要的功能，在Android中使用hook的方法有很多，常用的Xposed和frida hook技术、inlinehook技术、基于inlinehook的开源框架Sandhook、PLT/Got hook技术、以及当下模拟cpu的Unicorn的hook技术，下面我们将逐一介绍其原理。</p>
<h3 id="msg_header_h3_4"><a name="" class="anchor" href=""><span class="header-link"></span></a>1.Xposed hook技术</h3><p>Xposed的基本原理，我在<a href="https://bbs.pediy.com/thread-269627.htm">源码编译（3）——Xposed框架定制</a>中已经给大家做了详细的讲解，其主要就是Android应用进程都是由 zygote 进程孵化而来，zygote对应的可执行程序就是app_process,posed 框架通过替换系统的 app_process 可执行文件以及虚拟机动态链接库，让 zygote 在启动应用程序进程时注入框架代码，进而实现对应用程序进程的劫持。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>具体怎么实现hook技术，Xposed就是通过修改了Art虚拟机，将需要hook的函数注册为Native函数，当执行这一函数时，虚拟机会优先执行Native函数，然后执行java函数，这样就成功完成了函数的hook。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_A6M5RGRCQ2A3HGM.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919155021588" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>具体实现流程:</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>在 Android 系统启动的时候， zygote 进程加载 XposedBridge 将所有需要替换的 Method 通过 JNI 方法 hookMethodNative 指向 Native 方法 xposedCallHandler ， xposedCallHandler 在转入 handleHookedMethod 这个 Java 方法执行用户规定的 Hook Func</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_TTUBVG5KA7YWR9W.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517133042720" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>dvmCallMethodV会根据accessFlags决定调用native还是java函数，因此修改accessFlags后，Dalvik会认为这个函数是一个native函数，便走向了native分支也就是说Xposed在对java方法进行hook时，先将虚拟机里面这个方法的Method的accessFlag改为native对应的值，然后将该方法的nativeFunc指向自己实现的一个native方法，这样方法在调用时，就会调用到这个native方法，接管了控制权</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>其他的就详细参考上篇文章了</p>
<h3 id="msg_header_h3_5"><a name="" class="anchor" href=""><span class="header-link"></span></a>2.Frida hook技术</h3><p>frida 也是一种动态插桩工具，原理和Xposed hook一样，也是把java method转为native method，但是Art下的实现与Dalivk有所不同，这里就需要了解ART的运行机制，这里主要参考博客：<a href="https://mabin004.github.io/2018/07/31/Mac%E4%B8%8A%E7%BC%96%E8%AF%91Frida/">Frida源码分析</a></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>ART 是一种代替 Dalivk 的新的运行时,它具有更高的执行效率。ART虚拟机执行 Java 方法主要有两种模式：quick code 模式和 Interpreter 模式</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">quick code 模式：执行 arm 汇编指令</code></div><div class="line number2 index1 alt1"><code class="python plain">Interpreter 模式：由解释器解释执行 Dalvik 字节码</code></div></div></td></tr></tbody></table><p>即使是在quick code模式中，也有类方法可能需要以Interpreter模式执行。反之亦然。解释执行的类方法通过函数artInterpreterToCompiledCodeBridge的返回值调用本地机器指令执行的类方法；本地机器指令执行的类方法通过函数GetQuickToInterpreterBridge的返回值调用解释执行的类方法</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里引用博客中的一张图</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_VJRV8CFKFQS475P.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517133042720" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>如图，对于一个native方法，ART虚拟机会先尝试使用quickcode的模式去执行，并检查ARTMethod结构中的entry_point_from_quick_compiled<em>code</em>成员，这里分3种情况：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">1.</code><code class="python plain">如果函数已经存在quick code, 则指向这个函数对应的 quick code的起始地址，而当quick code不存在时，它的值则会代表其他的意义；</code></div><div class="line number2 index1 alt1"><code class="python value">2.</code><code class="python plain">当一个 java 函数不存在 quick code时，它的值是函数 artQuickToInterpreterBridge 的地址，用以从 quick 模式切换到 Interpreter 模式来解释执行 java 函数代码；</code></div><div class="line number3 index2 alt2"><code class="python value">3.</code><code class="python plain">当一个 java native（JNI）函数不存在 quick code时，它的值是函数 art_quick_generic_jni_trampoline 的地址，用以执行没有quick code的 jni 函数</code></div></div></td></tr></tbody></table><p>因此，frida将一个java method修改jni mthod 显然是不存在quick code，这时需要将entry_point_from_quick_compiled<em>code</em>值修改为art_quick_generic_jni_trampoline 的地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>总结，frida把java method改为jni method，需要修改ARTMethod结构体中的这几个值：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">accessflags </code><code class="python keyword">=</code> <code class="python plain">native</code></div><div class="line number2 index1 alt1"><code class="python plain">entry_point_fromjni </code><code class="python keyword">=</code> <code class="python plain">自定义代码的入口</code></div><div class="line number3 index2 alt2"><code class="python plain">entry_point_from_quick_compiledcode </code><code class="python keyword">=</code> <code class="python plain">art_quick_generic_jni_trampoline函数的地址</code></div><div class="line number4 index3 alt1"><code class="python plain">entry_point_frominterpreter </code><code class="python keyword">=</code> <code class="python plain">artInterpreterToCompiledCodeBridge函数地址</code></div></div></td></tr></tbody></table><h3 id="msg_header_h3_6"><a name="" class="anchor" href=""><span class="header-link"></span></a>3.inlinehook 技术</h3><h4><a name="（1）基本原理" class="anchor" href="#（1）基本原理"><span class="header-link"></span></a>（1）基本原理</h4><p>首先，我们先介绍一下什么是inline Hook:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">inline Hook是一种拦截目标函数调用的方法，主要用于杀毒软件、沙箱和恶意软件。一般的想法是将一个函数重定向到我们自己的函数，以便我们可以在函数执行它之前和</code><code class="python keyword">/</code><code class="python plain">或之后执行处理；这可能包括：检查参数、填充、记录、欺骗返回的数据和过滤调用。</code></div><div class="line number2 index1 alt1"><code class="python plain">hook是通过直接修改目标函数内的代码来放置，通常是用跳转覆盖的前几个字节，允许在函数进行任何处理之前重定向执行。</code></div></div></td></tr></tbody></table><h4><a name="（2）inlinehook组成" class="anchor" href="#（2）inlinehook组成"><span class="header-link"></span></a>（2）inlineHook组成</h4><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">hook:一个</code><code class="python value">5</code><code class="python plain">字节的相对跳转，在被写入目标函数以钩住它，跳转将从被钩住的函数跳转到我们的代码</code></div><div class="line number2 index1 alt1"><code class="python plain">proxy:这是我们指定的函数（或代码），放置在目标函数上的钩子将跳转到该函数（或代码）</code></div><div class="line number3 index2 alt2"><code class="python plain">Trampoline:用于绕过钩子，以便我们可以正常调用钩子函数</code></div></div></td></tr></tbody></table><h4><a name="（3）inlinehook实现" class="anchor" href="#（3）inlinehook实现"><span class="header-link"></span></a>（3）inlineHook实现</h4><p><img src="upload/attach/202205/905443_CQY5DDQWTKHP3WS.png" style="max-width: 100%; cursor: pointer;" alt="image-20210918161352124" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>从示意图上，我们可以这样理解：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">我们将目标函数MessgeBoxA()中的地址拿出来，然后我们用重写的hook函数替换，然后我们执行完成之后，再回调到函数的执行地址出，保证程序的正常运行</code></div></div></td></tr></tbody></table><p><img src="upload/attach/202205/905443_JXZH5VUZP7ETYGZ.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们也可以通过上述示意图去理解inlinehook的基本原理</p>
<h4><a name="" class="anchor" href=""><span class="header-link"></span></a>（4）Android-Inline-Hook和SandHook 技术</h4><p>Android-lnline-Hook和SandHook都是基于inlinehook的两种开源框架，在Android中对native层hook，使用的比较常见，前者主要针对32位进行hook，后者即可以用于32位也可以用于64位，但是官方表示32位并未进行测试，所以应用在64位上仍然更多</p>
<h3 id="msg_header_h3_7"><a name="" class="anchor" href=""><span class="header-link"></span></a>4.PLT/GOT hook技术</h3><p>前面我们已经很详细的讲述了全局偏移表（GOT）和动态链接表（PLT）,Inline Hook能Hook几乎所有函数，但是兼容性较差，不能达到上线标准,相比于inlineHook，GOT Hook兼容性比较好，可以达到上线标准，但是只能Hook基于GOT表的一些函数</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>GOT/PLT Hook 主要是通过解析SO文件，将待hook函数在got表的地址替换为自己函数的入口地址，这样目标进程每次调用待hook函数时，实际上是执行了我们自己的函数</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里我们还要理解GOT表中含包含了导入表和导出表</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">导出表指将当前动态库的一些函数符号保留，供外部调用</code></div><div class="line number2 index1 alt1"><code class="python plain">导入表中的函数实际是在该动态库中调用外部的导出函数</code></div></div></td></tr></tbody></table><p>例如导入表存放的是一些其他so的函数，例如libc的open，而导出表存放的是一些共其他so调用的函数，比如自己so中编写的函数，而无论导入表还是导出表基本都是针对导出函数，针对非导出函用inlinehook更常用一些</p>
<h3 id="msg_header_h3_8"><a name="" class="anchor" href=""><span class="header-link"></span></a>5.Unicorn hook技术</h3><p>Unicore是一款非常优秀的跨平台模拟执行框架，该框架可以跨平台执行Arm, Arm64 (Armv8), M68K, Mips, Sparc, &amp; X86 (include X86_64)等指令集的原生程序，通过模拟CPU，可以实现很多强大的功能，也可以实现函数级别的Hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>参考资料：无名大佬文章<a href="https://bbs.pediy.com/thread-253868.htm#msg_header_h1_7">Unicorn 在 Android 的应用</a></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>nicorn 内部并没有函数的概念，它只是一个单纯的CPU， 没有HOOK_FUNCTION的callback，AndroidNativeEmu 中的函数级Hook 并不是真正意义上的Hook，它不仅能Hook存在的函数，还能Hook不存在的函数。AndroidNativeEmu 使用这种技术实现了JNI函数Hook、库函数Hook。 Jni函数是不存的，Hook它只是为了能够用Python 实现 Jni Functions。有一些库函数是存在的，Hook只是为了重新实现它</p>
<h2 id="msg_header_h2_4"><a name="五、各类hook技术实操" class="anchor" href="#五、各类hook技术实操"><span class="header-link"></span></a>五、各类hook技术实操</h2><h3 id="msg_header_h3_9"><a name="" class="anchor" href=""><span class="header-link"></span></a>1.Xposed hook实操</h3><h4><a name="（1）环境安装" class="anchor" href="#（1）环境安装"><span class="header-link"></span></a>（1）环境安装</h4><p>Xposed环境安装详细可以参考我写的Xposed系列文章，这里只是简单的总结一下：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">) </code><code class="python value">4.4</code><code class="python plain">以下Android版本安装比较简单，只需要两步即可</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python value">1.</code><code class="python plain">对需要安装Xposed的手机进行root</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python value">2.</code><code class="python plain">下载并安装xposedInstaller,之后授权其root权限，进入app点击安装即可</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">但是由于官网不在维护，导致无法直接通过xposedinstaller下载补丁包</code></div><div class="line number5 index4 alt2"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）Android </code><code class="python value">5.0</code><code class="python keyword">-</code><code class="python value">8.0</code> <code class="python plain">由于</code><code class="python value">5.0</code><code class="python plain">后出现ART，所以安装步骤分成两个部分：xposed.</code><code class="python functions">zip</code> <code class="python plain">和 </code></div><div class="line number6 index5 alt1"><code class="python spaces">    </code><code class="python plain">XposedInstaller.apk,</code><code class="python functions">zip</code><code class="python plain">文件是框架主体，需要进入Recovery后刷入，apk文件用于Xposed管理</code></div><div class="line number7 index6 alt2"><code class="python spaces">    </code><code class="python value">1.</code><code class="python plain">完成对手机的root，并刷入reconvery(比如twrp),使用Superroot</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python value">2.</code><code class="python plain">下载你对应的</code><code class="python functions">zip</code><code class="python plain">补丁包，并进入recovery刷入</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python value">3.</code><code class="python plain">重启手机，安装xposedInstaller并授予root权限即可</code></div><div class="line number10 index9 alt1"><code class="python spaces">    </code><code class="python plain">官网地址：https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">dl</code><code class="python keyword">-</code><code class="python plain">xda.xposed.info</code><code class="python keyword">/</code><code class="python plain">framework</code><code class="python keyword">/</code></div><div class="line number11 index10 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）由于Android </code><code class="python value">8.0</code><code class="python plain">后，Xposed官方作者没有再对其更新，我们一般就使用国内大佬riyu的Edxposed框架</code></div><div class="line number12 index11 alt1"><code class="python spaces">    </code><code class="python plain">Magisk </code><code class="python keyword">+</code> <code class="python plain">riyu </code><code class="python keyword">+</code> <code class="python plain">Edxposed</code></div></div></td></tr></tbody></table>
<p>这里我们用的是nexus5进行操作，简单演示一下android6.0的Xposed安装</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>资源准备：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">asop镜像：https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">developers.google.com</code><code class="python keyword">/</code><code class="python plain">android</code><code class="python keyword">/</code><code class="python plain">ota</code><code class="python comments">#hammerhead</code></div><div class="line number2 index1 alt1"><code class="python plain">twrp:     https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">twrp.me</code><code class="python keyword">/</code></div><div class="line number3 index2 alt2"><code class="python plain">xposed:   https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">dl</code><code class="python keyword">-</code><code class="python plain">xda.xposed.info</code><code class="python keyword">/</code><code class="python plain">framework</code><code class="python keyword">/</code></div><div class="line number4 index3 alt1"><code class="python plain">xposed installer https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">repo.xposed.info</code><code class="python keyword">/</code><code class="python plain">module</code><code class="python keyword">/</code><code class="python plain">de.robv.android.xposed.installer</code></div></div></td></tr></tbody></table><p>首先我们先下载n5镜像，然后刷机，这里我们已经安装就不再安装了</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们刷入 twrp-3.4.0-0-hammerhead.img </p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">fastboot flash recovery twrp</code><code class="python keyword">-</code><code class="python value">3.4</code><code class="python plain">.</code><code class="python value">0</code><code class="python keyword">-</code><code class="python value">0</code><code class="python keyword">-</code><code class="python plain">hammerhead.img</code></div></div></td></tr></tbody></table><p><img src="upload/attach/202205/905443_PTP5YTG7G8Q65Q4.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们就可以进入recovery模式了</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们将Supersu拷贝进去，然后将Xposed-v89-sdk.zip拷贝进去</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_USKZ6Q73UJ67BPY.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_BP8GCDGXX6RTWRZ.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们进入recovery模式，将两个文件依次刷入即可</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>接下来我们安装XposedInstall.apk,来管理Xposed</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_5Y7BXVDNRSNAVR6.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>如果我们开机后发现xposed框架没有激活，尝试再重启一下，我们可以看见</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_XNTNEVPKZK7HMWR.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这样我们的Xposed框架就成功安装了</p>
<h4><a name="（2）xposed插件编写" class="anchor" href="#（2）xposed插件编写"><span class="header-link"></span></a>（2）Xposed插件编写</h4><p>Xposed插件编写的流程网上已经有很多了，这里我就简单的讲解一下</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">基本流程：</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">)拷贝XposedBridgeApi.jar到新建工程的libs目录</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">)修改app目录下的build.gradle文件，在AndroidManifest.xml中增加Xposed相关内容</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">)新建hook类，编写hook代码</code></div><div class="line number5 index4 alt2"><code class="python spaces">    </code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">)新建assets文件夹，然后在assets目录下新建文件xposed_init,在里面写上hook类的完整路径</code></div></div></td></tr></tbody></table>
<p>首先，我们查找XposedBridgeApi.jar到新建工程的libs目录：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_XSP2C2T7ZFRNP8G.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后，修改AndroidManifest.xml文件，在Application标签下增加内容如下：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">&lt;meta</code><code class="python keyword">-</code><code class="python plain">data</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">android:name</code><code class="python keyword">=</code><code class="python string">"xposedmodule"</code>   <code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">是否配置为Xposed插件，设置为true</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">android:value</code><code class="python keyword">=</code><code class="python string">"true"</code><code class="python keyword">/</code><code class="python plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="python plain">&lt;meta</code><code class="python keyword">-</code><code class="python plain">data</code></div><div class="line number5 index4 alt2"><code class="python spaces">    </code><code class="python plain">android:name</code><code class="python keyword">=</code><code class="python string">"xposeddescription"</code>   <code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">模块名称</code></div><div class="line number6 index5 alt1"><code class="python spaces">    </code><code class="python plain">android:value</code><code class="python keyword">=</code><code class="python string">"模块描述"</code><code class="python keyword">/</code><code class="python plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="python plain">&lt;meta</code><code class="python keyword">-</code><code class="python plain">data</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python plain">android:name</code><code class="python keyword">=</code><code class="python string">"xposedminversion"</code>   <code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">最低版本号</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python plain">android:value</code><code class="python keyword">=</code><code class="python string">"54"</code><code class="python keyword">/</code><code class="python plain">&gt;</code></div></div></td></tr></tbody></table>
<p>修改app目录下的build.gradle文件：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">进入app目录下的build.gradle文件，    </code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python functions">compile</code> <code class="python plain">fileTree(includes:[</code><code class="python string">'*.jar'</code><code class="python plain">],</code><code class="python functions">dir</code><code class="python plain">:</code><code class="python string">'libs'</code><code class="python plain">)</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">替换成</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">provided fileTree(includes:[</code><code class="python string">'*.jar'</code><code class="python plain">],</code><code class="python functions">dir</code><code class="python plain">:</code><code class="python string">'libs'</code><code class="python plain">)</code></div><div class="line number5 index4 alt2"><code class="python plain">现在provided变为 compileOnly </code></div><div class="line number6 index5 alt1"><code class="python plain">如果使用</code><code class="python functions">compile</code><code class="python plain">,可以正常编译生成插件apk,但是当安装到手机上后，xposed会报错，无法正常工作</code></div></div></td></tr></tbody></table>
<p>编写hook类：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们新建一个hook类xposed01，并实现接口IXposedHookLoadPackage,并实现里面关键方法handleLoadPackage(XC_LoadPackage.LoadPackageParam loadPackageParam)，该方法会在每个软件被启动的时候回调，所以一般需要通过目标包名过滤</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">public </code><code class="python keyword">class</code> <code class="python plain">Xposed01 implements IXposedHookLoadPackage {</code></div><div class="line number2 index1 alt1"> </div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python decorator">@Override</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">public void handleLoadPackage(XC_LoadPackage.LoadPackageParam loadPackageParam) throws Throwable {</code></div><div class="line number5 index4 alt2"><code class="python spaces">        </code><code class="python keyword">if</code><code class="python plain">(loadPackageParam.packageName.equals(</code><code class="python string">"com.example.xposedlesson2"</code><code class="python plain">)){  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">判断目标包名</code></div><div class="line number6 index5 alt1"><code class="python spaces">            </code><code class="python plain">XposedBridge.log(</code><code class="python string">"XLZH"</code><code class="python keyword">+</code><code class="python plain">loadPackageParam.packageName);  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">打出包名的信息</code></div><div class="line number7 index6 alt2"><code class="python spaces">            </code><code class="python plain">Log.i(</code><code class="python string">"Xposed01"</code><code class="python plain">,loadPackageParam.packageName);</code></div><div class="line number8 index7 alt1"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python plain">}</code></div><div class="line number10 index9 alt1"><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p>新建assets文件夹，然后在assets目录下新建文件xposed_init,在里面写上hook类的完整路径</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_M8K7JKCWGJZM2C7.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里面可以写多个hook类，每个类写一个，我们就完成了基本的Xposed框架的编写</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>最后勾选模块，并重启即可生效</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_K8KRQA95GC2T55T.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_WYH6S62TQ4H4W69.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们可以发现我们的xposed插件生效了，将我们系统中进程名打印出来了,说明hook成功了</p>
<h3 id="msg_header_h3_10"><a name="" class="anchor" href=""><span class="header-link"></span></a>2.frida hook实操</h3><h4><a name="（1）环境安装" class="anchor" href="#（1）环境安装"><span class="header-link"></span></a>（1）环境安装</h4><p>frida安装，使用frida过程中我们可以安装objection来进一步助力我们的hook工作，这个参考肉丝大佬的知识星球</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>工具安装（也可以选用其他版本）：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">pip install frida</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python value">12.8</code><code class="python plain">.</code><code class="python value">0</code></div><div class="line number2 index1 alt1"><code class="python plain">pip install frida</code><code class="python keyword">-</code><code class="python plain">tools</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python value">5.3</code><code class="python plain">.</code><code class="python value">0</code></div><div class="line number3 index2 alt2"><code class="python plain">pip install objection</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python value">1.8</code><code class="python plain">.</code><code class="python value">4</code></div></div></td></tr></tbody></table><p>安装成功后，查看frida和objection，确定版本正确</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">frida </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">version</code></div><div class="line number2 index1 alt1"><code class="python plain">objection </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python functions">help</code></div></div></td></tr></tbody></table><p>然后将frida_server推送到<code>/data/local/tmp</code>下，并启动：（下载地址：https://github.com/frida/frida/releases）</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_DK5Z49RCDWTK5V7.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517153822302" class="div_message_boxShadow" /></p>
<h4><a name="（2）frida使用" class="anchor" href="#（2）frida使用"><span class="header-link"></span></a>（2）frida使用</h4><p>然后我们就可以使用自动化工具objection和编写js脚本进行hook了</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>objection使用（详细参考肉丝大佬github的教程）：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">常见的hook命令：</code></div><div class="line number2 index1 alt1"><code class="python plain">objection </code><code class="python keyword">-</code><code class="python plain">g com.android.settings explore  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">注入设置应用</code></div><div class="line number3 index2 alt2"><code class="python plain">android hooking </code><code class="python functions">list</code> <code class="python plain">activities  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">查看Activity，service相同</code></div><div class="line number4 index3 alt1"><code class="python plain">android intent launch_activity com.android.settings.DisplaySettings  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">实现Activity跳转</code></div><div class="line number5 index4 alt2"><code class="python plain">android heap search instances com.android.settings.DisplaySettings   </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">搜索类的实例</code></div><div class="line number6 index5 alt1"><code class="python plain">android heap execute </code><code class="python value">0x2526</code> <code class="python plain">getPreferenceScreenResId    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">主动调用实例</code></div><div class="line number7 index6 alt2"><code class="python plain">android hooking </code><code class="python functions">list</code> <code class="python plain">classes  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">列出内存中所有类</code></div><div class="line number8 index7 alt1"><code class="python plain">android hooking search methods display  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">列出内存中所有的方法</code></div><div class="line number9 index8 alt2"><code class="python plain">android hooking watch </code><code class="python keyword">class</code> <code class="python plain">android.bluetooth.BluetoothDevice  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">hook相关类的所有方法</code></div><div class="line number10 index9 alt1"><code class="python plain">android hooking watch class_method android.bluetooth.BluetoothDevice.getName </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">dump</code><code class="python keyword">-</code><code class="python plain">args </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">dump</code><code class="python keyword">-</code><code class="python keyword">return</code> <code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">dump</code><code class="python keyword">-</code><code class="python plain">backtrace  </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">打印具体方法的参数、返回值、堆栈信息</code></div></div></td></tr></tbody></table>
<p>编写脚本：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_R2F8JJFJF5PN2XU.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517154213936" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>启动方式：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">attach方式 frida </code><code class="python keyword">-</code><code class="python plain">U com.example.test </code><code class="python keyword">-</code><code class="python plain">l hook.js</code></div><div class="line number2 index1 alt1"><code class="python plain">spwan启动 frida </code><code class="python keyword">-</code><code class="python plain">U </code><code class="python keyword">-</code><code class="python plain">f com.example.test </code><code class="python keyword">-</code><code class="python plain">l demo1.js </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">no</code><code class="python keyword">-</code><code class="python plain">pause</code></div></div></td></tr></tbody></table><p>这样我们就可以成功注入了，更加复杂的脚本编写可以参考<a href="https://github.com/hookmaster/frida-all-in-one">frida博客</a></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>详细案例实操，这里可以参考之前我的文章:<a href="https://bbs.pediy.com/thread-269128.htm">Android恶意样本分析——frida破解三层锁机样本</a></p>
<h3 id="msg_header_h3_11"><a name="" class="anchor" href="#3.inlinehook实操"><span class="header-link"></span></a>3.inlinehook实操</h3><p>这里我们分别实现基于inlinehook的两个开源框架的具体使用方法</p>
<h4><a name="（1）android-lnine-hook" class="anchor" href="#（1）android-lnine-hook"><span class="header-link"></span></a>（1）Android-lnine-Hook</h4><p>开源地址：https://github.com/ele7enxxh/Android-Inline-Hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>该框架只能针对32位的so文件进行hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们对so文件进行hook时，可以按照如下步骤进行：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）查看so文件中的目标函数</code></div><div class="line number2 index1 alt1"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）编写Xposed hook代码，hook目标程序</code></div><div class="line number3 index2 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）编写so层hook代码，hook so中的函数地址</code></div><div class="line number4 index3 alt1"><code class="python plain">（</code><code class="python value">4</code><code class="python plain">）链接Java层和so层</code></div></div></td></tr></tbody></table><h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;1&gt;编写目标函数so文件</h5><p><img src="upload/attach/202205/905443_5M34E5RGVMHTXVQ.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517160033161" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们编写案例，很明显这里会打印失败，然后我们使用inline-hook框架进行hook</p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;2&gt;导入文件</h5><p>我们将该框架中如下文件导入我们的项目中</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们需要使用<a href="https://github.com/ele7enxxh/Android-Inline-Hook">inlineHook</a>文件夹，并把这些文件直接拷贝到我们的工作目录：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_J35447VZ396W69Y.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_PM8D54VPMM4V2DN.png" style="max-width: 100%; cursor: pointer;" alt="image-20210919152200104" class="div_message_boxShadow" /></p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;3&gt;修改配置文件</h5><p><img src="upload/attach/202205/905443_RWZAX8NBEZYBSWU.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517160824232" class="div_message_boxShadow" /></p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;4&gt;编写hook代码</h5><p>我们导入inlinehook头文件就可以开始编写hook代码了</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_TWS32X2EXSB6JKX.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517160918834" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>编译，报错：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_D67M5NGM8V5PBSZ.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517163117937" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这是因为框架仅仅针对32位，所以我们需要在配置文件里面指定一下</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_NXT48W65NN9ZDDC.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517163519977" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后编译，发现能正常通过</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>首先声明hook的就函数，然后编写对应的新函数，这里我们hook的是<code>strstr函数</code></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_9JHGK9T47FU4C88.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517185051670" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后调用inlinehook进行hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_X56HZNKEDMKMDRW.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517185429734" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>最后我们发现就可以成功的hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_6RH3X3BJK6HVQR6.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517185538606" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>代码分析：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">源码解析：</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）dlopen：该函数将打开一个新库，并把它装入内存</code></div><div class="line number3 index2 alt2"><code class="python spaces">        </code><code class="python plain">void </code><code class="python keyword">*</code><code class="python plain">dlopen(const char </code><code class="python keyword">*</code><code class="python plain">filename, </code><code class="python functions">int</code> <code class="python plain">flag);</code></div><div class="line number4 index3 alt1"><code class="python spaces">        </code><code class="python plain">参数</code><code class="python value">1</code><code class="python plain">：文件名就是一个动态库so文件，标志位：RTLD_NOW 的话，则立刻计算；设置的是 RTLD_LAZY，则在需要的时候才计算</code></div><div class="line number5 index4 alt2"><code class="python spaces">        </code><code class="python plain">libc.so是一个共享库</code></div><div class="line number6 index5 alt1"><code class="python spaces">        </code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code></div><div class="line number7 index6 alt2"><code class="python spaces">        </code><code class="python plain">参数中的 libname 一般是库的全路径，这样 dlopen 会直接装载该文件；如果只是指定了库名称，在 dlopen 会按照下面的机制去搜寻：</code></div><div class="line number8 index7 alt1"><code class="python spaces">        </code><code class="python plain">根据环境变量 LD_LIBRARY_PATH 查找</code></div><div class="line number9 index8 alt2"><code class="python spaces">        </code><code class="python plain">根据 </code><code class="python keyword">/</code><code class="python plain">etc</code><code class="python keyword">/</code><code class="python plain">ld.so.cache 查找</code></div><div class="line number10 index9 alt1"><code class="python spaces">        </code><code class="python plain">查找依次在 </code><code class="python keyword">/</code><code class="python plain">lib 和 </code><code class="python keyword">/</code><code class="python plain">usr</code><code class="python keyword">/</code><code class="python plain">lib 目录查找。</code></div><div class="line number11 index10 alt2"><code class="python spaces">        </code><code class="python plain">flag 参数表示处理未定义函数的方式，可以使用 RTLD_LAZY 或 RTLD_NOW 。 RTLD_LAZY 表示暂时不去处理未定义函数，先把库装载到内存，等用到没定义的函数再说； RTLD_NOW 表示马上检查是否存在未定义的函数，若存在，则 dlopen 以失败告终。</code></div><div class="line number12 index11 alt1"><code class="python spaces">        </code><code class="python plain">参考链接：https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">blog.nowcoder.net</code><code class="python keyword">/</code><code class="python plain">n</code><code class="python keyword">/</code><code class="python value">5b2c04bbcccf431e9f1ab34aa02717fe</code></div><div class="line number13 index12 alt2"><code class="python spaces">        </code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python keyword">=</code></div><div class="line number14 index13 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）dlsym:在 dlopen 之后，库被装载到内存。 dlsym 可以获得指定函数( symbol )在内存中的位置(指针)。</code></div><div class="line number15 index14 alt2"><code class="python spaces">         </code><code class="python plain">void </code><code class="python keyword">*</code><code class="python plain">dlsym(void </code><code class="python keyword">*</code><code class="python plain">handle,const char </code><code class="python keyword">*</code><code class="python plain">symbol);</code></div><div class="line number16 index15 alt1"><code class="python spaces">         </code><code class="python plain">参数</code><code class="python value">1</code><code class="python plain">：文件句柄  参数</code><code class="python value">2</code><code class="python plain">：函数名</code></div></div></td></tr></tbody></table>
<p>inlinehook框架使用正确姿势：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">我们对一个目标so文件hook步骤如下：</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）我们获取so的handler，使用dlopen函数</code></div><div class="line number3 index2 alt2"><code class="python spaces">        </code><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">libhandler </code><code class="python keyword">=</code> <code class="python plain">dlopen(</code><code class="python string">"libc.so"</code><code class="python plain">,RTLD_NOW);</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）我们获取hook目标函数的地址,使用dlsym函数</code></div><div class="line number5 index4 alt2"><code class="python spaces">        </code><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">strstr_addr </code><code class="python keyword">=</code> <code class="python plain">dlsym(libhandler,函数名);</code></div><div class="line number6 index5 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）声明原来的函数</code></div><div class="line number7 index6 alt2"><code class="python spaces">        </code><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">(</code><code class="python keyword">*</code><code class="python plain">oldmethod)(char</code><code class="python keyword">*</code><code class="python plain">,char</code><code class="python keyword">*</code><code class="python plain">); </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">这个格式需要参考hook的函数</code></div><div class="line number8 index7 alt1"><code class="python spaces">        </code><code class="python plain">声明现在的函数</code></div><div class="line number9 index8 alt2"><code class="python spaces">        </code><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">newmethod(char</code><code class="python keyword">*</code> <code class="python plain">a,char</code><code class="python keyword">*</code> <code class="python plain">b){</code></div><div class="line number10 index9 alt1"><code class="python spaces">            </code><code class="python keyword">return</code> <code class="python plain">(void </code><code class="python keyword">*</code><code class="python plain">)oldmethod(a,b);</code></div><div class="line number11 index10 alt2"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number12 index11 alt1"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）使用registerInlinehook进行重定向，将hook函数地址重定向我们编写的新函数上</code></div><div class="line number13 index12 alt2"><code class="python spaces">        </code><code class="python plain">(registerInlineHook((uint32_t) strstr_addr, (uint32_t) new_strstr, (uint32_t </code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">) &amp;old_strstr) !</code><code class="python keyword">=</code> <code class="python plain">ELE7EN_OK</code></div><div class="line number14 index13 alt1"><code class="python spaces">        </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">参数一：hook函数的地址 参数二：替换函数的地址  参数</code><code class="python value">3</code><code class="python plain">：用来保存原来函数的地址</code></div><div class="line number15 index14 alt2"><code class="python spaces">    </code><code class="python plain">（</code><code class="python value">5</code><code class="python plain">）我们判断我们的hook操作是否成功,并且再次调用实现hook </code></div><div class="line number16 index15 alt1"><code class="python spaces">        </code><code class="python plain">(inlineHook((uint32_t) strstr_addr) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">ELE7EN_OK)</code></div></div></td></tr></tbody></table>
<h4><a name="（2）sandhook实操" class="anchor" href="#（2）sandhook实操"><span class="header-link"></span></a>（2）SandHook实操</h4><p>因为上面使用inline框架只支持32位，所以这里我们用SandHook实现对64位native函数的hook，<a href="https://github.com/asLody/SandHook">sandHook</a>既支持32位、又支持64位</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>开源地址：https://github.com/asLody/SandHook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>同样是上面的案例，这里我们使用SandHook进行实操</p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;1&gt;导入文件</h5><p>我们此路径下<code>SandHook/nativehook/src/main/cpp/</code>文件全部导入</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_UENG24U66ADC7WG.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517191708611" class="div_message_boxShadow" /></p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;2&gt;配置环境</h5><p>首先我们在CMakeList中加入c文件</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_K28NFSCXPDMCXZA.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517192031241" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后在java代码中修改导入的so库</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_BKTVYYEPN7R47Z6.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517192224416" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>直接编译，报错：</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_3UGDSRDEFN48UBY.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517192315719" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们同理将配置信息加入：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">cmake {</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">arguments </code><code class="python string">'-DBUILD_TESTING=OFF'</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">cppFlags </code><code class="python string">"-frtti -fexceptions -Wpointer-arith"</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">abiFilters </code><code class="python string">'armeabi-v7a'</code><code class="python plain">, </code><code class="python string">'arm64-v8a'</code></div><div class="line number5 index4 alt2"><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p>再次编译成功</p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;3&gt;编写hook代码</h5><p>SandHook使用和上面inlinehook框架基本一样</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>首先声明旧的函数，编写新的函数（目标函数strstr）</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_PTP33M4B8NPEF7Y.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193411921" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后进行hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_VWARWTJFRXBE7BG.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>最后发现可以成功hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_RDJ2MVC9GYJQ8M3.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193629093" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>SandHook使用姿势：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）导包，将SandHook中cpp文件夹下的包全部导入到项目中，并修改CMakeLists.txt中添加native.cpp, 修改java层导入so库为sandHook</code><code class="python keyword">-</code><code class="python plain">native</code></div><div class="line number2 index1 alt1"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）配置相关的环境</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python plain">在配置文件build.gradle中配置</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">externalNativeBuild {</code></div><div class="line number5 index4 alt2"><code class="python spaces">          </code><code class="python plain">cmake {</code></div><div class="line number6 index5 alt1"><code class="python spaces">        </code><code class="python plain">arguments </code><code class="python string">'-DBUILD_TESTING=OFF'</code></div><div class="line number7 index6 alt2"><code class="python spaces">        </code><code class="python plain">cppFlags </code><code class="python string">"-frtti -fexceptions -Wpointer-arith"</code></div><div class="line number8 index7 alt1"><code class="python spaces">        </code><code class="python plain">abiFilters </code><code class="python string">'armeabi-v7a'</code><code class="python plain">, </code><code class="python string">'arm64-v8a'</code></div><div class="line number9 index8 alt2"><code class="python spaces">          </code><code class="python plain">}</code></div><div class="line number10 index9 alt1"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number11 index10 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）编译可以成功通过</code></div><div class="line number12 index11 alt1"><code class="python plain">（</code><code class="python value">4</code><code class="python plain">）使用</code></div><div class="line number13 index12 alt2"><code class="python spaces">    </code><code class="python plain">const char </code><code class="python keyword">*</code> <code class="python plain">libc </code><code class="python keyword">=</code> <code class="python string">"/system/lib64/libc.so"</code><code class="python plain">;</code></div><div class="line number14 index13 alt1"><code class="python spaces">    </code><code class="python plain">old_fopen </code><code class="python keyword">=</code> <code class="python plain">reinterpret_cast&lt;void </code><code class="python keyword">*</code><code class="python plain">(</code><code class="python keyword">*</code><code class="python plain">)(char </code><code class="python keyword">*</code><code class="python plain">, char </code><code class="python keyword">*</code><code class="python plain">)&gt;(SandInlineHookSym(libc, </code><code class="python string">"fopen"</code><code class="python plain">,</code></div><div class="line number15 index14 alt2"><code class="python spaces">                                                                         </code><code class="python plain">reinterpret_cast&lt;void </code><code class="python keyword">*</code><code class="python plain">&gt;(new_fopen)));</code></div><div class="line number16 index15 alt1"><code class="python plain">参数</code><code class="python value">2</code><code class="python plain">：hook的函数 参数</code><code class="python value">3</code><code class="python plain">：新的函数</code></div><div class="line number17 index16 alt2"> </div><div class="line number18 index17 alt1"><code class="python plain">添加原理hook旧函数的声明</code></div><div class="line number19 index18 alt2"><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">(</code><code class="python keyword">*</code><code class="python plain">old_fopen)(char</code><code class="python keyword">*</code><code class="python plain">,char</code><code class="python keyword">*</code><code class="python plain">);</code></div><div class="line number20 index19 alt1"><code class="python plain">实现新的函数功能</code></div><div class="line number21 index20 alt2"><code class="python plain">void</code><code class="python keyword">*</code> <code class="python plain">new_fopen(char</code><code class="python keyword">*</code> <code class="python plain">a,char</code><code class="python keyword">*</code> <code class="python plain">b){</code></div><div class="line number22 index21 alt1"><code class="python spaces">    </code><code class="python plain">__android_log_print(</code><code class="python value">6</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"I am from new open %s"</code><code class="python plain">,a);</code></div><div class="line number23 index22 alt2"><code class="python spaces">    </code><code class="python keyword">return</code> <code class="python plain">old_fopen(a,b);</code></div><div class="line number24 index23 alt1"><code class="python plain">}</code></div><div class="line number25 index24 alt2"><code class="python plain">（</code><code class="python value">5</code><code class="python plain">）运行测试是否成功启动</code></div></div></td></tr></tbody></table>
<h3 id="msg_header_h3_12"><a name="" class="anchor" href=""><span class="header-link"></span></a>4.PLT/GOT hook实操</h3><p>前面我们已经介绍了Got表hook的原理，下面我们实例操作一下导入表函数的hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>参考博客：https://www.cnblogs.com/goodhacker/p/9306997.html</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>原理：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">通过解析elf格式，分析Section header table找出静态的.got表的位置，并在内存中找到相应的.got表位置，这个时候内存中.got表保存着导入函数的地址，读取目标函数地址，与.got表每一项函数入口地址进行匹配，找到的话就直接替换新的函数地址，这样就完成了一次导入表的Hook操作了</code></div></div></td></tr></tbody></table><p><img src="upload/attach/202205/905443_ZQSAKZF2U7B5GNE.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>首先，我们编写demo</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_QM94VN789TPJJTK.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>我们编译后使用010Editor打开<code>libnative-lib.so</code></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_EKYS5SE78TQUKNV.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_GVKDZZSTB8VBTEA.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们用ida打开，并直接跳转到该地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_V3PY8VJY2TYXEEX.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>在got表中我们找到对应的mywin0函数</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_6WBC3YU8VG6KQMG.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;1&gt;获得so模块的加载地址</h5><p>我们可以使用<code>/proc/self/maps</code>去获得so模块的加载地址</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">char line[</code><code class="python value">1024</code><code class="python plain">];</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python keyword">*</code><code class="python plain">start;</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python keyword">*</code><code class="python plain">end;</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python plain">n</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">;</code></div><div class="line number5 index4 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python value">1.</code><code class="python plain">拿到so的起始地址</code></div><div class="line number6 index5 alt1"><code class="python keyword">/</code><code class="python keyword">/</code>    <code class="python value">749e5d7000</code><code class="python keyword">-</code><code class="python value">749e5db000</code> <code class="python plain">r</code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">p </code><code class="python value">000f4000</code> <code class="python value">103</code><code class="python plain">:</code><code class="python value">09</code> <code class="python value">441</code>                           <code class="python keyword">/</code><code class="python plain">system</code><code class="python keyword">/</code><code class="python functions">bin</code><code class="python keyword">/</code><code class="python plain">linker64</code></div><div class="line number7 index6 alt2"><code class="python keyword">/</code><code class="python keyword">/</code>    <code class="python value">749e5db000</code><code class="python keyword">-</code><code class="python value">749e5dc000</code> <code class="python plain">rw</code><code class="python keyword">-</code><code class="python plain">p </code><code class="python value">000f8000</code> <code class="python value">103</code><code class="python plain">:</code><code class="python value">09</code> <code class="python value">441</code>                           <code class="python keyword">/</code><code class="python plain">system</code><code class="python keyword">/</code><code class="python functions">bin</code><code class="python keyword">/</code><code class="python plain">linker64</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python functions">FILE</code> <code class="python keyword">*</code><code class="python plain">fd </code><code class="python keyword">=</code> <code class="python plain">fopen(</code><code class="python string">"/proc/self/maps"</code><code class="python plain">,</code><code class="python string">"r"</code><code class="python plain">);</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python keyword">while</code> <code class="python plain">(fgets(line,sizeof(line),fd)){</code></div><div class="line number10 index9 alt1"><code class="python spaces">        </code><code class="python keyword">if</code><code class="python plain">(strstr(line,</code><code class="python string">"libnative-lib.so"</code><code class="python plain">)){</code></div><div class="line number11 index10 alt2"><code class="python spaces">            </code><code class="python plain">__android_log_print(</code><code class="python value">6</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"%s"</code><code class="python plain">,line);</code></div><div class="line number12 index11 alt1"><code class="python spaces">            </code><code class="python keyword">if</code><code class="python plain">(n</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">){</code></div><div class="line number13 index12 alt2"><code class="python spaces">                </code><code class="python plain">start </code><code class="python keyword">=</code> <code class="python plain">reinterpret_cast&lt;</code><code class="python functions">int</code> <code class="python keyword">*</code><code class="python plain">&gt;(strtoul(strtok(line, </code><code class="python string">"-"</code><code class="python plain">),NULL,</code><code class="python value">16</code><code class="python plain">));</code></div><div class="line number14 index13 alt1"><code class="python spaces">                </code><code class="python plain">end </code><code class="python keyword">=</code> <code class="python plain">reinterpret_cast&lt;</code><code class="python functions">int</code> <code class="python keyword">*</code><code class="python plain">&gt;(strtoul(strtok(NULL, </code><code class="python string">" "</code><code class="python plain">),NULL,</code><code class="python value">16</code><code class="python plain">));</code></div><div class="line number15 index14 alt2"><code class="python spaces">            </code><code class="python plain">}</code></div><div class="line number16 index15 alt1"><code class="python spaces">            </code><code class="python keyword">else</code><code class="python plain">{</code></div><div class="line number17 index16 alt2"><code class="python spaces">                </code><code class="python plain">strtok(line,</code><code class="python string">"-"</code><code class="python plain">);</code></div><div class="line number18 index17 alt1"><code class="python spaces">                </code><code class="python plain">end </code><code class="python keyword">=</code> <code class="python plain">reinterpret_cast&lt;</code><code class="python functions">int</code> <code class="python keyword">*</code><code class="python plain">&gt;(strtoul(strtok(NULL, </code><code class="python string">" "</code><code class="python plain">),NULL,</code><code class="python value">16</code><code class="python plain">));</code></div><div class="line number19 index18 alt2"><code class="python spaces">            </code><code class="python plain">}</code></div><div class="line number20 index19 alt1"><code class="python spaces">            </code><code class="python plain">n</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">;</code></div><div class="line number21 index20 alt2"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number22 index21 alt1"><code class="python spaces">    </code><code class="python plain">}</code></div></div></td></tr></tbody></table>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;2&gt;找到got表的位置</h5><p>我们首先根据段头找到section_header的首地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_Q7NVUZ5B2X57YS4.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_TVKKU6G357P3HWZ.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>然后我们遍历这个表就可以找到.got,然后根据got表地址再轮训找到函数地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>因为这种方法不能在内存中直接找到段头，内存中会抹去段头，所以我们可以通过加载so文件来定位</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_K8TVAMSKQ6KQC6U.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;3&gt;定位到节表的地址</h5><p>然后我们来获得节表的地址：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">读取elf文件</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">Elf64_Ehdr ehd;</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python plain">fp </code><code class="python keyword">=</code><code class="python functions">open</code><code class="python plain">(</code><code class="python string">"/data/local/tmp/libnative-lib.so"</code><code class="python plain">, O_RDONLY);</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python keyword">if</code><code class="python plain">(fp </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python keyword">-</code><code class="python value">1</code><code class="python plain">){</code></div><div class="line number5 index4 alt2"><code class="python spaces">        </code><code class="python plain">__android_log_print(</code><code class="python value">4</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"%s"</code><code class="python plain">,</code><code class="python string">"error"</code><code class="python plain">);</code></div><div class="line number6 index5 alt1"><code class="python spaces">    </code><code class="python plain">}</code></div><div class="line number7 index6 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">读取elf文件的文件头</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python plain">read(fp,&amp;ehd,sizeof(Elf64_Ehdr));</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">读取节表的地址</code></div><div class="line number10 index9 alt1"><code class="python spaces">    </code><code class="python plain">unsigned </code><code class="python functions">long</code> <code class="python plain">shof </code><code class="python keyword">=</code> <code class="python plain">ehd.e_shoff;</code></div><div class="line number11 index10 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">读取节表的数量</code></div><div class="line number12 index11 alt1"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python plain">shnum </code><code class="python keyword">=</code> <code class="python plain">ehd.e_shnum;</code></div><div class="line number13 index12 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">读取每个节表的大小</code></div><div class="line number14 index13 alt1"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python plain">shsize </code><code class="python keyword">=</code> <code class="python plain">ehd.e_ehsize;</code></div><div class="line number15 index14 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">记录一下</code><code class="python functions">str</code><code class="python plain">表的偏移，主要是获取后面got的字符串值</code></div><div class="line number16 index15 alt1"><code class="python spaces">    </code><code class="python functions">int</code> <code class="python plain">shstr </code><code class="python keyword">=</code> <code class="python plain">ehd.e_shstrndx;</code></div></div></td></tr></tbody></table>
<p>我们打印一下此事shof的值，验证一下节表的地址</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_VJRHUBSV8PK6TYC.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里可以发现成功读取</p>
<h5><a name="" class="anchor" href=""><span class="header-link"></span></a>&lt;4&gt;定位到got表的位置和函数位置</h5><p>然后我们拿到字符串的偏移值进行定位到got表，再进一步定位到函数</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code><code class="python value">2.</code><code class="python plain">拿到字符串表</code></div><div class="line number2 index1 alt1"><code class="python spaces">    </code><code class="python plain">Elf64_Shdr shdr;</code></div><div class="line number3 index2 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">定位字符串，节表地址加字符串表偏移×节表个数</code></div><div class="line number4 index3 alt1"><code class="python spaces">    </code><code class="python plain">lseek(fp,shof</code><code class="python keyword">+</code><code class="python plain">shstr</code><code class="python keyword">*</code><code class="python plain">shsize,SEEK_SET);</code></div><div class="line number5 index4 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">此时节表就定位到字符串表开头</code></div><div class="line number6 index5 alt1"><code class="python spaces">    </code><code class="python plain">read(fp,&amp;shdr,shsize);</code></div><div class="line number7 index6 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">分配一个字符串表大小</code></div><div class="line number8 index7 alt1"><code class="python spaces">    </code><code class="python plain">char</code><code class="python keyword">*</code> <code class="python plain">strtable </code><code class="python keyword">=</code> <code class="python plain">(char </code><code class="python keyword">*</code><code class="python plain">)malloc(shdr.sh_size);</code></div><div class="line number9 index8 alt2"><code class="python spaces">    </code><code class="python plain">__android_log_print(</code><code class="python value">6</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"shdrsize %p"</code><code class="python plain">,shdr.sh_offset);</code></div><div class="line number10 index9 alt1"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">将字符串片指针移动到</code><code class="python value">0x34104</code><code class="python plain">上</code></div><div class="line number11 index10 alt2"><code class="python spaces">    </code><code class="python plain">lseek(fp,shdr.sh_offset,SEEK_SET);</code></div><div class="line number12 index11 alt1"><code class="python spaces">    </code><code class="python plain">read(fp,strtable,shdr.sh_size);</code></div><div class="line number13 index12 alt2"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">将指针移动到节表开头</code></div><div class="line number14 index13 alt1"><code class="python spaces">    </code><code class="python plain">lseek(fp,shof,SEEK_SET);</code></div><div class="line number15 index14 alt2"> </div><div class="line number16 index15 alt1"><code class="python spaces">    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">遍历查找到got</code></div><div class="line number17 index16 alt2"><code class="python spaces">    </code><code class="python keyword">for</code><code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">i</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">;i&lt;shnum;i</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">){</code></div><div class="line number18 index17 alt1"><code class="python spaces">        </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">从节表开头开始读取字符串，每次读取一个节表</code></div><div class="line number19 index18 alt2"><code class="python spaces">        </code><code class="python plain">read(fp,&amp;shdr,shsize);</code></div><div class="line number20 index19 alt1"><code class="python spaces">        </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">通过节表的索引找到字符串表中对应的值</code></div><div class="line number21 index20 alt2"><code class="python spaces">        </code><code class="python keyword">if</code><code class="python plain">(strcmp(&amp;strtable[shdr.sh_name], </code><code class="python string">".got"</code><code class="python plain">)</code><code class="python keyword">=</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">){</code></div><div class="line number22 index21 alt1"><code class="python spaces">            </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">定位到got表的地址</code></div><div class="line number23 index22 alt2"><code class="python spaces">            </code><code class="python functions">int</code><code class="python keyword">*</code> <code class="python plain">saddr </code><code class="python keyword">=</code> <code class="python plain">start</code><code class="python keyword">+</code><code class="python plain">shdr.sh_addr</code><code class="python keyword">/</code><code class="python value">4</code><code class="python plain">;</code></div><div class="line number24 index23 alt1"><code class="python spaces">            </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">整个got表的大小</code></div><div class="line number25 index24 alt2"><code class="python spaces">            </code><code class="python functions">int</code> <code class="python plain">size </code><code class="python keyword">=</code> <code class="python plain">shdr.sh_size;</code></div><div class="line number26 index25 alt1"><code class="python spaces">            </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">遍历got表中的函数</code></div><div class="line number27 index26 alt2"><code class="python spaces">            </code><code class="python keyword">for</code><code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">j</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">;j&lt;size;j</code><code class="python keyword">=</code><code class="python plain">j</code><code class="python keyword">+</code><code class="python value">8</code><code class="python plain">){</code></div><div class="line number28 index27 alt1"><code class="python spaces">                </code><code class="python plain">uint64_t  value </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(uint64_t </code><code class="python keyword">*</code><code class="python plain">)(saddr </code><code class="python keyword">+</code> <code class="python plain">j </code><code class="python keyword">/</code> <code class="python value">4</code><code class="python plain">);</code></div><div class="line number29 index28 alt2"><code class="python spaces">                </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">找到mywind的地址</code></div><div class="line number30 index29 alt1"><code class="python spaces">                </code><code class="python keyword">if</code><code class="python plain">(reinterpret_cast&lt;uint64_t&gt;(mywin0) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">value)</code></div><div class="line number31 index30 alt2"><code class="python spaces">                </code><code class="python plain">{</code></div><div class="line number32 index31 alt1"><code class="python spaces">                    </code><code class="python plain">__android_log_print(</code><code class="python value">6</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"value %p"</code><code class="python plain">,value);</code></div><div class="line number33 index32 alt2"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">替换mywind地址</code></div><div class="line number34 index33 alt1"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">获取当前内存分页的大小</code></div><div class="line number35 index34 alt2"><code class="python spaces">                    </code><code class="python plain">uint64_t page_size </code><code class="python keyword">=</code> <code class="python plain">getpagesize();</code></div><div class="line number36 index35 alt1"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">获取内存分页的起始地址（需要内存对齐）</code></div><div class="line number37 index36 alt2"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">page要保护的是函数的绝对地址，而不是相对地址</code></div><div class="line number38 index37 alt1"><code class="python spaces">                    </code><code class="python plain">uint64_t entry_page_start </code><code class="python keyword">=</code> <code class="python plain">(uint64_t)(saddr</code><code class="python keyword">+</code><code class="python plain">j</code><code class="python keyword">/</code><code class="python value">4</code><code class="python plain">) &amp; (~(page_size </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">));</code></div><div class="line number39 index38 alt2"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">修改内存属性为可读可写可执行</code></div><div class="line number40 index39 alt1"><code class="python spaces">                    </code><code class="python keyword">if</code><code class="python plain">(mprotect((uint64_t</code><code class="python keyword">*</code><code class="python plain">)entry_page_start, page_size, PROT_READ | PROT_WRITE | PROT_EXEC) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python keyword">-</code><code class="python value">1</code><code class="python plain">){</code></div><div class="line number41 index40 alt2"><code class="python spaces">                        </code><code class="python plain">__android_log_print(</code><code class="python value">6</code><code class="python plain">,</code><code class="python string">"windaa"</code><code class="python plain">,</code><code class="python string">"%s"</code><code class="python plain">,</code><code class="python string">"mprotect failed"</code><code class="python plain">);</code></div><div class="line number42 index41 alt1"><code class="python spaces">                    </code><code class="python plain">}</code></div><div class="line number43 index42 alt2"><code class="python spaces">                    </code><code class="python plain">value </code><code class="python keyword">=</code> <code class="python plain">(uint64_t)mywin1;</code></div><div class="line number44 index43 alt1"><code class="python spaces">                    </code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">将mywind0函数的地址换成mywind1函数的地址</code></div><div class="line number45 index44 alt2"><code class="python spaces">                    </code><code class="python plain">memcpy((saddr</code><code class="python keyword">+</code><code class="python plain">j</code><code class="python keyword">/</code><code class="python value">4</code><code class="python plain">),&amp;value,</code><code class="python value">16</code><code class="python plain">);</code></div><div class="line number46 index45 alt1"><code class="python spaces">                </code><code class="python plain">}</code></div><div class="line number47 index46 alt2"> </div><div class="line number48 index47 alt1"> </div><div class="line number49 index48 alt2"> </div><div class="line number50 index49 alt1"><code class="python spaces">            </code><code class="python plain">}</code></div><div class="line number51 index50 alt2"><code class="python spaces">        </code><code class="python plain">}</code></div><div class="line number52 index51 alt1"><code class="python spaces">    </code><code class="python plain">}</code></div></div></td></tr></tbody></table>
<p><img src="upload/attach/202205/905443_TX7ZCATWPAERB55.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517193556517" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里我们就可以发现成功的hook</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>got hook使用姿势：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">（</code><code class="python value">1</code><code class="python plain">）使用</code><code class="python keyword">/</code><code class="python plain">proc</code><code class="python keyword">/</code><code class="python color1">self</code><code class="python keyword">/</code><code class="python plain">maps去获得so模块的加载地址</code></div><div class="line number2 index1 alt1"><code class="python plain">（</code><code class="python value">2</code><code class="python plain">）使用ElfHeader找到Section的首地址，并计算offset和size来获取StringTable</code></div><div class="line number3 index2 alt2"><code class="python plain">（</code><code class="python value">3</code><code class="python plain">）找到got表位置，计算其内存位置，并指针指向got表首地址</code></div><div class="line number4 index3 alt1"><code class="python plain">（</code><code class="python value">4</code><code class="python plain">）遍历got表中的函数，找到要hook的函数，使用mprotect进行hook</code></div><div class="line number5 index4 alt2"><code class="python plain">（</code><code class="python value">5</code><code class="python plain">）将hook的函数地址替换为我们定义的函数地址</code></div></div></td></tr></tbody></table><h3 id="msg_header_h3_13"><a name="" class="anchor" href=""><span class="header-link"></span></a>5.Unicorn hook使用</h3><p>这里我们简单了解一下基于unicorn的框架Unidbg的hook使用</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>开源地址：https://github.com/zhkl0228/unidbg</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里我们直接idea将项目拉取下来，然后等下项目环境配置完成</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_KR77QZB8XUD3JQQ.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517214320334" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>配置完成后，我们直接启动里面的示例代码查看hook效果</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p><img src="upload/attach/202205/905443_JJDDRDSMTYJCX7D.png" style="max-width: 100%; cursor: pointer;" alt="image-20220517214506632" class="div_message_boxShadow" /></p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>这里unidbg使用了xHook，xHook是一种PLT hook的方式，当然这只是unidbg强大功能其中的一种，也是hook技术中一种，这里就简单介绍到这，后续再详细讲如何使用</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>unidbg使用参考博客：https://www.qinless.com/670</p>
<h2 id="msg_header_h2_5"><a name="六、实验总结" class="anchor" href="#六、实验总结"><span class="header-link"></span></a>六、实验总结</h2><p>本文从程序加载的原理出发，讲解了当下常用的一些基本的hook方式和手段，后续对其中一些hook方式再次深入讲解，实验的一些样本和代码会上传到知识星球和github，文章参考学了了很多大佬的文章和大佬星球的内容，参考文献放在末尾，有什么问题，就请各位大佬一一指出了。</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;"> </div><p>github的地址：<a href="https://github.com/WindXaa">github</a></p>
<h2 id="msg_header_h2_6"><a name="参考文献" class="anchor" href="#参考文献"><span class="header-link"></span></a>参考文献</h2><p>参考书籍：</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">参考书目：《程序员的自我修养——链接、装载与库》</code></div></div></td></tr></tbody></table><p>GOT和PLT:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.geek</code><code class="python keyword">-</code><code class="python plain">share.com</code><code class="python keyword">/</code><code class="python plain">detail</code><code class="python keyword">/</code><code class="python value">2774116640.html</code></div><div class="line number2 index1 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.jianshu.com</code><code class="python keyword">/</code><code class="python plain">p</code><code class="python keyword">/</code><code class="python value">0ac63c3744dd</code></div><div class="line number3 index2 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.zhihu.com</code><code class="python keyword">/</code><code class="python plain">question</code><code class="python keyword">/</code><code class="python value">21249496</code></div><div class="line number4 index3 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.codeleading.com</code><code class="python keyword">/</code><code class="python plain">article</code><code class="python keyword">/</code><code class="python value">37234101170</code><code class="python keyword">/</code></div></div></td></tr></tbody></table><p>hook技术</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">zhuanlan.zhihu.com</code><code class="python keyword">/</code><code class="python plain">p</code><code class="python keyword">/</code><code class="python value">389889716</code></div><div class="line number2 index1 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">mabin004.github.io</code><code class="python keyword">/</code><code class="python value">2018</code><code class="python keyword">/</code><code class="python value">07</code><code class="python keyword">/</code><code class="python value">31</code><code class="python keyword">/</code><code class="python plain">Mac</code><code class="python keyword">%</code><code class="python plain">E4</code><code class="python keyword">%</code><code class="python plain">B8</code><code class="python keyword">%</code><code class="python value">8A</code><code class="python keyword">%</code><code class="python plain">E7</code><code class="python keyword">%</code><code class="python plain">BC</code><code class="python keyword">%</code><code class="python value">96</code><code class="python keyword">%</code><code class="python plain">E8</code><code class="python keyword">%</code><code class="python plain">AF</code><code class="python keyword">%</code><code class="python value">91Frida</code><code class="python keyword">/</code></div><div class="line number3 index2 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">zhuanlan.zhihu.com</code><code class="python keyword">/</code><code class="python plain">p</code><code class="python keyword">/</code><code class="python value">269441842</code></div><div class="line number4 index3 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">blog.csdn.net</code><code class="python keyword">/</code><code class="python plain">sdoyuxuan</code><code class="python keyword">/</code><code class="python plain">article</code><code class="python keyword">/</code><code class="python plain">details</code><code class="python keyword">/</code><code class="python value">78481239</code></div><div class="line number5 index4 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.cnblogs.com</code><code class="python keyword">/</code><code class="python plain">codingmengmeng</code><code class="python keyword">/</code><code class="python plain">p</code><code class="python keyword">/</code><code class="python value">6046481.html</code></div><div class="line number6 index5 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">blog.csdn.net</code><code class="python keyword">/</code><code class="python plain">sssssuuuuu666</code><code class="python keyword">/</code><code class="python plain">article</code><code class="python keyword">/</code><code class="python plain">details</code><code class="python keyword">/</code><code class="python value">78788369</code></div><div class="line number7 index6 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.malwaretech.com</code><code class="python keyword">/</code><code class="python value">2015</code><code class="python keyword">/</code><code class="python value">01</code><code class="python keyword">/</code><code class="python plain">inline</code><code class="python keyword">-</code><code class="python plain">hooking</code><code class="python keyword">-</code><code class="python keyword">for</code><code class="python keyword">-</code><code class="python plain">programmers</code><code class="python keyword">-</code><code class="python plain">part</code><code class="python keyword">-</code><code class="python value">1.html</code></div><div class="line number8 index7 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">juejin.cn</code><code class="python keyword">/</code><code class="python plain">post</code><code class="python keyword">/</code><code class="python value">6844903993668272141</code></div></div></td></tr></tbody></table><p>got/plt hook:</p>
<table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  python"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.likecs.com</code><code class="python keyword">/</code><code class="python plain">show</code><code class="python keyword">-</code><code class="python value">203321775.html</code></div><div class="line number2 index1 alt1"><code class="python plain">https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">www.lmlphp.com</code><code class="python keyword">/</code><code class="python plain">user</code><code class="python keyword">/</code><code class="python value">65342</code><code class="python keyword">/</code><code class="python plain">article</code><code class="python keyword">/</code><code class="python plain">item</code><code class="python keyword">/</code><code class="python value">709806</code><code class="python keyword">/</code></div></div></td></tr></tbody></table>						<br />
<p><a target="_blank" href="https://bbs.pediy.com/thread-271992.htm"> 【看雪培训】《Adroid高级研修班》2022年春季班招生中！</a></p>

		<div class="text-right text-muted my-3 small font-italic">
		最后于 <span class="icon-clock-o ml-2"> </span>2022-6-16 10:55		
				被随风而行aa编辑
				
		，原因： 		
	</div>
<div class="my-3">
		<a href="forum-161-1-117.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#基础理论</a>
		<a href="forum-161-1-118.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#逆向分析</a>
		<a href="forum-161-1-119.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#NDK分析</a>
		<a href="forum-161-1-124.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#程序开发</a>
		<a href="forum-161-1-125.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#HOOK注入</a>
		<a href="forum-161-1-127.htm" class="hidden-sm hidden-md small px-2 py-1 mr-2 " style="border-radius: 3px; background-color: #daf2ff; color: #0099ee;">#源码框架</a>
	</div>					


												
												
						
										</div>
					
					<div>
										</div>
					
					<div style="height: 33px; line-height: 33px; border-top: 1px solid #ddd;">
																	</div>
				</div>
			</div>
			
			<div id="collection_thumb" style="text-align:center;padding:5px 0px 30px; margin-bottom: 1rem;">
				<div style="width:auto;display:inline-block;">
					
					<div class="card_collection" style=" height: 65px;line-height:30px">
						<div>
														<a href="javascript:void(0);" class="d-inline-block favorite" style="border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px;line-height: 40px;">
								<i class="icon-star-o color4A4A4A"></i>
							</a>
													</div>
						<div>
							收藏
							<span class="likes_box likes_box_show" style="font-size: 13px;color: #0099ee;">・<span class="likes">83</span></span>
						</div>
					</div>
					<div class="card_collection" style=" height: 65px;line-height:30px">
						<div>
														<a href="javascript:void(0);" class="d-inline-block thumb" style="border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px;line-height: 40px;">
								<i class="icon-thumbs-o-up color4A4A4A"></i>
							</a>
														
						</div>
						<div>
							点赞<span class="thumbs_num_box" style="font-size: 13px;color: #0099ee;">・<span class="thumbs_num">20</span></span>
						</div>
						
					</div>
					<div class="card_collection" style=" height: 65px;line-height:30px">
							<div>
								<a href="javascript:void(0);" class="modal-title d-inline-block" id="exampleModalLabel" style="border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px;line-height: 40px;" data-toggle="modal" data-target=".reward">
									<i class="icon-rmb color4A4A4A"></i>
								</a>
							</div>
							<div>
								打赏
							</div>
					</div>
					<div class="card_collection position-relative" style=" height: 65px;line-height:30px">
						<div class="bbsshare_btn" style="cursor: pointer;">
							<div>
								<a href="javascript:void(0);" class="modal-title d-inline-block" style="border: 1px solid #DDDDDD; border-radius: 100%; width: 40px; height: 40px; line-height: 40px;">
									<i class="icon-share color4A4A4A"></i>
								</a>
							</div>
							<div>
								分享
							</div>
						</div>
						<div class="bd-bbsshare-modal-sm bbsshare_modal bg-white" style="display: none; width: 146px; box-shadow: 0 0 3px 0.5px #eee;">
							<div class="px-2 py-4">
								<div class="text-center" style="color: #5C5C5C;"><i class="icon icon-wechat "></i> 分享到微信</div>
								<div class="wechat_img py-2">
									<img src="bbs_qrcode-http_3A_2F_2Fbbs_2epediy_2ecom_2Fthread_2d272870_2ehtm.htm" style="width: 100%;" />
								</div>
								<div onclick="shareTo('qq')" class="text-center" style="color: #5C5C5C; cursor: pointer;"><i class="icon icon-qq"></i> 分享到QQ</div>
								<!-- <div class="text-center" style="color: #5C5C5C; cursor: pointer;"><i class="icon icon-wechat"></i> 分享到空间</div> -->
								<div onclick="shareTo('sina')" class="text-center" style="color: #5C5C5C; cursor: pointer;"><i class="icon icon-weibo"></i> 分享到微博</div>
								
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
		                
                                <style>
                    .reward_logo-list-1 {
                        max-width: 52px;
                        text-align: center;
                        white-space: nowrap;
                        overflow: hidden;
                        margin-left: 0.6rem !important;
                        margin-right: 0.6rem !important;
                    }
                    .avatar {
                        width: 3.5rem;
                        height: 3.5rem;
                    }
                    .mob_reward tbody td {
                        border: none!important;
                        
                    }
                    .mob_reward ._reward_tr {
                        
                        border-bottom: 1px dashed rgba(217, 229, 237, 0.59) !important;
                    }
                    @media screen and (max-width: 998px) {
                        .mob_reward {
                            display: none !important;
                        }
                        .avatar {
                            width: 2rem;
                                height: 2rem;
                        }
                        .reward_logo-list-1 {
                            max-width: 35px;
                            white-space: nowrap;
                            overflow: hidden;
                            margin-left: 0.2rem !important;
                            margin-right: 0.2rem !important;
                        }
                    }
                    </style>
                    <div class="card px-2 px-md-5 py-5" style="border: 1px solid #fff;">
                        <div>
                            <div class="text-center">
                                <img src="view/img/dashanglogo.png" style="width: 18px;" />
                                <div class="d-inline-block pl-1" style="height: 28px; line-height: 28px;">
                                    <span class="color4A4A4A" style="font-size: 13px;">打赏</span>
                                    <span style="color:#0eaaf1;">+ 100.00雪花</span>
                                </div>
                            </div>
                            <div class="pt-5 text-center">
                                                                                                                    <div class="d-inline-block mb-3 reward_logo-list-1 text-center px-0">
                                            <a style="border-radius: 5rem;" data-toggle="tooltip" data-html="true" title="" href="//passport.kanxue.com/user-center-236762.htm" data-original-title="赞赏100.00雪花&lt;br&gt;Editor">
                                                <img class="avatar-3" src="http://passport.kanxue.com/upload/avatar/762/236762.png?1558504876" />
                                            </a> 
                                            <div class="text-center small mt-1"><a href="//passport.kanxue.com/user-center-236762.htm" title="Editor">Editor</a></div>
                                        </div>
                                        
                                        
                                                                                                        </div>
                            
                            <div class="mt-3 mob_reward">
                                <table class="table mb-0">
                                    <tbody>
                                        <tr><td class="p-0" style="border-bottom: 0;height: 24px;line-height: 24px;" width="150">打赏次数<span style="color:#0eaaf1;"> 1</span></td>
                                        <td class="p-0" style="border-bottom: 0;height: 24px;line-height: 24px;" width="100">雪花<span style="color:#0eaaf1;"> + 100.00</span></td>
                                        <td class="p-0" style="border-bottom: 0;height: 24px;line-height: 24px;"><hr /></td>
                                        <td class="p-0 text-right" style="border-bottom: 0;height: 24px;line-height: 24px;" width="100">
                                            <span class="collapse_btn" style="cursor: pointer;" data-toggle="collapse" href="#collapse_reward" aria-expanded="true" aria-controls="collapse_reward">
                                                <span>收起</span> <i class="icon icon-angle-up"></i>
                                            </span>
                                        </td>
                                    </tr></tbody>
                                </table>
                            </div>
                            <div class="collapse mob_reward show" id="collapse_reward">
                                <table class="table">
                                    <tbody>
                                                                                                                            <tr class="_reward_tr">
                                            <td class="px-0 py-3" width="150">
                                                <a href="//passport.kanxue.com/user-center-236762.htm">
                                                    <img src="http://passport.kanxue.com/upload/avatar/762/236762.png?1558504876" alt="赞赏" style="width: 1.6rem;height: 1.6rem;border-radius: 1.6rem;" /> 
                                                    <span>Editor</span>
                                                </a>
                                            </td>
                                            <td class="px-0 py-3" width="100"><span style="color:#0eaaf1;">  +100.00</span></td>
                                            <td class="px-0 py-3 text-muted">2022/06/20</td>
                                            <td class="px-0 py-3 text-muted">恭喜您获得“雪花”奖励，安全圈有你而精彩！</td>
                                        </tr>
                                                                                                                            
                                        
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                
                <!--赞赏支持-->
                <div class="modal fade reward" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title" id="exampleModalLabel">赞赏</h4>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                            </button>
                                        </div>
                                        <form action="" method="post" id="pay_kx" onsubmit="return topay()">
                                                <div class="modal-body ">
                                                        <div class="form-group mb-0">
                                                                <input name="ureward" type="hidden" value="905443" />
                                                                <input type="hidden" name="reward_articleid" value="272870" />
                                                                <div class="mb-3 text-center">
                                                                    <img src="view/img/dashang.png" class="avatar-3" alt="100" />
                                                                </div>
                                                                
                                                                <div class="text-center mb-3">
                                                                    <div data-toggle="buttons">
                                                                        <label class="btn btn-outline-danger active" style="width:120px">
                                                                            <input type="radio" class="d-none" value="1" name="reward_rmbs" id="option1" autocomplete="off" checked="" />1 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="5" name="reward_rmbs" id="option3" autocomplete="off" />5 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="10" name="reward_rmbs" id="option4" autocomplete="off" />10 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="20" name="reward_rmbs" id="option5" autocomplete="off" />20 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="50" name="reward_rmbs" id="option6" autocomplete="off" />50 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="80" name="reward_rmbs" id="option6" autocomplete="off" />80 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="100" name="reward_rmbs" id="option7" autocomplete="off" />100 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="150" name="reward_rmbs" id="option7" autocomplete="off" />150 雪花
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="200" name="reward_rmbs" id="option8" autocomplete="off" />200 雪花
                                                                        </label>
                                                                    </div>
                                                                </div>

                                                                <div>
                                                                    <label id="alipay_lab">
                                                                        <span>支付方式：</span>
                                                                        <input type="radio" value="1" checked="checked" name="reward_type" style="display:inline" />
                                                                        <span class="alipay-bg"></span>
                                                                    </label>
                                                                    <label class="ml-3">
                                                                        <input type="radio" value="3" name="reward_type" />
                                                                        <i class="icon icon-weixin" style="font-size:17px;color:#49BE38"></i> 微信支付
                                                                    </label>
                                                                                                                                    </div>
                                                        </div>
                                                </div>
                                                <div class="px-3 mb-3">
                                                    <div class="mb-2">赞赏留言：
                                                        <select class="form-control form-control-sm reward_reason d-inline-block" style="max-width: 90px;">
                                                            <option value="0">快捷留言</option>
                                                            <option value="感谢分享～">感谢分享～</option>
                                                            <option value="精品文章～">精品文章～</option>
                                                            <option value="原创内容～">原创内容～</option>
                                                            <option value="精彩转帖～">精彩转帖～</option>
                                                            <option value="助人为乐～">助人为乐～</option>
                                                            
                                                        </select>
                                                    </div>
                                                    <textarea class="form-control reward_reason_textarea" name="brief" rows="1"></textarea>
                                                    
                                                </div>
                                                <div class="modal-footer">
                                                        <button id="pay_submit" type="submit" class="btn btn-primary btn-pay kx-pay" data-loading-text="正在提交...">立即支付</button>
                                                </div>
                                        </form>
                                </div>
                        </div>
                </div>		<div class="card p-1">
			<div class="card-body">
				<table class="table postlist mb-0">
					<thead>
						<tr>
							<th colspan="2" class="pa-0  pb-1">
								<dl class="row">
									<dt>
										<b>最新回复</b> (<span class="posts">26</span>)
									</dt>
									<dd style="text-align: right;">
										
										
																				<nav class="text-right pagination-sm d-inline-block" style="height: 27px;"><ul class="pagination mt-0 mb-0"><li class="page-item active"><a href="thread-272870-1.htm" class="page-link">1</a></li><li class="page-item"><a href="thread-272870-2.htm" class="page-link">2</a></li><li class="page-item"><a href="thread-272870-2.htm" class="page-link">▶</a></li></ul></nav>
																				
									</dd>
								</dl>
							</th>
						</tr>
					</thead>
					<tbody>
					
														
				
																			
										
					

																													
										<tr class="post" data-pid="1718141">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image2" href="user-home-926584.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/584/926584.png?1622014706" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-926584.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/584/926584.png?1622014706" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-926584.htm">
												<span style="font-size: 16px; font-weight: bolder;">危楼高百尺</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													902													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/7.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(1781)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_105"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars02.gif" alt="" />
												<span class="small text-muted">( LV5，RANK：70 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="912973" data-desc="253 小时，  9 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-926584.htm" style="color: #0099ee;">
												5												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-926584.htm" style="color: #0099ee;">
												21</a></div><a href="user-post-926584.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-926584.htm" style="color: #0099ee;">
												23</a></div><a href="user-fans-926584.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="926584">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=危楼高百尺" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_105"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars02.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-926584.htm">危楼高百尺</a>
										<img class="huoyue_num" src="/view/img/rank/7.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-926584-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 1</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-18 10:38</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718141" id="1718141" class="text-grey mr-3"><span class="floor">2</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="926584" name="praised_uid" />
		<input type="hidden" value="1718141" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								第一时间来支持郭老板								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718152">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-415312.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/312/415312.png?1" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-415312.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/312/415312.png?1" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-415312.htm">
												<span style="font-size: 16px; font-weight: bolder;">hekes</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													3012													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/6.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(778)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV2，RANK：10 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="2850349" data-desc="791 小时，  17 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-415312.htm" style="color: #0099ee;">
												31												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-415312.htm" style="color: #0099ee;">
												214</a></div><a href="user-post-415312.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-415312.htm" style="color: #0099ee;">
												3</a></div><a href="user-fans-415312.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="415312">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=hekes" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-415312.htm">hekes</a>
										<img class="huoyue_num" src="/view/img/rank/6.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-5-18 11:21</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718152" id="1718152" class="text-grey mr-3"><span class="floor">3</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="415312" name="praised_uid" />
		<input type="hidden" value="1718152" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								先mark，回头在看								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718169">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-18 14:29</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718169" id="1718169" class="text-grey mr-3"><span class="floor">4</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718169" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-926584.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/584/926584.png?1622014706" style="cursor: pointer;" />

			危楼高百尺

		</a>

		第一时间来支持郭老板

		</blockquote>温总<img src="/view/img/face/63.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718170">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-18 14:29</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718170" id="1718170" class="text-grey mr-3"><span class="floor">5</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718170" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-415312.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/312/415312.png?1" style="cursor: pointer;" />

			hekes

		</a>

		先mark，回头在看

		</blockquote>可以哦								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718174">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image0" href="user-home-948168.htm" tabindex="-1">
									<img class="avatar-3" src="view/img/avatar.png" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-948168.htm">
										<img class="avatar-3" src="view/img/avatar.png" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-948168.htm">
												<span style="font-size: 16px; font-weight: bolder;">mb_zpajwtis</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
																										</a>
												</span>
											</div>
																																	<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV1，RANK：0 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="87073" data-desc="24 小时，  2 级"><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-948168.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-948168.htm" style="color: #0099ee;">
												6</a></div><a href="user-post-948168.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-948168.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-948168.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="948168">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=mb_zpajwtis" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-948168.htm">mb_zpajwtis</a>
										<img class="huoyue_num" src="/view/img/rank/0.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-5-18 14:47</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718174" id="1718174" class="text-grey mr-3"><span class="floor">6</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="948168" name="praised_uid" />
		<input type="hidden" value="1718174" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								学习下~								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718202">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-18 18:28</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718202" id="1718202" class="text-grey mr-3"><span class="floor">7</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718202" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-948168.htm" class="text-small text-muted user">

			<img class="avatar-1" src="view/img/avatar.png" style="cursor: pointer;" />

			mb_zpajwtis

		</a>

		学习下~

		</blockquote>可以可以								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718282">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image0" href="user-home-834788.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/788/834788.png?1552378177" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-834788.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/788/834788.png?1552378177" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-834788.htm">
												<span style="font-size: 16px; font-weight: bolder;">Kwork</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													200													</a>
												</span>
											</div>
																																	<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV1，RANK：0 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="346037" data-desc="96 小时，  5 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-834788.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-834788.htm" style="color: #0099ee;">
												4</a></div><a href="user-post-834788.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-834788.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-834788.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="834788">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=Kwork" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-834788.htm">Kwork</a>
										<img class="huoyue_num" src="/view/img/rank/0.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-5-19 17:14</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718282" id="1718282" class="text-grey mr-3"><span class="floor">8</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="834788" name="praised_uid" />
		<input type="hidden" value="1718282" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								请教下frida hook内部类的非静态变量怎么处理呢？这样貌似获取不到<br />Java.choose("android.view.WindowManager$LayoutParams", {<br />        onMatch: function (instance) {<br />            console.log('‘LayoutParams flags: ’' + instance.flags.value)<br />        },<br />        onComplete: function () {<br />        }<br />    });								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718503">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-23 11:06</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718503" id="1718503" class="text-grey mr-3"><span class="floor">9</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718503" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-834788.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/788/834788.png?1552378177" style="cursor: pointer;" />

			Kwork

		</a>

		请教下frida hook内部类的非静态变量怎么处理呢？这样貌似获取不到
Java.choose("android.view.WindowManager$LayoutParams" ... 

		</blockquote>这种不行 尝试反射获取该类下面的声明的所有类，进行判别后再hook试试								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718734">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-792153.htm" tabindex="-1">
									<img class="avatar-3" src="view/img/avatar.png" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-792153.htm">
										<img class="avatar-3" src="view/img/avatar.png" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-792153.htm">
												<span style="font-size: 16px; font-weight: bolder;">BlackMaGou</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													7													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/2.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(29)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV2，RANK：10 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="7729" data-desc="2 小时，  0 级"><img src="//passport.kanxue.com/pc/view/img/star_0.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-792153.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-792153.htm" style="color: #0099ee;">
												3</a></div><a href="user-post-792153.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-792153.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-792153.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="792153">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=BlackMaGou" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-792153.htm">BlackMaGou</a>
										<img class="huoyue_num" src="/view/img/rank/2.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-5-26 08:45</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718734" id="1718734" class="text-grey mr-3"><span class="floor">10</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="792153" name="praised_uid" />
		<input type="hidden" value="1718734" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								菜鸟看的一脸懵								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718744">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image2" href="user-home-952875.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/875/952875.png?1651755123" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-952875.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/875/952875.png?1651755123" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-952875.htm">
												<span style="font-size: 16px; font-weight: bolder;">t0hka1</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													1144													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/5.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(290)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_104"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV4，RANK：45 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="104954" data-desc="29 小时，  2 级"><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-952875.htm" style="color: #0099ee;">
												1												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-952875.htm" style="color: #0099ee;">
												9</a></div><a href="user-post-952875.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-952875.htm" style="color: #0099ee;">
												5</a></div><a href="user-fans-952875.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="952875">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=t0hka1" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_104"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-952875.htm">t0hka1</a>
										<img class="huoyue_num" src="/view/img/rank/5.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-952875-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 1</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-26 11:11</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718744" id="1718744" class="text-grey mr-3"><span class="floor">11</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="952875" name="praised_uid" />
		<input type="hidden" value="1718744" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								mark								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718767">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-26 19:45</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718767" id="1718767" class="text-grey mr-3"><span class="floor">12</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718767" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-792153.htm" class="text-small text-muted user">

			<img class="avatar-1" src="view/img/avatar.png" style="cursor: pointer;" />

			BlackMaGou

		</a>

		菜鸟看的一脸懵

		</blockquote><img src="/view/img/face/1.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1718768">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-5-26 19:46</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1718768" id="1718768" class="text-grey mr-3"><span class="floor">13</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1718768" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-952875.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/875/952875.png?1651755123" style="cursor: pointer;" />

			t0hka1

		</a>

		mark

		</blockquote><img src="/view/img/face/27.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719217">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-752639.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/639/752639.png?1655876744" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-752639.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/639/752639.png?1655876744" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-752639.htm">
												<span style="font-size: 16px; font-weight: bolder;">轻快笑着行</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													42													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/5.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(324)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_103"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars02.gif" alt="" />
												<span class="small text-muted">( LV3，RANK：35 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="1243257" data-desc="345 小时，  11 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-752639.htm" style="color: #0099ee;">
												1												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-752639.htm" style="color: #0099ee;">
												20</a></div><a href="user-post-752639.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-752639.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-752639.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="752639">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=轻快笑着行" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_103"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars02.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-752639.htm">轻快笑着行</a>
										<img class="huoyue_num" src="/view/img/rank/5.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-6-1 14:37</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719217" id="1719217" class="text-grey mr-3"><span class="floor">14</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="752639" name="praised_uid" />
		<input type="hidden" value="1719217" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								mark								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719228">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-6-1 16:48</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719228" id="1719228" class="text-grey mr-3"><span class="floor">15</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1719228" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-752639.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/639/752639.png?1539063630" style="cursor: pointer;" />

			轻快笑着行

		</a>

		mark

		</blockquote><img src="/view/img/face/27.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719318">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image0" href="user-home-892665.htm" tabindex="-1">
									<img class="avatar-3" src="view/img/avatar.png" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-892665.htm">
										<img class="avatar-3" src="view/img/avatar.png" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-892665.htm">
												<span style="font-size: 16px; font-weight: bolder;">万里星河</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													22													</a>
												</span>
											</div>
																																	<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV1，RANK：0 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="581722" data-desc="161 小时，  7 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-892665.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-892665.htm" style="color: #0099ee;">
												265</a></div><a href="user-post-892665.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-892665.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-892665.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="892665">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=万里星河" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-892665.htm">万里星河</a>
										<img class="huoyue_num" src="/view/img/rank/0.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-6-3 14:05</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719318" id="1719318" class="text-grey mr-3"><span class="floor">16</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="892665" name="praised_uid" />
		<input type="hidden" value="1719318" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								看大佬的文章 如沐春风								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719326">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-896843.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/843/896843.png?1592312128" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-896843.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/843/896843.png?1592312128" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-896843.htm">
												<span style="font-size: 16px; font-weight: bolder;">林蓝</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													38													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/4.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(156)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV2，RANK：10 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="279424" data-desc="77 小时，  4 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-896843.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-896843.htm" style="color: #0099ee;">
												7</a></div><a href="user-post-896843.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-896843.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-896843.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="896843">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=林蓝" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-896843.htm">林蓝</a>
										<img class="huoyue_num" src="/view/img/rank/4.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-6-3 15:59</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719326" id="1719326" class="text-grey mr-3"><span class="floor">17</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="896843" name="praised_uid" />
		<input type="hidden" value="1719326" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								大佬出品 必属精品								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719377">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-6-4 14:07</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719377" id="1719377" class="text-grey mr-3"><span class="floor">18</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1719377" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-892665.htm" class="text-small text-muted user">

			<img class="avatar-1" src="view/img/avatar.png" style="cursor: pointer;" />

			万里星河

		</a>

		看大佬的文章 如沐春风

		</blockquote>谢谢支持								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719378">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-6-4 14:07</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719378" id="1719378" class="text-grey mr-3"><span class="floor">19</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1719378" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-896843.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/843/896843.png?1592312128" style="cursor: pointer;" />

			林蓝

		</a>

		大佬出品 必属精品

		</blockquote>谢谢支持								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719620">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-402738.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/738/402738.png?1615793444" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-402738.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/738/402738.png?1615793444" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-402738.htm">
												<span style="font-size: 16px; font-weight: bolder;">lhxdiao</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													2036													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/9.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(3309)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV2，RANK：10 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="684785" data-desc="190 小时，  7 级"><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/star.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-402738.htm" style="color: #0099ee;">
												16												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-402738.htm" style="color: #0099ee;">
												171</a></div><a href="user-post-402738.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-402738.htm" style="color: #0099ee;">
												82</a></div><a href="user-fans-402738.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="402738">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=lhxdiao" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-402738.htm">lhxdiao</a>
										<img class="huoyue_num" src="/view/img/rank/9.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-6-7 16:32</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719620" id="1719620" class="text-grey mr-3"><span class="floor">20</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="402738" name="praised_uid" />
		<input type="hidden" value="1719620" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								大佬，希望可以出一期ptrace原理的文章								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1719655">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-6-8 08:59</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1719655" id="1719655" class="text-grey mr-3"><span class="floor">21</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1719655" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-402738.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/738/402738.png?1615793444" style="cursor: pointer;" />

			lhxdiao

		</a>

		大佬，希望可以出一期ptrace原理的文章

		</blockquote>可以的								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1720063">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="user-home-946963.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/963/946963.png?1645177601" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-946963.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/963/946963.png?1645177601" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-946963.htm">
												<span style="font-size: 16px; font-weight: bolder;">AppTen</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													25													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/3.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(57)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV2，RANK：10 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="2759" data-desc="0 小时，  0 级"><img src="//passport.kanxue.com/pc/view/img/star_0.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-946963.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-946963.htm" style="color: #0099ee;">
												1</a></div><a href="user-post-946963.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-946963.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-946963.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="946963">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=AppTen" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_102"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-946963.htm">AppTen</a>
										<img class="huoyue_num" src="/view/img/rank/3.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">2022-6-14 11:48</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1720063" id="1720063" class="text-grey mr-3"><span class="floor">22</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="946963" name="praised_uid" />
		<input type="hidden" value="1720063" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								先点赞、收藏，后观看！这是美德，大佬写文章不容易。								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1720070">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">2022-6-14 12:34</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1720070" id="1720070" class="text-grey mr-3"><span class="floor">23</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1720070" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-946963.htm" class="text-small text-muted user">

			<img class="avatar-1" src="//passport.kanxue.com/upload/avatar/963/946963.png?1645177601" style="cursor: pointer;" />

			AppTen

		</a>

		先点赞、收藏，后观看！这是美德，大佬写文章不容易。

		</blockquote>谢谢支持<img src="/view/img/face/27.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1720519">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image0" href="user-home-911463.htm" tabindex="-1">
									<img class="avatar-3" src="view/img/avatar.png" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-911463.htm">
										<img class="avatar-3" src="view/img/avatar.png" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-911463.htm">
												<span style="font-size: 16px; font-weight: bolder;">mb_susbpfxl</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													1000													</a>
												</span>
											</div>
																																	<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars01.gif" alt="" />
												<span class="small text-muted">( LV1，RANK：0 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="2651" data-desc="0 小时，  0 级"><img src="//passport.kanxue.com/pc/view/img/star_0.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-911463.htm" style="color: #0099ee;">
												0												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-911463.htm" style="color: #0099ee;">
												1</a></div><a href="user-post-911463.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-911463.htm" style="color: #0099ee;">
												0</a></div><a href="user-fans-911463.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="911463">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=mb_susbpfxl" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_101"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-911463.htm">mb_susbpfxl</a>
										<img class="huoyue_num" src="/view/img/rank/0.png" width="22" alt="活跃值" />
									</span>
																		<span class="date text-grey small ml-1">4天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1720519" id="1720519" class="text-grey mr-3"><span class="floor">24</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="911463" name="praised_uid" />
		<input type="hidden" value="1720519" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								大佬真是厉害！学习了								
																																
								
							</div>
						</td>
					</tr>
																			
										
					

																													
										<tr class="post" data-pid="1720528">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<div class="position-relative avatar_hover">
								<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" tabindex="-1">
									<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
								</a>
								<div class="position-absolute thread-poptip-box bg-white text-left p-4">
									<div class="row mx-0">
										<a href="user-home-905443.htm">
										<img class="avatar-3" src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" />
										</a>
										<div class="col">
											<div class="pb-2">
												<a href="user-home-905443.htm">
												<span style="font-size: 16px; font-weight: bolder;">随风而行aa</span>
												</a>
											</div>
											<div class="pb-2 position-relative">
												<span class="small text-muted">雪    币：</span>
												<span class="small text-muted">
													<a href="thread-260144.htm" class="text-muted">
													10076													</a>
												</span>
											</div>
																																	<div class="pb-2 position-relative">
												<span class="small text-muted">活跃值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<img class="position-absolute huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
												</a>
												<span class="small text-muted" style="margin-left: 25px;">(11842)</span>
											</div>
																						<div class="pb-2 small">
												<span class="small text-muted">能力值：</span>
												<a href="thread-260144.htm" class="text-muted">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
													<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
												</svg>
												</a>
												<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
												<span class="small text-muted">( LV12，RANK：460 )</span>
												
											</div>
											<div class="pb-2" style="font-size: 0;">
												<span class="small text-muted" style="vertical-align: middle;">在线值：</span>
												<a href="thread-249442.htm">
													<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>
												</a>
												<span class="post_online_time1 text-muted small" style="vertical-align: middle;"></span>
											</div>
										</div>
										
									</div>
									
									<div class="pb-3 pt-2 row mx-0 text-muted small text-center">
										<div class="col">
											<div>发帖</div>
											<div>
												<a href="user-905443.htm" style="color: #0099ee;">
												30												</a>
											</div>
										</div>
										<div class="col">
											<div>回帖</div>
											<div>
												<a href="user-post-905443.htm" style="color: #0099ee;">
												135</a></div><a href="user-post-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										<div class="col">
											<div>粉丝</div>
											<div>
												<a href="user-fans-905443.htm" style="color: #0099ee;">
												389</a></div><a href="user-fans-905443.htm" style="color: #0099ee;">
												</a>
										</div>
										
										
									</div>
									<div class="row mx-0">
										<!--当前用户是否关注了$_post['user']['uid'] -->
																														<div class="col-6">
																							<a class="btn btn-0099ee w-100 follow_btn" data-cuid="905443">
													<i class="icon icon-plus"></i> 关注
												</a>
																						
										</div>
										<div class="col-6">
											<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100" style="border: 1px solid #0099ee; color:#0099ee;">
												<i class="icon-envelope"></i>
												私信
											</a>
										</div>

									</div>
								</div>
							</div>
							<div class="mt-2">
								
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
									<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
								</svg>
							</div>
							<!-- <div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="//bbs.pediy.com/view/img/stars03.gif" alt=""> </div>
							</div> -->
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
										<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									</span>
																			<a href="user-905443-1-1.htm" class="d-inline-block" style="text-decoration: none; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<span class="icon-diamond text-danger" title="精华数"></span>
											<span class="font-weight-bold text-danger"> 9</span>
										</a>
																		<span class="date text-grey small ml-1">4天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										
										
																			
										

	

										
																			</div>
																		<a href="thread-272870-1.htm#1720528" id="1720528" class="text-grey mr-3"><span class="floor">25</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="272870" name="threadid" />
		<input type="hidden" value="905443" name="praised_uid" />
		<input type="hidden" value="1720528" name="pid" />
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">

		<a href="user-911463.htm" class="text-small text-muted user">

			<img class="avatar-1" src="view/img/avatar.png" style="cursor: pointer;" />

			mb_susbpfxl

		</a>

		大佬真是厉害！学习了

		</blockquote><img src="/view/img/face/27.gif" class="face" style="cursor: pointer;" />								
																																
								
							</div>
						</td>
					</tr>
								
										
													<tr class="post">
								<td class="td-avatar" aria-hidden="true">
									<a href="user-705338.htm" aria-hidden="true" tabindex="-1">
										<img class="avatar-3" src="view/img/avatar.png" />
									</a>
								</td>
								<td class="p-l-0">
									<form action="" method="post" id="quick_reply_form">	
										
										<dl class="row small text-muted">
											<dt class="username">游客</dt>
											<dd class="text-right text-grey"></dd>
										</dl>
										<div class="message mt-1">
											<div style=" border-radius: 0.25rem; border: 1px solid #ced4da;">
												<div class="text-center small py-3">
													<a href="//passport.kanxue.com/user-login.htm" class="small">登录</a> | <a href="//passport.kanxue.com/user-mobile.htm" class="small">注册</a> 方可回帖
												</div>
											</div>
										</div>
										<div class="text-muted mt-3 small face_open">
											<dl class="row">
												<dt>
													<a class="btn btn-primary btn-sm" href="//passport.kanxue.com/user-login.htm" role="button">　回帖　</a>
													
													<span class="emotion ml-3">表情</span>
													<span class="ml-3 d-none d-lg-inline-block"><a href="//bbs.pediy.com/thread-247709.htm" target="_bank" style="color: #0099ee;">雪币赚取及消费</a></span>
												</dt>
												<dd class="text-right vtop">
													
													<a class="icon-mail-reply text-muted" href="//passport.kanxue.com/user-login.htm" id="advanced_reply"> 高级回复</a>
													
												</dd>
											</dl>
										</div>
									</form>
								</td>
							</tr>
											</tbody>
				</table>
			</div>
		</div>
		
		
				<nav class="text-right"><ul class="pagination my-1 justify-content-center"><li class="page-item active"><a href="thread-272870-1.htm" class="page-link">1</a></li><li class="page-item"><a href="thread-272870-2.htm" class="page-link">2</a></li><li class="page-item"><a href="thread-272870-2.htm" class="page-link">▶</a></li></ul></nav>
				
		
		
				
				
		<a role="button" class="btn btn-secondary btn-block xn-back my-3 mx-auto" style="max-width: 50%;" href="javascript:history.back();">返回</a>
	</div>
	<div class="col-3 pr-0 hidden-sm hidden-md" style="padding-left: 15px;min-height: 850px;">
		<div class="positionSticky position-sticky" style="top:0;">
			<div class="rightbox_card_hidden">
				<div class="card mb-3 position-relative ">
					<div class="py-4 px-4">
						<div class="row mx-0">
							<a class="d-inline-block position-relative photo_frame photo_frame_image3" href="user-home-905443.htm" aria-hidden="true" tabindex="-1">
								<img src="//passport.kanxue.com/upload/avatar/443/905443.png?1655258694" style="width: 5rem; height:  5rem; border-radius: 5rem;" />
							</a>
							<div class="col pr-0">
								<div>
									<span style="font-size: 16px;" class="font-weight-bold">
										<a href="user-home-905443.htm">随风而行aa</a>
									</span>
																			<div class="d-inline-block" style="font-size: 1rem; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);">
											<a href="user-905443-1-1.htm">
												<span class="icon-diamond text-danger" title="精华数"></span>
												<span class="font-weight-bold text-danger"> 9</span>
											</a>
										</div>
																	</div>
								<div class="mt-1">
									<img class="huoyue_num" src="/view/img/rank/11.png" width="22" alt="活跃值" />
									<a href="./thread-260144.htm" class="text-muted">
										<svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
											<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-group_112"/>
										</svg>
									</a>
									<img src="//bbs.pediy.com/view/img/stars03.gif" alt="" />
								</div>
								<div class="mt-1">
									<span class="post_online_time" style="vertical-align: middle;" data-online_time="3753897" data-desc="1042 小时，  20 级" onmouseenter="show_online_level(event)"><img src="//passport.kanxue.com/pc/view/img/sun.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /><img src="//passport.kanxue.com/pc/view/img/moon.gif" width="13" height="13" style="opacity: 0.65; margin-right: 2px;" /></span>

								</div>
							</div>
						</div>
						<div class="row mx-0 my-4 text-center">
							<div class="col px-0">
								<div style="color: #0099ee; font-size: 16px;">
									<a href="user-905443.htm" style="color: #0099ee;" target="_blank">
										30									</a>
								</div>
								<div class="small" style="color: #888888;">发帖</div>
							</div>
							<div class="col px-0">
								<div style="color: #0099ee; font-size: 16px;">
									<a href="user-post-905443.htm" style="color: #0099ee;" target="_blank">
									135									</a>
								</div>
								<div class="small" style="color: #888888;">回帖</div>
							</div>
							<div class="col px-0">
								<div style="color: #0099ee; font-size: 16px;">
									<a href="thread-260144.htm" style="color: #0099ee;" target="_blank">
										460									</a>
								</div>
								<div class="small" style="color: #888888;">RANK</div>
							</div>
						</div>
						<div class="px-1 row mx-0">
							<div class="col-6">
																<a class="btn btn-0099ee w-100 follow_btn py-1" data-cuid="905443">
									<i class="icon icon-plus"></i> 关注
								</a>
															</div>
							<div class="col-6">
								<a href="//www.kanxue.com/pm-send.htm?name=随风而行aa" class="btn bg-white w-100 py-1" style="border: 1px solid #0099ee; color:#0099ee;">
									<i class="icon-envelope"></i>
									私信
								</a>
							</div>

						</div>				
					</div>
				</div>
				
				<div class="card mb-3 py-2 show_tocbot " style="display: block;">
					<div id="js-toc" class="js-toc"><ol class="toc-list "><li class="toc-list-item is-active-li"><a href="#msg_header_h1_0" class="toc-link node-name--H1  is-active-link">Android Hook技术学习——常见的hook技术方案</a><ol class="toc-list  is-collapsible"><li class="toc-list-item"><a href="#msg_header_h2_0" class="toc-link node-name--H2 ">一、前言</a></li><li class="toc-list-item"><a href="#msg_header_h2_1" class="toc-link node-name--H2 ">二、编译原理</a><ol class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#msg_header_h3_0" class="toc-link node-name--H3 ">1.编译过程</a></li><li class="toc-list-item"><a href="#msg_header_h3_1" class="toc-link node-name--H3 ">2.可执行文件（ELF）</a></li></ol></li><li class="toc-list-item"><a href="#msg_header_h2_2" class="toc-link node-name--H2 ">三、NDK基础知识</a><ol class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#msg_header_h3_2" class="toc-link node-name--H3 ">1.Android so文件的类型</a></li><li class="toc-list-item"><a href="#msg_header_h3_3" class="toc-link node-name--H3 ">2.so文件加载</a></li></ol></li><li class="toc-list-item"><a href="#msg_header_h2_3" class="toc-link node-name--H2 ">四、各类hook技术原理分析</a><ol class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#msg_header_h3_4" class="toc-link node-name--H3 ">1.Xposed hook技术</a></li><li class="toc-list-item"><a href="#msg_header_h3_5" class="toc-link node-name--H3 ">2.Frida hook技术</a></li><li class="toc-list-item"><a href="#msg_header_h3_6" class="toc-link node-name--H3 ">3.inlinehook 技术</a></li><li class="toc-list-item"><a href="#msg_header_h3_7" class="toc-link node-name--H3 ">4.PLT/GOT hook技术</a></li><li class="toc-list-item"><a href="#msg_header_h3_8" class="toc-link node-name--H3 ">5.Unicorn hook技术</a></li></ol></li><li class="toc-list-item"><a href="#msg_header_h2_4" class="toc-link node-name--H2 ">五、各类hook技术实操</a><ol class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#msg_header_h3_9" class="toc-link node-name--H3 ">1.Xposed hook实操</a></li><li class="toc-list-item"><a href="#msg_header_h3_10" class="toc-link node-name--H3 ">2.frida hook实操</a></li><li class="toc-list-item"><a href="#msg_header_h3_11" class="toc-link node-name--H3 ">3.inlinehook实操</a></li><li class="toc-list-item"><a href="#msg_header_h3_12" class="toc-link node-name--H3 ">4.PLT/GOT hook实操</a></li><li class="toc-list-item"><a href="#msg_header_h3_13" class="toc-link node-name--H3 ">5.Unicorn hook使用</a></li></ol></li><li class="toc-list-item"><a href="#msg_header_h2_5" class="toc-link node-name--H2 ">六、实验总结</a></li><li class="toc-list-item"><a href="#msg_header_h2_6" class="toc-link node-name--H2 ">参考文献</a></li></ol></li></ol></div>
				</div>
			</div>
			<div class="card mb-3 pb-3" style="color: #bbbbbb;">
				<div class="py-2 px-3 mb-2" style="color: #333333;border-bottom: 1px solid #eeeeee;">
					他的文章
				</div>
				<div class="px-3">
										<div class="mb-2">
						<a href="thread-273293.htm" style="color: #7d7d7d; font-size: 13px;">[原创]Android漏洞之战（11）——整体加壳原理和脱壳技巧详解</a>
						<i class="icon icon-eye small"> 9936</i>
					</div>
										<div class="mb-2">
						<a href="thread-272870.htm" style="color: #7d7d7d; font-size: 13px;">[原创]Android Hook技术学习——常见的Hook技术方案总结</a>
						<i class="icon icon-eye small"> 14878</i>
					</div>
										<div class="mb-2">
						<a href="thread-272452.htm" style="color: #7d7d7d; font-size: 13px;">[原创]Android APP漏洞之战（10）——调试与反调试详解</a>
						<i class="icon icon-eye small"> 15828</i>
					</div>
										<div class="mb-2">
						<a href="thread-272270.htm" style="color: #7d7d7d; font-size: 13px;">[原创]Android APP漏洞之战（9）——验证码漏洞挖掘详解</a>
						<i class="icon icon-eye small"> 18277</i>
					</div>
										<div class="mb-2">
						<a href="thread-271887.htm" style="color: #7d7d7d; font-size: 13px;">[翻译]Things You May Not Know About Android (Un) Packers(2018 NDSS)（Packer）</a>
						<i class="icon icon-eye small"> 9456</i>
					</div>
										
				</div>
			</div>
					    <div class="bg-white mb-3 position-relative">
				<a id="thread_ad" data-thread_postdata="2_19_15" data-href="https://bbs.pediy.com/thread-265424.htm" href="javascript:void(0);">
					<img src="//www.kanxue.com/upload/attach/202102/202102021340_DX5RA3QXUFDGEAM.jpg" class="w-100" alt="" />
					<span id="diff_day" class="position-absolute" style="bottom: 1.6rem; left: 5rem; font-size: 40px; color: #00dfff;"></span>
				</a>
			</div>
						<div class="card mb-3 px-2 py-3">
				<div class="row mx-0 text-center small pb-3" style="border-bottom: 1px solid #ececec;">
					<div class="col-4 px-0" style="border-right: 1px solid #ececec;"><a class="text-muted" href="https://zhuanlan.kanxue.com/article-56.htm">关于我们</a></div>
					<div class="col-4 px-0" style="border-right: 1px solid #ececec;"><a class="text-muted" href="https://www.kanxue.com/user-online_sendmsg.htm">联系我们</a></div>
					<div class="col-4 px-0"><a class="text-muted" href="https://qifu.kanxue.com/">企业服务</a></div>
				</div>
				<div class="pt-3 small">
					<img src="./view/img/gongzhonghao.png" style="max-width: 80px; float: left;" alt="" />
					<div class="px-2 py-2 text-muted" style="overflow: hidden;">
						<div>看雪公众号</div>
						<div>专注于PC、移动、智能设备安全研究及逆向工程的开发者社区</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>



<div class="container px-0 pb-3">
<div class="row mx-0 bbs_footer_at_column hidden-sm hidden-md" style="text-align: center; height: 76px;">
    <div class="col-md-6 px-0" style="height: 100%;">
    <a href="https://bbs.pediy.com/thread-271749.htm" style="height: 100%;" target="_blank">
    <!-- <p></p > -->
    <img src="https://www.kanxue.com/upload/attach/202201/202201271505_56HN98ZCWRUNJFU.jpg" width="100%" height="100%" />

    </a>
    </div>
    <div class="col-md-6 px-0" style="height: 100%;">
    <a href="https://meet.kanxue.com/kxmeet-6.htm" style="height: 100%;" target="_blank">
    <!-- <p></p > -->
    <img src="https://www.kanxue.com/upload/attach/202201/202201171026_KMWU55A9MMYFBMT.jpg" width="100%" height="100%" />
    </a>
    </div>
</div>
</div>

</div>

</main>


<footer id="footer" style="background: #3b4348; color: #9ba4aa; height: auto;">
	<div class="container">
		<div class="row text-muted small my-3 mx-0" id="web_base_company_information">
			<div class="col-12 col-md-6">
				©2000-2022 看雪 | Based on <a href="http://bbs.xiuno.com/" target="_blank" class="text-muted">Xiuno BBS</a><br />
				域名：<a href="https://www.yunaq.com/" target="_blank" class="text-muted">加速乐</a> |
				SSL证书：<a href="https://www.trustasia.com/trustasia" target="_blank" class="text-muted">亚洲诚信</a> |
				<a href="http://dun.163.com/?from=kanxue_DDoS_2018&amp;hmsr=kanxue " target="_blank" class="text-muted">安全网易易盾</a>|
				<a href="https://x.tongdun.cn/" target="_blank" class="text-muted">同盾反欺诈</a>

			</div>
			<div class="col-12 col-md-6 pt-2 pt-md-0 text-md-right">
				<span><a class="text-muted" href="/thread-260116.htm">看雪APP</a></span> |
				<span>公众号：ikanxue</span> |
				<a class="text-muted" href="https://zhuanlan.kanxue.com/article-56.htm">关于我们</a> |
				<a class="text-muted" href="https://www.kanxue.com/user-online_sendmsg.htm">联系我们</a> |
				<a href="https://zhuanlan.kanxue.com/article-1.htm" class="text-muted">企业服务</a> <br />
				Processed: <b>0.026</b>s, SQL:
				<b>71</b> / <a class="text-muted" href="http://beian.miit.gov.cn/" target="_blank">沪ICP备16048531号-3</a> / <a class="text-muted" href="http://www.beian.gov.cn/portal/registerSystemInfo?domainname=%27pediy.com%27&amp;recordcode=31011502006611" target="_blank">沪公网安备31011502006611号</a>

			</div>
		</div>
		<div style="max-height: 100px; overflow-y:auto;">
					</div>
	</div>
</footer>



<!--[if lt IE 9]>
	<script>window.location = 'browser.htm';</script>
	<![endif]-->




<div class="act_go_top" style="position: fixed; _position: absolute; bottom: 80px; right: 10px; z-index: 99; width: 70px; height: 70px; display: none;">
	<a href="javascript:;" style="width: 70px; height: 70px; display: inline-block;background: url(/view/img/scroll_top.png) no-repeat; _background: url(/view/img/scroll_top.png) no-repeat; outline: none;" title="返回顶部"></a>
</div>




<script src="lang/zh-cn/bbs.js?1.5"></script>
<script src="view/js/jquery-3.1.0.js?1.5"></script>
<script src="view/js/popper.js?1.5"></script>
<script src="view/js/bootstrap.js?1.5"></script>
<script src="view/js/xiuno.js?1656172148"></script>
<script src="view/js/storagePlus.js"></script>
<script src="//www.kanxue.com/view/js/bootstrap-plugin.js?1.5"></script><script language="javascript" src="//www.kanxue.com/view/js/layer/layer.js"></script>
<script src="view/js/async.js?1.5"></script>
<script src="view/js/form.js?1.5"></script>

<script>
	// 用于个人中心 判断路由 center ，还是 pm
	var debug = DEBUG = 0;
	var url_rewrite_on = 1;
	var forumarr = {
    "177": "x64dbg插件区",
    "52": "OllyDbg插件区",
    "53": "IDA Pro插件区",
    "4": "软件逆向",
    "69": "经典问答",
    "102": "科锐培训",
    "141": "CrackMe存档区",
    "152": "学习园地",
    "2": "论坛版务",
    "76": "1)珠海金山2007逆向分析挑战赛",
    "99": "《加密与解密(第4版)》",
    "169": "15PB培训",
    "125": "奇虎360软件安全大赛答案提交区",
    "21": "《软件加密技术内幕》",
    "68": "2)PEDIY Crackme竞赛2007",
    "41": "编程技术",
    "95": "《0day:软件漏洞分析技术》",
    "88": "加壳脱壳",
    "91": "3)2008 Exploit Me挑战赛",
    "158": "前沿科技",
    "3": "桌面平台",
    "120": "4)腾讯公司2008软件安全竞赛",
    "132": "密码应用",
    "123": "《微软.NET程序的加密与解密》",
    "127": "5)奇虎360软件安全比赛",
    "37": "CTF对抗",
    "140": "6)PEDIY Crackme竞赛2009",
    "116": "CTF",
    "150": "二进制漏洞",
    "163": "《C++反汇编与逆向分析技术》",
    "108": "企业建设",
    "155": "7)腾讯公司2010软件安全竞赛",
    "168": "《Android安全与逆向分析》",
    "157": "8)2011 Exploit Me赛",
    "121": "9）移动安全挑战赛（MSC）",
    "129": "10）第2届移动安全挑战（MSC）",
    "136": "职场生活",
    "45": "茶余饭后",
    "97": "问答版块",
    "161": "Android安全",
    "1": "站务管理/产品",
    "10": "资源下载",
    "128": "智能设备",
    "137": "职业生涯",
    "151": "WEB安全",
    "171": "Pwn",
    "20": "¥付费问答",
    "32": "外文翻译",
    "47": "招聘专区",
    "162": "企业安全",
    "166": "iOS安全",
    "65": "图书项目",
    "174": "International  vision",
    "172": "区块链安全",
    "173": "KSA软件",
    "178": "HarmonyOS"
};
	var fid = 161;
	var uid = 0;
	var gid = 0;
	$('[data-toggle="tooltip"]').tooltip();
	$('#search_form &gt; input').on('click', function () {
		return false;
	});
</script>

<script src="view/js/bbs.js?1.5"></script>

<script>
// 版主管理：精华
$('.mod-button button.digest').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var radios = xn.form_radio('digest', {"0": "取消精华", "1": "关注","2": "优秀", "3": "精华"});
	var radios2 = xn.form_radio('skill_type', {"0":"无", "7": "Reverse", "1": "PWN","2": "App", "3": "Web", "4": "IoT", "5":"Develop", "6":"MISC"});
	$.confirm("设置主题为精华", function() {
		var tids = xn.implode('_', modtid);
		var digest = $('input[name="digest"]').checked();
		var skill_type = $('input[name="skill_type"]').checked();
		var postdata = {digest: digest, skill_type:skill_type};
		
		$.xpost(xn.url('mod-digest-'+tids), postdata, function(code, message) {

			if(code != 0) return $.alert(message);
			// $.alert(message).delay(1000).location('');

			if(digest != 0){
				if(window.confirm('设置成功，是否入库?')){
					$.alert('请稍等文库打开中...');
					$('.chm_in').trigger('click');
				}else{
					location.reload();
				}
				// $.confirm("设置成功，是否入库", function() {
					
				// 	$.alert('设置成功，请稍等文库打开中...');

				// });
				// $.alert('设置成功，请稍等文库打开中...');
				// $('.chm_in').trigger('click');
			}else{
				$.alert(message).delay(1000).location('');
			}


		});
	}, {'body': '&lt;p&gt;'+"精华等级"+'：'+radios+'&lt;br&gt;技能方向：'+radios2+'&lt;/p&gt;'});
})
</script><script>
function xn_read_unread(tids, tid) {
	
	// 当前时间
	var time = xn.time();
	
	// 多长时间内的主题为最新主题
	var time_range = 86400 * 3;
	
	// 三天内的 tids
	var recent_tids = $.pdata('recent_tids') || {};
	
	// 已读的 tids
	var view_tids = $.pdata('view_tids') || {};
	// 提取列表页的 tid
	function fetch_recent_tids(tids) {
		var changed = false;
		$.each(tids, function(tid, last_date) {
			if(time - last_date &lt; time_range) {
				recent_tids[tid] = last_date;
				changed = true;
			}
		});
		if(changed) $.pdata('recent_tids', recent_tids);
	}
	
	// 清理最近的 tid
	function gc_recent_tids() {
		var changed = false;
		$.each(recent_tids, function(tid, last_date) {
			if(time - last_date &gt; time_range) {
				delete recent_tids[tid];
				changed = true;
			}
		});
		if(changed) $.pdata('recent_tids', recent_tids);
	}
	
	function gc_view_tids() {
		var changed = false;
		$.each(view_tids, function(tid, last_date) {
			if(!recent_tids[tid]) {
				delete view_tids[tid];
				changed = true;
			}
		});
		if(changed) $.pdata('view_tids', view_tids);
	}
	
	function save_view_tid(tid) {
		if(!recent_tids[tid]) return;
		view_tids[tid] = time;
		$.pdata('view_tids', view_tids);
	}
	
	if(tids) {
		fetch_recent_tids(tids);
		gc_recent_tids();
		//gc_view_tids();
	}
	if(tid) save_view_tid(tid);
	
	// 三天内的主题标记为已读
	
	// 遍历主题列表，标记最近的，并且未读的为加粗

	$('.thread').each(function() {
		var jthis = $(this);
		var tid = jthis.attr('tid') || jthis.data('tid');
		if(recent_tids[tid] &amp;&amp; recent_tids[tid] &gt; xn.intval(view_tids[tid])) {
			//jthis.find('div.subject').addClass('font-weight-bold');
			jthis.find('div.subject').append('&lt;span class="icon-new"&gt;&lt;/span&gt;');
			jthis.find('span.icon-post-grey').removeClass('icon-post-grey').addClass('icon-post-blue');
		}
	});

	// 首页未读
	$('.bbs_home_page_row_div').each(function() {
		var jthis = $(this);
		var tid = jthis.attr('tid') || jthis.data('tid');
		if(recent_tids[tid] &amp;&amp; recent_tids[tid] &gt; xn.intval(view_tids[tid])) {
			jthis.find('span.icon-post-grey').removeClass('icon-post-grey').addClass('icon-post-blue');
		}
	});
	// 列表页未读
	// ···
	// ···
	// ···
}

</script>

<script type="text/javascript">
	$(function () {
		setTimeout(function () {
			$.require('https://www.google-analytics.com/ga.js', function () {
				try {
					var pageTracker = _gat._getTracker("UA-9784446-1");
					pageTracker._trackPageview();
				} catch (err) {}
			});
		}, 1000);

		setTimeout(function () {
			$(".bbs_home_page_three_col .small_logo").each(function (index, element) {

				if ($(element).children("a").length == 0) {
					$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children(
						'div:first-child').removeClass("col-lg-8").addClass("col-lg-9");
					$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children(
						'div:last-child').removeClass("col-lg-4").addClass("col-lg-3");
					$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children(
						'div:first-child').children("span").css("width", "19rem");
				}
			})
		}, 2000);


		if (self != top) {
			$('#header').hide();
			$('#nav2').hide();
			$('#footer').hide();
		}


		// 导航
		var browser_width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
		if (browser_width &lt;= 992) {
			var new_p = 0,
				start_scrollTop = 0;
			$(window).scroll(function (e) {
				new_p = $(this).scrollTop();

				if (start_scrollTop &lt; new_p) { //下滚  
					$('.header_fiexd').css("display", "none");
				} else { //上滚  
					$('.header_fiexd').css("display", "block");
				}
				setTimeout(function () {
					start_scrollTop = new_p;
				}, 0);
			});
		}


		// 返回顶部
		$(window).scroll(function () {
			if ($(window).scrollTop() &gt;= 500) {
				$('.act_go_top').fadeIn(300);
			} else {
				$('.act_go_top').fadeOut(300);
			}
		});

		$('.act_go_top').click(function () {
			$('html,body').animate({
				scrollTop: '0px'
			}, 100);
		});
		// var m1 = 0;     // 滚动的值
		// var m2 = 0;     // 对比时间的值
		// var timer = null;
		// document.onscroll = function() {
		// 	clearTimeout(timer) // 每次滚动前 清除一次
		// 	timer = setTimeout(Data, 2000);
		// 	m1 = document.documentElement.scrollTop || document.body.scrollTop;

		// }
		// function Data() {
		// 	m2 = document.documentElement.scrollTop || document.body.scrollTop;
		// 	if(m2 == m1){
		// 	    $('.act_go_top').fadeOut(300);
		// 	}
		// }

		// 3600000
		var d = new Date();
		var session_interval = d.getTime() - $.pdata('top-banner-session');

		if (session_interval &gt; 3600000) {
			$.pdata('top-banner', 0);
		}
		if ($.pdata('top-banner') == 1) {
			$(".top-banner").hide();
		} else {
			$(".top-banner").slideDown();
		}
		$(".top-banner-section .closeBanner").on("click", function () {

			$.pdata('top-banner', 1);
			$.pdata('top-banner-session', d.getTime());
			$(".top-banner").animate({
				height: '0'
			})
		})


		// 退出登录
		$.xgpost = function (url, postdata, callback, progress_callback) {
			if ($.isFunction(postdata)) {
				callback = postdata;
				postdata = null;
			}
			$.ajax({
				type: 'POST',
				url: url,
				data: postdata,
				dataType: 'text',
				timeout: 6000000,
				xhrFields: {
					withCredentials: true
				},
				progress: function (e) {
					if (e.lengthComputable) {
						if (progress_callback) progress_callback(e.loaded / e.total * 100);
						//console.log('progress1:'+e.loaded / e.total * 100 + '%');
					}
				},
				success: function (r) {
					if (!r) return callback(-1, 'Server Response Empty!');
					var s = xn.json_decode(r);
					if (!s || s.code === undefined) return callback(-1,
						'Server Response Not JSON：' + r);
					if (s.code == 0) {
						return callback(0, s.message);
						//系统错误
					} else if (s.code &lt; 0) {
						return callback(s.code, s.message);
					} else {
						return callback(s.code, s.message);
					}
				},
				error: function (xhr, type) {
					if (type != 'abort' &amp;&amp; type != 'error' || xhr.status == 403) {
						return callback(-1000, "xhr.responseText:" + xhr.responseText + ', type:' +
							type);
					} else {
						return callback(-1001, "xhr.responseText:" + xhr.responseText + ', type:' +
							type);
						console.log("xhr.responseText:" + xhr.responseText + ', type:' + type);
					}
				}
			});
		};
		$('.nav_user_item .logout').click(function () {
			$.xpost('/user-logout.htm', {}, function (code, message) {
				if (code == 0) {
					$.msg(message);
					$.xgpost('//passport.kanxue.com/user-logout.htm', "", function (code,
						message) {

						setTimeout(function () {
							window.location =
								"//passport.kanxue.com/my-logout.htm";

						}, 800)

					})
				}
			})
		});
	});
</script>

<script>
	(function () {
		var islogin = '0';
		if (islogin == 0) return;
		var pm_number = "/user-newpm.htm";
		$.xget(pm_number, function (code, message) {
			var pm_number = $(".pm_number");
			var sysm_number = $(".system_message_number");
			if (code == 0) {
				var newpms = parseInt(message.newpms);
				var system_pms = parseInt(message.system_pms);
				var pm_total = newpms + system_pms;
				if (pm_total != 0) {
					pm_total = pm_total &gt; 99 ? "99+" : pm_total;
					if (newpms != 0) {
						$(".pm_message_btn").css("color", "#f44336");
					} else if (newpms == 0 &amp;&amp; system_pms &gt; 0) {
						$(".pm_message_btn").css("color", "#0099ee");

					}
					$(".newpms").html(newpms);
					$(".system_pms").html(system_pms);

					$(".pm_totals").html(pm_total);
				} else {
					// $(".pm_total_a").css("display","none");
				};
				if (message.newpms != 0) {
					pm_number.html(message.newpms);
					pm_number.addClass("pmmessage_number");
				} else {
					pm_number.css("display", "none");
				};
				if (message.system_pms != 0) {
					sysm_number.html(message.system_pms);
					sysm_number.addClass("pmmessage_number");
				} else {
					sysm_number.css("display", "none");
				};
				if (message.newpms != 0) {
					pm_number.html(message.newpms);
					pm_number.addClass("pm_numbers_");
				} else {
					pm_number.css("display", "none");
				};
				if (message.system_pms != 0) {
					sysm_number.html(message.system_pms);
					sysm_number.addClass("pm_numbers_");
				} else {
					sysm_number.css("display", "none");
				};


			} else {

				pm_number.css("display", "none");
				sysm_number.css("display", "none");

			}
		})

		$(".pm_message_box").on("mouseenter", function () {
			$(this).find(".dropdown-menu").addClass("show");
			$(this).addClass("active");
		})
		$(".pm_message_box").on("mouseleave", function () {
			$(this).find(".dropdown-menu").removeClass("show");
			$(this).removeClass("active");
		})

	})(jQuery);
</script>
<script>
	//统计在线
	(function () {
		var uid = '0';
		var current_time = '1656172148';
		var last_time;
		if (uid &gt; 0) {
			//10分钟以内不请求。
			last_time = storagePlus.get('last_active_time_' + uid) || 0;
			//大于5分钟请求接口。
			if ((current_time - last_time) / 60 &gt; 5) {
				$.xpost('user-online_sumtime.htm', {}, function (code, msg) {
					if (code == 0) {
						storagePlus.set('last_active_time_' + uid, msg);
					} else {
						console.info('msg');
					}
				});
			}
		}



	})();
</script>

<script>

var forumlist = [
    {
        "fid": "177",
        "fup": "10",
        "name": "x64dbg插件区",
        "rank": "40"
    },
    {
        "fid": "52",
        "fup": "10",
        "name": "OllyDbg插件区",
        "rank": "39"
    },
    {
        "fid": "53",
        "fup": "10",
        "name": "IDA Pro插件区",
        "rank": "38"
    },
    {
        "fid": "4",
        "fup": "3",
        "name": "软件逆向",
        "rank": "29"
    },
    {
        "fid": "29",
        "fup": "2",
        "name": "论坛管理团队",
        "rank": "29"
    },
    {
        "fid": "69",
        "fup": "20",
        "name": "经典问答",
        "rank": "29"
    },
    {
        "fid": "122",
        "fup": "37",
        "name": "KCTF2022提交区(隐藏版块)",
        "rank": "29"
    },
    {
        "fid": "102",
        "fup": "137",
        "name": "科锐培训",
        "rank": "29"
    },
    {
        "fid": "141",
        "fup": "140",
        "name": "CrackMe存档区",
        "rank": "29"
    },
    {
        "fid": "152",
        "fup": "0",
        "name": "学习园地",
        "rank": "29"
    },
    {
        "fid": "2",
        "fup": "1",
        "name": "论坛版务",
        "rank": "28"
    },
    {
        "fid": "76",
        "fup": "37",
        "name": "1)珠海金山2007逆向分析挑战赛",
        "rank": "28"
    },
    {
        "fid": "99",
        "fup": "65",
        "name": "《加密与解密(第4版)》",
        "rank": "28"
    },
    {
        "fid": "169",
        "fup": "137",
        "name": "15PB培训",
        "rank": "28"
    },
    {
        "fid": "125",
        "fup": "127",
        "name": "奇虎360软件安全大赛答案提交区",
        "rank": "28"
    },
    {
        "fid": "21",
        "fup": "57",
        "name": "《软件加密技术内幕》",
        "rank": "27"
    },
    {
        "fid": "68",
        "fup": "37",
        "name": "2)PEDIY Crackme竞赛2007",
        "rank": "27"
    },
    {
        "fid": "41",
        "fup": "3",
        "name": "编程技术",
        "rank": "27"
    },
    {
        "fid": "79",
        "fup": "57",
        "name": "前沿科技2",
        "rank": "27"
    },
    {
        "fid": "78",
        "fup": "2",
        "name": "申请提交区(隐藏版块)",
        "rank": "27"
    },
    {
        "fid": "95",
        "fup": "65",
        "name": "《0day:软件漏洞分析技术》",
        "rank": "27"
    },
    {
        "fid": "88",
        "fup": "3",
        "name": "加壳脱壳",
        "rank": "26"
    },
    {
        "fid": "91",
        "fup": "37",
        "name": "3)2008 Exploit Me挑战赛",
        "rank": "26"
    },
    {
        "fid": "158",
        "fup": "0",
        "name": "前沿科技",
        "rank": "26"
    },
    {
        "fid": "3",
        "fup": "0",
        "name": "桌面平台",
        "rank": "25"
    },
    {
        "fid": "64",
        "fup": "1",
        "name": "会员专区",
        "rank": "25"
    },
    {
        "fid": "120",
        "fup": "37",
        "name": "4)腾讯公司2008软件安全竞赛",
        "rank": "25"
    },
    {
        "fid": "57",
        "fup": "2",
        "name": "回收站",
        "rank": "25"
    },
    {
        "fid": "132",
        "fup": "3",
        "name": "密码应用",
        "rank": "24"
    },
    {
        "fid": "123",
        "fup": "57",
        "name": "《微软.NET程序的加密与解密》",
        "rank": "24"
    },
    {
        "fid": "127",
        "fup": "37",
        "name": "5)奇虎360软件安全比赛",
        "rank": "24"
    },
    {
        "fid": "37",
        "fup": "116",
        "name": "CTF对抗",
        "rank": "23"
    },
    {
        "fid": "140",
        "fup": "37",
        "name": "6)PEDIY Crackme竞赛2009",
        "rank": "23"
    },
    {
        "fid": "116",
        "fup": "0",
        "name": "CTF",
        "rank": "22"
    },
    {
        "fid": "150",
        "fup": "3",
        "name": "二进制漏洞",
        "rank": "22"
    },
    {
        "fid": "163",
        "fup": "65",
        "name": "《C++反汇编与逆向分析技术》",
        "rank": "22"
    },
    {
        "fid": "108",
        "fup": "0",
        "name": "企业建设",
        "rank": "21"
    },
    {
        "fid": "155",
        "fup": "37",
        "name": "7)腾讯公司2010软件安全竞赛",
        "rank": "21"
    },
    {
        "fid": "168",
        "fup": "65",
        "name": "《Android安全与逆向分析》",
        "rank": "21"
    },
    {
        "fid": "157",
        "fup": "37",
        "name": "8)2011 Exploit Me赛",
        "rank": "20"
    },
    {
        "fid": "121",
        "fup": "37",
        "name": "9）移动安全挑战赛（MSC）",
        "rank": "18"
    },
    {
        "fid": "129",
        "fup": "37",
        "name": "10）第2届移动安全挑战（MSC）",
        "rank": "17"
    },
    {
        "fid": "136",
        "fup": "0",
        "name": "职场生活",
        "rank": "12"
    },
    {
        "fid": "45",
        "fup": "136",
        "name": "茶余饭后",
        "rank": "6"
    },
    {
        "fid": "175",
        "fup": "137",
        "name": "《二万班安卓高级研修》",
        "rank": "5"
    },
    {
        "fid": "97",
        "fup": "152",
        "name": "问答版块",
        "rank": "4"
    },
    {
        "fid": "161",
        "fup": "158",
        "name": "Android安全",
        "rank": "4"
    },
    {
        "fid": "1",
        "fup": "0",
        "name": "站务管理/产品",
        "rank": "3"
    },
    {
        "fid": "10",
        "fup": "152",
        "name": "资源下载",
        "rank": "3"
    },
    {
        "fid": "128",
        "fup": "158",
        "name": "智能设备",
        "rank": "3"
    },
    {
        "fid": "137",
        "fup": "136",
        "name": "职业生涯",
        "rank": "3"
    },
    {
        "fid": "151",
        "fup": "108",
        "name": "WEB安全",
        "rank": "3"
    },
    {
        "fid": "160",
        "fup": "2",
        "name": "麦洛科菲培训",
        "rank": "3"
    },
    {
        "fid": "176",
        "fup": "137",
        "name": "《三万班安卓高级研修》",
        "rank": "3"
    },
    {
        "fid": "171",
        "fup": "116",
        "name": "Pwn",
        "rank": "2"
    },
    {
        "fid": "20",
        "fup": "152",
        "name": "¥付费问答",
        "rank": "2"
    },
    {
        "fid": "32",
        "fup": "152",
        "name": "外文翻译",
        "rank": "2"
    },
    {
        "fid": "47",
        "fup": "136",
        "name": "招聘专区",
        "rank": "2"
    },
    {
        "fid": "162",
        "fup": "108",
        "name": "企业安全",
        "rank": "2"
    },
    {
        "fid": "166",
        "fup": "158",
        "name": "iOS安全",
        "rank": "2"
    },
    {
        "fid": "170",
        "fup": "57",
        "name": "看雪产品",
        "rank": "2"
    },
    {
        "fid": "65",
        "fup": "136",
        "name": "图书项目",
        "rank": "1"
    },
    {
        "fid": "174",
        "fup": "32",
        "name": "International  vision",
        "rank": "1"
    },
    {
        "fid": "172",
        "fup": "2",
        "name": "区块链安全",
        "rank": "0"
    },
    {
        "fid": "173",
        "fup": "3",
        "name": "KSA软件",
        "rank": "0"
    },
    {
        "fid": "178",
        "fup": "158",
        "name": "HarmonyOS",
        "rank": "0"
    }
];

// 三级版块
function forum_tree(forumlist, template) {
	var template = template || '&lt;option value="{fid}"&gt;{tab}{name}&lt;/option&gt;'+"\r\n";
	var s = '';
	var forumlist1 = forumlist.filter(function(v) {return v.fup == 0});
	for(var i1=0; i1&lt;forumlist1.length; i1++) {
		var v1 = forumlist1[i1];
		s += '►'+xn.template(template, {fid: v1.fid, name: v1.name, tab: "　"});
		var forumlist2 = forumlist.filter(function(v2) {return v2.fup == v1.fid});
		for(var i2=0; i2&lt;forumlist2.length; i2++) {
			var v2 = forumlist2[i2];
			s += xn.template(template, {fid: v2.fid, name: v2.name, tab: "　　"});
			var forumlist3 = forumlist.filter(function(v3) {return v3.fup == v2.fid});
			for(var i3=0; i3&lt;forumlist3.length; i3++) {
				var v3 = forumlist3[i3];
				s += xn.template(template, {fid: v3.fid, name: v3.name, tab: "　　　　"});
			}

		}
	}
	return s;
}


// 版主管理：移动 / moderator : move
$('.mod-button button.move').off('click').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var select = '&lt;select name="fid"&gt;'+forum_tree(forumlist)+'&lt;/select&gt;';
	$.confirm(lang.move_forum, function() {
		var tids = xn.implode('_', modtid);
		var newfid = $('select[name="fid"]').val();
		$.xpost(xn.url('mod-move-'+tids+'-'+newfid), function(code, message) {
			if(code != 0) return $.alert(message);
			$.alert(message).delay(1000).location('');
		});
	}, {'body': '&lt;p&gt;'+lang.choose_move_forum+'：'+select+'&lt;/p&gt;'});
})

</script><script>

// 版主管理：审核
$('.mod-button button.audit').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var radios = xn.form_radio('audit', {"1": "审核通过", "2": "审核不通过"});
	$.confirm('审核主题', function() {
		var tids = xn.implode('_', modtid);
		var audit = $('input[name="audit"]').checked();
		var postdata = {audit: audit};
		$.xpost(xn.url('mod-audit-'+tids), postdata, function(code, message) {
			if(code != 0) return $.alert(message);
			$.alert(message).delay(1000).location('');
		});
	}, {'body': '&lt;p&gt;'+'审核选项'+'：'+radios+'&lt;/p&gt;'});
})

</script><script>

    // 版主管理：审核
    $('.mod-button button.limit').on('click', function() {
        var modtid = $('input[name="modtid"]').checked();
        if(modtid.length == 0) return $.alert(lang.please_choose_thread);
        var radios = xn.form_radio('limit', {"0": "验证通过", "1": "待验证"});
        $.confirm('验证主题', function() {
            var tids = xn.implode('_', modtid);
            var limit = $('input[name="limit"]').checked();
            var postdata = {audit: limit};
            $.xpost(xn.url('mod-newuser_audit-'+tids), postdata, function(code, message) {
                if(code != 0) return $.alert(message);
                $.alert(message).delay(1000).location('');
            });
        }, {'body': '&lt;p&gt;'+'验证选项'+'：'+radios+'&lt;/p&gt;'});
    })
    
    </script>



<script>

$(function() {
	// 版主管理：删除 / moderator : delete
	$('.mod-button button.delete').off('click').on('click', function() {
		var modtid = $('input[name="modtid"]').checked();
		if(modtid.length == 0) return $.alert(lang.please_choose_thread);
		var radios = '';
				//var htmladd = '&lt;br&gt;&lt;br&gt;&lt;label class="text-small"&gt;&lt;input type="checkbox" name="logic" value="0" /&gt; 物理删除&lt;/label&gt;';
		//htmladd += '&lt;br&gt;&lt;label class="text-small"&gt;&lt;input type="checkbox" name="logic" value="0" /&gt; 恢复删除&lt;/label&gt;';
		$.confirm(xn.lang('confirm_delete_thread', {n:modtid.length}) + '&lt;br&gt;&lt;br&gt;'+radios, function() {
			var tids = xn.implode('_', modtid);
			var type = $('input[name="type"]').checked();
			$.xpost(xn.url('mod-delete-'+tids), {type: type}, function(code, message) {
				if(code != 0) return $.alert(message);
				$.alert(message).delay(1000).location('');
			});
		});
	})

	// 恢复逻辑删除的帖子
	$('body').on('click', '.post_recover', function() {
		var jthis = $(this);
		var href = jthis.data('href');
		var isfirst = jthis.attr('isfirst');
		if(window.confirm('确定恢复删除的帖子？')) {
			$.xpost(href, function(code, message) {
				var isfirst = jthis.attr('isfirst');
				if(code == 0) {
					if(isfirst == '1') {
						$.location('forum-161.htm');
					} else {
						window.location.reload();
					}
				} else {
					$.alert(message);
				}
			});
		}
		return false;
	});

})

</script>

<div class="modal fade appeal" id="appeal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                        <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                        </button>
                        <h4 class="modal-title" id="exampleModalLabel">求助问答申诉</h4>
                        </div>
                        <form id="form_appeal" action="post-appeal.htm" method="post">
	                        <div class="modal-body">
	                                <div class="form-group">
	                                	<input id="pid" name="pid" value="0" type="hidden" />
	                                        <textarea class="form-control" id="brief" name="brief" rows="6" placeholder="请填写内容，注意: 请写明申诉的原因"></textarea>
	                                </div>
	                        </div>
	                        <div class="modal-footer">
	                                <button id="appeal_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">申请提交</button>
	                        </div>
	                </form>
                </div>
        </div>
</div><div class="modal fade report" id="report" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                        <div class="modal-header">
                       
                        <h4 class="modal-title" id="exampleModalLabel">举报此帖</h4>
                         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                        </button>
                        </div>
                        <form id="form_report" action="post-report.htm" method="post">
                                <div class="modal-body">
                                        <div class="form-group">
                                                <input id="tid" name="tid" value="0" type="hidden" />
                                                <input id="pid" name="pid" value="0" type="hidden" />
                                                <textarea class="form-control" id="brief" name="brief" rows="6" placeholder="请填写内容，注意: 请确认您所举报此帖的内容涉及到语言挑衅和违犯论坛版规的内容， 版主将收到举报后审核该帖！"></textarea>
                                        </div>
                                </div>
                                <div class="modal-footer">
                                        <button id="report_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">发送报告</button>
                                </div>
                        </form>
                </div>
        </div>
</div>
<script src="/view/js/group/iconfont.js"></script>
<script src="view/js/face.js?1.5"></script>
<script src="//passport.kanxue.com/pc/view/js/qqLevel.js"></script>
<script>
var thread_uid = '905443';
var passport_domain = 'passport.kanxue.com';
// 回复 操作按钮 手机端 显示隐藏方法 开始
function mobile_more_operate(e){
	$(".mobile_more_operate").hide();
	$(e.target).siblings(".mobile_more_operate").fadeIn();
}
$(document).scroll(function(){
	$(".mobile_more_operate").hide();
})
$(document).on("click", function(e){

	if ($(e.target).parents(".mobile_more_operate_btn").length == 0 &amp;&amp; !$(e.target).hasClass('mobile_more_operate_btn')) {
		$(".mobile_more_operate").hide();
	}
	
})
// 回复 操作按钮 手机端 显示隐藏方法 结束

function show_level(event) {
	var el = event.target;
	
	var usergid = $(el).attr("data-gid");
	$.tips('&lt;span class="level-'+usergid+' level"&gt;&lt;/span&gt;', $(el), {
		tips: [3, '#fff'],
		time: 2000
	});
}

function show_online_level(event) {
	var el = event.target;
	
	var userdesc = $(el).attr("data-desc");

	$.tips('&lt;span class="text-muted"&gt;'+userdesc+'&lt;/span&gt;', $(el), {
		tips: [3, '#fff'],
		time: 2000
	});
}
function online_time_imgs(v) {

	var online_time = $(v).data('online_time');
	var level = qqLevel.getLevel(online_time);
	var imgs = qqLevel.getImg(level, [
		'//'+passport_domain+'/pc/view/img/star_0.gif',
		'//'+passport_domain+'/pc/view/img/star.gif',
		'//'+passport_domain+'/pc/view/img/moon.gif',
		'//'+passport_domain+'/pc/view/img/sun.gif',
		'//'+passport_domain+'/pc/view/img/king.gif',
	]);
	var desc = qqLevel.getDescBbs(online_time);
	$(v).attr('data-desc', desc);

	$(v).next(".post_online_time1").html('( '+desc+' )');
	$(v).html(imgs);
}
$(".post_online_time").each(function(k, v) {
	online_time_imgs(v)
})

// 快速回帖切换到高级回复时，编辑框文字保存一下来
$('.senior_reply').on('click', function(){
	var  quick_reply_message = $('#quick_reply_form').find('#message').val().trim();

	// quick_reply_message = quick_reply_message.replace(/\[em_([0-9]+)\]/g, '&lt;img src="/view/img/face/$1.gif" class="face" style="cursor: pointer;"&gt;');
	
	function senior_reply_pdata(return_obj) {
		if(quick_reply_message.length == 0) {
			$.pdata('quick_reply_message', '');
		} else {
			$.pdata('quick_reply_message', quick_reply_message);
		}
		return return_obj();
	}
	function senior_reply_return(){
		window.location.href= 'post-create-272870.htm';
	};
	senior_reply_pdata(senior_reply_return);
	
})


function shareTo(stype){
	var ftit = '';
	var flink = '';
	var lk = '';
	//获取文章标题
	ftit = $('.subject').text();
	//获取网页中内容的第一张图片
	flink = $('.message img').eq(0).attr('src');

	if(typeof flink == 'undefined'){
		flink='';
	}
	//当内容中没有图片时，设置分享图片为网站logo
	if(flink == ''){
		lk = 'http://bbs.pediy.com/plugin/kanxue/img/kanxuelogo.png';
	}
	//如果是上传的图片则进行绝对路径拼接
	if(flink.indexOf('upload/') != -1) {
		lk = 'http://bbs.pediy.com/'+flink;
	}
	//qq空间接口的传参
	// if(stype=='qzone'){
		//弹出窗口的宽度;
		// var iw=800; 
		//弹出窗口的高度;
		// var ih=500; 
		//获得窗口的垂直位置;
		// var it = (window.screen.availHeight-30-ih)/4; 
		//获得窗口的水平位置;
	// 	var il = (window.screen.availWidth-10-iw)/4; 
	// 	var openurl = 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+document.location.href+'?sharesource=qzone&amp;title='+ftit+'&amp;pics='+lk+'&amp;summary='+document.querySelector('meta[name="description"]').getAttribute('content');
	// 	window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	// }
	
	//新浪微博接口的传参
	if(stype=='sina'){
		var iw=500; //弹出窗口的宽度;
		var ih=500; //弹出窗口的高度;
		var it = (window.screen.availHeight-30-ih)/4; //获得窗口的垂直位置;
		var il = (window.screen.availWidth-10-iw)/4; //获得窗口的水平位置;
		var openurl = 'http://service.weibo.com/share/share.php?url='+document.location.href+'?sharesource=weibo&amp;title='+ftit+'&amp;pic='+lk;
		window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	
	}
	//qq好友接口的传参
	if(stype == 'qq'){
		var iw=800; //弹出窗口的宽度;
		var ih=500; //弹出窗口的高度;
		var it = (window.screen.availHeight-30-ih)/4; //获得窗口的垂直位置;
		var il = (window.screen.availWidth-10-iw)/4; //获得窗口的水平位置;
		var openurl = 'http://connect.qq.com/widget/shareqq/index.html?url='+document.location.href+'?sharesource=qzone&amp;title='+ftit+'&amp;pics='+lk+'&amp;summary='+document.querySelector('meta[name="description"]').getAttribute('content')+'&amp;desc=看雪，一个有情怀的安全开发者交流的网站'
		window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	}
	//生成二维码给微信扫描分享，php生成，也可以用jquery.qrcode.js插件实现二维码生成
	if(stype == 'wechat'){
		
		$.tips('&lt;img width="150" src="bbs_qrcode-http_3A_2F_2Fbbs_2epediy_2ecom_2Fthread_2d272870_2ehtm.htm"&gt;',$("#wxshare"),{ tips: [2, '#eee'],time: 5000});
	}
}
$(function() {
	var jform = $('#quick_reply_form');
	var jsubmit = $('#submit');
	jform.on('submit', function() {
		jform.reset();
		jsubmit.button('loading');
		var postdata = jform.serialize();
		$.xpost(jform.attr('action'), postdata, function(code, message) {
			if (code == 0) {
				var s = '&lt;table&gt;' + message + '&lt;/table&gt;';
				var jtr = $(s).find('tr');
				jtr.insertBefore($('table.postlist tr').last());
				jsubmit.button('reset');
				$('#message').val('');

				// 楼层 +1
				var jfloor = jform.find('.floor');
				jfloor.html(xn.intval(jfloor.html()) + 1);

				// 回复数 +1
				var jposts = $('.posts');
				jposts.html(xn.intval(jposts.html()) + 1);

			} else if (code &lt; 0) {
				$.alert(message);
				jsubmit.button('reset');
			} else {
				jform.find('[name="' + code + '"]').alert(message).focus();
				jsubmit.button('reset');
			}
		});
		return false;
	});

	//  显示隐藏 点赞收藏等功能
	var offset_top = $("#collection_thumb").offset().top - $(document).scrollTop();
	if (offset_top &lt; document.documentElement.clientHeight) {
		$(".collection_thumb_left").hide();
	} else {
		$(".collection_thumb_left").show();
	}
	$(document).on("scroll",function(){
		var offset_top = $("#collection_thumb").offset().top - $(document).scrollTop();
		if (offset_top &lt; document.documentElement.clientHeight) {
			$(".collection_thumb_left").hide();
		} else {
			$(".collection_thumb_left").show();
		}
	})
	//收藏功能
	var jfavorite = $('.favorite');
	var jlikesFirst = $('.likes:first');
	var jlikes = $('.likes');
	var jlikes_box = $('.likes_box');
	var likenums = jlikesFirst.text();
	if (parseInt(likenums) &gt; 0) jlikes_box.removeClass("likes_box_hide").addClass("likes_box_show");
	jfavorite.on('click', function() {
		var likenum = jlikesFirst.text();
		likenum_plus = parseInt(likenum) + 1;
		likenum_sub = parseInt(likenum) - 1;
		if(likenum_sub &lt; 0) likenum_sub = 0;
		$.xpost('thread-favorite-272870.htm', function(code, message) {
			if(code == 0) {
				var s = '&lt;i class="icon-star" style="color: #0099ee;"&gt;&lt;/i&gt;';
				jfavorite.html(s);
				jfavorite.css("border-color",'#0099ee');
				jlikes.text(likenum_plus);
				jlikes_box.removeClass("likes_box_hide").addClass("likes_box_show");

			}else if(code == 1) {
				var s = '&lt;i class="icon-star-o color4A4A4A"&gt;&lt;/i&gt;';
				jfavorite.html(s);
				jfavorite.css("border-color",'#DDDDDD');
				jlikes.text(likenum_sub);
				if(likenum_sub == 0) jlikes_box.removeClass("likes_box_show").addClass("likes_box_hide");
			} else {
				$.alert(message);
			}
		});
		return false;
	});

	// 点赞
	var page = '1';
	var thumbs_num_box = $('.thumbs_num_box');
	var thumbs_num_first = $(".thumbs_num:first").text();
	if (parseInt(thumbs_num_first) == 0) thumbs_num_box.hide();

	$('.thumb').click(function() {
		var threadid = `272870`;
		var type = 1;
		var num = parseInt(thumbs_num_first);
		var postdata = 'threadid=' + threadid + '&amp;type=1&amp;page='+page;
		var that = this;
		$.xpost('thumbs_up-thumbs.htm', postdata, function(code, message) {
			if(code == 0) {
				thumbs_num_box.show();
				var s = '&lt;i class="icon-thumbs-up" style="color: #0099ee;"&gt;&lt;/i&gt;';
				$(that).html(s);
				$(that).css("border-color",'#0099ee');
				$('.thumbs_num').text(num + 1);
				$.tips('感谢您的赏识！您已向主题帖作者发送 '+message+' 个雪币，表达感谢', $(that), {
					tips:1,
					time: 2000,
					tips: [1,'#748691']
				});
			} else if(code == 1){
				thumbs_num_box.show();
				$.tips(message, $(that), {
					tips: 1,
					time: 2000,
					tips: [1,'#748691']

				});
			} else {
				$.tips(message, $(that), {
					tips: 1,
					time: 2000,
					tips: [1,'#748691']

				});
			}
		})
	})

	// 缩放图片，适应屏幕大小。
	function resize_image() {
		var jmessagelist = $('div.message');
		var first_width = jmessagelist.width(); // 815 : 746; //  734 746
		jmessagelist.each(function() {
			var jdiv = $(this);
			var maxwidth = jdiv.attr('isfirst') ? first_width : first_width - 79; //  734 746
			var jmessage_width = Math.min(jdiv.width(), maxwidth);
			jdiv.find('img, embed, iframe').each(function() {
				var jimg = $(this);
				//if(jimg.width() &lt; 500) return;
				var img_width = this.org_width;
				var img_height = this.org_height;
				if (!img_width) {
					var img_width = jimg.width();
					var img_height = jimg.height();
					this.org_width = img_width;
					this.org_height = img_height;
				}
				//var percent = xn.min(100, xn.ceil((img_width / jmessage_width) * 100));
				if (img_width &gt; jmessage_width) {
					if (this.tagName == 'IMG') {
						jimg.width(jmessage_width);
						jimg.css('height', 'auto');
					} else {
						jimg.width(jmessage_width);
						var height = (img_height / img_width) * jimg.width();
						jimg.height(height);
					}
				}

			});
			
			jdiv.find('p').each(function() {
				var jp = $(this);
				if($.trim(jp.text()) == '') {
					jp.css('line-height', '1');
				}
			});
		});
	}
	// resize_image();
	// $(window).on('resize', resize_image);


 	//---------by wang start------------------------//
	//取出tr的pid，赋值给tr使name为point_pid
	// $(".post").each(function() {
	// 	var cpid = $(this).attr("pid");
	// 	$(this).attr("id","point_"+ cpid);
	// });
	var url = window.location.toString();
	
	if(url.indexOf("#") != -1){
		var cpid = url.split("#")[1];
		if(cpid) {
			$(".post").each(function(k,v) {
				if($(v).attr("pid") == cpid) {
					var t = $(this).offset() ? $(this).offset().top : 0;
					//$("#frame_right").scrollTop(t);
					$("html,body").animate({scrollTop:t},800)
				}
				
			});
			
		}
	}
	
	//------------by wang end----------------------------//


	
	// 输入框自动伸缩
	var jmessage = $('#message');
	jmessage.on('focus', function() {
		if (jmessage.t) {
			clearTimeout(jmessage.t);
			jmessage.t = null;
		}
		jmessage.css('height', '6rem');
	});
	jmessage.on('blur', function() {
		jmessage.t = setTimeout(function() {
			jmessage.css('height', '2.5rem');
		}, 1000);
	});

	$('#nav_pc li[fid="161"]').addClass('active');
	$('#nav_mobile li[fid="161"]').addClass('active');

	 $(function(){
		$('.emotion').qqFace({
			id : 'facebox',
			assign:'message',
			path:'view/img/face/'
		});
	});

	$("div.message img").css("cursor","pointer");
	$("div.message img").on("click",function() {
		if (window.innerWidth &gt; 768) {
			var img_src = $(this).attr("src");
			var img = new Image();
			img.src = img_src;  
			img.onload = function () {
				window.open(img_src);
			};  
			// img.onerror = function () {
			// 	alert("error!")
			// };  
			
		}
	})
	setTimeout(function() {
		$("div.message img").each(function(index, element) {
			if ($(element).width() &gt;= 100) {
				$(element).addClass("div_message_boxShadow");
			}
		})
	}, 2000);
	
	function IsPC() {
		var userAgentInfo = navigator.userAgent;
		var Agents = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"];
		var flag = true;
		for (var v = 0; v &lt; Agents.length; v++) {
			if (userAgentInfo.indexOf(Agents[v]) &gt; 0) {
				flag = false;
				break;
			}
		}
		return flag;
	}

	// 弹出分享页面
	var outside = true;
	$(".bbsshare_btn").on('click', function(event){
		outside = false;
		$(".bbsshare_modal").show();
	});
	document.body.addEventListener('click', function() {
		outside = true;
	},true)
	document.body.addEventListener('click', function() {
		if(outside){
			$(".bbsshare_modal").hide();
		}
	})
	// $(".bbsshare_btn").on('click', function(event){
	// 	$.open({
	// 		type: 1,
	// 		title: false,
	// 		content: $('.bd-bbsshare-modal-sm'),
	// 		offset: 'auto',
	// 		shadeClose: false,
	// 		shade: false,

	// 	});

	// });

	if ($.pdata('collapse_reward') &amp;&amp; $.pdata('collapse_reward') == 1) {
		$("#collapse_reward").removeClass('show');
		$(".collapse_btn").find("span").html("展开");
		$(".collapse_btn").find("i").removeClass("icon-angle-up").addClass("icon-angle-down");
		
	} else if( $.pdata('collapse_reward') == 0 || $.pdata('collapse_reward') == '' || $.pdata('collapse_reward') == null) {
		$("#collapse_reward").addClass('show');
		$(".collapse_btn").find("span").html("收起");
		$(".collapse_btn").find("i").removeClass("icon-angle-down").addClass("icon-angle-up");
	}
	$("#collapse_reward").on('hide.bs.collapse', function () {
		$.pdata('collapse_reward', 1)
		$(".collapse_btn").find("span").html("展开");
		$(".collapse_btn").find("i").removeClass("icon-angle-up").addClass("icon-angle-down");
		
		
	})
	$("#collapse_reward").on('show.bs.collapse', function () {
		$.pdata('collapse_reward', 0)
		$(".collapse_btn").find("span").html("收起");
		$(".collapse_btn").find("i").removeClass("icon-angle-down").addClass("icon-angle-up");
		
	})
	

	// $(".follow_btn_svg").on("click", function(){
	// 	var that = $(this);
	// 	$.xpost("user-follow.htm", {followed_uid: thread_uid}, function(code, message) {
	// 		if (code == 0) {
	// 			$.msg(message);
	// 			that.parent(".follow_btn_span").remove();
	// 		} else if (code == 1) {
	// 			$.msg(message);
	// 		}
	// 	})
	// })

	$(".follow_btn").on("click", function(){
		var that = $(this);
		var cuid = that.attr("data-cuid");
		$.xpost("user-follow.htm", {followed_uid: cuid}, function(code, message) {
			if (code == 0) {
				that.removeClass("btn-0099ee").addClass("btn-followed");
				that.html('已关注');
				$.msg(message);
			} else if (code == 1) {
				that.removeClass("btn-followed").addClass("btn-0099ee");
				that.html('&lt;i class="icon icon-plus"&gt;&lt;/i&gt; 关注');
				$.msg(message);
			} else if (code == -1) {
				$.msg(message);
			}
		})
	})
	$(".avatar_hover").on("mouseenter",function(){
		$(".thread-poptip-box").hide();
		$(this).find(".thread-poptip-box").show();
	})
	$(".avatar_hover").on("mouseleave",function(){
		$(".thread-poptip-box").hide();
	})

	// 右侧块 滚动到一定位置隐藏 开始
	
	var message_height = 0;
	$(window).scroll(function() {
		var message_height2 = $(".message_card .message").height();
		if (message_height2 != message_height) {
			message_height = message_height2;
		}
		if ((window.pageYOffset) &gt; message_height) {
			$(".rightbox_card_hidden").hide();
		} else {
			$(".rightbox_card_hidden").show();
		}
	});
	// 右侧块 滚动到一定位置隐藏 结束
	//广告

	function ad_count_request(data, type, adkey, num, func) {
		$.xpost('//www.kanxue.com/advertisement-request.htm',"data="+data+"&amp;type="+type+"&amp;adkey="+adkey+"&amp;num="+num, function(code, message) {
			if(func) func();
		})
	}
	var adpostdata = $("#thread_ad").data('thread_postdata');
	var adkey = "5UImH1LJAmmjD85hhtIu8g_3D_3D";
	ad_count_request(adpostdata, 1, adkey, 1);
	$("#thread_ad").click(function() {
		var that = $(this);
		var href = $(this).data('href');
		ad_count_request(adpostdata, 2, adkey, 0, function() {
			$(that).attr('target',"_blank");
			$(that).attr('href',href);
			
		});

	});
		
	


	$(".fieldset .attachlist a").on("click",function(){
		var _this = this;
		if ($(".down_golds").length &gt; 0) {
			$.confirm($(".down_golds").text(),function(){
				window.open($(_this).attr("data-href"));
			})
		} else {
					}
	})

});

</script>

<div style="position: absolute;top: 50%;left: 50%;transform: translateX(-50%) translateY(-50%);" class="modal fade bd-example-modal-sm" id="wxpay_modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">

    <div class="modal-content text-center ">
        <div class="" style="height: 55px; border-bottom: 1px solid rgba(204, 204, 204, 0.26); background-image: url(./view/img/pay_s.png); background-repeat: no-repeat; background-position: bottom center;">
            <button type="button" class="close mr-3" style="margin-top: 1.5rem;" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
                <span class="sr-only">Close</span>
            </button>
        </div>
        <div class="wxpay_modal_body">

        </div>
    </div>
</div>
</div>
<script>
var jpay_form = $('#pay_kx');
var jkxpay = $('.kx-pay');
var rid = 0;
var check_handle = null;

function topay(){
    clearInterval(check_handle);
    check_handle = null;
    var valtype = $("input[name='reward_type']:checked").val();
    var rmbstype = $("input[name='reward_rmbs']:checked").val();
    if(!valtype) { alert('请您选择一个支付方式!'); return false; }
    if(rmbstype &lt; 1) {
        alert("打赏金额不能少于1雪花");
        return false;
    }else if(valtype == 1){
        if(_is_weixin) {
            $.alert('请用其它浏览器打开再用赞赏功能!');
            return false;
        }

        window.Popup = window.open('about:blank', '_blank','width='+window.screen.width+',height='+window.screen.height+', ...');
        var ptdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-charge.htm', ptdata, function(code, message) {
            if(code == 0) {
                
                Popup.blur();
                Popup.opener.focus();
                Popup.location = 'reward_pay-reward_alipay-'+ message +'.htm';
                jkxpay.button('reset');
                $('.reward').modal('hide');
                check_setInterval(message);
            } else if(code &lt; 0) {
                Popup.close();
                alert(message);
                jkxpay.button('reset');
            } else {
                Popup.close();
                alert(message);
                jkxpay.button('reset');
            }
        });
        return false;
    }else if(valtype == 2){
        var postdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-reward_remainder.htm', postdata, function(code, message) {
            if(code == 0) {
                $.alert(message);
                jkxpay.button('reset');
                $('.reward').modal('hide');
                window.location.reload();
            } else if(code &lt; 0) {
               $.alert(message);
                jkxpay.button('reset');
            } else {
                $.alert(message);
                jkxpay.button('reset');
            }
        });
        return false;
    }else if(valtype == 3) {

        // $('#wxpay_modal').modal({backdrop: 'static', keyboard: false});
        var ptdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-charge.htm', ptdata, function(code, message) {
            if(code == 0) {
                //微信支付
                $.xget('reward_pay-wxpay-'+ message +'.htm',function(cd,msg) {
                    if(cd == 0) {
                        check_setInterval(message);

                        //$(".wxpay_code img").attr('src', 'http://paysdk.weixin.qq.com/example/qrcode.php?data='+ msg);
                        var wx_img = '&lt;div class="pt-3 text-center"&gt;&lt;img src="./view/img/wxpay2.png" style="height: 40px;"&gt;&lt;/div&gt;\
                        &lt;div class="modal-body wxpay_code pt-3 pb-3"&gt;\
                            &lt;div  style="width: 80%;text-align:center; margin: 0 auto;"&gt;\
                                &lt;span class="wx_img"&gt;&lt;img alt="扫码支付" style="width: 60%;" src="//bbs.pediy.com/reward_pay-wxcode-'+ xn.urlencode(msg) +'.htm"/&gt;&lt;/span&gt;\
                                &lt;span class="pay_success_shadow" style="display: none;"&gt;&lt;/span&gt;\
                            &lt;/div&gt;\
                            &lt;div class="text-center text-muted mt-3"&gt;打开微信扫一扫，即可完成支付&lt;/div&gt;\
                            &lt;div class="swal2-icon swal2-success swal2-animate-success-icon"&gt;\
                                &lt;span class="swal2-success-line-tip "&gt;&lt;/span&gt;\
                                &lt;span class="swal2-success-line-long "&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;';  
                        $(".wxpay_modal_body").html(wx_img);
                        jkxpay.button('reset');
                        $(".reward").modal('hide');
                        $('#wxpay_modal').modal({backdrop: 'static', keyboard: false});
                        $('#wxpay_modal').modal('show');
                    } else {
                        $.alert(msg);
                        jkxpay.button('reset');
                    }
                })
                return false;
            } else {
                $.alert(message);
                jkxpay.button('reset');
            }
        });
      
        return false;

    }else{
        $('.reward').modal('hide');
        return false;
    }
}

function check_status(rid) {
  var val_type = $("input[name='reward_type']:checked").val();
  $.xpost('reward_pay-check.htm', {checkid: rid}, function(code, message) {
    if(code == 0) {
      if(val_type == 1) {
        Popup.close();
      }
      $.alert('恭喜您，赞赏成功！');
      setTimeout(function() {
                 window.location.reload();
      }, 3000);
      // if(check_handle) {
        clearInterval(check_handle);
        check_handle = null;
      // }
    } else {
      return false;
    }
  });
}

function check_setInterval(rid) {
  check_handle = setInterval(function() {
    check_status(rid);
  }, 3000);
}

window._is_weixin = function() {
  var _ua = window.navigator.userAgent.toLowerCase();
  if (_ua.match(/MicroMessenger/i) == 'micromessenger') {
      return true;
  } else {
      return false;
  }
}()


$("select.reward_reason").change(function(){

    console.log( $("select.reward_reason option:selected").val());
    var reward_reason = $("select.reward_reason option:selected").val()
    if (reward_reason != 0) {
        $(".reward_reason_textarea").val($("select.reward_reason option:selected").val());
    }
    
    
})

</script><script>
var jform_appeal = $('#form_appeal');
var appeal_submit = $('#appeal_submit');

appeal_submit.on('click', function() {
    jform_appeal.reset();
    appeal_submit.button('loading');
    var postdata = jform_appeal.serialize();
    
    $.xpost(jform_appeal.attr('action'), postdata, function(code, message) {
        if(code == 0) {
       	$.alert(message);
       	appeal_submit.button('reset');
       	setTimeout(function(){window.location.reload();
            }, 2000);
        } else {
    	$.alert(message);
    	appeal_submit.button('reset');
        }
    });
    return false;
});

 $('#appeal').on('show.bs.modal', function (event) {
	var button = $(event.relatedTarget)
	var pid = button.data('pid');
	var modal = $(this);
	modal.find('.modal-body #pid').val(pid);

})
</script><script>

var jform_report = $('#form_report');
var report_submit = $('#report_submit');

report_submit.on('click', function() {
    jform_report.reset();
    report_submit.button('loading');
    var postdata = jform_report.serialize();
    
    $.xpost(jform_report.attr('action'), postdata, function(code, message) {
        if(code == 0) {
       	$.alert(message);
       	report_submit.button('reset');
       	setTimeout(function(){window.location.reload();
            }, 1000);
        } else {
    	$.alert(message);
    	report_submit.button('reset');
        }
    });
    return false;
});

$('#report').on('show.bs.modal', function (event) {
	var button = $(event.relatedTarget)
    var tid = button.data('tid');
    var pid = button.data('pid');
    var modal = $(this);

    modal.find('.modal-body #tid').val(tid);
    modal.find('.modal-body #pid').val(pid);
})

</script><!--游客下载附件关注微信公众号-->
<div class="modal fade download_code" id="download_code" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">游客下载提示</h5>
	                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                                <span aria-hidden="true">×</span>
	                        </button>
	                        
                        </div>
                        <form id="form_download" action="" method="post" target="_blank">
                                <div class="modal-body text-center">
                                    <input id="aid" name="aid" value="0" type="hidden" />
                                    <dl class="row">
                                    	<dd class="text-left" style="width:50%">
                                        	<div style="font-size:14px">
                                        		<div>1.请先关注公众号。</div>
                                        		<div>2.点击菜单"更多"。</div>
                                        		<div>3.选择获取下载码。</div>
                                        	</div>
                                    	</dd>
                                    	<dt><img src="view/img/wxgz.jpg" width="80%" /></dt>
                                    </dl>
                                    <fieldset class="form-group">
                						<input class="form-control" type="text" id="download_code" name="download_code" placeholder="请输入下载码" value="" />
                					</fieldset>
                                </div>
                                <div class="modal-footer">
                                        <button id="download_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">下载</button>
                                </div>
                        </form>
                </div>
        </div>
</div>
<script>

var jform_download = $('#form_download');
var jdownload_submit = $('#download_submit');

    jdownload_submit.on('click', function() {
        jform_download.reset();
        jdownload_submit.button('loading');
        var postdata = jform_download.serialize();

        var aid2 = jform_download.find('.modal-body #aid').val();
        
        $.xpost(jform_download.attr('action'), postdata, function(code, message) {
            if(code == 0) {
    	       	jdownload_submit.button('下载中...');
    	       	var href = "attach-download-"+aid2+"-"+message+".htm";
    		window.location = href;
    		setTimeout(function() {
                        jdownload_submit.button('reset');
                        jform_download.find('.modal-body #download_code').val('');
                    }, 1500);
    		
            } else {
    	    	$.alert(message);
    	    	jdownload_submit.button('reset');
            }
        });
        return false;
    });

    $('#download_code').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget)
        var aid = button.data('aid');
        var modal = $(this);
        var down_action="attach-download_code-"+aid+".htm";

        modal.find('.modal-body #aid').val(aid);
        modal.find('#form_download').attr('action', down_action);
    })
</script><script>
var page = '1';
$('#thumb').click(function() {
	var threadid = '272870';
	var type = 1;
	var num = parseInt($('#thread_thumb_num').text());
	var postdata = 'threadid=' + threadid + '&amp;type=1&amp;page='+page;
	var that = this;
	$.xpost('thumbs_up-thumbs.htm', postdata, function(code, message) {
		if(code == 0) {
			var s = '&lt;i class="icon-thumbs-o-up" style="color: #0099ee;"&gt;&lt;/i&gt;&amp;nbsp;&lt;span style="color: #0099ee;"&gt;已赞&lt;/span&gt;';
			$('#thumb').children('a').html(s);
			$('#thread_thumb_num').text(num + 1);
			$.tips('感谢您的赏识！您已向主题帖作者发送 '+message+' 个雪币，表达感谢', $(that), {
				tips:1,
				time: 2000,
				tips: [1,'#748691']

			});
		} else {
			$.tips(message, $(that), {
				tips: 1,
				time: 2000,
				tips: [1,'#748691']

			});
		}
	})
})
</script>

<script>
$(document).on('click','.reply_thumb',function(){
	
	var index = $('.reply_thumb').index(this);
	var threadid = $(this).find('input').eq(0).val();
	var praised_uid = $(this).find('input').eq(1).val();
	var pid = $(this).find('input').eq(2).val();
	var num = parseInt($('.thumb_num').eq(index).text());
	
	var postdata = 'threadid=' + threadid + '&amp;praised_uid=' + praised_uid +'&amp;pid=' + pid + '&amp;type=2&amp;page='+page;
	var that = this;
	$.xpost('thumbs_up-thumbs.htm', postdata, function(code, message) {
    	if(code == 0) {
            var s = '&lt;i class="icon-thumbs-o-up" style="color: #0099ee;"&gt;&lt;/i&gt;';
            var new_num = num + 1;
            $('.reply_thumb').eq(index).children('a').html(s);
	    $('.thumb_num').eq(index).text(num + 1);
	    	$.tips('英雄所见略同！您已向该回帖发送  '+message+' 个雪币，表达感谢', $(that), {
			tips: [1,'#748691'],
			time: 4000,
			
		});
        } else {
		$.tips(message, $(that), {
			
			time: 4000,
			tips: [1,'#748691']
		});
	}
	})
})
</script><script>
xn_read_unread({"272870": "1656081739"}, 272870);
</script><script>
jsearch_form = $('#search_form');
jsearch_form.on('submit', function() {
	var keyword = jsearch_form.find('input[name="keyword"]').val();
	var url = xn.url('search-'+xn.urlencode(keyword));
	window.location = url;
	return false;
});
</script><script>
// 语法高亮
if($('div.message pre').length &gt; 0) {
	$.require_css('plugin/xn_syntax_hightlighter/syntax_hightlighter/syntax.css');
	$.require('plugin/xn_syntax_hightlighter/syntax_hightlighter/syntax.js', function() {
		SyntaxHighlighter.all();
	});
}
</script>

<!-- 目录生成JS -->
<script src="/view/js/tocbot.min.js"></script>
<script>
	$(function() {
		// 目录生成 start
		var header_div = ['h1','h2','h3'];
		var show_tocbot = 0;
		for (var i = 0; i &lt; header_div.length; i++) {
			var h_ob = $(".message_card .message "+header_div[i]);
			
			if (h_ob.length &gt; 0) show_tocbot = 1;
			h_ob.each(function(index){
				$(this).attr("id","msg_header_"+header_div[i]+"_"+index);
			});
		}
		if (show_tocbot == 1) {
			$(".show_tocbot").show();
		}
		tocbot.init({
			// Where to render the table of contents.
			tocSelector: '.js-toc',
			// Where to grab the headings to build the table of contents.
			contentSelector: '.message_card .message',
			// Which headings to grab inside of the contentSelector element.
			headingSelector: 'h1, h2, h3',
			// For headings inside relative or absolute positioned containers within content.
			hasInnerContainers: true,
		});
		// $(window).on("scroll",function(){
		// 	console.log(1);
		// })

		// 选择需要观察变动的节点
		const targetNode = document.getElementById('js-toc');

		// 观察器的配置（需要观察什么变动）
		const config = { attributes: true, childList: true, subtree: true };

		// 当观察到变动时执行的回调函数
		const callback = function(mutationsList, observer) {
			// Use traditional 'for loops' for IE 11
			for(let mutation of mutationsList) {
				// if (mutation.type === 'childList') {
				// 	console.log('A child node has been added or removed.');
				// }
				// else 
				if (mutation.type === 'attributes') {
					targetNode.scrollTo(0,document.getElementsByClassName("is-active-li")[0].offsetTop);
				}
			}
		};

		// 创建一个观察器实例并传入回调函数
		const observer = new MutationObserver(callback);
		// 以上述配置开始观察目标节点
		observer.observe(targetNode, config);
		// 目录生成 end

		
		
	})
</script>
</body></html>