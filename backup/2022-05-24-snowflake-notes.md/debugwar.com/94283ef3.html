<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>一文读懂对称加密、非对称加密、哈希值、签名、证书、https之间的关系 - Debugwar</title>
    
    <script>
      window.__INIT_DATA__ = {"article":{"article_id":"1024_2B5K4CM2191G55ACIKARQSV6LO","readable_id":"one-article-to-understand-the-relationship-between-encryption-certificate-signature-https","create_time":1635733316,"title":"一文读懂对称加密、非对称加密、哈希值、签名、证书、https之间的关系","body":"&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"517\" height=\"291\" style=\"display: block; margin-left: auto; margin-right: auto;\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/633eaaf31a9045526cd58661cd55faf9\" data-width=\"850\" data-height=\"479\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;文字作为人类特有的交流工具，伴随着整个人类的发展史。可以毫不夸张的说，没有文字人类不可能达到今天的科技成就。因此，人类一直在追求提高信息交流过程中的安全性&amp;mdash;&amp;mdash;从股市到战争再到日常通讯，各种加密方法、手段层出不穷。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;如果各位还get不到信息加密的重要性，那请看下面的故事&amp;hellip;&amp;hellip;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h2&gt;一个关于喝酒的故事&lt;/h2&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3 id=\"ext-gen4783\"&gt;故事的开始&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;要想搞清楚各种术语之间的关系，我们还得从一顿酒开始。假设今天A想叫B出来喝酒，让我们看看最原始状态的的情况：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"undefined\" height=\"undefined\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/57526f44a0f46ed2bea14c7ed118d404\" data-width=\"209\" data-height=\"60\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;一切看起来都是那么简单、直接、高效，直到有一个新角色的加入：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"undefined\" height=\"undefined\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/e7e4c98cf07cc2af487e704f65545eba\" data-width=\"261\" data-height=\"139\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;形式瞬间变得严峻了起来，由于&amp;ldquo;B的老婆&amp;rdquo;在A与B传递信息的过程中偷听到了今晚B要去喝酒的事情，因此果断出手，挫败了这场暗地里进行的交易。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;斗争&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;学术上我们称A与B的这次通信遭遇了中间人攻击，为了对抗这种攻击方式A与B想到了一种方法：如果双方事先约定一种暗号，我们只需要将想说的话按照暗号约定的方式&amp;ldquo;加密&amp;rdquo;一下再发送出去不就可以保证消息的私密性了？于是情况变成了下面这个样子：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/b50df7090192cd2127fbbabe4a50fbbf\" data-width=\"444\" data-height=\"185\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;问题似乎得到了完美的解决&amp;mdash;&amp;mdash;直到B的老婆在打扫卫生时翻出了A与B约定的暗号加密方式笔记&amp;hellip;&amp;hellip;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;于是，A与B的通讯再次变成了&amp;ldquo;未加密&amp;rdquo;状态&amp;mdash;&amp;mdash;酒又喝不成了。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;俗话说福无双至，祸不单行，伴随着疫情隔离的要求，A与B的见面都成了个问题，双方更不可能私下约定暗号的加密方式，如果改成线上约定加密方式，情况就又回到了故事的最开始&amp;mdash;&amp;mdash;在&amp;ldquo;中间人&amp;rdquo;偷听的情况下，这种交换显得毫无意义。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;斗争的继续&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上面这种情况下，A与B约定的暗号我们称之为密钥。A通过密钥加密数据，B通过相同的密钥解密数据&amp;mdash;&amp;mdash;这种方式我们称之为对称加密。通过上面的原理可以得出，在加密算法强度足够的前提下，密钥的安全性就是整个加密过程的安全性，一旦密钥泄漏信息交换的过程将不再安全。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;不幸的是，互联网环境下发生信息交换的双方是不可能通过线下的方式约定密钥的，而线上的方式又容易遭受中间人攻击。因此，如何在非安全条件下安全的交换密钥就成了一个迫在眉睫需要解决的课题。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;那么有没有什么算法，能保证中间人即使拿到密文和密钥也无法解密数据呢？答案是：有！使用非对称加密可以达成上述需求。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;非对称加密算法一般的理论依据是一些数学难题（例如常见的椭圆曲线算法等），这里举个浅显的例子：我们都知道10 &lt;sup&gt;2&lt;/sup&gt;=100，然而如果将这个运算&amp;ldquo;倒过来&amp;rdquo;，也就是求解 lg100=? 的话会比较困难，其需要的计算量不是一个级别。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;非对称加密算法通常会生成一对公私钥匙，公钥各位可以理解成上文中的100， 私钥可以理解成上文中的2，我可以告诉对方底数（10）和结果（100），但是由于lg100=?是一个数学&amp;ldquo;难题&amp;rdquo;很难求解，因此只要保证2这个私钥不泄露，那么整个算法的结果就是安全的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;非对称加密有一个特性：公钥加密的数据只能用私钥解密，反过来也成立。这就好比一把钥匙只能开一把锁，但是锁本身是不能开锁。这其中的底层原理涉及到复杂的数学证明，不过各位不需要关注这些细节，因为已经有很多现成的非对称算法给我们使用。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;OK，啰嗦了这么多其实还是为了解决A和B喝酒的问题。由于公钥加密的数据只能用私钥解密，所以只拿到密文和公钥是不能还原出原文的，因此B只需要将想要约定的对称加密的密钥用公钥加密一下再发送给A不就完成了&amp;ldquo;在非安全条件下安全的交换密钥&amp;rdquo;吗？&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先A将自己的公钥交给B， B在收到公钥后，用公钥加密上一节中的对称密钥。这就好比把对称加密用到的密钥装到箱子里，然后用A给的锁头把箱子上锁：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/047bdda7c95c1bee2cadb3fc38018665\" data-width=\"514\" data-height=\"115\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这样就算加了锁的箱子被B的老婆截获，由于没有私钥依然没办法将箱子打开（说强拆的这位同学请你出去！）。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A在收到B发过来的箱子后， 用私钥打开箱子，获取到对称加密的密钥。再然后就又是第二节中套路了，AB用协商好的对称加密密钥通信。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/39a696aa078d676c36db7c9e2f830eed\" data-width=\"584\" data-height=\"373\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;看样子A和B又可以愉快的在一起喝酒了&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;吗？&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;欺骗的艺术&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;本来A、B以为终于可以愉快的大声密谋喝酒的问题了。这时B的老婆微微一笑表示，你们对力量一无所知：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/71a4352d99beb63bbf3d0c1ede70994c\" data-width=\"724\" data-height=\"422\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;B的老婆继续利用中间人劫持技术，首先获取了A的公钥（黑色锁），然后告诉B另外一个公钥（红色锁）。此后B将对称密钥用公钥（红色锁）加密后回复了他自己的老婆，此时B的老婆便获得了本次通信要用到的对称密钥，随后再次使用之前从A处获得的私钥（黑色锁）将对称密钥再次加密后回复给A。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;注意，整个过程中，锁在箱子里的密钥依然为B的密钥，只不过此密钥已经失去了私密性（被B的老婆截获）。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;再之后的故事便又双叒回到了文章一开始的状态，B的老婆由于掌握了对称加密的密钥，因此可以解密整个A、B的通话过程。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;B的老婆甚至可以冒充对方进行回复：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/62f87461477d6c65f4e46b715f036a6d\" data-width=\"724\" data-height=\"354\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;此时球再一次踢到了A、B这一方脚下&amp;hellip;&amp;hellip;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;证明你是你自己&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;实际上除去作为中间人转发A、B的消息，B的老婆还可以直接冒充A直接对B发起欺骗：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/c7e611f6ed85117f5eebce827a492df6\" data-width=\"541\" data-height=\"273\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上图中B的老婆冒充A给B发送消息，B误以为这条消息真的是A发过来的，于是按照正常流程给予了肯定的回复。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;B事后说：你这种亲自上场的行为&amp;hellip;&amp;hellip;是犯规的&amp;hellip;&amp;hellip;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;B的老婆说：你这是又皮痒了？&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;此时此刻，A、B又多了两个需要解决的问题：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;如何防止消息被篡改？￼&lt;/li&gt;&lt;li id=\"ext-gen9436\"&gt;如何防止身份被伪造？&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;我们先来看第一个。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;不知道大家有没有见过法院在查封财物时给一些门窗、盒子之类的物件贴上封条的操作，又或者是古代在传递信件时用火漆对信件进行封口处理。这两个例子本质上就是使用某种额外手段对内容进行再一次佐证。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;那在通信过程中是否也有这样一种方法可以达成佐证信息的手段呢？答案依然是：有！这个答案就是对消息本身进行一次哈希算法（摘要算法），常见的哈希算法有md5、sha1、sha256等等。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;由于哈希算法本身的特性，哪怕消息有1个比特的改变，哈希后的值也会变得完全不一样。如果在传递消息的时候再附上这条消息的哈希值，接收方只需要用相同的算法对消息正文重做一遍哈希，再拿着自己算出的哈希值和传递过来的哈希值比对一下就可以知道消息是否被篡改。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上面对整个消息正文执行哈希算法得到的值，我们一般称作消息的签名。该值具有唯一性可以用来证明消息本身有没有被篡改。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;在实践中，通常我们会对消息哈希后的值再用私钥加密一遍，收到消息的人正好可以用对应的公钥解密，这样就可以进一步确认消息的确是持有私钥的\"本人\"发出的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;讲到这里不知道各位想没想到还有什么漏洞？没错，既然我知道有签名机制，那我对篡改后的消息重新做一遍签名不就行了&amp;hellip;&amp;hellip;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这就涉及到上面的第二个问题了&amp;mdash;&amp;mdash;如何防止身份被伪造？&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;抛开所有技术细节，我们先来想一个场景：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;有一份合同上有XXX的名字和XXX的身份证号&lt;/li&gt;&lt;li&gt;某人拿着XXX的身份证，且身份证上的照片和这个\"某人\"长得一样&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;那是不是可以得出结论，&amp;ldquo;某人&amp;rdquo;一定是这份合同的签署方之一？答案显然是肯定的，因为我们日常生活中就是这么操作的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这里其实有一个隐含条件&amp;mdash;&amp;mdash;身份证。你我默认身份证是一个权威信息可以用来验真或证伪。而身份证是由国家颁发的&amp;mdash;&amp;mdash;即你我都选择相信一个权威第三方。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;在上面的例子中，&amp;ldquo;身份证&amp;rdquo;可以认为是证书，而国家即颁发这个证书的权威机构（CA），身份证号即CA对某人的签名。如果我们要验明某人是否真的是一张身份证的持有人，只需要拿着身份证号去问CA，然后根据CA返回的姓名、照片等信息和&amp;ldquo;某人&amp;rdquo;持有的这张身份证比对即可，这个过程可以称之为验签。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;如果在A、B的通信中， B先验证了A的身份，然后又检验了A声明的消息签名值，那么我们可以说，这封消息一定是A发送的（前提是A的私钥不能泄漏）。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;讲到这里，证书的概念就出来了：证书即包含权威第三方机构对某对象的认证信息以及这些认证信息签名的文件。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;&lt;span style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 18.72px;\"&gt;&lt;b&gt;最终版本&lt;/b&gt;&lt;/span&gt;&lt;/h3&gt;&lt;div&gt;OK，在引入了CA和证书的概念之后， 让我们来看一下这个故事的最终版本：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/3809cb6e69a414ec1cb33d46e577f29a\" data-width=\"619\" data-height=\"481\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;在新的故事中，A向B发送的，将不再是公钥，而是证书，证书的构成如下：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"undefined\" height=\"undefined\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/9f9ca2ee67bf32e8a299fdbbc8c31a30\" data-width=\"238\" data-height=\"312\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;当B收到A的证书时，首先会看一下CA是否为自己信任的CA，如果是自己信任的CA，则会计算上图蓝色部分的哈希值1，然后用CA的公钥解密签名信息得到哈希值2，最后比较哈希值1和2，如果两个值相等，则证明数据没有被篡改过。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;此时，B就完成了整个验证过程。而此时B只要抽取证书中A的公钥，完成后续的加密过程即可保证整个会话数据传输的安全性。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这种情况下，由于B的老婆无法冒充A的身份向CA申请证书（CA理论上会验证申请人的身份），因此她无法再使用中间人劫持的手法获取整个会话过程协商阶段传输的私钥信息。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;小结&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;可以看到，我们做的所有这些保障性工作，其目的都是为了保障最终传输的对称加密密钥不被窃取。而上文中提到的证书（包含公钥、签名的经过第三方认证的文件），仅仅是解决了&amp;ldquo;在非安全条件下安全的交换密钥&amp;rdquo;这一原始需求而已。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;看到这里，我想大家已经初步理解了对称加密、非对称加密、哈希、签名、证书之间的关系。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;接下来让我们来看几个实际的应用。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h2&gt;证书在现实世界的应用&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;h3 id=\"ext-gen11617\"&gt;签署https网站&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先，我们来直观的看一下一张证书长什么样子，以本站的https证书为例：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"393\" height=\"555\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/b2188b0e20459aea433825e416cd4a55\" data-width=\"466\" data-height=\"657\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;可以看到证书主要展示了3个部分：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;颁发给谁&lt;/li&gt;&lt;li&gt;谁颁发的&lt;/li&gt;&lt;li&gt;有效期&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;如果证书没有问题的话， 一般浏览器地址栏处会有一个锁的标志，像chrome这种浏览器还会用更醒目的绿色提示你该网站是安全的。那么，浏览器是如何认定网站是安全的呢？这个就需要看这张证书的证书链了：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"672\" height=\"356\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/97fd2f7ea563417176874eb035c80c47\" data-width=\"938\" data-height=\"498\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上图即为本站证书的证书链， 可以看到位于最顶层位置的是一张叫ISRG Root X1的证书，这张证书签发了R3， 然后R3又签发了本站的证书。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;那么浏览器是如何认定本站是安全的呢？&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;以IE为例，在其&amp;nbsp; &lt;span style=\"background-color: #d0d4d9;\"&gt;Internet选项 -&amp;gt; 内容 -&amp;gt; 证书&lt;/span&gt;&amp;nbsp;这个标签页中，我们可以在&amp;ldquo;受信任的根证书颁发机构&amp;rdquo;这个标签页下看到ISRG Root X1这张证书。也正是因为这张证书是受信任的，因此它认证的网站也一起被浏览器信任：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"679\" height=\"345\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/1ea973e4e22f38a1780b6f88976f7471\" data-width=\"951\" data-height=\"483\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;在写作本文时，在笔者的一台电脑上恰好浏览器告警&amp;ldquo;不是私密连接&amp;rdquo;，让我们看一下这种情况下的证书链：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/a6a1571742e146b423e8e36e52e8be53\" data-width=\"948\" data-height=\"676\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;原来这台机器上的根证书DST Root CA X3过期了，此证书不再被浏览器信任，因此浏览器产生了上述告警。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;到这里，可能你会有两个疑问：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;最顶部的根证书是谁签发的？&lt;/li&gt;&lt;li&gt;这些根证书是从哪里来的？&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;答案是：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;根证书自己签发自己，因为根证书的签发机构站在实力的角度被大家所认可&lt;/li&gt;&lt;li&gt;这些受信任的根证书一般是操作系统或者浏览器自带的&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;更多证书的细节&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先来看一下本站证书的所有细节：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;hacksign@XSignLaptop&amp;nbsp;[17:28:45]&amp;nbsp;:&amp;nbsp;~/Work&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;gt;&amp;gt;&amp;nbsp;openssl&amp;nbsp;s_client&amp;nbsp;-connect&amp;nbsp;debugwar.com:443&amp;nbsp;-servername&amp;nbsp;debugwar.com&amp;nbsp;&amp;lt;&amp;nbsp;/dev/null&amp;nbsp;|&amp;nbsp;sed&amp;nbsp;-ne&amp;nbsp;'/-BEGIN&amp;nbsp;CERTIFICATE-/,/-END&amp;nbsp;CERTIFICATE-/p'&amp;nbsp;&amp;gt;&amp;nbsp;debugwar.crt&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;depth=2&amp;nbsp;C&amp;nbsp;=&amp;nbsp;US,&amp;nbsp;O&amp;nbsp;=&amp;nbsp;Internet&amp;nbsp;Security&amp;nbsp;Research&amp;nbsp;Group,&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;ISRG&amp;nbsp;Root&amp;nbsp;X1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;verify&amp;nbsp;&lt;span class=\"keyword\"&gt;return&lt;/span&gt;:1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;depth=1&amp;nbsp;C&amp;nbsp;=&amp;nbsp;US,&amp;nbsp;O&amp;nbsp;=&amp;nbsp;Let's&amp;nbsp;Encrypt,&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;R3&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;verify&amp;nbsp;&lt;span class=\"keyword\"&gt;return&lt;/span&gt;:1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;depth=0&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;debugwar.com&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;verify&amp;nbsp;&lt;span class=\"keyword\"&gt;return&lt;/span&gt;:1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;DONE&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;hacksign@XSignLaptop&amp;nbsp;[17:28:45]&amp;nbsp;:&amp;nbsp;~/Work&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;gt;&amp;gt;&amp;nbsp;openssl&amp;nbsp;x509&amp;nbsp;-in&amp;nbsp;debugwar.crt&amp;nbsp;-text&amp;nbsp;-noout&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;Certificate:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Data:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Version:&amp;nbsp;3&amp;nbsp;(0x2)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Serial&amp;nbsp;Number:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;03:aa:4b:8b:74:af:65:a6:89:9c:b9:cc:46:9b:1b:43:0c:6f&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signature&amp;nbsp;Algorithm:&amp;nbsp;sha256WithRSAEncryption&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Issuer:&amp;nbsp;C&amp;nbsp;=&amp;nbsp;US,&amp;nbsp;O&amp;nbsp;=&amp;nbsp;Let's&amp;nbsp;Encrypt,&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;R3&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Validity&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Not&amp;nbsp;Before:&amp;nbsp;Oct&amp;nbsp;23&amp;nbsp;07:40:48&amp;nbsp;2021&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Not&amp;nbsp;After&amp;nbsp;:&amp;nbsp;Jan&amp;nbsp;21&amp;nbsp;07:40:47&amp;nbsp;2022&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Subject:&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;debugwar.com&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Subject&amp;nbsp;Public&amp;nbsp;Key&amp;nbsp;Info:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Public&amp;nbsp;Key&amp;nbsp;Algorithm:&amp;nbsp;rsaEncryption&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RSA&amp;nbsp;Public-Key:&amp;nbsp;(2048&amp;nbsp;bit)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Modulus:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;00:e1:db:4f:66:e1:e6:8d:f3:1e:31:df:47:9e:d2:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;e2:04:de:f2:80:f3:5c:56:8c:8d:1a:a4:62:f9:44:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;69:02:7e:20:69:f2:6f:d1:cf:25:3a:ca:6f:25:9a:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dc:7a:ca:2b:d7:05:55:ad:71:ee:ab:08:dc:58:a9:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;e4:e2:27:8c:25:1c:8c:60:ed:97:6e:c5:69:95:dd:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;99:14:3b:5f:07:a6:36:d5:00:fd:f0:ac:7c:e4:69:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0e:d0:f2:41:73:28:d2:01:b3:8b:38:68:8a:20:ce:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2f:e4:5e:90:56:e6:0c:8f:5f:44:4a:7a:64:ee:d4:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;19:ca:76:09:08:64:a3:cb:ce:67:e5:2e:dd:2e:8e:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;9e:e0:60:68:65:e0:68:68:02:13:db:78:b7:f8:ed:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;4c:d6:79:01:ce:7b:6e:4d:f8:34:b3:b9:a7:54:86:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;02:ef:a2:1e:a6:f8:f6:a7:ae:5a:84:a1:6a:22:3f:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7b:db:1e:13:91:16:2f:19:03:8a:c6:35:49:c4:69:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;6d:6a:1c:1b:f1:3d:01:3c:2f:0c:81:d2:8c:fb:67:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c6:90:aa:1c:d2:78:16:0b:a8:0d:a9:98:52:d4:97:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;33:26:ed:48:6a:af:a1:4c:99:f2:07:31:c3:8e:fd:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;98:b5:ba:ab:59:0e:bb:f0:58:fb:3f:fa:71:7d:46:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ea:63&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Exponent:&amp;nbsp;65537&amp;nbsp;(0x10001)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;extensions:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Key&amp;nbsp;Usage:&amp;nbsp;critical&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Digital&amp;nbsp;Signature,&amp;nbsp;Key&amp;nbsp;Encipherment&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Extended&amp;nbsp;Key&amp;nbsp;Usage:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TLS&amp;nbsp;Web&amp;nbsp;Server&amp;nbsp;Authentication,&amp;nbsp;TLS&amp;nbsp;Web&amp;nbsp;Client&amp;nbsp;Authentication&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Basic&amp;nbsp;Constraints:&amp;nbsp;critical&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CA:FALSE&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Subject&amp;nbsp;Key&amp;nbsp;Identifier:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;80:99:14:55:B5:FB:47:D9:FD:6E:1C:07:C7:DA:65:3C:EB:65:BD:5E&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Authority&amp;nbsp;Key&amp;nbsp;Identifier:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;keyid:14:2E:B3:17:B7:58:56:CB:AE:50:09:40:E6:1F:AF:9D:8B:14:C2:C6&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Authority&amp;nbsp;Information&amp;nbsp;Access:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OCSP&amp;nbsp;-&amp;nbsp;URI:http:&lt;span class=\"comment\"&gt;//r3.o.lencr.org&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CA&amp;nbsp;Issuers&amp;nbsp;-&amp;nbsp;URI:http:&lt;span class=\"comment\"&gt;//r3.i.lencr.org/&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Subject&amp;nbsp;Alternative&amp;nbsp;Name:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;￼&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;DNS:*.debugwar.com,&amp;nbsp;DNS:debugwar.com&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Certificate&amp;nbsp;Policies:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Policy:&amp;nbsp;2.23.140.1.2.1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Policy:&amp;nbsp;1.3.6.1.4.1.44947.1.1.1&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CPS:&amp;nbsp;http:&lt;span class=\"comment\"&gt;//cps.letsencrypt.org&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CT&amp;nbsp;Precertificate&amp;nbsp;SCTs:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signed&amp;nbsp;Certificate&amp;nbsp;Timestamp:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Version&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;v1&amp;nbsp;(0x0)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Log&amp;nbsp;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;DF:A5:5E:AB:68:82:4F:1F:6C:AD:EE:B8:5F:4E:3E:5A:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;EA:CD:A2:12:A4:6A:5E:8E:3B:12:C0:20:44:5C:2A:73&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Timestamp&amp;nbsp;:&amp;nbsp;Oct&amp;nbsp;23&amp;nbsp;08:40:48.764&amp;nbsp;2021&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Extensions:&amp;nbsp;none&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signature&amp;nbsp;:&amp;nbsp;ecdsa-with-SHA256&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;30:44:02:20:1B:B1:81:FF:FE:2E:56:62:31:B8:EA:CE:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;6C:10:8A:13:6F:A2:BB:62:B8:EF:0F:CB:DE:F5:B6:26:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;A9:18:9D:20:02:20:57:A7:B5:7D:15:C6:30:41:B1:C7:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;DB:EA:3F:88:99:91:F5:F0:22:47:0D:DC:47:82:6C:32:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;BE:5C:E2:D4:E1:3C&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signed&amp;nbsp;Certificate&amp;nbsp;Timestamp:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Version&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;v1&amp;nbsp;(0x0)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Log&amp;nbsp;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;29:79:BE:F0:9E:39:39:21:F0:56:73:9F:63:A5:77:E5:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;BE:57:7D:9C:60:0A:F8:F9:4D:5D:26:5C:25:5D:C7:84&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Timestamp&amp;nbsp;:&amp;nbsp;Oct&amp;nbsp;23&amp;nbsp;08:40:48.752&amp;nbsp;2021&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Extensions:&amp;nbsp;none&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signature&amp;nbsp;:&amp;nbsp;ecdsa-with-SHA256&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;30:45:02:21:00:C9:7B:C2:41:3A:FE:57:A3:75:E1:30:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2B:E8:EC:A0:BD:65:8E:D4:77:41:D1:21:63:A7:63:70:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CB:8A:B5:6F:85:02:20:45:D5:FB:99:EE:F4:5C:43:10:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;4D:DA:9D:DF:C0:61:FD:61:B1:3B:8C:5A:C6:24:FE:24:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;DA:61:BA:1A:4D:20:9A&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signature&amp;nbsp;Algorithm:&amp;nbsp;sha256WithRSAEncryption&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;62:c8:ba:69:15:7a:f4:eb:8a:32:f2:95:15:b5:6e:cf:fa:46:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7a:b2:6e:4b:bf:97:c3:52:b6:da:dc:c5:ca:ad:6b:8c:05:7b:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fd:d3:c4:4b:f4:09:1a:e2:89:d5:8d:16:64:99:87:e0:8d:d6:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ec:82:36:51:08:bc:23:6e:c7:ef:04:2c:61:22:e5:af:67:7e:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;40:08:50:c7:9f:94:dc:e6:6e:b9:70:7c:f2:60:67:b6:4b:d7:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;4d:84:04:40:21:fa:c7:9f:94:64:e7:6b:17:b8:b9:df:da:7d:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;d3:8c:b8:5a:29:3a:80:48:ba:11:ac:91:b9:38:9f:3b:05:49:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c0:8a:7d:80:60:10:07:81:c7:af:47:97:f9:5d:2b:d5:c7:f1:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;78:bd:b6:ee:55:b6:f7:f1:e0:2e:f2:73:54:8d:06:d9:e6:97:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;6e:fb:b1:b6:fa:92:ec:dc:8b:2d:4f:1d:d7:09:ac:07:e8:dc:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;58:ea:c0:a9:06:ee:e9:eb:af:a8:f3:79:21:44:b3:08:7b:51:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;8d:86:df:c2:e9:cd:12:0c:5b:7f:89:58:cd:9d:c5:d7:9f:d8:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cd:97:f5:55:86:5e:f1:3f:09:40:d7:eb:a5:ae:8b:2e:b3:16:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;9e:e1:26:28:fc:61:cc:7a:3d:49:8b:0e:a1:b6:59:cb:42:49:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fa:5c:08:4a&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;接下来笔者挑几个有用的字段解释一下。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先是下面几个字段：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;Issuer:&amp;nbsp;C&amp;nbsp;=&amp;nbsp;US,&amp;nbsp;O&amp;nbsp;=&amp;nbsp;Let's&amp;nbsp;Encrypt,&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;R3&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;Validity&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Not&amp;nbsp;Before:&amp;nbsp;Oct&amp;nbsp;23&amp;nbsp;07:40:48&amp;nbsp;2021&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Not&amp;nbsp;After&amp;nbsp;:&amp;nbsp;Jan&amp;nbsp;21&amp;nbsp;07:40:47&amp;nbsp;2022&amp;nbsp;GMT&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;Subject:&amp;nbsp;CN&amp;nbsp;=&amp;nbsp;debugwar.com&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;Subject&amp;nbsp;Public&amp;nbsp;Key&amp;nbsp;Info:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Public&amp;nbsp;Key&amp;nbsp;Algorithm:&amp;nbsp;rsaEncryption&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RSA&amp;nbsp;Public-Key:&amp;nbsp;(2048&amp;nbsp;bit)&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Modulus:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;00:e1:db:4f:66:e1:e6:8d:f3:1e:31:df:47:9e:d2:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;extensions:&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;X509v3&amp;nbsp;Subject&amp;nbsp;Alternative&amp;nbsp;Name:&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;DNS:*.debugwar.com,&amp;nbsp;DNS:debugwar.com&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;Signature&amp;nbsp;Algorithm:&amp;nbsp;sha256WithRSAEncryption&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Issuer&lt;/b&gt;：指明了该证书是由谁颁发的&lt;/div&gt;&lt;div&gt;&lt;b&gt;Validity&lt;/b&gt;：指明了该证书的有效起始和终止日期&lt;/div&gt;&lt;div&gt;&lt;b&gt;Subject&lt;/b&gt;：表明了该证书颁发给谁，CN是Common Name的缩写，即该网站的地址&lt;/div&gt;&lt;div&gt;&lt;b&gt;Subject Public Key Info&lt;/b&gt;: 网站的公钥以及一些公钥使用的算法信息&lt;/div&gt;&lt;div&gt;&lt;b&gt;X509v3 extensions&lt;/b&gt;: 这个字段下是一些扩展用的信息，其中比较重要的是&amp;nbsp;X509v3&amp;nbsp;Subject&amp;nbsp;Alternative&amp;nbsp;Name 简称SAN，我们经常可以看见有一些网站是以blog.xxx.com等形式来区分网站各个板块的，这种情况下每个子域就需要单独签署一个对应Subject的CN是对应值的证书，显然这是不合理的，所以在SAN字段中，我们可以用*.xxx.com来表示所有二级子域均可以使用这个证书。&lt;/div&gt;&lt;div&gt;&lt;b&gt;Signature&amp;nbsp;Algorithm&lt;/b&gt;：即上文中提到的签名字段，可以用于验证本证书是否经过篡改&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;http/https/ssl/tls协议&lt;/h3&gt;&lt;div&gt;提到https协议，就不得不说http协议以及ssl/tls协议。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先科普两个大家可能知道的知识点：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;http协议是一个4层协议&lt;/li&gt;&lt;li&gt;http协议是明文传输内容的&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;可能大家都了解这个事情， 但是并不知道在实际应用过程中并不知道实际是干什么用的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;接下来我们可以结合下面的图来直观的感受一下：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"725\" height=\"220\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/020d9b9f25359d18ae1d3976cc2014f8\" data-width=\"2581\" data-height=\"784\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;http协议是一个4层协议&lt;/h4&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上图中左面绿色的部分为wireshark抓到的对百度这个ip地址一个个数据包，中间白色的部分是对771帧数据包的详细结构分析，右面黑色的部分是命令行中请求http协议的百度首页的命令。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;从中间的白色部分可以看到，Hypertext Transfer Protocol上面依次是：Transmission Control Protocol、Internet Protocol Version 4、Ethernet II。这几个即大名鼎鼎的Http协议、TCP协议、IP协议、以太网协议等，分别对应下图网络模型的应用层、传输层、网络层、网际接口层&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"400\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/23743690457c181f99a39b2b6b7bcec7\" data-width=\"809\" data-height=\"604\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这里额外岔开一句，还记得面试高频被问的问题么： 请简述TCP的三次握手和四次挥手。这个其实对应上面wireshark截图中的第766、769、770和777、780、781、782帧。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;BasicAuth认证&lt;/h4&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;我们日常常见的地址格式&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;a href=\"http://www.baidu.com\"&gt;http://www.baidu.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;其实并不是完整的格式，http协议的地址URI字符定义中，我们其实可以制定用户名和密码用于验证的目的，这种验证方式叫做BasicAuth，在浏览器中访问开启了BasicAuth的网站会看到如下对话框：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"671\" height=\"170\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/297eaac7fd7bf00075b880a475985590\" data-width=\"1683\" data-height=\"427\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;从上面的wireshark截图中我们也可以看到，如果访问的是http协议的网站，其BasicAuth的用户名和密码是明文传输的，这意味着在传输的过程中可以被其他人看到用户名和密码。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;ssl/tls/https协议&lt;/h3&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;既然http明文传输不安全，那如何保证我们数据的安全性呢？这即是https协议希望达到的目的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;其实本质上来说，https协议只是利用ssl或tls协议在http开始传输数据之前先将数据加密在发送出去，其传输的还是&amp;ldquo;明文&amp;rdquo;的数据，只不过因为数据被提前加密过了因此不再具备可读性。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;先来看一下https协议的过程：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" height=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/cc7446870326b97dbda1e7247e654081\" data-width=\"468\" data-height=\"781\"&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xxx-small\"&gt;图片来源：&lt;a href=\"https://www.esds.co.in/blog/wp-content/uploads/2015/11/ssl_handcheck2-660x787.png\"&gt;https://www.esds.co.in/blog/wp-content/uploads/2015/11/ssl_handcheck2-660x787.png&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ClientHello&lt;/b&gt;：Client端将自己的TLS协议版本，加密套件，压缩方法，随机数，SessionID(未填充)发送给Server端&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ServerHello&lt;/b&gt;：Server端将选择后的SSL协议版本，压缩算法，密码套件，填充SessionID，生成的随机数等信息发送给Client端&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ServerCertificates&lt;/b&gt;：Server端将自己的数字证书(包含公钥)，发送给Client端。(证书需要从数字证书认证机构(CA)申请，证书是对于服务端的一种认证)，若要进行更为安全的数据通信，Server端还可以向Client端发送Cerficate Request来要去客户端发送对方的证书进行合法性的认证。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ServerHelloDone&lt;/b&gt;：当完成ServerHello后，Server端会发送Server Hello Done的消息给客户端，表示ServerHello 结束了。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ClientKeyExchage&lt;/b&gt;：当Client端收到Server端的证书等信息后，会先对服务端的证书进行检查，检查证书的完整性以及证书跟服务端域名是否吻合，然后使用加密算法生成一个PreMaster Secret，并通过Server端的公钥进行加密，然后发送给Server端。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;ClientFinishd&lt;/b&gt;：Client端会发送一个ChangeCipherSpec(一种协议，数据只有一字节)，用于告知Server端已经切换到之前协商好的加密套件的状态，准备使用之前协商好的加密套件加密数据并进行传输了。然后使用Master Secret(通过两个随机数、PreMaster Secret和加密算法计算得出)加密一段Finish的数据传送给服务端，此数据是为了在正式传输应用数据之前对刚刚握手建立起来的加解密通道进行验证。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;&lt;b&gt;Server Finishd&lt;/b&gt;：Sever端在接收到Client端传过来的加密数据后，使用私钥对这段加密数据进行解密，并对数据进行验证，然后会给客户端发送一个ChangeCipherSpec，告知客户端已经切换到协商过的加密套件状态，准备使用加密套件加密数据并传输了。之后，服务端也会使用Master Secret加密一段Finish消息发送给客户端，以验证之前通过握手建立起来的加解密通道是否成功。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"syno-fontsize-xx-small\" style=\"color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;\"&gt;只看文字还是太枯燥了，我们在wireshark中观察一下整个通信的数据包：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"723\" height=\"224\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/ce58afe5ff5db8dcf6726cb98f0bfc72\" data-width=\"2397\" data-height=\"744\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先和最后，依然是28-30与56-61的三次握手和四次挥手。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;然后在ClientHello（31、33）和ServerHello（34、35）之后之后客户端和服务端分别通过Client Key Exchange（36、37）和Change Cipher Spec（38￼、39）交换了协商好的算法。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;最后的两条Application Data（40-43）分别为请求和响应，理论上40这个数据包中理论上应该存在发送的username和password，现在由于数据已经被加密，因此我们看到的数据是&amp;ldquo;毫无意义&amp;rdquo;的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;特别需要提示的一点是，上述交互过程基本每个数据包都是成对出现的，每个包会紧跟一个ACK包&amp;mdash;&amp;mdash;还记得TCP协议的内容么&amp;hellip;&amp;hellip;可靠传输，ACK包即是可靠的保证。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;双向认证&lt;/h3&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;其实上一节中的https协议依旧是简化版本，真正完整的https协议是支持双向认证的，即客户端不仅要认证服务器、服务器也要认证客户端。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;只不过是平时大家访问的网站都是开门做生意的状态&amp;mdash;&amp;mdash;来的都是客。因此服务器并不会验证客户端的身份。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;但是在一些特殊场景下，需要做双向认证。本节将以nginx为例，配置一个双向认证的服务器。其结果是，如果是没有指定私钥的浏览器想访问nginx上运行的网站，则直接报错。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;先直观的感受一下最终的结果。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先是没有私钥的访问：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"702\" height=\"76\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/44628e95dbb73cc5d8007d32eb713fba\" data-width=\"1579\" data-height=\"170\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;然后我们在浏览器中导入特定的私钥&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"400\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/1caa4a3369b4fa9324e8e76d3ed6c155\" data-width=\"864\" data-height=\"618\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;然后再次访问该站点：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"712\" height=\"337\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/5f2fb35df03ee8c011a460e244657516\" data-width=\"1653\" data-height=\"782\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;此时该站点会要求我们提供凭证，如果提供正确的凭证，即可获得该站点的所有内容：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"715\" height=\"298\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/23a27b97bbd61845a34b9cbecebac556\" data-width=\"1584\" data-height=\"660\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上述是手动演示整个认证的过程，其实我们可以通过nginx的配置，自动完成上述认证过程。通过两个nginx实例完成认证访问。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;下文中我们将会称两个nginx实例一个是Client端另外一个是Server端，Client端用于模拟上文手动过程中浏览器对服务器的访问，Server端上则跑着我们实际的站点。&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先是作为Client端的nginx配置， 该配置会认证server端发送的证书以及server端的身份，防止有人劫持server端从而冒充server端的身份：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;upstream&amp;nbsp;backend.dynamic-domain.com&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jdomain&amp;nbsp;backend.dynamic-domain.com&amp;nbsp;port=1203&amp;nbsp;interval=10;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;server&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;443&amp;nbsp;ssl;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/certificate/issued/by/letsencrypt/website.crt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate_key&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/certificate/issued/by/letsencrypt/website.key;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_ssl_verify&amp;nbsp;on;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_ssl_trusted_certificate&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/ca.crt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_ssl_certificate&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/client.crt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_ssl_certificate_key&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/client.key;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;=&amp;nbsp;/&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;https:&lt;span class=\"comment\"&gt;//backend.dynamic-domain.com;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;/&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;https:&lt;span class=\"comment\"&gt;//backend.dynamic-domain.com;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;第7、8行是站点的证书，此证书即正常的网站证书，从let's encrypt申请，由于let's encrypt签署的证书可以被各大浏览器信任，因此当其他人访问网站时浏览器会提示安全。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;第10至13行开启了nginx对服务端的ssl验证，其中ca.crt是私人自签名的根证书，由于这份证书是私人签署的，导致其他人通过任何机构获得的证书都不被信任，只有由这份私人根证书签署的子证书才被认为是合法的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;第12、13行分别是由ca.crt签署的客户端子证书以及密钥文件，client.crt用于向server端表明自己的身份，server端也同样配置了信任私人ca.crt根证书签署的子证书。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;下面是server端的配置文件，该配置会验证客户端身份并发送自己的证书给客户端（是否验证取决于客户端）：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;server&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;&amp;nbsp;443&amp;nbsp;ssl;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_verify_client&amp;nbsp;&amp;nbsp;&amp;nbsp;on;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/server.crt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate_key&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/server.key;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_client_certificate&amp;nbsp;&amp;nbsp;/path/to/self/&lt;span class=\"datatypes\"&gt;signed&lt;/span&gt;/certificate/ca.crt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;/&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_pass&amp;nbsp;&amp;nbsp;http:&lt;span class=\"comment\"&gt;//192.168.1.100:1203;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;li class=\"alt\"&gt;}&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上面第3行开启了验证客户端的开关。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;第6行为和client端配置中相同的ca.crt根证书，声明只有该证书签署的子证书才认为是合法的。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;第4、5行分别是私人根证书签署的服务端子证书和密钥文件，server.crt即是发送给client端验证的证书。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;由于client、server端都同时信任ca.crt根证书，因此由ca.crt签署的client.crt和server.crt再双方看来都是合法的，可以正常交互。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;如果你已经弄明白了上述双向认证的逻辑， 接下来就只剩下生成如下三个证书了：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;ca.crt、ca.key : 根证书以及密钥文件&lt;/li&gt;&lt;li&gt;client.crt、client.key：由ca.crt签署的客户端子证书&lt;/li&gt;&lt;li&gt;server.crt、server.key：由ca.crt签署的服务端子证书&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;注意： 由于是自签名证书，因此ca.crt是自己给自己签发的，如果你使用了任何公开的第三方证书办法机构作为自己的根证书，在配置不当的情况下，其他人可以非授权访问数据。&lt;/div&gt;&lt;div&gt;生成证书生成证书&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2&gt;生成证书&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;上文中，我们用到了3个证书，以及3个证书对应的私钥，下面我们一步一步来。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;总的来说，生成证书分为三大步：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;生成私钥&lt;/li&gt;&lt;li&gt;生成CSR请求文件&lt;/li&gt;&lt;li&gt;生成证书&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;生成私有根证书&lt;/h3&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;根证书用于签署接下来的客户端和服务端证书。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;换句话说，根证书是客户端和服务端证书的父证书，客户端和服务端互为兄弟证书。我们在上述的双向认证nginx中，兄弟之间信任的都是他们共通的父证书。由于父证书是我们自己给自己签署的，因此只要保证父证书的私钥不泄漏，技能保证整个系统之间通信的私密性。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;首先我们生成私钥文件：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;genrsa&amp;nbsp;-aes256&amp;nbsp;-out&amp;nbsp;rootca.key.pem&amp;nbsp;4096&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/95e92686ac7e7c699839437edd0c059b\" data-width=\"668\" data-height=\"200\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;然后生成CSR证书请求：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;req&amp;nbsp;-&lt;span class=\"keyword\"&gt;new&lt;/span&gt;&amp;nbsp;-key&amp;nbsp;rootca.key.pem&amp;nbsp;-out&amp;nbsp;rootca.csr.pem&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/f7b83779587f97cfe044dbf1c125047a\" data-width=\"830\" data-height=\"588\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;这里会要求输入第一步创建rootca.key.pem时输入的密码。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;同时还要注意， Common Name这一项， 这一项是用来标识使用人的， 网站的证书里用来标识网站的即为这一项，如果这一项和实际访问的域名不匹配，浏览器会提示有风险。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 id=\"ext-gen11949\"&gt;生成自签名证书&lt;/h3&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;x509&amp;nbsp;-req&amp;nbsp;-in&amp;nbsp;rootca.csr.pem&amp;nbsp;-signkey&amp;nbsp;rootca.key.pem&amp;nbsp;-out&amp;nbsp;rootca.crt.pem&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/3e182b6d9760abd17f64685b59e86c20\" data-width=\"918\" data-height=\"140\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;注意：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;ol&gt;&lt;li id=\"ext-gen10175\"&gt;-signkey参数用于生成自签名证书，生成client和server证书时，由于不使用此参数。&lt;/li&gt;&lt;li&gt;如果你参考了其他文档，可能会发现他们使用了openssl ca命令，此命令需要配合配置文件使用，本文为了避免引入过于复杂的概念，使用openssl x509命令生成根证书，这样可以避免使用配置文件。&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;可以通过命令观察一下刚才生成的根证书，发现其issuer和subject均为自己：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/7745f5d68190f91afe1fb240db8847d4\" data-width=\"962\" data-height=\"339\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;生成client/server证书&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;下面以生成client证书为例，生成server证书命令是一样的，需要注意的是如下几个点：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;使用不同的密钥和输出文件名（当然也可以使用相同的密钥，但是这样会损失一定的安全性）&lt;/li&gt;&lt;li&gt;在生成CSR时， Common Name要填写对应的标识信息&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;生成私钥&lt;/div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;genrsa&amp;nbsp;-out&amp;nbsp;client.key.pem&amp;nbsp;4096&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;生成csr&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;req&amp;nbsp;-&lt;span class=\"keyword\"&gt;new&lt;/span&gt;&amp;nbsp;-key&amp;nbsp;client.key.pem&amp;nbsp;-out&amp;nbsp;client.csr.pem&amp;nbsp;&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;注意， Common Name要填写对应的标识，换句话说根证书、client证书、server证书的标识要不一样：&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/c4094c5d7ae1f07691606188cae7b1c3\" data-width=\"831\" data-height=\"562\"&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;生成证书：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=\"dp-highlighter\"&gt;&lt;ol class=\"dp-cpp\" start=\"1\"&gt;&lt;li class=\"alt\"&gt;openssl&amp;nbsp;x509&amp;nbsp;-req&amp;nbsp;-in&amp;nbsp;client.csr.pem&amp;nbsp;-out&amp;nbsp;client.crt.pem&amp;nbsp;-CA&amp;nbsp;rootca.crt.pem&amp;nbsp;-CAkey&amp;nbsp;rootca.key.pem&amp;nbsp;-CAcreateserial&amp;nbsp;-CAserial&amp;nbsp;./serial.txt&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;使用命令观察一下签署状态，可以发现issure是私有CA，subject为client标识的证书：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img class=\"lozad\" src=\"/static/img/transparent.gif\" width=\"600\" data-src=\"/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/22d2e0bc624c62e93d1cace04d0754a5\" data-width=\"1030\" data-height=\"337\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2&gt;结尾&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;本文讲述了对称加密、非对称加密、证书、签名之间的关系，并展示了一个实际应用过程中不太常见的双向验证的https协议使用场景。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;希望对各位有所帮助 ；）&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;","catalog":[{"text":"一个关于喝酒的故事","parent":[],"level":"H2","position":0},{"text":"故事的开始","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"斗争","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"斗争的继续","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"欺骗的艺术","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"证明你是你自己","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"最终版本","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"小结","parent":["一个关于喝酒的故事"],"level":"H3","position":1},{"text":"证书在现实世界的应用","parent":[],"level":"H2","position":0},{"text":"签署https网站","parent":["证书在现实世界的应用"],"level":"H3","position":1},{"text":"更多证书的细节","parent":["证书在现实世界的应用"],"level":"H3","position":1},{"text":"http/https/ssl/tls协议","parent":["证书在现实世界的应用"],"level":"H3","position":1},{"text":"http协议是一个4层协议","parent":["证书在现实世界的应用","签署https网站","更多证书的细节","http/https/ssl/tls协议"],"level":"H4","position":2},{"text":"BasicAuth认证","parent":["证书在现实世界的应用","签署https网站","更多证书的细节","http/https/ssl/tls协议"],"level":"H4","position":2},{"text":"ssl/tls/https协议","parent":["证书在现实世界的应用"],"level":"H3","position":1},{"text":"双向认证","parent":["证书在现实世界的应用"],"level":"H3","position":1},{"text":"生成证书","parent":[],"level":"H2","position":0},{"text":"生成私有根证书","parent":["生成证书"],"level":"H3","position":1},{"text":"生成自签名证书","parent":["生成证书"],"level":"H3","position":1},{"text":"结尾","parent":[],"level":"H2","position":0}],"category":"其他"},"page":{"total":2,"current":1,"max":10},"articles":[{"id":"1024_93NS7NJM8D7EDD7K96TTRNO0OC","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"一文读懂PE文件签名并手工验证签名有效性","brief":"本文是 《一文读懂对称加密、非对称加密、哈希值、签名、证书、https之间的关系》 的姊妹篇（下文简称“姊妹篇”），在阅读本文之前，最好先阅读一下上一篇文章","thumb":{"ext":"png","height":113,"md5":"168e01c700894328e673659cd1532817","name":"thumb","rotate":null,"size":19144,"thumb_source":"_l7bcqRSk4xUD2l3A-WYmLw","type":"image","width":200},"tags":["_control:readable_id:one-article-to-understand-pe-signature"],"create_time":1650765169,"modify_time":1651830263},{"id":"1024_309D7C4G9T45VFUPBG3PJ160TG","category_id":"1024_VG6CJCPDV13IF5SIBHMU8T1JI8","category":"漏洞研究","title":"CVE-2014-1767 分析报告","brief":"NLE（Noob Learning Exploit）——油腻中年反病毒人员学漏洞系列，当然我更喜欢文艺版名字：朝花夕拾系列。因为入二进制逆向的坑，一开","thumb":{"ext":"png","height":112,"md5":"bc391f8876ec7fb67d141a0881baf827","name":"thumb","rotate":null,"size":39228,"thumb_source":"_lEWTIzQwk1Q6DlwWAu8tZg","type":"image","width":200},"tags":["_control:readable_id:NLE-Analyze-CVE-2014-1767"],"create_time":1647077668,"modify_time":1654763547},{"id":"1024_7PTL8I2DB53636D4SPV6KG7EBC","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"一次由QQ浏览器性能分析引起的性能问题","brief":"这是一篇旧文，为博主供职于京东时由京东安全发表在各大平台的一篇文章。近期在整理电脑硬盘时发现躺在角落里的word文件，因此汇总到博客中来。背景最近数据泄","thumb":{"ext":"jpg","height":120,"md5":"e0592e8d06b130b41ab6499787b11f45","name":"thumb","rotate":null,"size":12803,"thumb_source":"_E6QSFpl_YV6VwK_C3B1sBg","type":"image","width":200},"tags":["_control:readable_id:analyse-a-performance-problem-caused-by-qq-browser"],"create_time":1646963078,"modify_time":1646963650},{"id":"1024_IFDHJ0PKG15P3DCA1CUKUNDF88","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"Linux环境下使用Wine+IDA并激活Python插件","brief":"前言作为一名苦逼的反病毒人员，IDA是一个必不可少的工具，虽然IDA有Linux平台的版本，但其高昂的售价着实是让笔者望而却步，不过幸好Windows","thumb":{"ext":"png","height":112,"md5":"86fc980855dfb0e378aed420b53575f0","name":"thumb","rotate":null,"size":8229,"thumb_source":"_NlOJOSm3ldR1Ijbe6aTPSg","type":"image","width":200},"tags":["_control:readable_id:activate-IDAPython-with-wine-IDA-under-linux"],"create_time":1642676223,"modify_time":1643387683},{"id":"1024_7EK3IKCH8D5AD2VC7DGIM97ISG","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"稳定暴力搜索EPROCESS结构获取系统进程列表","brief":"在安全领域内核开发的过程中，获取进程信息属于一个常见需求。由于存在潜在的对抗动作，笔者在项目中选择了遍历PspCidTable的技术方案——这样做的好","thumb":{"ext":"png","height":123,"md5":"05756abc35522f991770c04205baeef7","name":"thumb","rotate":null,"size":37292,"thumb_source":"_NMS3cbfCpzD0z3suWuzidA","type":"image","width":200},"tags":["_control:readable_id:stable-iterate-eprocess-structure-to-get-process-list"],"create_time":1637492949,"modify_time":1637641932},{"id":"1024_2B5K4CM2191G55ACIKARQSV6LO","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"一文读懂对称加密、非对称加密、哈希值、签名、证书、https之间的关系","brief":"文字作为人类特有的交流工具，伴随着整个人类的发展史。可以毫不夸张的说，没有文字人类不可能达到今天的科技成就。因此，人类一直在追求提高信息交流过程中的安全性—","thumb":{"ext":"png","height":113,"md5":"c0571989eddc62103f6b8616a3cea533","name":"thumb","rotate":null,"size":7421,"thumb_source":"_pyCcTtFETdrS4dtXQAjkUA","type":"image","width":200},"tags":["_control:readable_id:one-article-to-understand-the-relationship-between-encryption-certificate-signature-https"],"create_time":1635733316,"modify_time":1643360621},{"id":"1024_BM7A9ENO6P3M12JQR2NHFU5Q6S","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"[笔记] 使用ESXi搭建一个调试病毒的虚拟网络","brief":"一、动机在日常分析病毒样本的过程中，我们经常遇到需要调试蠕虫的情况。考虑到内网中的机器一般是不经常打补丁的，这种情况下我们一定需要注意网络隔离，不然有","thumb":{"ext":"png","height":89,"md5":"9a2bee6e695cc237453ed42ba48f0ec1","name":"thumb","rotate":null,"size":23631,"thumb_source":"_oPLTeHrOcVHk5EzeuUyY0w","type":"image","width":200},"tags":["_control:readable_id:build-a-virus-debug-environment-with-ESXi"],"create_time":1630928890,"modify_time":1631682003},{"id":"1024_RI9PM8O4C55F71QSOKMMD4GQIO","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"[笔记] 学习K8S过程中遇到的坑","brief":"coredns问题使用kubeadm部署集群，部署的过程中，kubeadm会在kube-system命名空间下创建k8s需要的基础服务。但是笔者的1.","thumb":{"ext":"png","height":105,"md5":"f19a447f19062bcb53d1622bc644f366","name":"thumb","rotate":null,"size":11770,"thumb_source":"_2Bi5clAdZJBKqS-HVg4VIQ","type":"image","width":200},"tags":["_control:readable_id:problems-and-notes-during-learning-k8s"],"create_time":1625622979,"modify_time":1625803753},{"id":"1024_UIG85RGPTP3916H7SM59FLL0R8","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"逆向群晖NoteStation用于博客后端","brief":"笔者的博客情节从高中时代开始，笔者就开始以各种各样的姿势折腾自己的博客：一开始用现成的博客网站，然后开始折腾wordpress一类的博客系统，再后","thumb":{"ext":"png","height":111,"md5":"eb364c47418ae2148c5f96e600624aa0","name":"thumb","rotate":null,"size":34233,"thumb_source":"_rp0vvTBkm1j9aEcNpPa76w","type":"image","width":200},"tags":["_control:readable_id:reverse-notestation-of-synology-nas"],"create_time":1624438074,"modify_time":1625658612},{"id":"1024_5PB5U8E1TT19F06BN04JL5N3PG","category_id":"1024_6VITF1Q0OD7S57L6N70A4OPLJK","category":"其他","title":"反弹Shell的一些姿势","brief":"纯BASH的方法下文中的/dev/tcp/ip/port是bash定义的一个虚拟文件,此文件一般不存在于磁盘之上, 详情可以参考bash的man手册.","thumb":{"ext":"png","height":120,"md5":"189085ffbaa527207addf16e42670e3a","name":"thumb","rotate":null,"size":20878,"thumb_source":"_-wEQXEOlme8XclVa80M20Q","type":"image","width":200},"tags":["_control:readable_id:skills-of-reverse-shell"],"create_time":1620460578,"modify_time":1634404644},{"id":"1024_0PONLLKLQD42DF4GK5H1H7F69O","category_id":"1024_VG6CJCPDV13IF5SIBHMU8T1JI8","category":"漏洞研究","title":"V8老版本未公开漏洞分析","brief":"前言 近期大型互联网活动期间，作为苦逼的蓝队，“意外”截获到了一个通过某IM“0day”钓鱼的攻击事件。正好趁着五一假期闲来无事，在酒店写下近期研究这个","thumb":{"ext":"jpg","height":113,"md5":"82f5400be7e4837c55f0650b636106da","name":"thumb","rotate":null,"size":9592,"thumb_source":"_CiEeldlDuoAPj5GZApX7Pw","type":"image","width":200},"tags":[],"create_time":1618910925,"modify_time":1635844990},{"id":"1024_8K6I6DGEMD7K3244T6SDMPD214","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"Route表添加劫持","brief":"背景说明近期有一台开了3389（远程桌面）的笔记本出现无法链接的情况。其具体状况是重启之后一段时间内可以链接，然后“随机”时间后便无法链接，但是物理查看一","thumb":{"ext":"jpg","height":113,"md5":"b3d197e4df65a3ee546c102d55d73767","name":"thumb","rotate":null,"size":13827,"thumb_source":"_-g7nu72bpFPg72tO-kVZ2g","type":"image","width":200},"tags":["_control:readable_id:hijack-route-table-under-windows"],"create_time":1614582057,"modify_time":1635843738},{"id":"1024_SO21P829V50A11DUV9M2GKVJV0","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"MageCart团伙新年期间开展攻击活动披露","brief":"一、概述近些年来，电子支付极大的方便了人们的生活，而疫情又提升了人们对电子支付的需求。随着电子支付应用场景、使用人数的增多，形形色色针对电子支付攻击也慢慢多了","thumb":{"ext":"png","height":74,"md5":"004d23c78c4421247a5665ccbc961199","name":"thumb","rotate":null,"size":9282,"thumb_source":"_i75nezfJmJZBoQ28uLQtcA","type":"image","width":200},"tags":[],"create_time":1612248027,"modify_time":1612324090},{"id":"1024_9O7VEK9D7D41P5G27R6UP23AP8","category_id":"1024_KTOCCC263T6MFAEQFII95DSV5C","category":"逆向研究","title":"[Dive into kernel] 一、通过紫狐木马聊聊注册表与文件系统过滤驱动","brief":"前言Dive into kernel系列，直译为深入内核系列，但我更喜欢他的另外一个名字：潜水系列，毕竟充分显示了笔者多年潜水不冒泡的功力；）扯远了，言归正","thumb":{"ext":"png","height":113,"md5":"c2332f3d9a526d84fdf3f02f491b2bae","name":"thumb","rotate":null,"size":53006,"thumb_source":"_74ExW1ivZkfNSDla3KhMbg","type":"image","width":200},"tags":["_control:readable_id:DIK-details-about-minifilter-with-analyse-of-zihu-trojan"],"create_time":1609223831,"modify_time":1635843833},{"id":"1024_93MMNGV38L28D2VKFK0PQPPDMO","category_id":"1024_N5FTTRGIML03TAOHFDS7VJ5QIC","category":"关于我","title":"关于我","brief":"北漂社畜一枚。目前就职于某网络安全公司，初中开始接触网络安全。还记得当时《黑客X档案》、《黑客防线》、《非安全》期期必买，现在回想起来当初还是中国网络","thumb":{"ext":"jpg","height":123,"md5":"5f855beaef71faf1a7b9050c54f730b5","name":"thumb","rotate":null,"size":9927,"thumb_source":"_RmCqDaBOs1psy-C0tSXKFg","type":"image","width":200},"tags":["_control:readable_id:about-me","_control:fullpage"],"create_time":946699200,"modify_time":1654936676}],"categories":["其他","关于我","漏洞研究","逆向研究"],"archives":{},"endpoint":"https://debugwar.com"}
    </script>
<style data-jss="" data-meta="MuiCssBaseline">
html {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
*, *::before, *::after {
  box-sizing: inherit;
}
strong, b {
  font-weight: 700;
}
body {
  color: rgba(0, 0, 0, 0.87);
  margin: 0;
  font-size: 0.875rem;
  overflow-x: hidden;
  font-family: tahoma,arial,"Hiragino Sans GB", Helvetica, sans-serif;
  font-weight: 400;
  line-height: 1.43;
  letter-spacing: 0.01071em;
  background-color: #f4f4f4;
}
@media print {
  body {
    background-color: #fff;
  }
}
body::backdrop {
  background-color: #fafafa;
}
img {
  display: block;
  max-width: 100%;
  max-height: 100%;
}
</style><style data-jss="" data-meta="MuiContainer">
.MuiContainer-root {
  width: 100%;
  display: block;
  box-sizing: border-box;
  margin-left: auto;
  margin-right: auto;
  padding-left: 16px;
  padding-right: 16px;
}
@media (min-width:600px) {
  .MuiContainer-root {
    padding-left: 24px;
    padding-right: 24px;
  }
}
.MuiContainer-disableGutters {
  padding-left: 0;
  padding-right: 0;
}
@media (min-width:600px) {
  .MuiContainer-fixed {
    max-width: 600px;
  }
}
@media (min-width:960px) {
  .MuiContainer-fixed {
    max-width: 960px;
  }
}
@media (min-width:1280px) {
  .MuiContainer-fixed {
    max-width: 1280px;
  }
}
@media (min-width:1920px) {
  .MuiContainer-fixed {
    max-width: 1920px;
  }
}
@media (min-width:0px) {
  .MuiContainer-maxWidthXs {
    max-width: 444px;
  }
}
@media (min-width:600px) {
  .MuiContainer-maxWidthSm {
    max-width: 600px;
  }
}
@media (min-width:960px) {
  .MuiContainer-maxWidthMd {
    max-width: 960px;
  }
}
@media (min-width:1280px) {
  .MuiContainer-maxWidthLg {
    max-width: 1280px;
  }
}
@media (min-width:1920px) {
  .MuiContainer-maxWidthXl {
    max-width: 1920px;
  }
}
</style><style data-jss="" data-meta="MuiTypography">
.MuiTypography-root {
  margin: 0;
}
.MuiTypography-body2 {
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.43;
  letter-spacing: 0.01071em;
}
.MuiTypography-body1 {
  font-size: 1rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.5;
  letter-spacing: 0.00938em;
}
.MuiTypography-caption {
  font-size: 0.75rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.66;
  letter-spacing: 0.03333em;
}
.MuiTypography-button {
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 500;
  line-height: 1.75;
  letter-spacing: 0.02857em;
  text-transform: uppercase;
}
.MuiTypography-h1 {
  font-size: 6rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 300;
  line-height: 1.167;
  letter-spacing: -0.01562em;
}
.MuiTypography-h2 {
  font-size: 3.75rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 300;
  line-height: 1.2;
  letter-spacing: -0.00833em;
}
.MuiTypography-h3 {
  font-size: 3rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.167;
  letter-spacing: 0em;
}
.MuiTypography-h4 {
  font-size: 2.125rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.235;
  letter-spacing: 0.00735em;
}
.MuiTypography-h5 {
  font-size: 1.5rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.334;
  letter-spacing: 0em;
}
.MuiTypography-h6 {
  font-size: 1.25rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 500;
  line-height: 1.6;
  letter-spacing: 0.0075em;
}
.MuiTypography-subtitle1 {
  font-size: 1rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.75;
  letter-spacing: 0.00938em;
}
.MuiTypography-subtitle2 {
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 500;
  line-height: 1.57;
  letter-spacing: 0.00714em;
}
.MuiTypography-overline {
  font-size: 0.75rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 2.66;
  letter-spacing: 0.08333em;
  text-transform: uppercase;
}
.MuiTypography-srOnly {
  width: 1px;
  height: 1px;
  overflow: hidden;
  position: absolute;
}
.MuiTypography-alignLeft {
  text-align: left;
}
.MuiTypography-alignCenter {
  text-align: center;
}
.MuiTypography-alignRight {
  text-align: right;
}
.MuiTypography-alignJustify {
  text-align: justify;
}
.MuiTypography-noWrap {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.MuiTypography-gutterBottom {
  margin-bottom: 0.35em;
}
.MuiTypography-paragraph {
  margin-bottom: 16px;
}
.MuiTypography-colorInherit {
  color: inherit;
}
.MuiTypography-colorPrimary {
  color: #3f51b5;
}
.MuiTypography-colorSecondary {
  color: #f50057;
}
.MuiTypography-colorTextPrimary {
  color: rgba(0, 0, 0, 0.87);
}
.MuiTypography-colorTextSecondary {
  color: rgba(0, 0, 0, 0.54);
}
.MuiTypography-colorError {
  color: #f44336;
}
.MuiTypography-displayInline {
  display: inline;
}
.MuiTypography-displayBlock {
  display: block;
}
</style><style data-jss="" data-meta="MuiSvgIcon">
.MuiSvgIcon-root {
  fill: currentColor;
  width: 1em;
  height: 1em;
  display: inline-block;
  font-size: 1.5rem;
  transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  flex-shrink: 0;
  user-select: none;
}
.MuiSvgIcon-colorPrimary {
  color: #3f51b5;
}
.MuiSvgIcon-colorSecondary {
  color: #f50057;
}
.MuiSvgIcon-colorAction {
  color: rgba(0, 0, 0, 0.54);
}
.MuiSvgIcon-colorError {
  color: #f44336;
}
.MuiSvgIcon-colorDisabled {
  color: rgba(0, 0, 0, 0.26);
}
.MuiSvgIcon-fontSizeInherit {
  font-size: inherit;
}
.MuiSvgIcon-fontSizeSmall {
  font-size: 1.25rem;
}
.MuiSvgIcon-fontSizeLarge {
  font-size: 2.1875rem;
}
</style><style data-jss="" data-meta="MuiTouchRipple">
.MuiTouchRipple-root {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  overflow: hidden;
  position: absolute;
  border-radius: inherit;
  pointer-events: none;
}
.MuiTouchRipple-ripple {
  opacity: 0;
  position: absolute;
}
.MuiTouchRipple-rippleVisible {
  opacity: 0.3;
  animation: MuiTouchRipple-keyframes-enter 550ms cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
}
.MuiTouchRipple-ripplePulsate {
  animation-duration: 200ms;
}
.MuiTouchRipple-child {
  width: 100%;
  height: 100%;
  display: block;
  opacity: 1;
  border-radius: 50%;
  background-color: currentColor;
}
.MuiTouchRipple-childLeaving {
  opacity: 0;
  animation: MuiTouchRipple-keyframes-exit 550ms cubic-bezier(0.4, 0, 0.2, 1);
}
.MuiTouchRipple-childPulsate {
  top: 0;
  left: 0;
  position: absolute;
  animation: MuiTouchRipple-keyframes-pulsate 2500ms cubic-bezier(0.4, 0, 0.2, 1) 200ms infinite;
}
@-webkit-keyframes MuiTouchRipple-keyframes-enter {
  0% {
    opacity: 0.1;
    transform: scale(0);
  }
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
}
@-webkit-keyframes MuiTouchRipple-keyframes-exit {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
@-webkit-keyframes MuiTouchRipple-keyframes-pulsate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.92);
  }
  100% {
    transform: scale(1);
  }
}
</style><style data-jss="" data-meta="MuiButtonBase">
.MuiButtonBase-root {
  color: inherit;
  border: 0;
  cursor: pointer;
  margin: 0;
  display: inline-flex;
  outline: 0;
  padding: 0;
  position: relative;
  align-items: center;
  user-select: none;
  border-radius: 0;
  vertical-align: middle;
  -moz-appearance: none;
  justify-content: center;
  text-decoration: none;
  background-color: transparent;
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
}
.MuiButtonBase-root::-moz-focus-inner {
  border-style: none;
}
.MuiButtonBase-root.Mui-disabled {
  cursor: default;
  pointer-events: none;
}
@media print {
  .MuiButtonBase-root {
    -webkit-print-color-adjust: exact;
  }
}
</style><style data-jss="" data-meta="MuiBreadcrumbs">
.MuiBreadcrumbs-ol {
  margin: 0;
  display: flex;
  padding: 0;
  flex-wrap: wrap;
  list-style: none;
  align-items: center;
}
.MuiBreadcrumbs-separator {
  display: flex;
  margin-left: 8px;
  user-select: none;
  margin-right: 8px;
}
</style><style data-jss="" data-meta="PrivateHiddenCss">
@media (min-width:0px) and (max-width:599.95px) {
  .jss12 {
    display: none;
  }
}
@media (min-width:0px) {
  .jss13 {
    display: none;
  }
}
@media (max-width:599.95px) {
  .jss14 {
    display: none;
  }
}
@media (min-width:600px) and (max-width:959.95px) {
  .jss15 {
    display: none;
  }
}
@media (min-width:600px) {
  .jss16 {
    display: none;
  }
}
@media (max-width:959.95px) {
  .jss17 {
    display: none;
  }
}
@media (min-width:960px) and (max-width:1279.95px) {
  .jss18 {
    display: none;
  }
}
@media (min-width:960px) {
  .jss19 {
    display: none;
  }
}
@media (max-width:1279.95px) {
  .jss20 {
    display: none;
  }
}
@media (min-width:1280px) and (max-width:1919.95px) {
  .jss21 {
    display: none;
  }
}
@media (min-width:1280px) {
  .jss22 {
    display: none;
  }
}
@media (max-width:1919.95px) {
  .jss23 {
    display: none;
  }
}
@media (min-width:1920px) {
  .jss24 {
    display: none;
  }
}
@media (min-width:1920px) {
  .jss25 {
    display: none;
  }
}
@media (min-width:0px) {
  .jss26 {
    display: none;
  }
}
</style><style data-jss="" data-meta="MuiBackdrop">
.MuiBackdrop-root {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  z-index: -1;
  position: fixed;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.5);
  -webkit-tap-highlight-color: transparent;
}
.MuiBackdrop-invisible {
  background-color: transparent;
}
</style><style data-jss="" data-meta="MuiPaper">
.MuiPaper-root {
  color: rgba(0, 0, 0, 0.87);
  transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  background-color: #fff;
}
.MuiPaper-rounded {
  border-radius: 4px;
}
.MuiPaper-outlined {
  border: 1px solid rgba(0, 0, 0, 0.12);
}
.MuiPaper-elevation0 {
  box-shadow: none;
}
.MuiPaper-elevation1 {
  box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation2 {
  box-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation3 {
  box-shadow: 0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation4 {
  box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation5 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation6 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation7 {
  box-shadow: 0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12);
}
.MuiPaper-elevation8 {
  box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);
}
.MuiPaper-elevation9 {
  box-shadow: 0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12);
}
.MuiPaper-elevation10 {
  box-shadow: 0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12);
}
.MuiPaper-elevation11 {
  box-shadow: 0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12);
}
.MuiPaper-elevation12 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation13 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation14 {
  box-shadow: 0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation15 {
  box-shadow: 0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation16 {
  box-shadow: 0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation17 {
  box-shadow: 0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation18 {
  box-shadow: 0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12);
}
.MuiPaper-elevation19 {
  box-shadow: 0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12);
}
.MuiPaper-elevation20 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation21 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation22 {
  box-shadow: 0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation23 {
  box-shadow: 0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12);
}
.MuiPaper-elevation24 {
  box-shadow: 0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12);
}
</style><style data-jss="" data-meta="MuiDrawer">
.MuiDrawer-docked {
  flex: 0 0 auto;
}
.MuiDrawer-paper {
  top: 0;
  flex: 1 0 auto;
  height: 100%;
  display: flex;
  outline: 0;
  z-index: 1200;
  position: fixed;
  overflow-y: auto;
  flex-direction: column;
  -webkit-overflow-scrolling: touch;
}
.MuiDrawer-paperAnchorLeft {
  left: 0;
  right: auto;
}
.MuiDrawer-paperAnchorRight {
  left: auto;
  right: 0;
}
.MuiDrawer-paperAnchorTop {
  top: 0;
  left: 0;
  right: 0;
  bottom: auto;
  height: auto;
  max-height: 100%;
}
.MuiDrawer-paperAnchorBottom {
  top: auto;
  left: 0;
  right: 0;
  bottom: 0;
  height: auto;
  max-height: 100%;
}
.MuiDrawer-paperAnchorDockedLeft {
  border-right: 1px solid rgba(0, 0, 0, 0.12);
}
.MuiDrawer-paperAnchorDockedTop {
  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
}
.MuiDrawer-paperAnchorDockedRight {
  border-left: 1px solid rgba(0, 0, 0, 0.12);
}
.MuiDrawer-paperAnchorDockedBottom {
  border-top: 1px solid rgba(0, 0, 0, 0.12);
}
</style><style data-jss="" data-meta="MuiIconButton">
.MuiIconButton-root {
  flex: 0 0 auto;
  color: rgba(0, 0, 0, 0.54);
  padding: 12px;
  overflow: visible;
  font-size: 1.5rem;
  text-align: center;
  transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  border-radius: 50%;
}
.MuiIconButton-root:hover {
  background-color: rgba(0, 0, 0, 0.04);
}
.MuiIconButton-root.Mui-disabled {
  color: rgba(0, 0, 0, 0.26);
  background-color: transparent;
}
@media (hover: none) {
  .MuiIconButton-root:hover {
    background-color: transparent;
  }
}
.MuiIconButton-edgeStart {
  margin-left: -12px;
}
.MuiIconButton-sizeSmall.MuiIconButton-edgeStart {
  margin-left: -3px;
}
.MuiIconButton-edgeEnd {
  margin-right: -12px;
}
.MuiIconButton-sizeSmall.MuiIconButton-edgeEnd {
  margin-right: -3px;
}
.MuiIconButton-colorInherit {
  color: inherit;
}
.MuiIconButton-colorPrimary {
  color: #3f51b5;
}
.MuiIconButton-colorPrimary:hover {
  background-color: rgba(63, 81, 181, 0.04);
}
@media (hover: none) {
  .MuiIconButton-colorPrimary:hover {
    background-color: transparent;
  }
}
.MuiIconButton-colorSecondary {
  color: #f50057;
}
.MuiIconButton-colorSecondary:hover {
  background-color: rgba(245, 0, 87, 0.04);
}
@media (hover: none) {
  .MuiIconButton-colorSecondary:hover {
    background-color: transparent;
  }
}
.MuiIconButton-sizeSmall {
  padding: 3px;
  font-size: 1.125rem;
}
.MuiIconButton-label {
  width: 100%;
  display: flex;
  align-items: inherit;
  justify-content: inherit;
}
</style><style data-jss="" data-meta="MuiDialog">
@media print {
  .MuiDialog-root {
    position: absolute !important;
  }
}
.MuiDialog-scrollPaper {
  display: flex;
  align-items: center;
  justify-content: center;
}
.MuiDialog-scrollBody {
  overflow-x: hidden;
  overflow-y: auto;
  text-align: center;
}
.MuiDialog-scrollBody:after {
  width: 0;
  height: 100%;
  content: "";
  display: inline-block;
  vertical-align: middle;
}
.MuiDialog-container {
  height: 100%;
  outline: 0;
}
@media print {
  .MuiDialog-container {
    height: auto;
  }
}
.MuiDialog-paper {
  margin: 32px;
  position: relative;
  overflow-y: auto;
}
@media print {
  .MuiDialog-paper {
    box-shadow: none;
    overflow-y: visible;
  }
}
.MuiDialog-paperScrollPaper {
  display: flex;
  max-height: calc(100% - 64px);
  flex-direction: column;
}
.MuiDialog-paperScrollBody {
  display: inline-block;
  text-align: left;
  vertical-align: middle;
}
.MuiDialog-paperWidthFalse {
  max-width: calc(100% - 64px);
}
.MuiDialog-paperWidthXs {
  max-width: 444px;
}
@media (max-width:507.95px) {
  .MuiDialog-paperWidthXs.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthSm {
  max-width: 600px;
}
@media (max-width:663.95px) {
  .MuiDialog-paperWidthSm.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthMd {
  max-width: 960px;
}
@media (max-width:1023.95px) {
  .MuiDialog-paperWidthMd.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthLg {
  max-width: 1280px;
}
@media (max-width:1343.95px) {
  .MuiDialog-paperWidthLg.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthXl {
  max-width: 1920px;
}
@media (max-width:1983.95px) {
  .MuiDialog-paperWidthXl.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperFullWidth {
  width: calc(100% - 64px);
}
.MuiDialog-paperFullScreen {
  width: 100%;
  height: 100%;
  margin: 0;
  max-width: 100%;
  max-height: none;
  border-radius: 0;
}
.MuiDialog-paperFullScreen.MuiDialog-paperScrollBody {
  margin: 0;
  max-width: 100%;
}
</style><style data-jss="" data-meta="MuiListItem">
.MuiListItem-root {
  width: 100%;
  display: flex;
  position: relative;
  box-sizing: border-box;
  text-align: left;
  align-items: center;
  padding-top: 8px;
  padding-bottom: 8px;
  justify-content: flex-start;
  text-decoration: none;
}
.MuiListItem-root.Mui-focusVisible {
  background-color: rgba(0, 0, 0, 0.08);
}
.MuiListItem-root.Mui-selected, .MuiListItem-root.Mui-selected:hover {
  background-color: rgba(0, 0, 0, 0.08);
}
.MuiListItem-root.Mui-disabled {
  opacity: 0.5;
}
.MuiListItem-container {
  position: relative;
}
.MuiListItem-dense {
  padding-top: 4px;
  padding-bottom: 4px;
}
.MuiListItem-alignItemsFlexStart {
  align-items: flex-start;
}
.MuiListItem-divider {
  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
  background-clip: padding-box;
}
.MuiListItem-gutters {
  padding-left: 16px;
  padding-right: 16px;
}
.MuiListItem-button {
  transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
}
.MuiListItem-button:hover {
  text-decoration: none;
  background-color: rgba(0, 0, 0, 0.04);
}
@media (hover: none) {
  .MuiListItem-button:hover {
    background-color: transparent;
  }
}
.MuiListItem-secondaryAction {
  padding-right: 48px;
}
</style><style data-jss="" data-meta="MuiListItemText">
.MuiListItemText-root {
  flex: 1 1 auto;
  min-width: 0;
  margin-top: 4px;
  margin-bottom: 4px;
}
.MuiListItemText-multiline {
  margin-top: 6px;
  margin-bottom: 6px;
}
.MuiListItemText-inset {
  padding-left: 56px;
}
</style><style data-jss="" data-meta="MuiFab">
.MuiFab-root {
  color: rgba(0, 0, 0, 0.87);
  width: 56px;
  height: 56px;
  padding: 0;
  font-size: 0.875rem;
  min-width: 0;
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
  box-sizing: border-box;
  min-height: 36px;
  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 500;
  line-height: 1.75;
  border-radius: 50%;
  letter-spacing: 0.02857em;
  text-transform: uppercase;
  background-color: #e0e0e0;
}
.MuiFab-root:active {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);
}
.MuiFab-root:hover {
  text-decoration: none;
  background-color: #d5d5d5;
}
.MuiFab-root.Mui-focusVisible {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
}
.MuiFab-root.Mui-disabled {
  color: rgba(0, 0, 0, 0.26);
  box-shadow: none;
  background-color: rgba(0, 0, 0, 0.12);
}
@media (hover: none) {
  .MuiFab-root:hover {
    background-color: #e0e0e0;
  }
}
.MuiFab-root:hover.Mui-disabled {
  background-color: rgba(0, 0, 0, 0.12);
}
.MuiFab-label {
  width: 100%;
  display: inherit;
  align-items: inherit;
  justify-content: inherit;
}
.MuiFab-primary {
  color: #fff;
  background-color: #3f51b5;
}
.MuiFab-primary:hover {
  background-color: #303f9f;
}
@media (hover: none) {
  .MuiFab-primary:hover {
    background-color: #3f51b5;
  }
}
.MuiFab-secondary {
  color: #fff;
  background-color: #f50057;
}
.MuiFab-secondary:hover {
  background-color: #c51162;
}
@media (hover: none) {
  .MuiFab-secondary:hover {
    background-color: #f50057;
  }
}
.MuiFab-extended {
  width: auto;
  height: 48px;
  padding: 0 16px;
  min-width: 48px;
  min-height: auto;
  border-radius: 24px;
}
.MuiFab-extended.MuiFab-sizeSmall {
  width: auto;
  height: 34px;
  padding: 0 8px;
  min-width: 34px;
  border-radius: 17px;
}
.MuiFab-extended.MuiFab-sizeMedium {
  width: auto;
  height: 40px;
  padding: 0 16px;
  min-width: 40px;
  border-radius: 20px;
}
.MuiFab-colorInherit {
  color: inherit;
}
.MuiFab-sizeSmall {
  width: 40px;
  height: 40px;
}
.MuiFab-sizeMedium {
  width: 48px;
  height: 48px;
}
</style><style data-jss="" data-meta="makeStyles">
.jss55 {
  background-color: #1d3444;
  background-image: radial-gradient(closest-side, rgba(0,0,0,0) 0, rgba(0,0,0,.65));
}
</style><style data-jss="" data-meta="makeStyles">
.jss72 {
  overflow: hidden;
}
.jss72::after {
  content: "";
  display: block;
  border-top: 100px;
  border-left: 0;
  border-right: 100vw;
  border-style: solid;
  border-bottom: 0;
  border-top-color: transparent;
  border-right-color: #f4f4f4;
}
</style><style data-jss="" data-meta="makeStyles">
.jss56 {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  padding-top: 10px;
  padding-left: 10px;
  padding-right: 10px;
  justify-content: space-between;
}
</style><style data-jss="" data-meta="makeStyles">
.jss57 {
  display: flex;
  text-align: left;
  padding-top: 5px;
  padding-bottom: 5px;
}
@media (max-width:959.95px) {
  .jss58 {
    width: 120px;
    height: 33px;
  }
}
@media (min-width:600px) {
  .jss58 {
    width: 175px;
    height: 49px;
  }
}
</style><style data-jss="" data-meta="makeStyles">
.jss59 {
  color: rgba(244, 244, 244, 0.8);
  padding: 0;
}
.jss60 {
  padding: 0;
}
.jss61 {
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #1d3444;
  background-image: radial-gradient(rgba(0,0,0,0) 0, rgba(0,0,0,.3) 100%);
}
.jss61 p {
  font-size: 16px;
  user-select: None;
}
.jss61 a {
  user-select: None;
  text-decoration: None;
}
.jss61 a:link {
  color: rgba(244, 244, 244, 0.8);
}
.jss61 a:visited {
  color: rgba(244, 244, 244, 0.8);
}
.jss61 a:hover::after {
  content: "";
  position: absolute;
  background-color: rgba(244, 244, 244, 0.8);
}
.jss61 p:hover {
  cursor: pointer;
}
.jss62 {
  color: #ffffff !important;
}
.jss63 {
  color: red;
  margin-left: 8px;
  margin-right: 8px;
}
@media (max-width:959.95px) {
  .jss63 {
    margin-left: 4px;
    margin-right: 4px;
  }
}
.jss64 {
  color: rgba(244, 244, 244, 0.8);
  margin: 0 auto;
  display: flex;
  text-align: right;
  line-height: inherit;
  justify-content: end;
}
@media (max-width:959.95px) {
  .jss64 {
    font-size: 12px;
  }
}
@media (min-width:600px) {
  .jss64 {
    font-size: 16px;
  }
}
.jss65 {
  display: inline-block;
  position: relative;
}
.jss65 p {
  font-size: 16px;
  user-select: None;
}
.jss65 a {
  user-select: None;
  text-decoration: None;
}
.jss65 a:link {
  color: rgba(244, 244, 244, 0.8);
}
.jss65 a:visited {
  color: rgba(244, 244, 244, 0.8);
}
.jss65 a:hover::after {
  left: 0;
  width: 100%;
  bottom: -2px;
  height: 3.5px;
  content: "";
  position: absolute;
  background-color: #ffffff;
}
.jss65 p:hover {
  cursor: pointer;
}
</style><style data-jss="" data-meta="makeStyles">
.jss66 {
  width: 100%;
  height: 380px;
  margin: 0;
  display: flex;
  opacity: 0.98;
  padding: 0;
  margin-left: auto;
  margin-right: auto;
}
</style><style data-jss="" data-meta="makeStyles">
.jss67 {
  height: 100%;
  display: flex;
  align-items: center;
  user-select: none;
  justify-content: center;
}
</style><style data-jss="" data-meta="makeStyles">
.jss68 {
  color: #f4f4f4;
  height: 100%;
  display: flex;
  text-align: center;
  align-items: center;
  justify-content: center;
}
.jss69 {
  font-family: "Roboto Slab",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
  font-weight: 700;
  text-transform: uppercase;
}
@media (max-width:959.95px) {
  .jss69 {
    font-size: 15px;
  }
}
@media (min-width:600px) {
  .jss69 {
    font-size: 15px;
  }
}
.jss70 {
  font-family: "Courier New", "Times New Roman", "Noto Serif", "Droid Serif", Times, serif, serif-monospace;
}
@media (max-width:959.95px) {
  .jss70 {
    font-size: 42px;
  }
}
@media (min-width:600px) {
  .jss70 {
    font-size: 70px;
  }
}
.jss71 {
  font-family: "Roboto Slab",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
}
@media (max-width:959.95px) {
  .jss71 {
    font-size: 15px;
  }
}
@media (min-width:600px) {
  .jss71 {
    font-size: 20px;
  }
}
</style><style data-jss="" data-meta="makeStyles">
.jss73 {
  display: flex;
  padding: 0;
  margin-bottom: 0;
  justify-content: space-between;
  background-color: transparent;
}
</style><style data-jss="" data-meta="makeStyles">
.jss74 {
  display: flex;
  flex-wrap: nowrap;
  margin-top: -100px;
  flex-shrink: 1;
  flex-direction: column;
}
</style><style data-jss="" data-meta="makeStyles">
.jss81 {
  max-width: 300px;
  flex-shrink: 4;
  margin-left: auto;
  padding-top: 0;
  margin-right: auto;
  padding-left: 0;
  padding-right: 24px;
  padding-bottom: 0;
}
@media (max-width:1279.95px) {
  .jss81 {
    display: none;
  }
}
</style><style data-jss="" data-meta="makeStyles">
.jss75 {
  display: flex;
  align-items: center;
  justify-content: center;
}
.jss76 {
  color: #1d3444;
}
.jss77 {
  font-size: 16px;
  word-wrap: break-word;
  font-family: -apple-system,BlinkMacSystemFont,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Segoe UI","PingFang SC","Hiragino Sans GB","Microsoft YaHei","Helvetica Neue",Helvetica,Arial,sans-serif;
  line-height: 1.75;
  border-radius: 0;
}
@media (max-width:959.95px) {
  .jss77 {
    padding: 20px;
  }
}
@media (min-width:600px) {
  .jss77 {
    padding: 50px;
  }
}
.jss77 ol[start="1"] {
  margin: 0 auto;
  overflow: auto;
  font-size: 13px;
  max-width: 800px;
  word-wrap: initial;
  max-height: 700px;
  word-break: keep-all;
  border-left: 5px solid rgba(0, 0, 0, 0);
  font-family: "Lucida Console", Monaco, monospace;
  white-space: nowrap;
  background-color: rgba(0, 0, 0, 0.072);
}
.jss77 h2::before, .jss77 h3::before, .jss77 h4::before, .jss77 h5::before {
  color: #808080;
  content: "#";
  margin-right: 0.7em;
}
.jss77 img {
  width: auto;
  height: auto;
}
.jss77 ol[start="1"] ::marker {
  color: #c0c0c0;
}
.jss78 {
  margin-bottom: 40px;
}
.jss78 h1 {
  font-size: 24px;
  font-weight: 550;
}
.jss79 {
  color: rgba(0, 0, 0, 0.5);
  display: flex;
  margin-top: 15px;
  align-items: center;
}
.jss79 span {
  margin-left: 5px;
}
.jss80 {
  width: auto;
  height: auto;
  padding: 6px;
  max-width: 100%;
  max-height: 100%;
}
.jss80 img {
  border: 1px solid #d4d4d4;
  padding: 2px;
}
</style><style data-jss="" data-meta="makeStyles">
.jss82 {
  padding-left: 10px;
}
.jss83 {
  padding-top: 4px;
  padding-left: 0;
  padding-right: 0;
  padding-bottom: 4px;
}
.jss83::before {
  border: 2px solid transparent;
  height: 18px;
  content: "";
}
.jss84 {
  padding-top: 4px;
  padding-left: 0;
  padding-right: 0;
  padding-bottom: 4px;
}
.jss84::before {
  border: 2px solid black;
  height: 18px;
  content: "";
}
.jss85 {
  top: 30px;
  width: 280px;
  position: sticky;
  max-height: 600px;
  border-radius: 0;
}
.jss85 h5 {
  font-weight: bold;
  border-bottom: 2px solid black;
}
.jss86 {
  top: 0;
  padding: 10px 10px 0 10px;
  z-index: 1000;
  position: sticky;
  max-height: 100px;
  background-color: white;
}
.jss87 {
  padding: 10px;
  overflow: auto;
  max-height: 500px;
  margin-left: 10px;
  margin-right: 10px;
}
</style><style data-jss="" data-meta="makeStyles">
.jss88 {
  bottom: 150px;
  position: fixed;
}
.jss89 {
  color: #ffffff;
  background-color: red;
}
.jss89:hover {
  background-color: #1d3444;
}
</style><style data-jss="" data-meta="makeStyles">
.jss90 {
  overflow: hidden;
  background-color: #1d3444;
  background-image: radial-gradient(closest-side, rgba(0,0,0,0) 0, rgba(0,0,0,.65));
}
.jss90::before {
  content: "";
  display: block;
  border-style: solid;
  border-top-color: #f4f4f4;
  border-top-width: 100px;
  border-left-width: 0;
  border-right-color: transparent;
  border-right-width: 100vw;
  border-bottom-width: 0;
}
.jss91 {
  color: #f4f4f4;
  width: 100%;
  height: 50px;
  display: flex;
  align-items: center;
  padding-left: 10px;
  padding-right: 10px;
  justify-content: space-between;
}
</style><style data-jss="" data-meta="makeStyles">
.jss92 {
  text-align: left;
}
</style><style data-jss="" data-meta="makeStyles">
.jss93 {
  text-align: right;
}
</style></head>
<body>
    <div id="app"><div class="jss55"><div class="MuiContainer-root jss56 MuiContainer-maxWidthLg"><p class="MuiTypography-root MuiTypography-body1"><img class="jss58" src="/static/img/logo-white.png" id="back-to-top-anchor" /></p><div class="jss16"><button class="MuiButtonBase-root MuiIconButton-root jss60 MuiIconButton-colorInherit MuiIconButton-edgeStart" tabindex="0" type="button" aria-label="open drawer"><span class="MuiIconButton-label"><svg xmlns="http://www.w3.org/2000/svg" class="MuiSvgIcon-root jss59" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="MuiTouchRipple-root"></span></button></div><div class="jss14"><nav class="MuiTypography-root MuiBreadcrumbs-root jss64 MuiTypography-body1 MuiTypography-colorTextSecondary" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol"><li class="MuiBreadcrumbs-li jss65"><a href="/">首页</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a aria-current="page" class="jss62" href="/category/其他">其他</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/关于我">关于我</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/漏洞研究">漏洞研究</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/逆向研究">逆向研究</a></li></ol></nav></div></div><div class="MuiContainer-root jss66 MuiContainer-maxWidthLg"><div class="MuiContainer-root jss67 MuiContainer-maxWidthLg"><div class="jss68"><div><h2 class="MuiTypography-root jss69 MuiTypography-h2 MuiTypography-colorInherit MuiTypography-gutterBottom">Watch &amp; Learn</h2><h2 class="MuiTypography-root jss70 MuiTypography-h2 MuiTypography-colorInherit MuiTypography-gutterBottom">Debugwar Blog</h2><h4 class="MuiTypography-root jss71 MuiTypography-h4 MuiTypography-colorInherit MuiTypography-gutterBottom">Step in or Step over, this is a problem ...</h4></div></div></div></div><div class="jss72"></div></div><div class="MuiContainer-root jss73 MuiContainer-maxWidthLg"><div class="MuiContainer-root jss74 MuiContainer-maxWidthMd"><div class="MuiPaper-root jss77 MuiPaper-elevation1 MuiPaper-rounded"><div class="jss78"><h1 class="MuiTypography-root MuiTypography-h1">一文读懂对称加密、非对称加密、哈希值、签名、证书、https之间的关系</h1><div class="jss79"><svg xmlns="http://www.w3.org/2000/svg" class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg><span>2021-11-01 10:21:56</span></div></div><div id="article-content"><div><img class="lozad" src="/static/img/transparent.gif" width="517" height="291" style="display: block; margin-left: auto; margin-right: auto;" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/633eaaf31a9045526cd58661cd55faf9" data-width="850" data-height="479" /></div><div><br /></div><div>文字作为人类特有的交流工具，伴随着整个人类的发展史。可以毫不夸张的说，没有文字人类不可能达到今天的科技成就。因此，人类一直在追求提高信息交流过程中的安全性——从股市到战争再到日常通讯，各种加密方法、手段层出不穷。</div><div><br /></div><div>如果各位还get不到信息加密的重要性，那请看下面的故事……</div><div><br /></div><div><h2>一个关于喝酒的故事</h2></div><div><br /></div><div><h3 id="ext-gen4783">故事的开始</h3></div><div><br /></div><div>要想搞清楚各种术语之间的关系，我们还得从一顿酒开始。假设今天A想叫B出来喝酒，让我们看看最原始状态的的情况：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="undefined" height="undefined" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/57526f44a0f46ed2bea14c7ed118d404" data-width="209" data-height="60" /></div><div><br /></div><div>一切看起来都是那么简单、直接、高效，直到有一个新角色的加入：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="undefined" height="undefined" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/e7e4c98cf07cc2af487e704f65545eba" data-width="261" data-height="139" /></div><div><br /></div><div>形式瞬间变得严峻了起来，由于“B的老婆”在A与B传递信息的过程中偷听到了今晚B要去喝酒的事情，因此果断出手，挫败了这场暗地里进行的交易。</div><div><br /></div><div><h3>斗争</h3></div><div><br /></div><div>学术上我们称A与B的这次通信遭遇了中间人攻击，为了对抗这种攻击方式A与B想到了一种方法：如果双方事先约定一种暗号，我们只需要将想说的话按照暗号约定的方式“加密”一下再发送出去不就可以保证消息的私密性了？于是情况变成了下面这个样子：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/b50df7090192cd2127fbbabe4a50fbbf" data-width="444" data-height="185" /></div><div><br /></div><div>问题似乎得到了完美的解决——直到B的老婆在打扫卫生时翻出了A与B约定的暗号加密方式笔记……</div><div><br /></div><div>于是，A与B的通讯再次变成了“未加密”状态——酒又喝不成了。</div><div><br /></div><div>俗话说福无双至，祸不单行，伴随着疫情隔离的要求，A与B的见面都成了个问题，双方更不可能私下约定暗号的加密方式，如果改成线上约定加密方式，情况就又回到了故事的最开始——在“中间人”偷听的情况下，这种交换显得毫无意义。</div><div><br /></div><div><h3>斗争的继续</h3></div><div><br /></div><div>上面这种情况下，A与B约定的暗号我们称之为密钥。A通过密钥加密数据，B通过相同的密钥解密数据——这种方式我们称之为对称加密。通过上面的原理可以得出，在加密算法强度足够的前提下，密钥的安全性就是整个加密过程的安全性，一旦密钥泄漏信息交换的过程将不再安全。</div><div><br /></div><div>不幸的是，互联网环境下发生信息交换的双方是不可能通过线下的方式约定密钥的，而线上的方式又容易遭受中间人攻击。因此，如何在非安全条件下安全的交换密钥就成了一个迫在眉睫需要解决的课题。</div><div><br /></div><div>那么有没有什么算法，能保证中间人即使拿到密文和密钥也无法解密数据呢？答案是：有！使用非对称加密可以达成上述需求。</div><div><br /></div><div>非对称加密算法一般的理论依据是一些数学难题（例如常见的椭圆曲线算法等），这里举个浅显的例子：我们都知道10 <sup>2</sup>=100，然而如果将这个运算“倒过来”，也就是求解 lg100=? 的话会比较困难，其需要的计算量不是一个级别。</div><div><br /></div><div>非对称加密算法通常会生成一对公私钥匙，公钥各位可以理解成上文中的100， 私钥可以理解成上文中的2，我可以告诉对方底数（10）和结果（100），但是由于lg100=?是一个数学“难题”很难求解，因此只要保证2这个私钥不泄露，那么整个算法的结果就是安全的。</div><div><br /></div><div>非对称加密有一个特性：公钥加密的数据只能用私钥解密，反过来也成立。这就好比一把钥匙只能开一把锁，但是锁本身是不能开锁。这其中的底层原理涉及到复杂的数学证明，不过各位不需要关注这些细节，因为已经有很多现成的非对称算法给我们使用。</div><div><br /></div><div>OK，啰嗦了这么多其实还是为了解决A和B喝酒的问题。由于公钥加密的数据只能用私钥解密，所以只拿到密文和公钥是不能还原出原文的，因此B只需要将想要约定的对称加密的密钥用公钥加密一下再发送给A不就完成了“在非安全条件下安全的交换密钥”吗？</div><div><br /></div><div>首先A将自己的公钥交给B， B在收到公钥后，用公钥加密上一节中的对称密钥。这就好比把对称加密用到的密钥装到箱子里，然后用A给的锁头把箱子上锁：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/047bdda7c95c1bee2cadb3fc38018665" data-width="514" data-height="115" /></div><div><br /></div><div>这样就算加了锁的箱子被B的老婆截获，由于没有私钥依然没办法将箱子打开（说强拆的这位同学请你出去！）。</div><div><br /></div><div>A在收到B发过来的箱子后， 用私钥打开箱子，获取到对称加密的密钥。再然后就又是第二节中套路了，AB用协商好的对称加密密钥通信。</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/39a696aa078d676c36db7c9e2f830eed" data-width="584" data-height="373" /></div><div><br /></div><div>看样子A和B又可以愉快的在一起喝酒了……………………吗？</div><div><br /></div><div><h3>欺骗的艺术</h3></div><div><br /></div><div>本来A、B以为终于可以愉快的大声密谋喝酒的问题了。这时B的老婆微微一笑表示，你们对力量一无所知：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/71a4352d99beb63bbf3d0c1ede70994c" data-width="724" data-height="422" /></div><div><br /></div><div>B的老婆继续利用中间人劫持技术，首先获取了A的公钥（黑色锁），然后告诉B另外一个公钥（红色锁）。此后B将对称密钥用公钥（红色锁）加密后回复了他自己的老婆，此时B的老婆便获得了本次通信要用到的对称密钥，随后再次使用之前从A处获得的私钥（黑色锁）将对称密钥再次加密后回复给A。</div><div><br /></div><div>注意，整个过程中，锁在箱子里的密钥依然为B的密钥，只不过此密钥已经失去了私密性（被B的老婆截获）。</div><div><br /></div><div>再之后的故事便又双叒回到了文章一开始的状态，B的老婆由于掌握了对称加密的密钥，因此可以解密整个A、B的通话过程。</div><div><br /></div><div>B的老婆甚至可以冒充对方进行回复：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/62f87461477d6c65f4e46b715f036a6d" data-width="724" data-height="354" /></div><div><br /></div><div>此时球再一次踢到了A、B这一方脚下……</div><div><br /></div><div><h3>证明你是你自己</h3></div><div><br /></div><div>实际上除去作为中间人转发A、B的消息，B的老婆还可以直接冒充A直接对B发起欺骗：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/c7e611f6ed85117f5eebce827a492df6" data-width="541" data-height="273" /></div><div><br /></div><div>上图中B的老婆冒充A给B发送消息，B误以为这条消息真的是A发过来的，于是按照正常流程给予了肯定的回复。</div><div><br /></div><div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">B事后说：你这种亲自上场的行为……是犯规的……  </li><li class="">B的老婆说：你这是又皮痒了？  </li></ol></div></div></div><div><br /></div><div>此时此刻，A、B又多了两个需要解决的问题：</div><div><br /></div><div><ol><li>如何防止消息被篡改？￼</li><li id="ext-gen9436">如何防止身份被伪造？</li></ol></div><div><br /></div><div>我们先来看第一个。</div><div><br /></div><div>不知道大家有没有见过法院在查封财物时给一些门窗、盒子之类的物件贴上封条的操作，又或者是古代在传递信件时用火漆对信件进行封口处理。这两个例子本质上就是使用某种额外手段对内容进行再一次佐证。</div><div><br /></div><div>那在通信过程中是否也有这样一种方法可以达成佐证信息的手段呢？答案依然是：有！这个答案就是对消息本身进行一次哈希算法（摘要算法），常见的哈希算法有md5、sha1、sha256等等。</div><div><br /></div><div>由于哈希算法本身的特性，哪怕消息有1个比特的改变，哈希后的值也会变得完全不一样。如果在传递消息的时候再附上这条消息的哈希值，接收方只需要用相同的算法对消息正文重做一遍哈希，再拿着自己算出的哈希值和传递过来的哈希值比对一下就可以知道消息是否被篡改。</div><div><br /></div><div>上面对整个消息正文执行哈希算法得到的值，我们一般称作消息的签名。该值具有唯一性可以用来证明消息本身有没有被篡改。</div><div><br /></div><div>在实践中，通常我们会对消息哈希后的值再用私钥加密一遍，收到消息的人正好可以用对应的公钥解密，这样就可以进一步确认消息的确是持有私钥的"本人"发出的。</div><div><br /></div><div>讲到这里不知道各位想没想到还有什么漏洞？没错，既然我知道有签名机制，那我对篡改后的消息重新做一遍签名不就行了……</div><div><br /></div><div>这就涉及到上面的第二个问题了——如何防止身份被伪造？</div><div><br /></div><div>抛开所有技术细节，我们先来想一个场景：</div><div><br /></div><div><ol><li>有一份合同上有XXX的名字和XXX的身份证号</li><li>某人拿着XXX的身份证，且身份证上的照片和这个"某人"长得一样</li></ol></div><div><br /></div><div>那是不是可以得出结论，“某人”一定是这份合同的签署方之一？答案显然是肯定的，因为我们日常生活中就是这么操作的。</div><div><br /></div><div>这里其实有一个隐含条件——身份证。你我默认身份证是一个权威信息可以用来验真或证伪。而身份证是由国家颁发的——即你我都选择相信一个权威第三方。</div><div><br /></div><div>在上面的例子中，“身份证”可以认为是证书，而国家即颁发这个证书的权威机构（CA），身份证号即CA对某人的签名。如果我们要验明某人是否真的是一张身份证的持有人，只需要拿着身份证号去问CA，然后根据CA返回的姓名、照片等信息和“某人”持有的这张身份证比对即可，这个过程可以称之为验签。</div><div><br /></div><div>如果在A、B的通信中， B先验证了A的身份，然后又检验了A声明的消息签名值，那么我们可以说，这封消息一定是A发送的（前提是A的私钥不能泄漏）。</div><div><br /></div><div>讲到这里，证书的概念就出来了：证书即包含权威第三方机构对某对象的认证信息以及这些认证信息签名的文件。</div><div><br /></div><h3><span style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 18.72px;"><b>最终版本</b></span></h3><div>OK，在引入了CA和证书的概念之后， 让我们来看一下这个故事的最终版本：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/3809cb6e69a414ec1cb33d46e577f29a" data-width="619" data-height="481" /></div><div><br /></div><div>在新的故事中，A向B发送的，将不再是公钥，而是证书，证书的构成如下：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="undefined" height="undefined" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/9f9ca2ee67bf32e8a299fdbbc8c31a30" data-width="238" data-height="312" /></div><div><br /></div><div>当B收到A的证书时，首先会看一下CA是否为自己信任的CA，如果是自己信任的CA，则会计算上图蓝色部分的哈希值1，然后用CA的公钥解密签名信息得到哈希值2，最后比较哈希值1和2，如果两个值相等，则证明数据没有被篡改过。</div><div><br /></div><div>此时，B就完成了整个验证过程。而此时B只要抽取证书中A的公钥，完成后续的加密过程即可保证整个会话数据传输的安全性。</div><div><br /></div><div>这种情况下，由于B的老婆无法冒充A的身份向CA申请证书（CA理论上会验证申请人的身份），因此她无法再使用中间人劫持的手法获取整个会话过程协商阶段传输的私钥信息。</div><div><br /></div><div><h3>小结</h3></div><div><br /></div><div>可以看到，我们做的所有这些保障性工作，其目的都是为了保障最终传输的对称加密密钥不被窃取。而上文中提到的证书（包含公钥、签名的经过第三方认证的文件），仅仅是解决了“在非安全条件下安全的交换密钥”这一原始需求而已。</div><div><br /></div><div>看到这里，我想大家已经初步理解了对称加密、非对称加密、哈希、签名、证书之间的关系。</div><div><br /></div><div>接下来让我们来看几个实际的应用。</div><div><br /></div><div><h2>证书在现实世界的应用</h2><div><br /></div></div><div><h3 id="ext-gen11617">签署https网站</h3></div><div><br /></div><div>首先，我们来直观的看一下一张证书长什么样子，以本站的https证书为例：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="393" height="555" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/b2188b0e20459aea433825e416cd4a55" data-width="466" data-height="657" /></div><div><br /></div><div>可以看到证书主要展示了3个部分：</div><div><br /></div><div><ul><li>颁发给谁</li><li>谁颁发的</li><li>有效期</li></ul></div><div><br /></div><div>如果证书没有问题的话， 一般浏览器地址栏处会有一个锁的标志，像chrome这种浏览器还会用更醒目的绿色提示你该网站是安全的。那么，浏览器是如何认定网站是安全的呢？这个就需要看这张证书的证书链了：</div><div><br /></div><div><div><img class="lozad" src="/static/img/transparent.gif" width="672" height="356" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/97fd2f7ea563417176874eb035c80c47" data-width="938" data-height="498" /></div><div><br /></div><div>上图即为本站证书的证书链， 可以看到位于最顶层位置的是一张叫ISRG Root X1的证书，这张证书签发了R3， 然后R3又签发了本站的证书。</div><div><br /></div><div>那么浏览器是如何认定本站是安全的呢？</div><div><br /></div><div>以IE为例，在其  <span style="background-color: #d0d4d9;">Internet选项 -&gt; 内容 -&gt; 证书</span> 这个标签页中，我们可以在“受信任的根证书颁发机构”这个标签页下看到ISRG Root X1这张证书。也正是因为这张证书是受信任的，因此它认证的网站也一起被浏览器信任：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="679" height="345" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/1ea973e4e22f38a1780b6f88976f7471" data-width="951" data-height="483" /></div></div><div><br /></div><div><br /></div><div>在写作本文时，在笔者的一台电脑上恰好浏览器告警“不是私密连接”，让我们看一下这种情况下的证书链：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/a6a1571742e146b423e8e36e52e8be53" data-width="948" data-height="676" /></div><div><br /></div><div>原来这台机器上的根证书DST Root CA X3过期了，此证书不再被浏览器信任，因此浏览器产生了上述告警。</div><div><br /></div><div>到这里，可能你会有两个疑问：</div><div><br /></div><div><ol><li>最顶部的根证书是谁签发的？</li><li>这些根证书是从哪里来的？</li></ol></div><div><br /></div><div>答案是：</div><div><br /></div><div><ol><li>根证书自己签发自己，因为根证书的签发机构站在实力的角度被大家所认可</li><li>这些受信任的根证书一般是操作系统或者浏览器自带的</li></ol></div><div><br /></div><div><h3>更多证书的细节</h3></div><div><br /></div><div>首先来看一下本站证书的所有细节：</div><div><br /></div><div><ol class="dp-cpp" start="1"><li class="alt">hacksign@XSignLaptop [17:28:45] : ~/Work   </li><li class="">&gt;&gt; openssl s_client -connect debugwar.com:443 -servername debugwar.com &lt; /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; debugwar.crt  </li><li class="alt">depth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1  </li><li class="">verify <span class="keyword">return</span>:1  </li><li class="alt">depth=1 C = US, O = Let's Encrypt, CN = R3  </li><li class="">verify <span class="keyword">return</span>:1  </li><li class="alt">depth=0 CN = debugwar.com  </li><li class="">verify <span class="keyword">return</span>:1  </li><li class="alt">DONE  </li><li class="">hacksign@XSignLaptop [17:28:45] : ~/Work   </li><li class="alt">&gt;&gt; openssl x509 -in debugwar.crt -text -noout  </li><li class="">Certificate:  </li><li class="alt">    Data:  </li><li class="">        Version: 3 (0x2)  </li><li class="alt">        Serial Number:  </li><li class="">            03:aa:4b:8b:74:af:65:a6:89:9c:b9:cc:46:9b:1b:43:0c:6f  </li><li class="alt">        Signature Algorithm: sha256WithRSAEncryption  </li><li class="">        Issuer: C = US, O = Let's Encrypt, CN = R3  </li><li class="alt">        Validity  </li><li class="">            Not Before: Oct 23 07:40:48 2021 GMT  </li><li class="alt">            Not After : Jan 21 07:40:47 2022 GMT  </li><li class="">        Subject: CN = debugwar.com  </li><li class="alt">        Subject Public Key Info:  </li><li class="">            Public Key Algorithm: rsaEncryption  </li><li class="alt">                RSA Public-Key: (2048 bit)  </li><li class="">                Modulus:  </li><li class="alt">                    00:e1:db:4f:66:e1:e6:8d:f3:1e:31:df:47:9e:d2:  </li><li class="">                    e2:04:de:f2:80:f3:5c:56:8c:8d:1a:a4:62:f9:44:  </li><li class="alt">                    69:02:7e:20:69:f2:6f:d1:cf:25:3a:ca:6f:25:9a:  </li><li class="">                    dc:7a:ca:2b:d7:05:55:ad:71:ee:ab:08:dc:58:a9:  </li><li class="alt">                    e4:e2:27:8c:25:1c:8c:60:ed:97:6e:c5:69:95:dd:  </li><li class="">                    99:14:3b:5f:07:a6:36:d5:00:fd:f0:ac:7c:e4:69:  </li><li class="alt">                    0e:d0:f2:41:73:28:d2:01:b3:8b:38:68:8a:20:ce:  </li><li class="">                    2f:e4:5e:90:56:e6:0c:8f:5f:44:4a:7a:64:ee:d4:  </li><li class="alt">                    19:ca:76:09:08:64:a3:cb:ce:67:e5:2e:dd:2e:8e:  </li><li class="">                    9e:e0:60:68:65:e0:68:68:02:13:db:78:b7:f8:ed:  </li><li class="alt">                    4c:d6:79:01:ce:7b:6e:4d:f8:34:b3:b9:a7:54:86:  </li><li class="">                    02:ef:a2:1e:a6:f8:f6:a7:ae:5a:84:a1:6a:22:3f:  </li><li class="alt">                    7b:db:1e:13:91:16:2f:19:03:8a:c6:35:49:c4:69:  </li><li class="">                    6d:6a:1c:1b:f1:3d:01:3c:2f:0c:81:d2:8c:fb:67:  </li><li class="alt">                    c6:90:aa:1c:d2:78:16:0b:a8:0d:a9:98:52:d4:97:  </li><li class="">                    33:26:ed:48:6a:af:a1:4c:99:f2:07:31:c3:8e:fd:  </li><li class="alt">                    98:b5:ba:ab:59:0e:bb:f0:58:fb:3f:fa:71:7d:46:  </li><li class="">                    ea:63  </li><li class="alt">                Exponent: 65537 (0x10001)  </li><li class="">        X509v3 extensions:  </li><li class="alt">            X509v3 Key Usage: critical  </li><li class="">                Digital Signature, Key Encipherment  </li><li class="alt">            X509v3 Extended Key Usage:   </li><li class="">                TLS Web Server Authentication, TLS Web Client Authentication  </li><li class="alt">            X509v3 Basic Constraints: critical  </li><li class="">                CA:FALSE  </li><li class="alt">            X509v3 Subject Key Identifier:   </li><li class="">                80:99:14:55:B5:FB:47:D9:FD:6E:1C:07:C7:DA:65:3C:EB:65:BD:5E  </li><li class="alt">            X509v3 Authority Key Identifier:   </li><li class="">                keyid:14:2E:B3:17:B7:58:56:CB:AE:50:09:40:E6:1F:AF:9D:8B:14:C2:C6  </li><li class="alt">  </li><li class="">            Authority Information Access:   </li><li class="alt">                OCSP - URI:http:<span class="comment">//r3.o.lencr.org</span>  </li><li class="">                CA Issuers - URI:http:<span class="comment">//r3.i.lencr.org/</span>  </li><li class="alt">  </li><li class="">            X509v3 Subject Alternative Name:   </li><li class="alt">         ￼       DNS:*.debugwar.com, DNS:debugwar.com  </li><li class="">            X509v3 Certificate Policies:   </li><li class="alt">                Policy: 2.23.140.1.2.1  </li><li class="">                Policy: 1.3.6.1.4.1.44947.1.1.1  </li><li class="alt">                  CPS: http:<span class="comment">//cps.letsencrypt.org</span>  </li><li class="">  </li><li class="alt">            CT Precertificate SCTs:   </li><li class="">                Signed Certificate Timestamp:  </li><li class="alt">                    Version   : v1 (0x0)  </li><li class="">                    Log ID    : DF:A5:5E:AB:68:82:4F:1F:6C:AD:EE:B8:5F:4E:3E:5A:  </li><li class="alt">                                EA:CD:A2:12:A4:6A:5E:8E:3B:12:C0:20:44:5C:2A:73  </li><li class="">                    Timestamp : Oct 23 08:40:48.764 2021 GMT  </li><li class="alt">                    Extensions: none  </li><li class="">                    Signature : ecdsa-with-SHA256  </li><li class="alt">                                30:44:02:20:1B:B1:81:FF:FE:2E:56:62:31:B8:EA:CE:  </li><li class="">                                6C:10:8A:13:6F:A2:BB:62:B8:EF:0F:CB:DE:F5:B6:26:  </li><li class="alt">                                A9:18:9D:20:02:20:57:A7:B5:7D:15:C6:30:41:B1:C7:  </li><li class="">                                DB:EA:3F:88:99:91:F5:F0:22:47:0D:DC:47:82:6C:32:  </li><li class="alt">                                BE:5C:E2:D4:E1:3C  </li><li class="">                Signed Certificate Timestamp:  </li><li class="alt">                    Version   : v1 (0x0)  </li><li class="">                    Log ID    : 29:79:BE:F0:9E:39:39:21:F0:56:73:9F:63:A5:77:E5:  </li><li class="alt">                                BE:57:7D:9C:60:0A:F8:F9:4D:5D:26:5C:25:5D:C7:84  </li><li class="">                    Timestamp : Oct 23 08:40:48.752 2021 GMT  </li><li class="alt">                    Extensions: none  </li><li class="">                    Signature : ecdsa-with-SHA256  </li><li class="alt">                                30:45:02:21:00:C9:7B:C2:41:3A:FE:57:A3:75:E1:30:  </li><li class="">                                2B:E8:EC:A0:BD:65:8E:D4:77:41:D1:21:63:A7:63:70:  </li><li class="alt">                                CB:8A:B5:6F:85:02:20:45:D5:FB:99:EE:F4:5C:43:10:  </li><li class="">                                4D:DA:9D:DF:C0:61:FD:61:B1:3B:8C:5A:C6:24:FE:24:  </li><li class="alt">                                DA:61:BA:1A:4D:20:9A  </li><li class="">    Signature Algorithm: sha256WithRSAEncryption  </li><li class="alt">         62:c8:ba:69:15:7a:f4:eb:8a:32:f2:95:15:b5:6e:cf:fa:46:  </li><li class="">         7a:b2:6e:4b:bf:97:c3:52:b6:da:dc:c5:ca:ad:6b:8c:05:7b:  </li><li class="alt">         fd:d3:c4:4b:f4:09:1a:e2:89:d5:8d:16:64:99:87:e0:8d:d6:  </li><li class="">         ec:82:36:51:08:bc:23:6e:c7:ef:04:2c:61:22:e5:af:67:7e:  </li><li class="alt">         40:08:50:c7:9f:94:dc:e6:6e:b9:70:7c:f2:60:67:b6:4b:d7:  </li><li class="">         4d:84:04:40:21:fa:c7:9f:94:64:e7:6b:17:b8:b9:df:da:7d:  </li><li class="alt">         d3:8c:b8:5a:29:3a:80:48:ba:11:ac:91:b9:38:9f:3b:05:49:  </li><li class="">         c0:8a:7d:80:60:10:07:81:c7:af:47:97:f9:5d:2b:d5:c7:f1:  </li><li class="alt">         78:bd:b6:ee:55:b6:f7:f1:e0:2e:f2:73:54:8d:06:d9:e6:97:  </li><li class="">         6e:fb:b1:b6:fa:92:ec:dc:8b:2d:4f:1d:d7:09:ac:07:e8:dc:  </li><li class="alt">         58:ea:c0:a9:06:ee:e9:eb:af:a8:f3:79:21:44:b3:08:7b:51:  </li><li class="">         8d:86:df:c2:e9:cd:12:0c:5b:7f:89:58:cd:9d:c5:d7:9f:d8:  </li><li class="alt">         cd:97:f5:55:86:5e:f1:3f:09:40:d7:eb:a5:ae:8b:2e:b3:16:  </li><li class="">         9e:e1:26:28:fc:61:cc:7a:3d:49:8b:0e:a1:b6:59:cb:42:49:  </li><li class="alt">         fa:5c:08:4a  </li></ol></div><div><br /></div><div>接下来笔者挑几个有用的字段解释一下。</div><div><br /></div><div>首先是下面几个字段：</div><div><br /></div><div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">Issuer: C = US, O = Let's Encrypt, CN = R3  </li><li class="">Validity  </li><li class="alt">    Not Before: Oct 23 07:40:48 2021 GMT  </li><li class="">    Not After : Jan 21 07:40:47 2022 GMT  </li><li class="alt">Subject: CN = debugwar.com  </li><li class="">Subject Public Key Info:  </li><li class="alt">    Public Key Algorithm: rsaEncryption  </li><li class="">        RSA Public-Key: (2048 bit)  </li><li class="alt">        Modulus:  </li><li class="">            00:e1:db:4f:66:e1:e6:8d:f3:1e:31:df:47:9e:d2:  </li><li class="alt">            ………………  </li><li class="">    X509v3 extensions:  </li><li class="alt">        X509v3 Subject Alternative Name:   </li><li class="">            DNS:*.debugwar.com, DNS:debugwar.com  </li><li class="alt">Signature Algorithm: sha256WithRSAEncryption  </li><li class="">    ………………  </li></ol></div></div></div><div><div class="dp-highlighter"><div><br /></div><div><b>Issuer</b>：指明了该证书是由谁颁发的</div><div><b>Validity</b>：指明了该证书的有效起始和终止日期</div><div><b>Subject</b>：表明了该证书颁发给谁，CN是Common Name的缩写，即该网站的地址</div><div><b>Subject Public Key Info</b>: 网站的公钥以及一些公钥使用的算法信息</div><div><b>X509v3 extensions</b>: 这个字段下是一些扩展用的信息，其中比较重要的是 X509v3 Subject Alternative Name 简称SAN，我们经常可以看见有一些网站是以blog.xxx.com等形式来区分网站各个板块的，这种情况下每个子域就需要单独签署一个对应Subject的CN是对应值的证书，显然这是不合理的，所以在SAN字段中，我们可以用*.xxx.com来表示所有二级子域均可以使用这个证书。</div><div><b>Signature Algorithm</b>：即上文中提到的签名字段，可以用于验证本证书是否经过篡改</div><div><br /></div><h3>http/https/ssl/tls协议</h3><div>提到https协议，就不得不说http协议以及ssl/tls协议。</div><div><br /></div><div>首先科普两个大家可能知道的知识点：</div><div><br /></div><ol><li>http协议是一个4层协议</li><li>http协议是明文传输内容的</li></ol><div><br /></div><div>可能大家都了解这个事情， 但是并不知道在实际应用过程中并不知道实际是干什么用的。</div><div><br /></div><div>接下来我们可以结合下面的图来直观的感受一下：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="725" height="220" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/020d9b9f25359d18ae1d3976cc2014f8" data-width="2581" data-height="784" /></div><div><br /></div><h4>http协议是一个4层协议</h4><div><br /></div><div>上图中左面绿色的部分为wireshark抓到的对百度这个ip地址一个个数据包，中间白色的部分是对771帧数据包的详细结构分析，右面黑色的部分是命令行中请求http协议的百度首页的命令。</div><div><br /></div><div>从中间的白色部分可以看到，Hypertext Transfer Protocol上面依次是：Transmission Control Protocol、Internet Protocol Version 4、Ethernet II。这几个即大名鼎鼎的Http协议、TCP协议、IP协议、以太网协议等，分别对应下图网络模型的应用层、传输层、网络层、网际接口层</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="400" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/23743690457c181f99a39b2b6b7bcec7" data-width="809" data-height="604" /></div><div><br /></div><div>这里额外岔开一句，还记得面试高频被问的问题么： 请简述TCP的三次握手和四次挥手。这个其实对应上面wireshark截图中的第766、769、770和777、780、781、782帧。</div><div><br /></div><h4>BasicAuth认证</h4><div><br /></div><div>我们日常常见的地址格式</div><div><br /></div><div><a href="http://www.baidu.com">http://www.baidu.com</a></div><div><br /></div><div>其实并不是完整的格式，http协议的地址URI字符定义中，我们其实可以制定用户名和密码用于验证的目的，这种验证方式叫做BasicAuth，在浏览器中访问开启了BasicAuth的网站会看到如下对话框：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="671" height="170" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/297eaac7fd7bf00075b880a475985590" data-width="1683" data-height="427" /></div><div><br /></div><div>从上面的wireshark截图中我们也可以看到，如果访问的是http协议的网站，其BasicAuth的用户名和密码是明文传输的，这意味着在传输的过程中可以被其他人看到用户名和密码。</div><div><br /></div><h3>ssl/tls/https协议</h3><div><br /></div><div>既然http明文传输不安全，那如何保证我们数据的安全性呢？这即是https协议希望达到的目的。</div><div><br /></div><div>其实本质上来说，https协议只是利用ssl或tls协议在http开始传输数据之前先将数据加密在发送出去，其传输的还是“明文”的数据，只不过因为数据被提前加密过了因此不再具备可读性。</div><div><br /></div><div>先来看一下https协议的过程：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" height="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/cc7446870326b97dbda1e7247e654081" data-width="468" data-height="781" /></div><div><span class="syno-fontsize-xxx-small">图片来源：<a href="https://www.esds.co.in/blog/wp-content/uploads/2015/11/ssl_handcheck2-660x787.png">https://www.esds.co.in/blog/wp-content/uploads/2015/11/ssl_handcheck2-660x787.png</a></span></div><div><br /></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ClientHello</b>：Client端将自己的TLS协议版本，加密套件，压缩方法，随机数，SessionID(未填充)发送给Server端</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ServerHello</b>：Server端将选择后的SSL协议版本，压缩算法，密码套件，填充SessionID，生成的随机数等信息发送给Client端</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ServerCertificates</b>：Server端将自己的数字证书(包含公钥)，发送给Client端。(证书需要从数字证书认证机构(CA)申请，证书是对于服务端的一种认证)，若要进行更为安全的数据通信，Server端还可以向Client端发送Cerficate Request来要去客户端发送对方的证书进行合法性的认证。</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ServerHelloDone</b>：当完成ServerHello后，Server端会发送Server Hello Done的消息给客户端，表示ServerHello 结束了。</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ClientKeyExchage</b>：当Client端收到Server端的证书等信息后，会先对服务端的证书进行检查，检查证书的完整性以及证书跟服务端域名是否吻合，然后使用加密算法生成一个PreMaster Secret，并通过Server端的公钥进行加密，然后发送给Server端。</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>ClientFinishd</b>：Client端会发送一个ChangeCipherSpec(一种协议，数据只有一字节)，用于告知Server端已经切换到之前协商好的加密套件的状态，准备使用之前协商好的加密套件加密数据并进行传输了。然后使用Master Secret(通过两个随机数、PreMaster Secret和加密算法计算得出)加密一段Finish的数据传送给服务端，此数据是为了在正式传输应用数据之前对刚刚握手建立起来的加解密通道进行验证。</span></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;"><b>Server Finishd</b>：Sever端在接收到Client端传过来的加密数据后，使用私钥对这段加密数据进行解密，并对数据进行验证，然后会给客户端发送一个ChangeCipherSpec，告知客户端已经切换到协商过的加密套件状态，准备使用加密套件加密数据并传输了。之后，服务端也会使用Master Secret加密一段Finish消息发送给客户端，以验证之前通过握手建立起来的加解密通道是否成功。</span></div><div><br /></div><div><span class="syno-fontsize-xx-small" style="color: #222222; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px;">只看文字还是太枯燥了，我们在wireshark中观察一下整个通信的数据包：</span></div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="723" height="224" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/ce58afe5ff5db8dcf6726cb98f0bfc72" data-width="2397" data-height="744" /></div><div><br /></div><div>首先和最后，依然是28-30与56-61的三次握手和四次挥手。</div><div><br /></div><div>然后在ClientHello（31、33）和ServerHello（34、35）之后之后客户端和服务端分别通过Client Key Exchange（36、37）和Change Cipher Spec（38￼、39）交换了协商好的算法。</div><div><br /></div><div>最后的两条Application Data（40-43）分别为请求和响应，理论上40这个数据包中理论上应该存在发送的username和password，现在由于数据已经被加密，因此我们看到的数据是“毫无意义”的。</div><div><br /></div><div>特别需要提示的一点是，上述交互过程基本每个数据包都是成对出现的，每个包会紧跟一个ACK包——还记得TCP协议的内容么……可靠传输，ACK包即是可靠的保证。</div><div><br /></div><h3>双向认证</h3><div><br /></div><div>其实上一节中的https协议依旧是简化版本，真正完整的https协议是支持双向认证的，即客户端不仅要认证服务器、服务器也要认证客户端。</div><div><br /></div><div>只不过是平时大家访问的网站都是开门做生意的状态——来的都是客。因此服务器并不会验证客户端的身份。</div><div><br /></div><div>但是在一些特殊场景下，需要做双向认证。本节将以nginx为例，配置一个双向认证的服务器。其结果是，如果是没有指定私钥的浏览器想访问nginx上运行的网站，则直接报错。</div><div><br /></div><div>先直观的感受一下最终的结果。</div><div><br /></div><div>首先是没有私钥的访问：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="702" height="76" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/44628e95dbb73cc5d8007d32eb713fba" data-width="1579" data-height="170" /></div><div><br /></div><div>然后我们在浏览器中导入特定的私钥</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="400" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/1caa4a3369b4fa9324e8e76d3ed6c155" data-width="864" data-height="618" /></div><div><br /></div><div>然后再次访问该站点：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="712" height="337" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/5f2fb35df03ee8c011a460e244657516" data-width="1653" data-height="782" /></div><div><br /></div><div>此时该站点会要求我们提供凭证，如果提供正确的凭证，即可获得该站点的所有内容：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="715" height="298" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/23a27b97bbd61845a34b9cbecebac556" data-width="1584" data-height="660" /></div><div><br /></div><div>上述是手动演示整个认证的过程，其实我们可以通过nginx的配置，自动完成上述认证过程。通过两个nginx实例完成认证访问。</div><div><br /></div><div>下文中我们将会称两个nginx实例一个是Client端另外一个是Server端，Client端用于模拟上文手动过程中浏览器对服务器的访问，Server端上则跑着我们实际的站点。</div></div></div><div><br /></div><div>首先是作为Client端的nginx配置， 该配置会认证server端发送的证书以及server端的身份，防止有人劫持server端从而冒充server端的身份：</div><div><br /></div><div><ol class="dp-cpp" start="1"><li class="alt">upstream backend.dynamic-domain.com {  </li><li class="">    jdomain backend.dynamic-domain.com port=1203 interval=10;  </li><li class="alt">}  </li><li class="">  </li><li class="alt">server {  </li><li class="">    listen      443 ssl;  </li><li class="alt">    ssl_certificate                 /path/to/certificate/issued/by/letsencrypt/website.crt;  </li><li class="">    ssl_certificate_key             /path/to/certificate/issued/by/letsencrypt/website.key;  </li><li class="alt">  </li><li class="">    proxy_ssl_verify on;  </li><li class="alt">    proxy_ssl_trusted_certificate   /path/to/self/<span class="datatypes">signed</span>/certificate/ca.crt;  </li><li class="">    proxy_ssl_certificate           /path/to/self/<span class="datatypes">signed</span>/certificate/client.crt;  </li><li class="alt">    proxy_ssl_certificate_key       /path/to/self/<span class="datatypes">signed</span>/certificate/client.key;  </li><li class="">  </li><li class="alt">    location = / {  </li><li class="">        proxy_pass      https:<span class="comment">//backend.dynamic-domain.com;</span>  </li><li class="alt">    }  </li><li class="">  </li><li class="alt">    location / {  </li><li class="">        proxy_pass      https:<span class="comment">//backend.dynamic-domain.com;</span>  </li><li class="alt">    }  </li><li class="">}  </li></ol><div><br /></div><div>第7、8行是站点的证书，此证书即正常的网站证书，从let's encrypt申请，由于let's encrypt签署的证书可以被各大浏览器信任，因此当其他人访问网站时浏览器会提示安全。</div><div><br /></div><div>第10至13行开启了nginx对服务端的ssl验证，其中ca.crt是私人自签名的根证书，由于这份证书是私人签署的，导致其他人通过任何机构获得的证书都不被信任，只有由这份私人根证书签署的子证书才被认为是合法的。</div><div><br /></div><div>第12、13行分别是由ca.crt签署的客户端子证书以及密钥文件，client.crt用于向server端表明自己的身份，server端也同样配置了信任私人ca.crt根证书签署的子证书。</div><div><br /></div><div>下面是server端的配置文件，该配置会验证客户端身份并发送自己的证书给客户端（是否验证取决于客户端）：</div><div><br /></div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">server {  </li><li class="">    listen  443 ssl;  </li><li class="alt">    ssl_verify_client   on;  </li><li class="">    ssl_certificate         /path/to/self/<span class="datatypes">signed</span>/certificate/server.crt;  </li><li class="alt">    ssl_certificate_key     /path/to/self/<span class="datatypes">signed</span>/certificate/server.key;  </li><li class="">    ssl_client_certificate  /path/to/self/<span class="datatypes">signed</span>/certificate/ca.crt;  </li><li class="alt">  </li><li class="">    location / {  </li><li class="alt">        proxy_pass  http:<span class="comment">//192.168.1.100:1203;</span>  </li><li class="">    }  </li><li class="alt">}  </li></ol><div><br /></div><div>上面第3行开启了验证客户端的开关。</div><div><br /></div><div>第6行为和client端配置中相同的ca.crt根证书，声明只有该证书签署的子证书才认为是合法的。</div><div><br /></div><div>第4、5行分别是私人根证书签署的服务端子证书和密钥文件，server.crt即是发送给client端验证的证书。</div><div><br /></div><div>由于client、server端都同时信任ca.crt根证书，因此由ca.crt签署的client.crt和server.crt再双方看来都是合法的，可以正常交互。</div><div><br /></div><div>如果你已经弄明白了上述双向认证的逻辑， 接下来就只剩下生成如下三个证书了：</div><div><br /></div><ul><li>ca.crt、ca.key : 根证书以及密钥文件</li><li>client.crt、client.key：由ca.crt签署的客户端子证书</li><li>server.crt、server.key：由ca.crt签署的服务端子证书</li></ul><div><br /></div><div>注意： 由于是自签名证书，因此ca.crt是自己给自己签发的，如果你使用了任何公开的第三方证书办法机构作为自己的根证书，在配置不当的情况下，其他人可以非授权访问数据。</div><div>生成证书生成证书</div><div><br /></div><h2>生成证书</h2><div><br /></div><div>上文中，我们用到了3个证书，以及3个证书对应的私钥，下面我们一步一步来。</div><div><br /></div><div>总的来说，生成证书分为三大步：</div><div><br /></div><ol><li>生成私钥</li><li>生成CSR请求文件</li><li>生成证书</li></ol><div><br /></div><h3>生成私有根证书</h3><div><br /></div><div>根证书用于签署接下来的客户端和服务端证书。</div><div><br /></div><div>换句话说，根证书是客户端和服务端证书的父证书，客户端和服务端互为兄弟证书。我们在上述的双向认证nginx中，兄弟之间信任的都是他们共通的父证书。由于父证书是我们自己给自己签署的，因此只要保证父证书的私钥不泄漏，技能保证整个系统之间通信的私密性。</div><div><br /></div><div>首先我们生成私钥文件：</div><div><br /></div><div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">openssl genrsa -aes256 -out rootca.key.pem 4096  </li></ol><div><br /></div></div></div></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/95e92686ac7e7c699839437edd0c059b" data-width="668" data-height="200" /></div><div><br /></div><div>然后生成CSR证书请求：</div><div><br /></div><div><ol class="dp-cpp" start="1"><li class="alt">openssl req -<span class="keyword">new</span> -key rootca.key.pem -out rootca.csr.pem  </li></ol></div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/f7b83779587f97cfe044dbf1c125047a" data-width="830" data-height="588" /></div><div><br /></div><div>这里会要求输入第一步创建rootca.key.pem时输入的密码。</div><div><br /></div><div>同时还要注意， Common Name这一项， 这一项是用来标识使用人的， 网站的证书里用来标识网站的即为这一项，如果这一项和实际访问的域名不匹配，浏览器会提示有风险。</div><div><br /></div><h3 id="ext-gen11949">生成自签名证书</h3><div><br /></div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">openssl x509 -req -in rootca.csr.pem -signkey rootca.key.pem -out rootca.crt.pem  </li></ol></div></div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/3e182b6d9760abd17f64685b59e86c20" data-width="918" data-height="140" /></div><div><br /></div><div>注意：</div><div><br /></div><ol><li id="ext-gen10175">-signkey参数用于生成自签名证书，生成client和server证书时，由于不使用此参数。</li><li>如果你参考了其他文档，可能会发现他们使用了openssl ca命令，此命令需要配合配置文件使用，本文为了避免引入过于复杂的概念，使用openssl x509命令生成根证书，这样可以避免使用配置文件。</li></ol><div>可以通过命令观察一下刚才生成的根证书，发现其issuer和subject均为自己：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/7745f5d68190f91afe1fb240db8847d4" data-width="962" data-height="339" /></div><div><br /></div>生成client/server证书<div><br /></div><div>下面以生成client证书为例，生成server证书命令是一样的，需要注意的是如下几个点：</div><div><br /></div><ol><li>使用不同的密钥和输出文件名（当然也可以使用相同的密钥，但是这样会损失一定的安全性）</li><li>在生成CSR时， Common Name要填写对应的标识信息</li></ol><div><br /></div><div>生成私钥</div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">openssl genrsa -out client.key.pem 4096  </li></ol><div><br /></div><div>生成csr</div><div><br /></div><div><ol class="dp-cpp" start="1"><li class="alt">openssl req -<span class="keyword">new</span> -key client.key.pem -out client.csr.pem  </li></ol><div><br /></div><div>注意， Common Name要填写对应的标识，换句话说根证书、client证书、server证书的标识要不一样： </div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/c4094c5d7ae1f07691606188cae7b1c3" data-width="831" data-height="562" /></div><div><br /></div><div>生成证书：</div><div><br /></div><div><div class="dp-highlighter"><ol class="dp-cpp" start="1"><li class="alt">openssl x509 -req -in client.csr.pem -out client.crt.pem -CA rootca.crt.pem -CAkey rootca.key.pem -CAcreateserial -CAserial ./serial.txt </li></ol><div><br /></div><div>使用命令观察一下签署状态，可以发现issure是私有CA，subject为client标识的证书：</div><div><br /></div><div><img class="lozad" src="/static/img/transparent.gif" width="600" data-src="/api/image/1024_2B5K4CM2191G55ACIKARQSV6LO/22d2e0bc624c62e93d1cace04d0754a5" data-width="1030" data-height="337" /></div></div></div></div><div><br /></div><h2>结尾</h2><div><br /></div><div>本文讲述了对称加密、非对称加密、证书、签名之间的关系，并展示了一个实际应用过程中不太常见的双向验证的https协议使用场景。</div><div><br /></div><div>希望对各位有所帮助 ；）</div></div></div></div></div></div></div></div></div><div class="MuiContainer-root jss81 MuiContainer-maxWidthLg"><div class="MuiPaper-root jss85 MuiPaper-elevation1 MuiPaper-rounded"><div class="jss86"><h5 class="MuiTypography-root MuiTypography-h5" id="article-toc">Catalog</h5></div><div class="jss87" id="article-catalog"><li class="MuiListItem-root jss84 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 0px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">一个关于喝酒的故事</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">故事的开始</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">斗争</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">斗争的继续</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">欺骗的艺术</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">证明你是你自己</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">最终版本</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">小结</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 0px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">证书在现实世界的应用</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">签署https网站</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">更多证书的细节</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">http/https/ssl/tls协议</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 20px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">http协议是一个4层协议</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 20px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">BasicAuth认证</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">ssl/tls/https协议</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">双向认证</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 0px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">生成证书</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">生成私有根证书</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 10px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">生成自签名证书</span></div></li><li class="MuiListItem-root jss83 MuiListItem-dense MuiListItem-gutters"><div class="MuiListItemText-root jss82 MuiListItemText-dense" style="margin-left: 0px;"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock">结尾</span></div></li></div></div><div role="presentation" class="jss88" style="transform: scale(0); visibility: hidden;"><button class="MuiButtonBase-root MuiFab-root jss89 MuiFab-sizeSmall" tabindex="0" type="button" aria-label="scroll back to top"><span class="MuiFab-label"><svg xmlns="http://www.w3.org/2000/svg" class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg></span><span class="MuiTouchRipple-root"></span></button></div></div></div><div class="jss90"><div class="MuiContainer-root jss91 MuiContainer-maxWidthLg"><p class="MuiTypography-root jss92 MuiTypography-body1">CopyRight(c) 2020 - 2025 Debugwar.com</p><p class="MuiTypography-root jss93 MuiTypography-body1">Designed by Hacksign</p></div></div></div>
    <script id="__LOADABLE_REQUIRED_CHUNKS__" type="application/json">[0,1,7,4,6]</script><script id="__LOADABLE_REQUIRED_CHUNKS___ext" type="application/json">{"namedChunks":["component-poster","client-component-article","component-footer"]}</script>
<script async="" data-chunk="default" src="/static/npm.material-ui.bundle.js"></script>
<script async="" data-chunk="default" src="/static/npm.react-dom.bundle.js"></script>
<script async="" data-chunk="default" src="/static/default.bundle.js"></script>
<script async="" data-chunk="component-poster" src="/static/npm.react-transition-group.bundle.js"></script>
<script async="" data-chunk="component-poster" src="/static/component-poster.bundle.js"></script>
<script async="" data-chunk="client-component-article" src="/static/client-component-article.bundle.js"></script>
<script async="" data-chunk="component-footer" src="/static/component-footer.bundle.js"></script>

<div role="presentation" class="MuiDrawer-root MuiDrawer-modal" aria-hidden="true" style="position: fixed; z-index: 1300; inset: 0px; visibility: hidden;"><div class="MuiBackdrop-root" aria-hidden="true" style="opacity: 0; visibility: hidden;"></div><div tabindex="0" data-test="sentinelStart"></div><div class="MuiPaper-root MuiDrawer-paper jss61 MuiDrawer-paperAnchorTop MuiPaper-elevation16" tabindex="-1" style="visibility: hidden; transform: translateY(-50px);"><nav class="MuiTypography-root MuiBreadcrumbs-root jss64 MuiTypography-body1 MuiTypography-colorTextSecondary" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol"><li class="MuiBreadcrumbs-li jss65"><a href="/">首页</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a aria-current="page" class="jss62" href="/category/其他">其他</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/关于我">关于我</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/漏洞研究">漏洞研究</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator jss63">/</li><li class="MuiBreadcrumbs-li jss65"><a href="/category/逆向研究">逆向研究</a></li></ol></nav></div><div tabindex="0" data-test="sentinelEnd"></div></div></body></html>