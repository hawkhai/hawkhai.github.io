<html lang="en-US"><!--<![endif]--><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>How a Kalman filter works, in pictures | Bzarg</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.bzarg.com/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://www.bzarg.com/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-17X5KCQ4SQ&amp;cx=c&amp;_slc=1"></script><script async="" src="//www.google-analytics.com/analytics.js"></script><script id="facebook-jssdk" src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.6"></script><script>(function(d, s, id){
				 var js, fjs = d.getElementsByTagName(s)[0];
				 if (d.getElementById(id)) {return;}
				 js = d.createElement(s); js.id = id;
				 js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6";
				 fjs.parentNode.insertBefore(js, fjs);
			   }(document, 'script', 'facebook-jssdk'));</script><link rel="dns-prefetch" href="//ws.sharethis.com">
<link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="Bzarg » Feed" href="https://www.bzarg.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Bzarg » Comments Feed" href="https://www.bzarg.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Bzarg » How a Kalman filter works, in pictures Comments Feed" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.bzarg.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.3.15"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="https://www.bzarg.com/wp-includes/js/wp-emoji-release.min.js?ver=5.3.15" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="mci-footnotes-css-public-css" href="https://www.bzarg.com/wp-content/plugins/footnotes/class/../css/public.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="https://www.bzarg.com/wp-includes/css/dist/block-library/style.min.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="bbspoiler-css" href="https://www.bzarg.com/wp-content/plugins/bbspoiler/inc/bbspoiler.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="ce_responsive-css" href="https://www.bzarg.com/wp-content/plugins/simple-embed-code/css/video-container.min.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="simple-share-buttons-adder-font-awesome-css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-css" href="https://www.bzarg.com/wp-content/themes/twentytwelve/style.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-child-css" href="https://www.bzarg.com/wp-content/themes/twentytwelve-child/style.css?ver=5.3.15" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-style-css" href="https://www.bzarg.com/wp-content/themes/twentytwelve-child/style.css?ver=5.3.15" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='https://www.bzarg.com/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type="text/javascript" src="https://www.bzarg.com/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp"></script>
<script type="text/javascript" src="https://www.bzarg.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script>
<script type="text/javascript" src="https://www.bzarg.com/wp-content/plugins/footnotes/class/../js/jquery.tools.min.js?ver=5.3.15"></script>
<script type="text/javascript">
/* <![CDATA[ */
var title = {"unfolded":"Expand","folded":"Collapse"};
/* ]]> */
</script>
<script type="text/javascript" src="https://www.bzarg.com/wp-content/plugins/bbspoiler/inc/bbspoiler.js?ver=5.3.15"></script>
<script id="st_insights_js" type="text/javascript" src="https://ws.sharethis.com/button/st_insights.js?publisher=4d48b7c5-0ae3-43d4-bfbe-3ff8c17a8ae6&amp;product=simpleshare"></script>
<link rel="https://api.w.org/" href="https://www.bzarg.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.bzarg.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.bzarg.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="How to pronounce hexadecimal" href="https://www.bzarg.com/p/how-to-pronounce-hexadecimal/">
<link rel="next" title="Second Order FizzBuzz" href="https://www.bzarg.com/p/second-order-fizzbuzz/">
<meta name="generator" content="WordPress 5.3.15">
<link rel="canonical" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/">
<link rel="shortlink" href="https://www.bzarg.com/?p=491">
<link rel="alternate" type="application/json+oembed" href="https://www.bzarg.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.bzarg.com%2Fp%2Fhow-a-kalman-filter-works-in-pictures%2F">
<link rel="alternate" type="text/xml+oembed" href="https://www.bzarg.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.bzarg.com%2Fp%2Fhow-a-kalman-filter-works-in-pictures%2F&amp;format=xml">
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #424242; }
</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript" src="https://www.bzarg.com/wp-content/plugins/wp-spamshield/js/jscripts.php"></script> 
		<style type="text/css" media="screen">
            .footnote_tooltip { display: none; padding: 12px; font-size: 13px; background-color: #fff7a7; border-width: 1px; border-style: solid; border-color: #cccc99; border-radius: 3px; -webkit-box-shadow: 2px 2px 11px #666666; -moz-box-shadow: 2px 2px 11px #666666; box-shadow: 2px 2px 11px #666666;}        </style>
		<style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none; box-sizing: content-box}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.MathJax_test.mjx-test-display {display: table!important}
.MathJax_test.mjx-test-inline {display: inline!important; margin-right: -1px}
.MathJax_test.mjx-test-default {display: block!important; clear: both}
.MathJax_ex_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.MathJax_em_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60em}
.mjx-test-inline .MathJax_left_box {display: inline-block; width: 0; float: left}
.mjx-test-inline .MathJax_right_box {display: inline-block; width: 0; float: right}
.mjx-test-display .MathJax_right_box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?V=2.7.5') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?V=2.7.5') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?V=2.7.5') format('opentype')}
</style></head>

<body class="post-template-default single single-post postid-491 single-format-standard custom-background custom-font-enabled single-author"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="">Loading web-font TeX/Size3/Regular</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65952921-1', 'auto');
  ga('send', 'pageview');

</script>

<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<img src="https://bzarg.com/bz_128.png" width="64" style="vertical-align: middle; padding-right: 20px;">
		<hgroup style="display:inline-block; vertical-align: middle;">
			<h1 class="site-title"><a href="https://www.bzarg.com/" title="Bzarg" rel="home">Bzarg</a></h1>
			<h2 class="site-description">On the future, science, &amp; tech</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle">Menu</button>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu"><ul>
<li><a href="https://www.bzarg.com/">Home</a></li><li class="page_item page-item-32"><a href="https://www.bzarg.com/about/">About</a></li>
<li class="page_item page-item-322"><a href="https://www.bzarg.com/projects/">Projects</a></li>
</ul></div>
		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">

	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-491" class="post-491 post type-post status-publish format-standard hentry category-mini-courses category-programming">
				<header class="entry-header">
			
						<h1 class="entry-title">How a Kalman filter works, in pictures</h1>
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>I have to tell you about the Kalman filter, because what it does is pretty damn amazing.</p>
<p>Surprisingly few software engineers and scientists seem to know about it, and that makes me sad because it is such a general and powerful tool for <strong>combining information</strong> in the presence of uncertainty. At times its ability to extract accurate information seems almost magical— and if it sounds like I’m talking this up too much, then take a look at <a href="https://www.bzarg.com/p/improving-imu-attitude-estimates-with-velocity-data">this previously posted video</a> where I demonstrate a Kalman filter figuring out the <em>orientation</em> of a free-floating body by looking at its <em>velocity</em>. Totally neat!</p>
<h1>What is it?</h1>
<p>You can use a Kalman filter in any place where you have <strong>uncertain information</strong> about some dynamic system, and you can make an <strong>educated guess</strong> about what the system is going to do next. Even if messy reality comes along and interferes with the clean motion you guessed about, the Kalman filter will often do a very good job of figuring out what actually happened. And it can take advantage of correlations between crazy phenomena that you maybe wouldn’t have thought to exploit!</p>
<p>Kalman filters are ideal for systems which are <strong>continuously changing</strong>. They have the <span id="more-491"></span>advantage that they are light on memory (they don’t need to keep any history other than the previous state), and they are very fast, making them well suited for real time problems and embedded systems.</p>
<p>The math for implementing the Kalman filter appears pretty scary and opaque in most places you find on Google. That’s a bad state of affairs, because the Kalman filter is actually super simple and easy to understand if you look at it in the right way. Thus it makes a great article topic, and I will attempt to illuminate it with lots of clear, pretty pictures and colors. The prerequisites are simple; all you need is a basic understanding of probability and matrices.</p>
<p>I’ll start with a loose example of the kind of thing a Kalman filter can solve, but if you want to get right to the shiny pictures and math, feel free to <a href="#mathybits">jump ahead</a>.</p>
<h1>What can we do with a Kalman filter?</h1>
<p>Let’s make a toy example: You’ve built a little robot that can wander around in the woods, and the robot needs to know exactly where it is so that it can navigate.</p>
<p><img class="aligncenter wp-image-492 size-medium" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/robot_forest-300x160.png" alt="Your little robot" width="300" height="160" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/robot_forest-300x160.png 300w, https://www.bzarg.com/wp-content/uploads/2015/08/robot_forest.png 553w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>We’ll say our robot has a state <span class="MathJax_Preview" style=""> \vec{x_k} </span><span class="MathJax MathJax_Processed" id="MathJax-Element-1-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1"><span style="display: inline-block; position: relative; width: 0em; height: 0px; font-size: 124%;"><span style="position: absolute;"><span class="mrow" id="MathJax-Span-2"><span class="texatom" id="MathJax-Span-3"><span class="mrow" id="MathJax-Span-4"><span class="munderover" id="MathJax-Span-5"><span style="display: inline-block; position: relative; width: 1.04em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.04em, 4.323em, -999.997em); top: -3.972em; left: 0em;"><span class="msubsup" id="MathJax-Span-6"><span style="display: inline-block; position: relative; width: 1.04em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1000.52em, 4.15em, -999.997em); top: -3.972em; left: 0em;"><span class="mi" id="MathJax-Span-7" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; top: -3.799em; left: 0.579em;"><span class="mi" id="MathJax-Span-8" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; clip: rect(3.286em, 1000.92em, 4.15em, -999.997em); top: -4.548em; left: 0.003em;"><span class="mo" id="MathJax-Span-9" style="font-family: MathJax_Main;">→</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span></span></span></span></span></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1"> \vec{x_k} </script>, which is just a position and a velocity:</p>
<p style="text-align: center;"><span class="MathJax_Preview" style="">\vec{x_k} = (\vec{p}, \vec{v})</span><span class="MathJax MathJax_Processed" id="MathJax-Element-2-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-10"><span style="display: inline-block; position: relative; width: 0em; height: 0px; font-size: 124%;"><span style="position: absolute;"><span class="mrow" id="MathJax-Span-11"><span class="texatom" id="MathJax-Span-12"><span class="mrow" id="MathJax-Span-13"><span class="munderover" id="MathJax-Span-14"><span style="display: inline-block; position: relative; width: 1.04em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.04em, 4.323em, -999.997em); top: -3.972em; left: 0em;"><span class="msubsup" id="MathJax-Span-15"><span style="display: inline-block; position: relative; width: 1.04em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1000.52em, 4.15em, -999.997em); top: -3.972em; left: 0em;"><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; top: -3.799em; left: 0.579em;"><span class="mi" id="MathJax-Span-17" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; clip: rect(3.286em, 1000.92em, 4.15em, -999.997em); top: -4.548em; left: 0.003em;"><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">→</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-19" style="font-family: MathJax_Main; padding-left: 0.291em;">=</span><span class="mo" id="MathJax-Span-20" style="font-family: MathJax_Main; padding-left: 0.291em;">(</span><span class="texatom" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="munderover" id="MathJax-Span-23"><span style="display: inline-block; position: relative; width: 0.579em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1000.52em, 4.323em, -999.997em); top: -3.972em; left: 0em;"><span class="mi" id="MathJax-Span-24" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; top: -4.029em; left: 0.118em;"><span style="height: 0em; vertical-align: 0em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-25" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.228em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-26" style="font-family: MathJax_Main;">,</span><span class="texatom" id="MathJax-Span-27" style="padding-left: 0.176em;"><span class="mrow" id="MathJax-Span-28"><span class="munderover" id="MathJax-Span-29"><span style="display: inline-block; position: relative; width: 0.521em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1000.46em, 4.15em, -999.997em); top: -3.972em; left: 0em;"><span class="mi" id="MathJax-Span-30" style="font-family: MathJax_Math-italic;">v</span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span><span style="position: absolute; top: -4.029em; left: 0.06em;"><span style="height: 0em; vertical-align: 0em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-31" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.228em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.978em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-32" style="font-family: MathJax_Main;">)</span></span></span></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">\vec{x_k} = (\vec{p}, \vec{v})</script></p>
<p>Note that the state is just a list of numbers about the underlying configuration of your system; it could be anything. In our example it’s position and velocity, but it could be data about the amount of fluid in a tank, the temperature of a car engine, the position of a user’s finger on a touchpad, or any number of things you need to keep track of.</p>
<p>Our robot also has a GPS sensor, which is accurate to about 10 meters, which is good, but it needs to know its location more precisely than 10 meters. There are lots of gullies and cliffs in these woods, and if the robot is wrong by more than a few feet, it could fall off a cliff. So GPS by itself is not good enough.</p>
<p><a href="https://www.bzarg.com/wp-content/uploads/2015/08/robot_ohnoes.png"><img class="aligncenter size-medium wp-image-493" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/robot_ohnoes-300x283.png" alt="Oh no." width="300" height="283" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/robot_ohnoes-300x283.png 300w, https://www.bzarg.com/wp-content/uploads/2015/08/robot_ohnoes.png 403w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>We might also know something about how the robot moves: It knows the commands sent to the wheel motors, and its knows that if it’s headed in one direction and nothing interferes, at the next instant it will likely be further along that same direction. But of course it doesn’t know everything about its motion: It might be buffeted by the wind, the wheels might slip a little bit, or roll over bumpy terrain; so the amount the wheels have turned might not exactly represent how far the robot has actually traveled, and the prediction won’t be perfect.</p>
<p>The GPS <strong>sensor</strong> tells us something about the state, but only indirectly, and with some uncertainty or inaccuracy. Our <strong>prediction</strong> tells us something about how the robot is moving, but only indirectly, and with some uncertainty or inaccuracy.</p>
<p>But if we use all the information available to us, can we get a better answer than <strong>either estimate would give us by itself</strong>? Of course the answer is yes, and that’s what a Kalman filter is for.</p>
<p><a name="mathybits"></a></p>
<h1>How a Kalman filter sees your problem</h1>
<p>Let’s look at the landscape we’re trying to interpret. We’ll continue with a simple state having only position and velocity. <span class="MathJax_Preview" style=""> 
\vec{x} = \begin{bmatrix} 
p\\ 
v 
\end{bmatrix}</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style=""></span></div><script type="math/tex; mode=display" id="MathJax-Element-3"> 
\vec{x} = \begin{bmatrix} 
p\\ 
v 
\end{bmatrix}</script></p>
<p>We don’t know what the <em>actual</em> position and velocity are; there are a whole range of possible combinations of position and velocity that might be true, but some of them are more likely than others:</p>
<p><img class="aligncenter wp-image-504 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_0.png" alt="gauss_0" width="310" height="325" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_0.png 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_0-287x300.png 287w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>The Kalman filter assumes that both variables (postion and velocity, in our case) are random and <em>Gaussian distributed.</em> Each variable has a <strong>mean</strong> value <span class="MathJax_Preview" style="">\mu</span><span class="MathJax MathJax_Processing" id="MathJax-Element-4-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-4">\mu</script>, which is the center of the random distribution (and its most likely state), and a <strong>variance</strong> <span class="MathJax_Preview" style="">\sigma^2</span><span class="MathJax MathJax_Processing" id="MathJax-Element-5-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-5">\sigma^2</script>, which is the uncertainty:</p>
<p><img class="aligncenter wp-image-503 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_1.png" alt="gauss_1" width="310" height="276" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_1.png 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_1-300x267.png 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>In the above picture, position and velocity are <strong>uncorrelated</strong>, which means that the state of one variable tells you nothing about what the other might be.</p>
<p>The example below shows something more interesting: Position and velocity are <strong>correlated</strong>. The likelihood of observing a particular position depends on what velocity you have:</p>
<p><img class="aligncenter wp-image-501 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_3.png" alt="gauss_3" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_3.png 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_3-300x276.png 300w" sizes="(max-width: 310px) 100vw, 310px">This kind of situation might arise if, for example, we are estimating a new position based on an old one. If our velocity was high, we probably moved farther, so our position will be more distant. If we’re moving slowly, we didn’t get as far.</p>
<p>This kind of relationship is really important to keep track of, because it gives us <strong>more information: </strong>One measurement tells us something about what the others could be. And that’s the goal of the Kalman filter, we want to squeeze as much information from our uncertain measurements as we possibly can!</p>
<p>This correlation is captured by something called a <a href="https://en.wikipedia.org/wiki/Covariance_matrix">covariance matrix</a>. In short, each element of the matrix <span class="MathJax_Preview" style="">\Sigma_{ij}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-6-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-6">\Sigma_{ij}</script> is the degree of correlation between the <em>ith</em> state variable and the <em>jth</em> state variable. (You might be able to guess that the covariance matrix is <a href="https://en.wikipedia.org/wiki/Symmetric_matrix">symmetric</a>, which means that it doesn’t matter if you swap <em>i</em> and <em>j</em>). Covariance matrices are often labelled “<span class="MathJax_Preview" style="">\mathbf{\Sigma}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-7-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-7">\mathbf{\Sigma}</script>”, so we call their elements “<span class="MathJax_Preview" style="">\Sigma_{ij}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-8-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-8">\Sigma_{ij}</script>”.</p>
<p><img class="aligncenter wp-image-502 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_2.png" alt="gauss_2" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_2.png 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_2-300x276.png 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<h1>Describing the problem with matrices</h1>
<p>We’re modeling our knowledge about the state as a Gaussian blob, so we need two pieces of information at time <span class="MathJax_Preview" style="">k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-9-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-9">k</script>: We’ll call our best estimate <span class="MathJax_Preview" style="">\mathbf{\hat{x}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-10-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-10">\mathbf{\hat{x}_k}</script> (the mean, elsewhere named <span class="MathJax_Preview" style="">\mu</span><span class="MathJax MathJax_Processing" id="MathJax-Element-11-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-11">\mu</script> ), and its covariance matrix <span class="MathJax_Preview" style="">\mathbf{P_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-12-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-12">\mathbf{P_k}</script>. <span class="MathJax_Preview" style=""> 
\begin{equation} \label{eq:statevars} 
\begin{aligned} 
\mathbf{\hat{x}}_k &amp;= \begin{bmatrix} 
\text{position}\\ 
\text{velocity} 
\end{bmatrix}\\ 
\mathbf{P}_k &amp;= 
\begin{bmatrix} 
\Sigma_{pp} &amp; \Sigma_{pv} \\ 
\Sigma_{vp} &amp; \Sigma_{vv} \\ 
\end{bmatrix} 
\end{aligned} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-13"> 
\begin{equation} \label{eq:statevars} 
\begin{aligned} 
\mathbf{\hat{x}}_k &= \begin{bmatrix} 
\text{position}\\ 
\text{velocity} 
\end{bmatrix}\\ 
\mathbf{P}_k &= 
\begin{bmatrix} 
\Sigma_{pp} & \Sigma_{pv} \\ 
\Sigma_{vp} & \Sigma_{vv} \\ 
\end{bmatrix} 
\end{aligned} 
\end{equation} 
</script></p>
<p>(Of course we are using only position and velocity here, but it’s useful to remember that the state can contain any number of variables, and represent anything you want).</p>
<p>Next, we need some way to look at the <span style="color: #3366ff;"><strong>current state</strong></span> (at time <span style="color: #3366ff;"><strong>k-1</strong></span>) and <strong>predict the <span style="color: #ff00ff;">next state</span></strong> at time <span style="color: #ff00ff;"><strong>k</strong></span>. Remember, we don’t know which state is the “real” one, but our prediction function doesn’t care. It just works on <em>all of them</em>, and gives us a new distribution:</p>
<p><img class="aligncenter wp-image-590 size-full" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_7.jpg" alt="gauss_7" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_7.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_7-300x276.jpg 300w" sizes="(max-width: 310px) 100vw, 310px">We can represent this prediction step with a matrix, <span class="MathJax_Preview" style="">\mathbf{F_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-14-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-14">\mathbf{F_k}</script>:</p>
<p><img class="aligncenter wp-image-589 size-full" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_8.jpg" alt="gauss_8" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_8.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_8-300x276.jpg 300w" sizes="(max-width: 310px) 100vw, 310px">It takes <em>every point</em> in our original estimate and moves it to a new predicted location, which is where the system would move if that original estimate was the right one.</p>
<p>Let’s apply this. How would we use a matrix to predict the position and velocity at the next moment in the future? We’ll use a really basic kinematic formula:<span class="MathJax_Preview" style=""> 
\begin{split} 
\color{deeppink}{p_k} &amp;= \color{royalblue}{p_{k-1}} + \Delta t &amp;\color{royalblue}{v_{k-1}} \\ 
\color{deeppink}{v_k} &amp;= &amp;\color{royalblue}{v_{k-1}} 
\end{split} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-15"> 
\begin{split} 
\color{deeppink}{p_k} &= \color{royalblue}{p_{k-1}} + \Delta t &\color{royalblue}{v_{k-1}} \\ 
\color{deeppink}{v_k} &= &\color{royalblue}{v_{k-1}} 
\end{split} 
</script> In other words: <span class="MathJax_Preview" style=""> 
\begin{align} 
\color{deeppink}{\mathbf{\hat{x}}_k} &amp;= \begin{bmatrix} 
1 &amp; \Delta t \\ 
0 &amp; 1 
\end{bmatrix} \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \\ 
&amp;= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \label{statevars} 
\end{align} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-16"> 
\begin{align} 
\color{deeppink}{\mathbf{\hat{x}}_k} &= \begin{bmatrix} 
1 & \Delta t \\ 
0 & 1 
\end{bmatrix} \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \\ 
&= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \label{statevars} 
\end{align} 
</script></p>
<p>We now have a <strong>prediction matrix</strong> which gives us our next state, but we still don’t know how to update the covariance matrix.</p>
<p>This is where we need another formula. If we multiply every point in a distribution by a matrix <span class="MathJax_Preview" style="">\color{firebrick}{\mathbf{A}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-17-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-17">\color{firebrick}{\mathbf{A}}</script>, then what happens to its covariance matrix <span class="MathJax_Preview" style="">\Sigma</span><span class="MathJax MathJax_Processing" id="MathJax-Element-18-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-18">\Sigma</script>?</p>
<p>Well, it’s easy. I’ll just give you the identity:<span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
Cov(x) &amp;= \Sigma\\ 
Cov(\color{firebrick}{\mathbf{A}}x) &amp;= \color{firebrick}{\mathbf{A}} \Sigma \color{firebrick}{\mathbf{A}}^T 
\end{split} \label{covident} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-19"> 
\begin{equation} 
\begin{split} 
Cov(x) &= \Sigma\\ 
Cov(\color{firebrick}{\mathbf{A}}x) &= \color{firebrick}{\mathbf{A}} \Sigma \color{firebrick}{\mathbf{A}}^T 
\end{split} \label{covident} 
\end{equation} 
</script></p>
<p>So combining <span class="MathJax_Preview" style="">\eqref{covident}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-20-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-20">\eqref{covident}</script> with equation <span class="MathJax_Preview" style="">\eqref{statevars}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-21-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-21">\eqref{statevars}</script>:<span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &amp;= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \\ 
\color{deeppink}{\mathbf{P}_k} &amp;= \mathbf{F_k} \color{royalblue}{\mathbf{P}_{k-1}} \mathbf{F}_k^T 
\end{split} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-22"> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} \\ 
\color{deeppink}{\mathbf{P}_k} &= \mathbf{F_k} \color{royalblue}{\mathbf{P}_{k-1}} \mathbf{F}_k^T 
\end{split} 
\end{equation} 
</script></p>
<h2>External influence</h2>
<p>We haven’t captured everything, though. There might be some changes that <strong>aren’t related to the state</strong> itself— the outside world could be affecting the system.</p>
<p>For example, if the state models the motion of a train, the train operator might push on the throttle, causing the train to accelerate. Similarly, in our robot example, the navigation software might issue a command to turn the wheels or stop. If we know this additional information about what’s going on in the world, we could stuff it into a vector called <span class="MathJax_Preview" style="">\color{darkorange}{\vec{\mathbf{u}_k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-23-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-23">\color{darkorange}{\vec{\mathbf{u}_k}}</script>, do something with it, and add it to our prediction as a correction.</p>
<p>Let’s say we know the expected acceleration <span class="MathJax_Preview" style="">\color{darkorange}{a}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-24-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-24">\color{darkorange}{a}</script> due to the throttle setting or control commands. From basic kinematics we get: <span class="MathJax_Preview" style=""> 
\begin{split} 
\color{deeppink}{p_k} &amp;= \color{royalblue}{p_{k-1}} + {\Delta t} &amp;\color{royalblue}{v_{k-1}} + &amp;\frac{1}{2} \color{darkorange}{a} {\Delta t}^2 \\ 
\color{deeppink}{v_k} &amp;= &amp;\color{royalblue}{v_{k-1}} + &amp; \color{darkorange}{a} {\Delta t} 
\end{split} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-25"> 
\begin{split} 
\color{deeppink}{p_k} &= \color{royalblue}{p_{k-1}} + {\Delta t} &\color{royalblue}{v_{k-1}} + &\frac{1}{2} \color{darkorange}{a} {\Delta t}^2 \\ 
\color{deeppink}{v_k} &= &\color{royalblue}{v_{k-1}} + & \color{darkorange}{a} {\Delta t} 
\end{split} 
</script> In matrix form: <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &amp;= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \begin{bmatrix} 
\frac{\Delta t^2}{2} \\ 
\Delta t 
\end{bmatrix} \color{darkorange}{a} \\ 
&amp;= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \mathbf{B}_k \color{darkorange}{\vec{\mathbf{u}_k}} 
\end{split} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-26"> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \begin{bmatrix} 
\frac{\Delta t^2}{2} \\ 
\Delta t 
\end{bmatrix} \color{darkorange}{a} \\ 
&= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \mathbf{B}_k \color{darkorange}{\vec{\mathbf{u}_k}} 
\end{split} 
\end{equation} 
</script></p>
<p><span class="MathJax_Preview" style="">\mathbf{B}_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-27-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-27">\mathbf{B}_k</script> is called the <strong>control matrix</strong> and <span class="MathJax_Preview" style="">\color{darkorange}{\vec{\mathbf{u}_k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-28-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-28">\color{darkorange}{\vec{\mathbf{u}_k}}</script> the <strong>control vector.</strong> (For very simple systems with no external influence, you could omit these).</p>
<p>Let’s add one more detail. What happens if our prediction is not a 100% accurate model of what’s actually going on?</p>
<h2>External uncertainty</h2>
<p>Everything is fine if the state evolves based on its own properties. Everything is <em>still </em>fine if the state evolves based on external forces, so long as we know what those external forces are.</p>
<p>But what about forces that we <em>don’t </em>know about? If we’re tracking a quadcopter, for example, it could be buffeted around by wind. If we’re tracking a wheeled robot, the wheels could slip, or bumps on the ground could slow it down. We can’t keep track of these things, and if any of this happens, our prediction could be off because we didn’t account for those extra forces.</p>
<p>We can model the uncertainty associated with the “world” (i.e. things we aren’t keeping track of) by adding some new uncertainty after every prediction step:</p>
<p><img class="aligncenter size-full wp-image-631" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_9.jpg" alt="gauss_9" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_9.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_9-300x276.jpg 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>Every state in our original estimate could have moved to a <em>range</em> of states. Because we like Gaussian blobs so much, we’ll say that each point in <span class="MathJax_Preview" style="">\color{royalblue}{\mathbf{\hat{x}}_{k-1}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-29-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-29">\color{royalblue}{\mathbf{\hat{x}}_{k-1}}</script> is moved to somewhere inside a Gaussian blob with covariance <span class="MathJax_Preview" style="">\color{mediumaquamarine}{\mathbf{Q}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-30-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-30">\color{mediumaquamarine}{\mathbf{Q}_k}</script>. Another way to say this is that we are treating the untracked influences as <strong>noise</strong> with covariance <span class="MathJax_Preview" style="">\color{mediumaquamarine}{\mathbf{Q}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-31-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-31">\color{mediumaquamarine}{\mathbf{Q}_k}</script>.</p>
<p><a href="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10a.jpg"><img class="aligncenter size-full wp-image-639" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10a.jpg" alt="gauss_10a" width="310" height="310"></a>This produces a new Gaussian blob, with a different covariance (but the same mean):</p>
<p><img class="aligncenter size-full wp-image-638" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10b.jpg" alt="gauss_10b" width="310" height="310" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10b.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10b-150x150.jpg 150w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_10b-300x300.jpg 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>We get the expanded covariance by simply <strong>adding</strong> <span class="MathJax_Preview" style="">{\color{mediumaquamarine}{\mathbf{Q}_k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-32-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-32">{\color{mediumaquamarine}{\mathbf{Q}_k}}</script>, giving our complete expression for the <strong>prediction step</strong>: <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &amp;= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \mathbf{B}_k \color{darkorange}{\vec{\mathbf{u}_k}} \\ 
\color{deeppink}{\mathbf{P}_k} &amp;= \mathbf{F_k} \color{royalblue}{\mathbf{P}_{k-1}} \mathbf{F}_k^T + \color{mediumaquamarine}{\mathbf{Q}_k} 
\end{split} 
\label{kalpredictfull} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-33"> 
\begin{equation} 
\begin{split} 
\color{deeppink}{\mathbf{\hat{x}}_k} &= \mathbf{F}_k \color{royalblue}{\mathbf{\hat{x}}_{k-1}} + \mathbf{B}_k \color{darkorange}{\vec{\mathbf{u}_k}} \\ 
\color{deeppink}{\mathbf{P}_k} &= \mathbf{F_k} \color{royalblue}{\mathbf{P}_{k-1}} \mathbf{F}_k^T + \color{mediumaquamarine}{\mathbf{Q}_k} 
\end{split} 
\label{kalpredictfull} 
\end{equation} 
</script></p>
<p>In other words, the <span style="color: #ff00ff;"><strong>new best estimate</strong></span> is a <strong>prediction</strong> made from<span style="color: #3366ff;"><strong> previous best estimate</strong></span>, plus a <strong>correction</strong> for <span style="color: #ff9900;"><strong>known external influences</strong></span>.</p>
<p>And the <span style="color: #ff00ff;"><strong>new uncertainty</strong></span> is <strong>predicted</strong> from the <span style="color: #3366ff;"><strong>old uncertainty</strong></span>, with some <span style="color: #64cc98;"><strong>additional uncertainty from the environment</strong></span>.</p>
<p>All right, so that’s easy enough. We have a fuzzy estimate of where our system might be, given by <span class="MathJax_Preview" style="">\color{deeppink}{\mathbf{\hat{x}}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-34-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-34">\color{deeppink}{\mathbf{\hat{x}}_k}</script> and <span class="MathJax_Preview" style="">\color{deeppink}{\mathbf{P}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-35-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-35">\color{deeppink}{\mathbf{P}_k}</script>. What happens when we get some data from our sensors?</p>
<h1>Refining the estimate with measurements</h1>
<p>We might have several sensors which give us information about the state of our system. For the time being it doesn’t matter what they measure; perhaps one reads position and the other reads velocity. Each sensor tells us something <strong>indirect</strong> about the state— in other words, the sensors operate on a state and produce a set of <strong>readings</strong>.</p>
<p><img class="aligncenter size-full wp-image-652" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_12.jpg" alt="gauss_12" width="621" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_12.jpg 1242w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_12-300x138.jpg 300w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_12-1024x472.jpg 1024w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_12-624x287.jpg 624w" sizes="(max-width: 621px) 100vw, 621px">Notice that the units and scale of the reading might not be the same as the units and scale of the state we’re keeping track of. You might be able to guess where this is going: We’ll model the sensors with a matrix, <span class="MathJax_Preview" style="">\mathbf{H}_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-36-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-36">\mathbf{H}_k</script>.</p>
<p><img class="aligncenter size-full wp-image-652" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_13.jpg" alt="gauss_12" width="621" height="286"></p>
<p>We can figure out the distribution of sensor readings we’d expect to see in the usual way: <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{aligned} 
\vec{\mu}_{\text{expected}} &amp;= \mathbf{H}_k \color{deeppink}{\mathbf{\hat{x}}_k} \\ 
\mathbf{\Sigma}_{\text{expected}} &amp;= \mathbf{H}_k \color{deeppink}{\mathbf{P}_k} \mathbf{H}_k^T 
\end{aligned} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-37"> 
\begin{equation} 
\begin{aligned} 
\vec{\mu}_{\text{expected}} &= \mathbf{H}_k \color{deeppink}{\mathbf{\hat{x}}_k} \\ 
\mathbf{\Sigma}_{\text{expected}} &= \mathbf{H}_k \color{deeppink}{\mathbf{P}_k} \mathbf{H}_k^T 
\end{aligned} 
\end{equation} 
</script></p>
<p>One thing that Kalman filters are great for is dealing with <em>sensor noise</em>. In other words, our sensors are at least somewhat unreliable, and every state in our original estimate might result in a <em>range</em> of sensor readings. <img class="aligncenter size-full wp-image-652" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_14.jpg" alt="gauss_12" width="621" height="286"></p>
<p>From each reading we observe, we might guess that our system was in a particular state. But because there is uncertainty, <strong>some states are more likely than others</strong> to have have produced the reading we saw:<img class="aligncenter size-full wp-image-651" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_11.jpg" alt="gauss_11" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_11.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_11-300x276.jpg 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>We’ll call the <strong>covariance</strong> of this uncertainty (i.e. of the sensor noise) <span class="MathJax_Preview" style="">\color{mediumaquamarine}{\mathbf{R}_k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-38-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-38">\color{mediumaquamarine}{\mathbf{R}_k}</script>. The distribution has a <strong>mean</strong> equal to the reading we observed, which we’ll call <span class="MathJax_Preview" style="">\color{yellowgreen}{\vec{\mathbf{z}_k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-39-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-39">\color{yellowgreen}{\vec{\mathbf{z}_k}}</script>.</p>
<p>So now we have two Gaussian blobs: One surrounding the mean of our transformed prediction, and one surrounding the actual sensor reading we got.</p>
<p><img class="aligncenter wp-image-500 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_4.jpg" alt="gauss_4" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_4.jpg 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_4-300x276.jpg 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>We must try to reconcile our guess about the readings we’d see based on the <strong>predicted state</strong> (<span style="color: #ff00ff;"><strong>pink</strong></span>) with a <em>different</em> guess based on our <strong>sensor readings</strong> (<span style="color: #99cc00;"><strong>green</strong></span>) that we actually observed.</p>
<p>So what’s our new most likely state? For any possible reading <span class="MathJax_Preview" style="">(z_1,z_2)</span><span class="MathJax MathJax_Processing" id="MathJax-Element-40-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-40">(z_1,z_2)</script>, we have two associated probabilities: <span style="color: #99cc00;">(1)</span> The probability that our sensor reading&nbsp;<span class="MathJax_Preview" style="">\color{yellowgreen}{\vec{\mathbf{z}_k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-41-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-41">\color{yellowgreen}{\vec{\mathbf{z}_k}}</script> is a (mis-)measurement of <span class="MathJax_Preview" style="">(z_1,z_2)</span><span class="MathJax MathJax_Processing" id="MathJax-Element-42-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-42">(z_1,z_2)</script>, and <span style="color: #ff00ff;">(2)</span> the probability that our previous estimate thinks <span class="MathJax_Preview" style="">(z_1,z_2)</span><span class="MathJax MathJax_Processing" id="MathJax-Element-43-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-43">(z_1,z_2)</script> is the reading we should see.</p>
<p>If we have two probabilities and we want to know the chance that <em>both </em>are true, we just multiply them together. So, we take the two Gaussian blobs and multiply them:</p>
<p><img class="aligncenter wp-image-499 size-full" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_6a.png" alt="gauss_5" width="310" height="286"></p>
<p>What we’re left with is the <strong>overlap</strong>, the region where <em>both</em> blobs are bright/likely. And it’s a lot more precise than either of our previous estimates. The mean of this distribution is the configuration for which <strong>both estimates are most likely</strong>, and is therefore the <strong>best guess</strong> of the true configuration given all the information we have.</p>
<p>Hmm. This looks like another Gaussian blob.</p>
<p><img class="aligncenter size-full wp-image-498" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_6.png" alt="gauss_6" width="310" height="286" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_6.png 621w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_6-300x276.png 300w" sizes="(max-width: 310px) 100vw, 310px"></p>
<p>As it turns out, when you multiply two Gaussian blobs with separate means and covariance matrices, you get a <em>new</em> Gaussian blob with its <strong>own</strong> mean and covariance matrix! Maybe you can see where this is going: There’s got to be a formula to get those new parameters from the old ones!</p>
<h1>Combining Gaussians</h1>
<p>Let’s find that formula. It’s easiest to look at this first in <strong>one dimension</strong>. A 1D Gaussian bell curve with variance <span class="MathJax_Preview" style="">\sigma^2</span><span class="MathJax MathJax_Processing" id="MathJax-Element-44-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-44">\sigma^2</script> and mean <span class="MathJax_Preview" style="">\mu</span><span class="MathJax MathJax_Processing" id="MathJax-Element-45-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-45">\mu</script> is defined as: <span class="MathJax_Preview" style=""> 
\begin{equation} \label{gaussformula} 
\mathcal{N}(x, \mu,\sigma) = \frac{1}{ \sigma \sqrt{ 2\pi } } e^{ -\frac{ (x – \mu)^2 }{ 2\sigma^2 } } 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-46"> 
\begin{equation} \label{gaussformula} 
\mathcal{N}(x, \mu,\sigma) = \frac{1}{ \sigma \sqrt{ 2\pi } } e^{ -\frac{ (x – \mu)^2 }{ 2\sigma^2 } } 
\end{equation} 
</script></p>
<p>We want to know what happens when you multiply two Gaussian curves together. The blue curve below represents the (unnormalized) intersection of the two Gaussian populations:</p>
<p style="text-align: left;"><img class="aligncenter size-full wp-image-525" style="box-shadow: 0px 0px 0px;" src="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_joint.png" alt="Multiplying Gaussians" width="589" height="381" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/gauss_joint.png 589w, https://www.bzarg.com/wp-content/uploads/2015/08/gauss_joint-300x194.png 300w" sizes="(max-width: 589px) 100vw, 589px"></p>
<p><span class="MathJax_Preview" style="">\begin{equation} \label{gaussequiv} 
\mathcal{N}(x, \color{fuchsia}{\mu_0}, \color{deeppink}{\sigma_0}) \cdot \mathcal{N}(x, \color{yellowgreen}{\mu_1}, \color{mediumaquamarine}{\sigma_1}) \stackrel{?}{=} \mathcal{N}(x, \color{royalblue}{\mu’}, \color{mediumblue}{\sigma’}) 
\end{equation}</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-47">\begin{equation} \label{gaussequiv} 
\mathcal{N}(x, \color{fuchsia}{\mu_0}, \color{deeppink}{\sigma_0}) \cdot \mathcal{N}(x, \color{yellowgreen}{\mu_1}, \color{mediumaquamarine}{\sigma_1}) \stackrel{?}{=} \mathcal{N}(x, \color{royalblue}{\mu’}, \color{mediumblue}{\sigma’}) 
\end{equation}</script></p>
<p>You can substitute equation <span class="MathJax_Preview" style="">\eqref{gaussformula}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-48-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-48">\eqref{gaussformula}</script> into equation <span class="MathJax_Preview" style="">\eqref{gaussequiv}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-49-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-49">\eqref{gaussequiv}</script> and do some algebra (being careful to renormalize, so that the total probability is 1) to obtain: <span class="MathJax_Preview" style=""> 
\begin{equation} \label{fusionformula} 
\begin{aligned} 
\color{royalblue}{\mu’} &amp;= \mu_0 + \frac{\sigma_0^2 (\mu_1 – \mu_0)} {\sigma_0^2 + \sigma_1^2}\\ 
\color{mediumblue}{\sigma’}^2 &amp;= \sigma_0^2 – \frac{\sigma_0^4} {\sigma_0^2 + \sigma_1^2} 
\end{aligned} 
\end{equation}</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-50"> 
\begin{equation} \label{fusionformula} 
\begin{aligned} 
\color{royalblue}{\mu’} &= \mu_0 + \frac{\sigma_0^2 (\mu_1 – \mu_0)} {\sigma_0^2 + \sigma_1^2}\\ 
\color{mediumblue}{\sigma’}^2 &= \sigma_0^2 – \frac{\sigma_0^4} {\sigma_0^2 + \sigma_1^2} 
\end{aligned} 
\end{equation}</script></p>
<p>We can simplify by factoring out a little piece and calling it <span class="MathJax_Preview" style="">\color{purple}{\mathbf{k}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-51-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-51">\color{purple}{\mathbf{k}}</script>: <span class="MathJax_Preview" style=""> 
\begin{equation} \label{gainformula} 
\color{purple}{\mathbf{k}} = \frac{\sigma_0^2}{\sigma_0^2 + \sigma_1^2} 
\end{equation} </span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-52"> 
\begin{equation} \label{gainformula} 
\color{purple}{\mathbf{k}} = \frac{\sigma_0^2}{\sigma_0^2 + \sigma_1^2} 
\end{equation} </script> <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\mu’} &amp;= \mu_0 + &amp;\color{purple}{\mathbf{k}} (\mu_1 – \mu_0)\\ 
\color{mediumblue}{\sigma’}^2 &amp;= \sigma_0^2 – &amp;\color{purple}{\mathbf{k}} \sigma_0^2 
\end{split} \label{update} 
\end{equation} </span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-53"> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\mu’} &= \mu_0 + &\color{purple}{\mathbf{k}} (\mu_1 – \mu_0)\\ 
\color{mediumblue}{\sigma’}^2 &= \sigma_0^2 – &\color{purple}{\mathbf{k}} \sigma_0^2 
\end{split} \label{update} 
\end{equation} </script></p>
<p>Take note of how you can take your previous estimate and <strong>add something</strong> to make a new estimate. And look at how simple that formula is!</p>
<p>But what about a matrix version? Well, let’s just re-write equations <span class="MathJax_Preview" style="">\eqref{gainformula}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-54-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-54">\eqref{gainformula}</script> and <span class="MathJax_Preview" style="">\eqref{update}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-55-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-55">\eqref{update}</script> in matrix form. If <span class="MathJax_Preview" style="">\Sigma</span><span class="MathJax MathJax_Processing" id="MathJax-Element-56-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-56">\Sigma</script> is the covariance matrix of a Gaussian blob, and <span class="MathJax_Preview" style="">\vec{\mu}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-57-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-57">\vec{\mu}</script> its mean along each axis, then: <span class="MathJax_Preview" style=""> 
\begin{equation} \label{matrixgain} 
\color{purple}{\mathbf{K}} = \Sigma_0 (\Sigma_0 + \Sigma_1)^{-1} 
\end{equation} </span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-58-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-58"> 
\begin{equation} \label{matrixgain} 
\color{purple}{\mathbf{K}} = \Sigma_0 (\Sigma_0 + \Sigma_1)^{-1} 
\end{equation} </script> <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\vec{\mu}’} &amp;= \vec{\mu_0} + &amp;\color{purple}{\mathbf{K}} (\vec{\mu_1} – \vec{\mu_0})\\ 
\color{mediumblue}{\Sigma’} &amp;= \Sigma_0 – &amp;\color{purple}{\mathbf{K}} \Sigma_0 
\end{split} \label{matrixupdate} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-59-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-59"> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\vec{\mu}’} &= \vec{\mu_0} + &\color{purple}{\mathbf{K}} (\vec{\mu_1} – \vec{\mu_0})\\ 
\color{mediumblue}{\Sigma’} &= \Sigma_0 – &\color{purple}{\mathbf{K}} \Sigma_0 
\end{split} \label{matrixupdate} 
\end{equation} 
</script></p>
<p><span class="MathJax_Preview" style="">\color{purple}{\mathbf{K}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-60-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-60">\color{purple}{\mathbf{K}}</script> is a matrix called the <strong>Kalman gain</strong>, and we’ll use it in just a moment.</p>
<p>Easy! We’re almost finished!</p>
<h1>Putting it all together</h1>
<p>We have two distributions: The predicted measurement with <span class="MathJax_Preview" style=""> (\color{fuchsia}{\mu_0}, \color{deeppink}{\Sigma_0}) = (\color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k}, \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T}) </span><span class="MathJax MathJax_Processing" id="MathJax-Element-61-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-61"> (\color{fuchsia}{\mu_0}, \color{deeppink}{\Sigma_0}) = (\color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k}, \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T}) </script>, and the observed measurement with <span class="MathJax_Preview" style=""> (\color{yellowgreen}{\mu_1}, \color{mediumaquamarine}{\Sigma_1}) = (\color{yellowgreen}{\vec{\mathbf{z}_k}}, \color{mediumaquamarine}{\mathbf{R}_k})</span><span class="MathJax MathJax_Processing" id="MathJax-Element-62-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-62"> (\color{yellowgreen}{\mu_1}, \color{mediumaquamarine}{\Sigma_1}) = (\color{yellowgreen}{\vec{\mathbf{z}_k}}, \color{mediumaquamarine}{\mathbf{R}_k})</script>. We can just plug these into equation <span class="MathJax_Preview" style="">\eqref{matrixupdate}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-63-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-63">\eqref{matrixupdate}</script> to find their overlap: <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{aligned} 
\mathbf{H}_k \color{royalblue}{\mathbf{\hat{x}}_k’} &amp;= \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} &amp; + &amp; \color{purple}{\mathbf{K}} ( \color{yellowgreen}{\vec{\mathbf{z}_k}} – \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} ) \\ 
\mathbf{H}_k \color{royalblue}{\mathbf{P}_k’} \mathbf{H}_k^T &amp;= \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} &amp; – &amp; \color{purple}{\mathbf{K}} \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} 
\end{aligned} \label {kalunsimplified} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-64-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-64"> 
\begin{equation} 
\begin{aligned} 
\mathbf{H}_k \color{royalblue}{\mathbf{\hat{x}}_k’} &= \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} & + & \color{purple}{\mathbf{K}} ( \color{yellowgreen}{\vec{\mathbf{z}_k}} – \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} ) \\ 
\mathbf{H}_k \color{royalblue}{\mathbf{P}_k’} \mathbf{H}_k^T &= \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} & – & \color{purple}{\mathbf{K}} \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} 
\end{aligned} \label {kalunsimplified} 
\end{equation} 
</script> And from <span class="MathJax_Preview" style="">\eqref{matrixgain}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-65-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-65">\eqref{matrixgain}</script>, the Kalman gain is: <span class="MathJax_Preview" style=""> 
\begin{equation} \label{eq:kalgainunsimplified} 
\color{purple}{\mathbf{K}} = \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} ( \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} + \color{mediumaquamarine}{\mathbf{R}_k})^{-1} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-66-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-66"> 
\begin{equation} \label{eq:kalgainunsimplified} 
\color{purple}{\mathbf{K}} = \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} ( \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} + \color{mediumaquamarine}{\mathbf{R}_k})^{-1} 
\end{equation} 
</script> We can knock an <span class="MathJax_Preview" style="">\mathbf{H}_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-67-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-67">\mathbf{H}_k</script> off the front of every term in <span class="MathJax_Preview" style="">\eqref{kalunsimplified}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-68-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-68">\eqref{kalunsimplified}</script> and <span class="MathJax_Preview" style="">\eqref{eq:kalgainunsimplified}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-69-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-69">\eqref{eq:kalgainunsimplified}</script> (note that one is hiding inside <span class="MathJax_Preview" style="">\color{purple}{\mathbf{K}}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-70-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-70">\color{purple}{\mathbf{K}}</script> ), and an <span class="MathJax_Preview" style="">\mathbf{H}_k^T</span><span class="MathJax MathJax_Processing" id="MathJax-Element-71-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-71">\mathbf{H}_k^T</script> off the end of all terms in the equation for <span class="MathJax_Preview" style="">\color{royalblue}{\mathbf{P}_k’}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-72-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-72">\color{royalblue}{\mathbf{P}_k’}</script>. <span class="MathJax_Preview" style=""> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\mathbf{\hat{x}}_k’} &amp;= \color{fuchsia}{\mathbf{\hat{x}}_k} &amp; + &amp; \color{purple}{\mathbf{K}’} ( \color{yellowgreen}{\vec{\mathbf{z}_k}} – \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} ) \\ 
\color{royalblue}{\mathbf{P}_k’} &amp;= \color{deeppink}{\mathbf{P}_k} &amp; – &amp; \color{purple}{\mathbf{K}’} \color{deeppink}{\mathbf{H}_k \mathbf{P}_k} 
\end{split} 
\label{kalupdatefull} 
\end{equation} </span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-73-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-73"> 
\begin{equation} 
\begin{split} 
\color{royalblue}{\mathbf{\hat{x}}_k’} &= \color{fuchsia}{\mathbf{\hat{x}}_k} & + & \color{purple}{\mathbf{K}’} ( \color{yellowgreen}{\vec{\mathbf{z}_k}} – \color{fuchsia}{\mathbf{H}_k \mathbf{\hat{x}}_k} ) \\ 
\color{royalblue}{\mathbf{P}_k’} &= \color{deeppink}{\mathbf{P}_k} & – & \color{purple}{\mathbf{K}’} \color{deeppink}{\mathbf{H}_k \mathbf{P}_k} 
\end{split} 
\label{kalupdatefull} 
\end{equation} </script> <span class="MathJax_Preview" style=""> 
\begin{equation} 
\color{purple}{\mathbf{K}’} = \color{deeppink}{\mathbf{P}_k \mathbf{H}_k^T} ( \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} + \color{mediumaquamarine}{\mathbf{R}_k})^{-1} 
\label{kalgainfull} 
\end{equation} 
</span><div class="MathJax_Display MathJax_Processing"><span class="MathJax" id="MathJax-Element-74-Frame" tabindex="0"></span></div><script type="math/tex; mode=display" id="MathJax-Element-74"> 
\begin{equation} 
\color{purple}{\mathbf{K}’} = \color{deeppink}{\mathbf{P}_k \mathbf{H}_k^T} ( \color{deeppink}{\mathbf{H}_k \mathbf{P}_k \mathbf{H}_k^T} + \color{mediumaquamarine}{\mathbf{R}_k})^{-1} 
\label{kalgainfull} 
\end{equation} 
</script> …giving us the complete equations for the <strong>update step.</strong></p>
<p>And that’s it! <span class="MathJax_Preview" style="">\color{royalblue}{\mathbf{\hat{x}}_k’}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-75-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-75">\color{royalblue}{\mathbf{\hat{x}}_k’}</script> is our new best estimate, and we can go on and feed it (along with <span class="MathJax_Preview" style=""> \color{royalblue}{\mathbf{P}_k’} </span><span class="MathJax MathJax_Processing" id="MathJax-Element-76-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-76"> \color{royalblue}{\mathbf{P}_k’} </script> ) back into another round of <strong>predict </strong>or <strong>update</strong> as many times as we like.</p>
<p><a href="https://www.bzarg.com/wp-content/uploads/2015/08/kalflow.png"><img class="aligncenter size-full wp-image-721" src="https://www.bzarg.com/wp-content/uploads/2015/08/kalflow.png" alt="Kalman filter information flow diagram" width="850" height="1100" srcset="https://www.bzarg.com/wp-content/uploads/2015/08/kalflow.png 850w, https://www.bzarg.com/wp-content/uploads/2015/08/kalflow-232x300.png 232w, https://www.bzarg.com/wp-content/uploads/2015/08/kalflow-791x1024.png 791w, https://www.bzarg.com/wp-content/uploads/2015/08/kalflow-624x808.png 624w" sizes="(max-width: 850px) 100vw, 850px"></a></p>
<h1>Wrapping up</h1>
<p>Of all the math above, all you need to implement are equations <span class="MathJax_Preview" style="">\eqref{kalpredictfull}, \eqref{kalupdatefull}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-77-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-77">\eqref{kalpredictfull}, \eqref{kalupdatefull}</script>, and <span class="MathJax_Preview" style="">\eqref{kalgainfull}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-78-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-78">\eqref{kalgainfull}</script>. (Or if you forget those, you could re-derive everything from equations <span class="MathJax_Preview" style="">\eqref{covident}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-79-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-79">\eqref{covident}</script> and <span class="MathJax_Preview" style="">\eqref{matrixupdate}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-80-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-80">\eqref{matrixupdate}</script>.)</p>
<p>This will allow you to model any linear system accurately. For nonlinear systems, we use the <strong>extended Kalman filter</strong>, which works by simply linearizing the predictions and measurements about their mean. (I may do a second write-up on the EKF in the future).</p>
<p>If I’ve done my job well, hopefully someone else out there will realize how cool these things are and come up with an unexpected new place to put them into action.</p>
<hr>
<p>&nbsp;</p>
<p>Some credit and referral should be given to <a href="http://www.cl.cam.ac.uk/~rmf25/papers/Understanding%20the%20Basis%20of%20the%20Kalman%20Filter.pdf">this fine document</a>, which uses a similar approach involving overlapping Gaussians. More in-depth derivations can be found there, for the curious.</p>
<p>
<!-- Code Embed v2.3.2 -->
<script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<!-- End of Code Embed output -->
</p>
<!-- Simple Share Buttons Adder (7.6.21) simplesharebuttons.com --><div class="ssba-classic-2 ssba ssbp-wrap left ssbp--theme-1"><div style="text-align:left"><a data-site="" class="ssba_facebook_share" href="http://www.facebook.com/sharer.php?u=https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/" target="_blank"><img src="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/buttons/simple/facebook.png" style="width: 25px;" title="Facebook" class="ssba ssba-img" alt="Share on Facebook"><div title="Facebook" class="ssbp-text">Facebook</div></a><a data-site="" class="ssba_twitter_share" href="http://twitter.com/share?url=https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/&amp;text=How%20a%20Kalman%20filter%20works%2C%20in%20pictures%20" target="&quot;_blank&quot;"><img src="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/buttons/simple/twitter.png" style="width: 25px;" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter"><div title="Twitter" class="ssbp-text">Twitter</div></a><a data-site="reddit" class="ssba_reddit_share" href="http://reddit.com/submit?url=https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/&amp;title=How a Kalman filter works, in pictures" target="&quot;_blank&quot;"><img src="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/buttons/simple/reddit.png" style="width: 25px;" title="Reddit" class="ssba ssba-img" alt="Share on Reddit"><div title="Reddit" class="ssbp-text">Reddit</div></a><a data-site="email" class="ssba_email_share" href="mailto:?subject=How%20a%20Kalman%20filter%20works,%20in%20pictures&amp;body=%20https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/"><img src="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/buttons/simple/email.png" style="width: 25px;" title="Email" class="ssba ssba-img" alt="Email this to someone"><div title="email" class="ssbp-text">email</div></a></div></div>					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://www.bzarg.com/p/category/mini-courses/" rel="category tag">Mini-courses</a>, <a href="https://www.bzarg.com/p/category/programming/" rel="category tag">Programming</a> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/" title="7:20 am" rel="bookmark"><time class="entry-date" datetime="2015-08-11T07:20:35-07:00">August 11, 2015</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://www.bzarg.com/p/author/tr-babbgmail-com/" title="View all posts by tbabb" rel="author">tbabb</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="https://www.bzarg.com/p/how-to-pronounce-hexadecimal/" rel="prev"><span class="meta-nav">←</span> How to pronounce hexadecimal</a></span>
					<span class="nav-next"><a href="https://www.bzarg.com/p/second-order-fizzbuzz/" rel="next">Second Order FizzBuzz <span class="meta-nav">→</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			350 thoughts on “<span>How a Kalman filter works, in pictures</span>”		</h2>

		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-782">
		<article id="comment-782" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/44e3a8f53c75f2bb5dd0904e88d6c870?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/44e3a8f53c75f2bb5dd0904e88d6c870?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Valen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-782"><time datetime="2015-08-11T17:51:39-07:00">August 11, 2015 at 5:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article! Loving your other posts as well.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=782#respond" data-commentid="782" data-postid="491" data-belowelement="comment-782" data-respondelement="respond" aria-label="Reply to Valen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-1009">
		<article id="comment-1009" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/312c9e82b6db854590fee2160f58b774?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/312c9e82b6db854590fee2160f58b774?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">AKM Sabbir</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1009"><time datetime="2017-02-28T04:19:36-08:00">February 28, 2017 at 4:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>it seems its linear time dependent model. is it possible to introduce nonlinearity. what if the transformation is not linear. then how do you approximate the non linearity. every state represents the parametric form of a distribution. that means the actual state need to be sampled.  is not it an expensive process?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1009#respond" data-commentid="1009" data-postid="491" data-belowelement="comment-1009" data-respondelement="respond" aria-label="Reply to AKM Sabbir">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1010">
		<article id="comment-1010" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/312c9e82b6db854590fee2160f58b774?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/312c9e82b6db854590fee2160f58b774?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">AKM Sabbir</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1010"><time datetime="2017-02-28T04:22:18-08:00">February 28, 2017 at 4:22 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>i am sorry u mentioned Extended Kalman Filter. i apologize, i missed the last part. great write up. i really loved it.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1010#respond" data-commentid="1010" data-postid="491" data-belowelement="comment-1010" data-respondelement="respond" aria-label="Reply to AKM Sabbir">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-4" id="li-comment-1196">
		<article id="comment-1196" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b69cb688a3e499ea0185310d634e05a5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b69cb688a3e499ea0185310d634e05a5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">r00bi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1196"><time datetime="2019-10-12T12:37:29-07:00">October 12, 2019 at 12:37 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks, it was a nice article!<br>
How can I  plot the uncertainty surrounding each point (mean) in python?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1196#respond" data-commentid="1196" data-postid="491" data-belowelement="comment-1196" data-respondelement="respond" aria-label="Reply to r00bi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-5" id="li-comment-1206">
		<article id="comment-1206" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b1bbe9fc2d1ed09393c9113308bdee7c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b1bbe9fc2d1ed09393c9113308bdee7c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">James</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1206"><time datetime="2020-01-15T12:59:56-08:00">January 15, 2020 at 12:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I find drawing ellipses helps me visualize it nicely.</p>
<p>For a quick-and-dirty plot, you can treat each row (or column) of the covariance matrix as a vector and plot out linear combinations of the two using sine and cosine. So given covariance matrix and mean<br>
 M = [m11, m12; m21, m22]<br>
u = [u1; u2]<br>
your x and y values would be<br>
x = u1 + m11 * cos(theta) + m12 * sin(theta)<br>
y = u2 + m21 * cos(theta) + m22 * sin(theta)<br>
Just sweep theta from 0 to 2pi and you’ve got an ellipse!</p>
<p>For a more in-depth approach check out this link:<br>
<a href="https://www.visiondummy.com/2014/04/draw-error-ellipse-representing-covariance-matrix/" rel="nofollow ugc">https://www.visiondummy.com/2014/04/draw-error-ellipse-representing-covariance-matrix/</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt depth-3" id="li-comment-1204">
		<article id="comment-1204" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2503710a956f5153476f4ab5712eb53e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2503710a956f5153476f4ab5712eb53e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">wangjiangjiang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1204"><time datetime="2019-12-20T01:27:56-08:00">December 20, 2019 at 1:27 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Have you written an introduction to extended Kalman filtering?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1204#respond" data-commentid="1204" data-postid="491" data-belowelement="comment-1204" data-respondelement="respond" aria-label="Reply to wangjiangjiang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even depth-2" id="li-comment-1103">
		<article id="comment-1103" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/aab3024b57e4b0d8cd0ff57ac41d21d7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aab3024b57e4b0d8cd0ff57ac41d21d7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Beiming</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1103"><time datetime="2017-11-19T14:15:07-08:00">November 19, 2017 at 2:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>now I understood，you are greate!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1103#respond" data-commentid="1103" data-postid="491" data-belowelement="comment-1103" data-respondelement="respond" aria-label="Reply to Beiming">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt depth-2" id="li-comment-1243">
		<article id="comment-1243" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4cdf653900a5bdda80716f0af40832ba?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4cdf653900a5bdda80716f0af40832ba?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yubiao Zhang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1243"><time datetime="2021-06-05T19:12:48-07:00">June 5, 2021 at 7:12 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Definitely love it!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1243#respond" data-commentid="1243" data-postid="491" data-belowelement="comment-1243" data-respondelement="respond" aria-label="Reply to Yubiao Zhang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-783">
		<article id="comment-783" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/df17509b08964980452c6aa7359e7797?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/df17509b08964980452c6aa7359e7797?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://winterflower.github.io" rel="external nofollow ugc" class="url">Camilla</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-783"><time datetime="2015-08-11T20:42:27-07:00">August 11, 2015 at 8:42 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Wow! This article is amazing. Thank you very much for putting in the time and effort to produce this.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=783#respond" data-commentid="783" data-postid="491" data-belowelement="comment-783" data-respondelement="respond" aria-label="Reply to Camilla">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-983">
		<article id="comment-983" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a190a672a61998ae50da00a2a88ba6bb?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a190a672a61998ae50da00a2a88ba6bb?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Davi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-983"><time datetime="2017-01-04T10:06:13-08:00">January 4, 2017 at 10:06 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=983#respond" data-commentid="983" data-postid="491" data-belowelement="comment-983" data-respondelement="respond" aria-label="Reply to Davi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-784">
		<article id="comment-784" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/160046aa199ba8beafea6e4144c3e1fd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/160046aa199ba8beafea6e4144c3e1fd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">george</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-784"><time datetime="2015-08-11T21:34:06-07:00">August 11, 2015 at 9:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is  a nice  and straight forward explanation .<br>
Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=784#respond" data-commentid="784" data-postid="491" data-belowelement="comment-784" data-respondelement="respond" aria-label="Reply to george">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-859">
		<article id="comment-859" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/670bda7f7ba9a5084674cc51270b1098?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/670bda7f7ba9a5084674cc51270b1098?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">sobhan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-859"><time datetime="2016-01-05T15:04:47-08:00">January 5, 2016 at 3:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I do agree…that is so great and I find it interesting and I will do it in other places ……and mention your name dude……….thanks a lot.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=859#respond" data-commentid="859" data-postid="491" data-belowelement="comment-859" data-respondelement="respond" aria-label="Reply to sobhan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-785">
		<article id="comment-785" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/fc3f7c4681868f3fce25def028d08ab7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fc3f7c4681868f3fce25def028d08ab7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Justin</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-785"><time datetime="2015-08-11T21:35:21-07:00">August 11, 2015 at 9:35 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hey Tim what did you use to draw this illustration?<br>
<a href="https://www.bzarg.com/wp-content/uploads/2015/08/kalflow.png" rel="nofollow ugc">https://www.bzarg.com/wp-content/uploads/2015/08/kalflow.png</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=785#respond" data-commentid="785" data-postid="491" data-belowelement="comment-785" data-respondelement="respond" aria-label="Reply to Justin">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-806">
		<article id="comment-806" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-806"><time datetime="2015-08-13T00:07:36-07:00">August 13, 2015 at 12:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>All the illustrations are done primarily with Photoshop and a stylus.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=806#respond" data-commentid="806" data-postid="491" data-belowelement="comment-806" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1222">
		<article id="comment-1222" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3c759b4da5e9711f6dffbde0b8a12854?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c759b4da5e9711f6dffbde0b8a12854?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Lat Low</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1222"><time datetime="2020-07-25T13:51:28-07:00">July 25, 2020 at 1:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Did you use stylus on screen like iPad or Surface Pro or a drawing tablet like Wacom?</p>
<p>The reason I ask is that latency is still an issue here.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1222#respond" data-commentid="1222" data-postid="491" data-belowelement="comment-1222" data-respondelement="respond" aria-label="Reply to Lat Low">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-786">
		<article id="comment-786" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3de01a0c1a9c0e55efc6ecfa72b4eab3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3de01a0c1a9c0e55efc6ecfa72b4eab3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://tech.bluesmoon.info/" rel="external nofollow ugc" class="url">Philip Tellis</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-786"><time datetime="2015-08-11T22:30:29-07:00">August 11, 2015 at 10:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice explanation.  Looks like someone wrote a Kalman filter implementation in Julia: <a href="https://github.com/wkearn/Kalman.jl" rel="nofollow ugc">https://github.com/wkearn/Kalman.jl</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=786#respond" data-commentid="786" data-postid="491" data-belowelement="comment-786" data-respondelement="respond" aria-label="Reply to Philip Tellis">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-787">
		<article id="comment-787" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1cd46a26ceada395ae900bd4cd40a052?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1cd46a26ceada395ae900bd4cd40a052?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://fulmicoton.com" rel="external nofollow ugc" class="url">Paul Masurel</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-787"><time datetime="2015-08-11T23:22:53-07:00">August 11, 2015 at 11:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post! Keep up the good work!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=787#respond" data-commentid="787" data-postid="491" data-belowelement="comment-787" data-respondelement="respond" aria-label="Reply to Paul Masurel">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-788">
		<article id="comment-788" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a8eeb68641395ea82ac1c8783306548e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a8eeb68641395ea82ac1c8783306548e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ben Jackson</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-788"><time datetime="2015-08-12T00:10:05-07:00">August 12, 2015 at 12:10 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice work!  I literally just drew half of those covariance diagrams on a whiteboard for someone.  Now I can just direct everyone to your page.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=788#respond" data-commentid="788" data-postid="491" data-belowelement="comment-788" data-respondelement="respond" aria-label="Reply to Ben Jackson">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-789">
		<article id="comment-789" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/01cc07930d88f6f16a6dbaa6590942f4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/01cc07930d88f6f16a6dbaa6590942f4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Maxime Caron</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-789"><time datetime="2015-08-12T00:10:14-07:00">August 12, 2015 at 12:10 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post. Keep up the good work! I am hoping for the Extended Kalman filter soon.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=789#respond" data-commentid="789" data-postid="491" data-belowelement="comment-789" data-respondelement="respond" aria-label="Reply to Maxime Caron">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-790">
		<article id="comment-790" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/87b240fb63f5ca5f3f1320c207d1b6e3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/87b240fb63f5ca5f3f1320c207d1b6e3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sebastian</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-790"><time datetime="2015-08-12T01:49:03-07:00">August 12, 2015 at 1:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>What happens if your sensors only measure one of the state variables. Do you just make the H matrix to drop the rows you don’t have sensor data for and it all works out?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=790#respond" data-commentid="790" data-postid="491" data-belowelement="comment-790" data-respondelement="respond" aria-label="Reply to Sebastian">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-855">
		<article id="comment-855" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/04fde8a772b6dcc8ff382559a0f0af89?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/04fde8a772b6dcc8ff382559a0f0af89?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Raj Samant</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-855"><time datetime="2015-12-12T17:22:58-08:00">December 12, 2015 at 5:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You reduce the rank of H matrix, omitting row will not make Hx multiplication possible. If in above example only position is measured state u make H = [1 0; 0 0]. If both are measurable then u make H = [1 0; 0 1];</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=855#respond" data-commentid="855" data-postid="491" data-belowelement="comment-855" data-respondelement="respond" aria-label="Reply to Raj Samant">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-791">
		<article id="comment-791" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/df142a7443f33d1060a735dfc4f99a3d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/df142a7443f33d1060a735dfc4f99a3d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jim Hejl</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-791"><time datetime="2015-08-12T02:09:44-07:00">August 12, 2015 at 2:09 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>great write up! Thx!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=791#respond" data-commentid="791" data-postid="491" data-belowelement="comment-791" data-respondelement="respond" aria-label="Reply to Jim Hejl">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-792">
		<article id="comment-792" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/bba549e6503a690d0f03579f9f8b874c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/bba549e6503a690d0f03579f9f8b874c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">John Shea</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-792"><time datetime="2015-08-12T02:19:36-07:00">August 12, 2015 at 2:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very nice, but are you missing squares on those variances in (1)?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=792#respond" data-commentid="792" data-postid="491" data-belowelement="comment-792" data-respondelement="respond" aria-label="Reply to John Shea">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-982">
		<article id="comment-982" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/35a20cc0bfa6e4666b81f7613f7111b6?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/35a20cc0bfa6e4666b81f7613f7111b6?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Santanu Dutt</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-982"><time datetime="2016-12-28T11:55:21-08:00">December 28, 2016 at 11:55 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks a lot for this wonderfully illuminating article. Like many others who have replied, this too was the first time I got to understand what the Kalman Filter does and how it does it. Thanks a lot</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=982#respond" data-commentid="982" data-postid="491" data-belowelement="comment-982" data-respondelement="respond" aria-label="Reply to Santanu Dutt">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-793">
		<article id="comment-793" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/eb30cdc55bf748125a724873b611d76c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eb30cdc55bf748125a724873b611d76c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://ww.ilyakavalerov.com" rel="external nofollow ugc" class="url">Ilya Kavalerov</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-793"><time datetime="2015-08-12T02:34:08-07:00">August 12, 2015 at 2:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice post!</p>
<p>Near ‘You can use a Kalman filter in any place where you have uncertain information’ shouldn’t there be a caveat that the ‘dynamic system’ obeys the <a href="https://en.wikipedia.org/wiki/Markov_property" rel="nofollow">markov property</a>?  I.e. a process where given the present, the future is independent of the past (not true in financial data for example).</p>
<p>Also just curious, why no references to hidden markov models, the Kalman filter’s discrete (and simpler) cousin?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=793#respond" data-commentid="793" data-postid="491" data-belowelement="comment-793" data-respondelement="respond" aria-label="Reply to Ilya Kavalerov">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-800">
		<article id="comment-800" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1e2514a6fe7323f7d892809e64377706?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1e2514a6fe7323f7d892809e64377706?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://hypergeometric.wordpress.com" rel="external nofollow ugc" class="url">Jan Galkowski</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-800"><time datetime="2015-08-12T14:10:22-07:00">August 12, 2015 at 2:10 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Don’t know if this question was answered, but, yes, there is a Markovian assumption in the model, as well as an assumption of linearity.  But, at least in my technical opinion, that sounds much more restrictive than it actually is in practice.  If the system (or “plant”) changes its internal “state” smoothly, the linearization of the Kalman is nothing more than using a local Taylor expansion of that state behavior, and, to some degree, a faster rate of change can be compensated for by increasing sampling rate. As far as the Markovian assumption goes, I think most models which are not Markovian can be transformed into alternate models which are Markovian, using a change in variables and such.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=800#respond" data-commentid="800" data-postid="491" data-belowelement="comment-800" data-respondelement="respond" aria-label="Reply to Jan Galkowski">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-794">
		<article id="comment-794" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b6176bc0478cae03624ca4e352946547?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b6176bc0478cae03624ca4e352946547?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tom</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-794"><time datetime="2015-08-12T03:24:30-07:00">August 12, 2015 at 3:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome post! I’m impressed.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=794#respond" data-commentid="794" data-postid="491" data-belowelement="comment-794" data-respondelement="respond" aria-label="Reply to tom">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-795">
		<article id="comment-795" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7e5d9228c5f1597dd7cea06cb2fd9f24?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7e5d9228c5f1597dd7cea06cb2fd9f24?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kalen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-795"><time datetime="2015-08-12T05:57:02-07:00">August 12, 2015 at 5:57 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Aaaargh!<br>
I wish I’d known about these filters a couple years back – they would have helped me solve an embedded control problem with lots of measurement uncertainty.</p>
<p>Thanks for the great post!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=795#respond" data-commentid="795" data-postid="491" data-belowelement="comment-795" data-respondelement="respond" aria-label="Reply to Kalen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-796">
		<article id="comment-796" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9d89ffb766d993dadd7ce0575cd84aec?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9d89ffb766d993dadd7ce0575cd84aec?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://thearduinoguy.org" rel="external nofollow ugc" class="url">Mike McRoberts</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-796"><time datetime="2015-08-12T07:33:08-07:00">August 12, 2015 at 7:33 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article and very informative. Love the use of graphics. I would love to see another on the ‘extended Kalman filter’.</p>
<p>Thanks,</p>
<p>Mike</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=796#respond" data-commentid="796" data-postid="491" data-belowelement="comment-796" data-respondelement="respond" aria-label="Reply to Mike McRoberts">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-1146">
		<article id="comment-1146" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2e41d52b2986c0c63a2f464e34b7b3f3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2e41d52b2986c0c63a2f464e34b7b3f3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://maiachia.blogspot.com/" rel="external nofollow ugc" class="url">Yola</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1146"><time datetime="2018-02-26T10:23:13-08:00">February 26, 2018 at 10:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The same here! And i agree the post is clear to read and understand. Thanks to the author!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1146#respond" data-commentid="1146" data-postid="491" data-belowelement="comment-1146" data-respondelement="respond" aria-label="Reply to Yola">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-797">
		<article id="comment-797" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e490c44e8ad92d7d055239b1481b5baa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e490c44e8ad92d7d055239b1481b5baa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Pedrow</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-797"><time datetime="2015-08-12T10:54:28-07:00">August 12, 2015 at 10:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article, thanks!</p>
<p>It would be great if you could repeat all the definitions just after equations (18) and (19) – I found myself constantly scrolling up &amp; down because I couldn’t remember what z was, etc. etc.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=797#respond" data-commentid="797" data-postid="491" data-belowelement="comment-797" data-respondelement="respond" aria-label="Reply to Pedrow">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-798">
		<article id="comment-798" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/dd8381b899cfa93f84d3500d501acd90?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/dd8381b899cfa93f84d3500d501acd90?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Greg Yaks</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-798"><time datetime="2015-08-12T12:20:28-07:00">August 12, 2015 at 12:20 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Just before equation (2), the kinematics part, shouldn’t the first equation be about p_k rather than x_k, i.e., position and not the state?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=798#respond" data-commentid="798" data-postid="491" data-belowelement="comment-798" data-respondelement="respond" aria-label="Reply to Greg Yaks">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-801">
		<article id="comment-801" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/19a31d231ab7202615a2e564e6b83626?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/19a31d231ab7202615a2e564e6b83626?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">santaraxita</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-801"><time datetime="2015-08-12T21:10:17-07:00">August 12, 2015 at 9:10 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is an excellent piece of pedagogy. Every step in the exposition seems natural and reasonable. I just chanced upon this post having the vaguest idea about Kalman filters but now I can pretty much derive it. The only thing I have to ask is whether the control matrix/vector must come from the second order terms of the taylor expansion or is that a pedagogical choice you made as an instance of external influence? Also, I guess in general your prediction matrices can come from a one-parameter group of diffeomorphisms.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=801#respond" data-commentid="801" data-postid="491" data-belowelement="comment-801" data-respondelement="respond" aria-label="Reply to santaraxita">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-807">
		<article id="comment-807" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-807"><time datetime="2015-08-13T00:09:28-07:00">August 13, 2015 at 12:09 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nope, using acceleration was just a pedagogical choice since the example was using kinematics. The control matrix need not be a higher order Taylor term; just a way to mix “environment” state into the system state.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=807#respond" data-commentid="807" data-postid="491" data-belowelement="comment-807" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-802">
		<article id="comment-802" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/668b0971b1b94a7012be2bebc2c81585?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/668b0971b1b94a7012be2bebc2c81585?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://www.jaichaudhary.com" rel="external nofollow ugc" class="url">Jai</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-802"><time datetime="2015-08-12T21:30:47-07:00">August 12, 2015 at 9:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I wish there were more posts like this. That explain how amazing and simple ideas are represented by scary symbols. Loved the approach.  Can you please do one on Gibbs Sampling/Metropolis Hastings Algorithm as well?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=802#respond" data-commentid="802" data-postid="491" data-belowelement="comment-802" data-respondelement="respond" aria-label="Reply to Jai">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-803">
		<article id="comment-803" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e1e331c88fcddfe245f4be299389270d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e1e331c88fcddfe245f4be299389270d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="https://fr.linkedin.com/in/eolebigot" rel="external nofollow ugc" class="url">Eric O. LEBIGOT</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-803"><time datetime="2015-08-12T22:31:29-07:00">August 12, 2015 at 10:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very nice write up! The use of colors in the equations and drawings is useful.</p>
<p>Small nitpick: an early graph that shows the uncertainties on x should say that sigma is the <i>standard deviation</i>, not the “variance”.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=803#respond" data-commentid="803" data-postid="491" data-belowelement="comment-803" data-respondelement="respond" aria-label="Reply to Eric O. LEBIGOT">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-804">
		<article id="comment-804" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-804"><time datetime="2015-08-12T23:12:18-07:00">August 12, 2015 at 11:12 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>@Eric Lebigot: Ah, yes, the diagram is missing a ‘squared’ on the sigma symbols. I’ll fix that when I next have access to the source file for that image.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=804#respond" data-commentid="804" data-postid="491" data-belowelement="comment-804" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-805">
		<article id="comment-805" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0c7f7d533399f139237fa583d28c5099?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0c7f7d533399f139237fa583d28c5099?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nico Galoppo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-805"><time datetime="2015-08-12T23:34:45-07:00">August 12, 2015 at 11:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Eye opening. The only part I didn’t follow in the derivation, is where the left hand side of (16) came from… until I realized that you defined x’_k and P’_k in the true state space coordinate system, not in the measurement coordinate system – hence the use of H_k!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=805#respond" data-commentid="805" data-postid="491" data-belowelement="comment-805" data-respondelement="respond" aria-label="Reply to Nico Galoppo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-1220">
		<article id="comment-1220" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e303d5e06663dfedb0a106638683fbaa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e303d5e06663dfedb0a106638683fbaa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ha Song Son</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1220"><time datetime="2020-07-15T10:19:56-07:00">July 15, 2020 at 10:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>same question! i dont understand this point too.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1220#respond" data-commentid="1220" data-postid="491" data-belowelement="comment-1220" data-respondelement="respond" aria-label="Reply to Ha Song Son">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-808">
		<article id="comment-808" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a138b1f83c501f3d5fbae5b81f95ffe4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a138b1f83c501f3d5fbae5b81f95ffe4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Antti</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-808"><time datetime="2015-08-13T06:19:49-07:00">August 13, 2015 at 6:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hmm, I didn’t think this through yet, but don’t you need to have a pretty good initial guess for your orientation (in the video example) in order for the future estimates to be accurate? Please show this is not so :) </p>
<p>Great illustration and nice work! Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=808#respond" data-commentid="808" data-postid="491" data-belowelement="comment-808" data-respondelement="respond" aria-label="Reply to Antti">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-809">
		<article id="comment-809" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a138b1f83c501f3d5fbae5b81f95ffe4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a138b1f83c501f3d5fbae5b81f95ffe4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Antti</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-809"><time datetime="2015-08-13T06:21:22-07:00">August 13, 2015 at 6:21 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>(Or is it all “hidden” in the “velocity constrains acceleration” information?)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=809#respond" data-commentid="809" data-postid="491" data-belowelement="comment-809" data-respondelement="respond" aria-label="Reply to Antti">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-3" id="li-comment-810">
		<article id="comment-810" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-810"><time datetime="2015-08-13T06:56:17-07:00">August 13, 2015 at 6:56 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The Kalman filter is quite good at converging on an accurate state from a poor initial guess. Representing the uncertainty accurately will help attain convergence more quickly– if your initial guess overstates its confidence, the filter may take awhile before it begins to “trust” the sensor readings instead.</p>
<p>In the linked video, the initial orientation is completely random, if I recall correctly. I think it actually converges quite a bit before the first frame even renders. :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=810#respond" data-commentid="810" data-postid="491" data-belowelement="comment-810" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-811">
		<article id="comment-811" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3c3648d758a2b56218d90db8ac77028a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c3648d758a2b56218d90db8ac77028a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://daynebatten.com" rel="external nofollow ugc" class="url">Dayne Batten</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-811"><time datetime="2015-08-13T12:32:25-07:00">August 13, 2015 at 12:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>“The math for implementing the Kalman filter appears pretty scary and opaque in most places you find on Google.” Indeed. I’ve tried to puzzle my way through the Wikipedia explanation of Kalman filters on more than one occasion, and always gave up.</p>
<p>I was able to walk through your explanation with no trouble. Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=811#respond" data-commentid="811" data-postid="491" data-belowelement="comment-811" data-respondelement="respond" aria-label="Reply to Dayne Batten">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-832">
		<article id="comment-832" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/48d785432d4ae340a8d8f4fed4e9f165?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/48d785432d4ae340a8d8f4fed4e9f165?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ju</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-832"><time datetime="2015-08-24T14:39:02-07:00">August 24, 2015 at 2:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I’m a PhD student in economics and decided a while back to never ask Wikipedia for anything related to economics, statistics or mathematics because you will only leave feeling inadequate and confused. Seriously, concepts that I know and understand perfectly well look like egyptian hieroglyphs when I look at the wikipedia representation. I would ONLY look at the verbal description and introduction, the formulas seem to all be written by a wizard savant.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=832#respond" data-commentid="832" data-postid="491" data-belowelement="comment-832" data-respondelement="respond" aria-label="Reply to Ju">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-812">
		<article id="comment-812" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6f97e6ead48a0e2863df2f70ce94f84c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6f97e6ead48a0e2863df2f70ce94f84c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alex Polotsk</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-812"><time datetime="2015-08-13T12:34:30-07:00">August 13, 2015 at 12:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The article has a perfect balance between intuition and math! This is the first time I actually understood Kalman filter. =)</p>
<p>I have a couple of questions.</p>
<p>The way we got second equation in (4) wasn’t easy for me to see until I manually computed it from the first equation in (4). Is it meant to be so, or did I missed a simple relation? When you say “I’ll just give you the identity”, what “identity” are you referring to? Are you referring to given equalities in (4)?</p>
<p>So, sensors produce:<br>
  – observed noisy mean and covariance (z and R) we want to correct, and<br>
  – an additional info ‘control vector’ (u) with known relation to our prediction.<br>
Correct?</p>
<p>Does H in (8) maps physical measurements (e.g. km/h) into raw data readings from sensors (e.g. uint32, as described in some accelerometer’s reference manual)?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=812#respond" data-commentid="812" data-postid="491" data-belowelement="comment-812" data-respondelement="respond" aria-label="Reply to Alex Polotsk">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-815">
		<article id="comment-815" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-815"><time datetime="2015-08-13T19:13:17-07:00">August 13, 2015 at 7:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>(4) was not meant to be derived by the reader; just given.</p>
<p>Z and R are sensor mean and covariance, yes. The control vector ‘u’ is generally not treated as related to the sensors (which are a transformation of the system state, not the environment), and are in some sense considered to be “certain”. For example, the commands issued to the motors in a robot are known exactly (though any uncertainty in the execution of that motion could be folded into the process covariance Q). </p>
<p>Yes, H maps the units of the state to any other scale, be they different physical units or sensor data units. I suppose you could transform the sensor measurements to a standard physical unit before it’s input to the Kalman filter and let H be the some permutation matrix, but you would have to be careful to transform your sensor covariance into that same space as well, and that’s basically what the Kalman filter is already doing for you by including a term for H. (That would also assume that all your sensors make orthogonal measurements, which not necessarily true in practice).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=815#respond" data-commentid="815" data-postid="491" data-belowelement="comment-815" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1242">
		<article id="comment-1242" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/084f6b611a7c55a2f332f51a472dd9b3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/084f6b611a7c55a2f332f51a472dd9b3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">William Grand</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1242"><time datetime="2021-05-19T12:59:15-07:00">May 19, 2021 at 12:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>A possible explanation for (4) may be this: <a href="https://stats.stackexchange.com/a/498108/322199" rel="nofollow ugc">https://stats.stackexchange.com/a/498108/322199</a><br>
However, I still do not have an understanding of what APA^T is doing and how it is different from AP.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1242#respond" data-commentid="1242" data-postid="491" data-belowelement="comment-1242" data-respondelement="respond" aria-label="Reply to William Grand">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-814">
		<article id="comment-814" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0c7f7d533399f139237fa583d28c5099?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0c7f7d533399f139237fa583d28c5099?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nico Galoppo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-814"><time datetime="2015-08-13T16:39:48-07:00">August 13, 2015 at 4:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>So what happens if you don’t have measurements for all DOFs in your state vector? I’m assuming that means that H_k isn’t square,  in which case some of the derivation doesn’t hold, right? What do you do in that case?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=814#respond" data-commentid="814" data-postid="491" data-belowelement="comment-814" data-respondelement="respond" aria-label="Reply to Nico Galoppo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-816">
		<article id="comment-816" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/760d8090a8f27fa697cccbde261b7b30?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/760d8090a8f27fa697cccbde261b7b30?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Robert</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-816"><time datetime="2015-08-13T19:44:04-07:00">August 13, 2015 at 7:44 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent explanation. Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=816#respond" data-commentid="816" data-postid="491" data-belowelement="comment-816" data-respondelement="respond" aria-label="Reply to Robert">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-817">
		<article id="comment-817" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0227ad7395c0045ea76095e953a1b238?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0227ad7395c0045ea76095e953a1b238?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">John Dabbar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-817"><time datetime="2015-08-15T00:07:06-07:00">August 15, 2015 at 12:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Kalman filters are used in dynamic positioning systems for offshore oil drilling.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=817#respond" data-commentid="817" data-postid="491" data-belowelement="comment-817" data-respondelement="respond" aria-label="Reply to John Dabbar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-818">
		<article id="comment-818" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2ecc2bea4923e1e11c6c5ca00d28ad96?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2ecc2bea4923e1e11c6c5ca00d28ad96?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://allthingsdatascience.blogspot.be/" rel="external nofollow ugc" class="url">Istvan Hajnal</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-818"><time datetime="2015-08-15T15:13:38-07:00">August 15, 2015 at 3:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great write up. Very helpful. Thanks.</p>
<p>Just one question. Shouldn’t it be p_k in stead of x_k (and p_k-1 instead of x_k-1) in the equation right before equation (2)?  Also, in (2), that’s the transpose of x_k-1, right?<br>
I guess the same thing applies to equation right before (6)?</p>
<p>Regards,<br>
Istvan Hajnal</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=818#respond" data-commentid="818" data-postid="491" data-belowelement="comment-818" data-respondelement="respond" aria-label="Reply to Istvan Hajnal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-820">
		<article id="comment-820" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-820"><time datetime="2015-08-17T20:21:43-07:00">August 17, 2015 at 8:21 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes, my thinking was to make those kinematic equations look “familiar” by using x (and it would be understood where it came from), but perhaps the inconsistency is worse. :\</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=820#respond" data-commentid="820" data-postid="491" data-belowelement="comment-820" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-819">
		<article id="comment-819" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9e5e48ec55222a7fdebe65ddaaff7355?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9e5e48ec55222a7fdebe65ddaaff7355?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sourjya Sarkar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-819"><time datetime="2015-08-17T14:30:38-07:00">August 17, 2015 at 2:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great !  Really interesting and comprehensive to read.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=819#respond" data-commentid="819" data-postid="491" data-belowelement="comment-819" data-respondelement="respond" aria-label="Reply to Sourjya Sarkar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-822">
		<article id="comment-822" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1c5206351e872374d277b2fb2389be1e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1c5206351e872374d277b2fb2389be1e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Li</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-822"><time datetime="2015-08-18T17:28:35-07:00">August 18, 2015 at 5:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the post, I have learnt a lot. My background is signal processing, pattern recognition. </p>
<p>One question:</p>
<p>If we have two probabilities and we want to know the chance that both are true, we just multiply them together.</p>
<p>Why not  use sum or become Chi-square distribution?</p>
<p>Because from <a href="http://math.stackexchange.com/questions/101062/is-the-product-of-two-gaussian-random-variables-also-a-gaussian" rel="nofollow ugc">http://math.stackexchange.com/questions/101062/is-the-product-of-two-gaussian-random-variables-also-a-gaussian</a></p>
<p>The product of two Gaussian random variables is distributed, in general, as a linear combination of two Chi-square random variables.</p>
<p>Thanks,<br>
Regards,<br>
Li</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=822#respond" data-commentid="822" data-postid="491" data-belowelement="comment-822" data-respondelement="respond" aria-label="Reply to Li">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-826">
		<article id="comment-826" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-826"><time datetime="2015-08-20T18:48:28-07:00">August 20, 2015 at 6:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Ah, not quite. Let <span class="MathJax_Preview" style="">X</span><span class="MathJax MathJax_Processing" id="MathJax-Element-81-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-81">X</script> and <span class="MathJax_Preview" style="">Y</span><span class="MathJax MathJax_Processing" id="MathJax-Element-82-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-82">Y</script> both be Gaussian distributed. We are not doing <span class="MathJax_Preview" style="">\text{pdf}(X \cdot Y)</span><span class="MathJax MathJax_Processing" id="MathJax-Element-83-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-83">\text{pdf}(X \cdot Y)</script>, we are doing <span class="MathJax_Preview" style="">\text{pdf}(X) \cdot \text{pdf}(Y)</span><span class="MathJax MathJax_Processing" id="MathJax-Element-84-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-84">\text{pdf}(X) \cdot \text{pdf}(Y)</script>!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=826#respond" data-commentid="826" data-postid="491" data-belowelement="comment-826" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-1054">
		<article id="comment-1054" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c5f28f0c96a6738637a113615c11f6dd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c5f28f0c96a6738637a113615c11f6dd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Peter</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1054"><time datetime="2017-06-21T08:41:41-07:00">June 21, 2017 at 8:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello, is there a reason why we multiply the two Gaussian pdfs together? I mean, why not add them up or do convolution or a weighted sum…etc?</p>
<p>And thanks for the great explanations of kalman filter in the post :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1054#respond" data-commentid="1054" data-postid="491" data-belowelement="comment-1054" data-respondelement="respond" aria-label="Reply to Peter">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-4" id="li-comment-1156">
		<article id="comment-1156" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b59d0f2619a4d2524e73b9e8d03458e3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b59d0f2619a4d2524e73b9e8d03458e3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Hairuo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1156"><time datetime="2018-03-27T22:22:26-07:00">March 27, 2018 at 10:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Here is a good explanation whey it is the product of two Gaussian PDF. Basically, it is due to Bayesian principle<br>
<a href="https://math.stackexchange.com/q/2630447" rel="nofollow ugc">https://math.stackexchange.com/q/2630447</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1156#respond" data-commentid="1156" data-postid="491" data-belowelement="comment-1156" data-respondelement="respond" aria-label="Reply to Hairuo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-823">
		<article id="comment-823" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a07092303c71178ad7c487372a68b24c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a07092303c71178ad7c487372a68b24c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Raphael Michel</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-823"><time datetime="2015-08-19T16:33:40-07:00">August 19, 2015 at 4:33 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Really interesting article. Clear and simple. Exactly what I needed.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=823#respond" data-commentid="823" data-postid="491" data-belowelement="comment-823" data-respondelement="respond" aria-label="Reply to Raphael Michel">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-824">
		<article id="comment-824" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7704425d9f08c05822a2e4293165efa1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7704425d9f08c05822a2e4293165efa1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Stephane</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-824"><time datetime="2015-08-20T06:23:46-07:00">August 20, 2015 at 6:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much for this very clear article!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=824#respond" data-commentid="824" data-postid="491" data-belowelement="comment-824" data-respondelement="respond" aria-label="Reply to Stephane">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-825">
		<article id="comment-825" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/efac18e73fe35fb221e2f774f0592eaa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/efac18e73fe35fb221e2f774f0592eaa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Qu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-825"><time datetime="2015-08-20T08:43:00-07:00">August 20, 2015 at 8:43 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post ! I have a question about fomula (7), How to get Qk genenrally ?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=825#respond" data-commentid="825" data-postid="491" data-belowelement="comment-825" data-respondelement="respond" aria-label="Reply to Qu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-831">
		<article id="comment-831" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3d9cf280bcf4def8b1f92134a4db45d7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3d9cf280bcf4def8b1f92134a4db45d7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Prof. Vadlamani Ravi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-831"><time datetime="2015-08-21T23:42:29-07:00">August 21, 2015 at 11:42 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post. It demystifies the Kalman filter in simple graphics. A great teaching aid. Thx.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=831#respond" data-commentid="831" data-postid="491" data-belowelement="comment-831" data-respondelement="respond" aria-label="Reply to Prof. Vadlamani Ravi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-833">
		<article id="comment-833" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7157469a93e8e2761c932bc875a441e0?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7157469a93e8e2761c932bc875a441e0?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Chintan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-833"><time datetime="2015-08-25T16:32:25-07:00">August 25, 2015 at 4:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello Tim,</p>
<p>Very nice article. I had read the signal processing article that you cite and had given up half way.</p>
<p>This article clears many things. I will now have to implement it myself. </p>
<p>It would be nice if you could write another article with an example or maybe provide Matlab or Python code. </p>
<p>Keep up the good work.</p>
<p>Best Regards</p>
<p>Chintan</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=833#respond" data-commentid="833" data-postid="491" data-belowelement="comment-833" data-respondelement="respond" aria-label="Reply to Chintan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-834">
		<article id="comment-834" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/afbfe205946e062daa2df8dba0399ffc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/afbfe205946e062daa2df8dba0399ffc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Naseem Makiya</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-834"><time datetime="2015-08-26T03:49:36-07:00">August 26, 2015 at 3:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome post!!! Great visuals and explanations.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=834#respond" data-commentid="834" data-postid="491" data-belowelement="comment-834" data-respondelement="respond" aria-label="Reply to Naseem Makiya">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-837">
		<article id="comment-837" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/62d31ed4e48d0823e7d4fdd6f4bca006?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/62d31ed4e48d0823e7d4fdd6f4bca006?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Paul</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-837"><time datetime="2015-10-07T19:34:12-07:00">October 7, 2015 at 7:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Can you realy knock an Hk off the front of every term in (16) and (17)  ?<br>
I think this operation is forbidden for this matrix.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=837#respond" data-commentid="837" data-postid="491" data-belowelement="comment-837" data-respondelement="respond" aria-label="Reply to Paul">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-838">
		<article id="comment-838" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/da555d8b86ee46cfdc74f855269524a8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/da555d8b86ee46cfdc74f855269524a8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Insik</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-838"><time datetime="2015-10-13T08:48:59-07:00">October 13, 2015 at 8:48 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Wow! This post is amazing. It really helps me to understand true meaning behind equations.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=838#respond" data-commentid="838" data-postid="491" data-belowelement="comment-838" data-respondelement="respond" aria-label="Reply to Insik">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-841">
		<article id="comment-841" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6996a65ff9741d910b99f521811098b5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6996a65ff9741d910b99f521811098b5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/" rel="external nofollow ugc" class="url">rosie</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-841"><time datetime="2015-10-28T05:48:05-07:00">October 28, 2015 at 5:48 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is simplyy awesum!!!! this demonstration has given our team a confidence to cope up with the assigned project</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=841#respond" data-commentid="841" data-postid="491" data-belowelement="comment-841" data-respondelement="respond" aria-label="Reply to rosie">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-842">
		<article id="comment-842" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b9cb8205245f470742e68969cf1bf4a9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b9cb8205245f470742e68969cf1bf4a9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Debo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-842"><time datetime="2015-11-05T12:52:21-08:00">November 5, 2015 at 12:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great post! Thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=842#respond" data-commentid="842" data-postid="491" data-belowelement="comment-842" data-respondelement="respond" aria-label="Reply to Debo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-843">
		<article id="comment-843" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/15009fa07d69e12ec117fdce631418cb?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/15009fa07d69e12ec117fdce631418cb?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">hec</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-843"><time datetime="2015-11-13T01:54:11-08:00">November 13, 2015 at 1:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing article, I struggled over the textbook explanations. This article summed up 4 months of graduate lectures, and i finally know whats going on. Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=843#respond" data-commentid="843" data-postid="491" data-belowelement="comment-843" data-respondelement="respond" aria-label="Reply to hec">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-844">
		<article id="comment-844" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/733aba0543ee795c6bcd1467f9ac82a7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/733aba0543ee795c6bcd1467f9ac82a7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nezih</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-844"><time datetime="2015-11-13T10:01:31-08:00">November 13, 2015 at 10:01 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Greta article, thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=844#respond" data-commentid="844" data-postid="491" data-belowelement="comment-844" data-respondelement="respond" aria-label="Reply to Nezih">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-846">
		<article id="comment-846" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/007f34e1b99c843d3635a868851f5949?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/007f34e1b99c843d3635a868851f5949?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mel</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-846"><time datetime="2015-11-18T17:52:41-08:00">November 18, 2015 at 5:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great work. Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=846#respond" data-commentid="846" data-postid="491" data-belowelement="comment-846" data-respondelement="respond" aria-label="Reply to Mel">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-847">
		<article id="comment-847" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2e3a7aa321440dcbee6be5849f7a22ec?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2e3a7aa321440dcbee6be5849f7a22ec?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jose Kurian</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-847"><time datetime="2015-11-19T13:26:55-08:00">November 19, 2015 at 1:26 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello,</p>
<p>This is indeed a great article. I have been trying to understand this filter for some time now. This article makes most of the steps involved in developing the filter clear.</p>
<p>I how ever did not understand equation 8 where you model the sensor. What does the parameter H do here. How do you obtain the components of H.</p>
<p>Thanks in advance,</p>
<p>Jose</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=847#respond" data-commentid="847" data-postid="491" data-belowelement="comment-847" data-respondelement="respond" aria-label="Reply to Jose Kurian">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-848">
		<article id="comment-848" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3ea75ee33133b9866bdb993e26e8da79?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3ea75ee33133b9866bdb993e26e8da79?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">carolinux</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-848"><time datetime="2015-11-30T13:13:48-08:00">November 30, 2015 at 1:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very good job explaining and illustrating these! Now I understand how the Kalman gain equation is derived. It was hidden inside the properties of Gaussian probability distributions all along!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=848#respond" data-commentid="848" data-postid="491" data-belowelement="comment-848" data-respondelement="respond" aria-label="Reply to carolinux">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-850">
		<article id="comment-850" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d28740ecd25b2ef9705f54be8c20675a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d28740ecd25b2ef9705f54be8c20675a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sam</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-850"><time datetime="2015-12-05T16:09:04-08:00">December 5, 2015 at 4:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is the greatest explanation ever!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=850#respond" data-commentid="850" data-postid="491" data-belowelement="comment-850" data-respondelement="respond" aria-label="Reply to Sam">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-851">
		<article id="comment-851" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/662e65dcdc76cef7e1bd3ffc8a68388f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/662e65dcdc76cef7e1bd3ffc8a68388f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Vidhya Venugopal</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-851"><time datetime="2015-12-10T01:37:09-08:00">December 10, 2015 at 1:37 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great explanation! I have a question though just to clarify my understanding of Kalman Filtering. In the above example (position, velocity), we are providing a constant acceleration value ‘a’. Assuming this is a car example, let’s say the driver decides to change the acceleration during the trip. From what I understand of the filter, I would have to provide this value to my Kalman filter for it to calculated the predicted state every time I change the acceleration. Kalman filter would be able to “predict” the state without the information that the acceleration was changed. Is this correct? Also, would this be impractical in a real world situation, where I may not always be aware how much the control (input) changed?<br>
Can anyone help me with this?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=851#respond" data-commentid="851" data-postid="491" data-belowelement="comment-851" data-respondelement="respond" aria-label="Reply to Vidhya Venugopal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-858">
		<article id="comment-858" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2c0cafd4cc8327de305fb7ec66a379f8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2c0cafd4cc8327de305fb7ec66a379f8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">javad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-858"><time datetime="2016-01-02T16:56:48-08:00">January 2, 2016 at 4:56 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>you are the best Tim!<br>
thank you very much</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=858#respond" data-commentid="858" data-postid="491" data-belowelement="comment-858" data-respondelement="respond" aria-label="Reply to javad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-861">
		<article id="comment-861" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/f4c817dee048876c251013a18d7c3e0c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f4c817dee048876c251013a18d7c3e0c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">minh</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-861"><time datetime="2016-01-08T00:05:23-08:00">January 8, 2016 at 12:05 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>hey, my kalman filter output is lagging the original signal. However it does a great job smoothing. How does lagging happen</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=861#respond" data-commentid="861" data-postid="491" data-belowelement="comment-861" data-respondelement="respond" aria-label="Reply to minh">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-863">
		<article id="comment-863" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9e829eaf0a765514fc4fec1c266a47bc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9e829eaf0a765514fc4fec1c266a47bc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sujay</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-863"><time datetime="2016-01-21T07:23:16-08:00">January 21, 2016 at 7:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I must say the best link in the first page of google to understand Kalman filters. I guess I read around 5 documents and this is by far the best one. Well done and thanks!! cheers!! :D</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=863#respond" data-commentid="863" data-postid="491" data-belowelement="comment-863" data-respondelement="respond" aria-label="Reply to Sujay">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-866">
		<article id="comment-866" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/88ad1e96730c2b761581d39a0f9245c7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/88ad1e96730c2b761581d39a0f9245c7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Salman</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-866"><time datetime="2016-02-04T05:47:35-08:00">February 4, 2016 at 5:47 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent explanation. </p>
<p>After reading many times about Kalman filter and giving up on numerous occasions because of the complex probability mathematics, this article certainly keeps you  interested till the end when you realize that you just understood the entire concept.</p>
<p>Keep up the good work.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=866#respond" data-commentid="866" data-postid="491" data-belowelement="comment-866" data-respondelement="respond" aria-label="Reply to Salman">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-867">
		<article id="comment-867" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c09031bd61a0f7319d43fe0522b7775e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c09031bd61a0f7319d43fe0522b7775e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ben</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-867"><time datetime="2016-02-04T11:01:45-08:00">February 4, 2016 at 11:01 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for your excelent work!<br>
There is no doubt, this is the best tutorial about KF !<br>
Many thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=867#respond" data-commentid="867" data-postid="491" data-belowelement="comment-867" data-respondelement="respond" aria-label="Reply to Ben">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-869">
		<article id="comment-869" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a25de188d32accc9e4fe81e3f9b2f145?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a25de188d32accc9e4fe81e3f9b2f145?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">William A</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-869"><time datetime="2016-02-17T21:23:34-08:00">February 17, 2016 at 9:23 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article ! Clear and easy to understand.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=869#respond" data-commentid="869" data-postid="491" data-belowelement="comment-869" data-respondelement="respond" aria-label="Reply to William A">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-870">
		<article id="comment-870" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6f7530884c3a7972dc43e89569899e8a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6f7530884c3a7972dc43e89569899e8a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Paul</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-870"><time datetime="2016-02-24T12:40:46-08:00">February 24, 2016 at 12:40 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is by far the best explanation of a Kalman filter I have seen yet. Very well done.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=870#respond" data-commentid="870" data-postid="491" data-belowelement="comment-870" data-respondelement="respond" aria-label="Reply to Paul">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-871">
		<article id="comment-871" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/cacc0d442420979f9a4208d2972ab5d9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/cacc0d442420979f9a4208d2972ab5d9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Baljit Kaur</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-871"><time datetime="2016-03-01T10:19:27-08:00">March 1, 2016 at 10:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>v.nice explanation.  Actually I have something different problem if you can provide a solution to me. In my system, I have starting and end position of a robot. I need to find angle if robot needs to rotate and velocity of a robot. Can I get solution that what will be Transition matrix, x(k-1), b(k), u(k).<br>
Thanks Baljit</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=871#respond" data-commentid="871" data-postid="491" data-belowelement="comment-871" data-respondelement="respond" aria-label="Reply to Baljit Kaur">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-874">
		<article id="comment-874" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/00b98d3717cd06e7a5dd2a6121d162c2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/00b98d3717cd06e7a5dd2a6121d162c2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Maneesha K</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-874"><time datetime="2016-03-20T11:40:32-07:00">March 20, 2016 at 11:40 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Such an amazing explanation of the much scary kalman filter. Kudos to the author. Thanks very much Sir. Expecting such explanation for EKF, UKF and Particle filter as well.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=874#respond" data-commentid="874" data-postid="491" data-belowelement="comment-874" data-respondelement="respond" aria-label="Reply to Maneesha K">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-875">
		<article id="comment-875" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5a9d2254516de74c04d2ebe1a509938f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5a9d2254516de74c04d2ebe1a509938f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ali</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-875"><time datetime="2016-03-23T18:11:45-07:00">March 23, 2016 at 6:11 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello There! </p>
<p>Great article but I have a question. Why did you consider acceleration as external influance? Could we add the acceleration inside the F matrix directly e.g. x=[position, velocity, acceleration]’ ?</p>
<p>Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=875#respond" data-commentid="875" data-postid="491" data-belowelement="comment-875" data-respondelement="respond" aria-label="Reply to Ali">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-884">
		<article id="comment-884" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/736ea9cf2f9ce0b83873e262a69dea03?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/736ea9cf2f9ce0b83873e262a69dea03?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Clive Myrie</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-884"><time datetime="2016-05-06T14:47:07-07:00">May 6, 2016 at 2:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I think that acceleration was considered an external influence because in real life applications acceleration is what the controller has (for lack of a better word) control of. In other words, acceleration and acceleration commands are how a controller influences a dynamic system.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=884#respond" data-commentid="884" data-postid="491" data-belowelement="comment-884" data-respondelement="respond" aria-label="Reply to Clive Myrie">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-876">
		<article id="comment-876" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/50be63ec1cbd5335fdc214ac4d5e3923?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/50be63ec1cbd5335fdc214ac4d5e3923?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Minh</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-876"><time datetime="2016-03-28T01:54:11-07:00">March 28, 2016 at 1:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you so so much Tim. The math in most articles on Kalman Filtering looks pretty scary and obscure, but you make it so intuitive and accessible (and fun also, in my opinion). Again excellent job! Would you mind if I share part of the particles to my peers in the lab and maybe my students in problem sessions? I’ll certainly mention the source</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=876#respond" data-commentid="876" data-postid="491" data-belowelement="comment-876" data-respondelement="respond" aria-label="Reply to Minh">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-877">
		<article id="comment-877" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/021e37d8c128bb63babb160c7a7f5368?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/021e37d8c128bb63babb160c7a7f5368?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jeroen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-877"><time datetime="2016-04-01T12:01:21-07:00">April 1, 2016 at 12:01 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Best explanation I’ve read so far on the Kalman filter. Far better than many textbooks. Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=877#respond" data-commentid="877" data-postid="491" data-belowelement="comment-877" data-respondelement="respond" aria-label="Reply to Jeroen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-878">
		<article id="comment-878" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/105afc897dae76091e54ff3105bd4115?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/105afc897dae76091e54ff3105bd4115?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Graeme</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-878"><time datetime="2016-04-03T20:43:45-07:00">April 3, 2016 at 8:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Without doubt the best explanation of the Kalman filter I have come across! Often in DSP, learning materials begin with the mathematics and don’t give you the intuitive understanding of the problem you need to fully grasp the problem. This is a great resource. Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=878#respond" data-commentid="878" data-postid="491" data-belowelement="comment-878" data-respondelement="respond" aria-label="Reply to Graeme">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-879">
		<article id="comment-879" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3359d1d36bb98190d821071d7034c7b2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3359d1d36bb98190d821071d7034c7b2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">vishwanath</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-879"><time datetime="2016-04-09T11:30:41-07:00">April 9, 2016 at 11:30 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>amazing…simply simplified.you saved me a lot of time…thanks for the post.please update with nonlinear filters if possible that would be a great help.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=879#respond" data-commentid="879" data-postid="491" data-belowelement="comment-879" data-respondelement="respond" aria-label="Reply to vishwanath">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-880">
		<article id="comment-880" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/38ff89ccb4dfec172e0480a79df31886?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/38ff89ccb4dfec172e0480a79df31886?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Laurent Vosgien</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-880"><time datetime="2016-04-23T16:31:14-07:00">April 23, 2016 at 4:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Your original approach (is it ?) of combining Gaussian distributions to derive the Kalman filter gain is elegant and intuitive. All presentations of the Kalman filter that I have read use matrix algebra to derive the gain that minimizes the updated covariance matrix to come to the same result. That was satisfying enough to me up to a point but I felt i had to transform X and P to the measurement domain (using  H) to be able to convince myself that the gain was just the barycenter between the a priori prediction distribution and the measurement distributions weighted by their covariances. This is where other articles confuse the reader by introducing Y and S which are the difference z-H*x  called innovation and its covariance matrix. Then they have to call S a “residual” of covariance which blurs understanding of what the gain actually represents when expressed from P and S. Good job on that part !</p>
<p>I will be less pleasant for the rest of my comment, your article is misleading in the benefit versus effort required in developing an augmented model to implement the Kalman filter. By the time you invested the research and developing integrated models equations for errors of your sensors  which is what the KF filter is about, not the the recursive algorithm principle presented here which is trivial by comparison.</p>
<p>There is nothing magic about the Kalman filter, if you expect it to give you miraculous results out of the box you are in for a big disappointment. By the time you have developed the level of understanding of your system errors propagation the Kalman filter is only 1% of the real work associated to get those models into motion. There is a continuous supply of serious failed Kalman Filters papers where greedy people expect to get something from nothing implement a EKF or UKF and the result are junk or poor. All because of article like yours give the false impression that understanding a couple of stochastic process principles and matrix algebra will give miraculous results. The work in not where you insinuate it is. Understanding the Kalman filter predict and update matrix equation is only opening a door but most people reading your article will think it’s the main part when it is only a small chapter out of 16 chapters that you need to master and 2 to 5% of the work required.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=880#respond" data-commentid="880" data-postid="491" data-belowelement="comment-880" data-respondelement="respond" aria-label="Reply to Laurent Vosgien">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-881">
		<article id="comment-881" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/88bff6f1bb8585ee8045bad8dc26eb99?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/88bff6f1bb8585ee8045bad8dc26eb99?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Byambajav</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-881"><time datetime="2016-04-27T11:27:53-07:00">April 27, 2016 at 11:27 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article I’ve ever been reading on subject of Kalman filtering. Thanks !!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=881#respond" data-commentid="881" data-postid="491" data-belowelement="comment-881" data-respondelement="respond" aria-label="Reply to Byambajav">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-882">
		<article id="comment-882" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7ac6097c235a9bfec800d2f1cb935c68?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7ac6097c235a9bfec800d2f1cb935c68?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Edu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-882"><time datetime="2016-04-28T22:58:50-07:00">April 28, 2016 at 10:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>fantastic | thanks for the outstanding post !</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=882#respond" data-commentid="882" data-postid="491" data-belowelement="comment-882" data-respondelement="respond" aria-label="Reply to Edu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-883">
		<article id="comment-883" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7b6619a4a82e0eedbd0f442e9f27fba3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7b6619a4a82e0eedbd0f442e9f27fba3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Wanjohi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-883"><time datetime="2016-05-05T09:54:23-07:00">May 5, 2016 at 9:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>First time am getting this stuff…..it doesn’t sound Greek and Chinese…..greekochinese…..<br>
on point….and very good work…..</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=883#respond" data-commentid="883" data-postid="491" data-belowelement="comment-883" data-respondelement="respond" aria-label="Reply to Wanjohi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-885">
		<article id="comment-885" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/785774b75e90ff8f974073b366b6b684?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/785774b75e90ff8f974073b366b6b684?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mohamad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-885"><time datetime="2016-05-08T02:32:49-07:00">May 8, 2016 at 2:32 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>thank you Tim for your informative post, I did enjoy when I was reading it, very easy and logic… good job</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=885#respond" data-commentid="885" data-postid="491" data-belowelement="comment-885" data-respondelement="respond" aria-label="Reply to Mohamad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-886">
		<article id="comment-886" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d679dc8db6fa23fe22009e9a9dfc075b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d679dc8db6fa23fe22009e9a9dfc075b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kurt Ramsdale</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-886"><time datetime="2016-05-11T05:08:15-07:00">May 11, 2016 at 5:08 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Equation 18 (measurement variable) is wrong.<br>
Equation 16 is right.  Divide all by H.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=886#respond" data-commentid="886" data-postid="491" data-belowelement="comment-886" data-respondelement="respond" aria-label="Reply to Kurt Ramsdale">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-887">
		<article id="comment-887" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-887"><time datetime="2016-05-11T05:43:28-07:00">May 11, 2016 at 5:43 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>What’s the issue? Note that K has a leading H_k inside of it, which is knocked off to make K’.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=887#respond" data-commentid="887" data-postid="491" data-belowelement="comment-887" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-888">
		<article id="comment-888" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d679dc8db6fa23fe22009e9a9dfc075b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d679dc8db6fa23fe22009e9a9dfc075b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kurt Ramsdale</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-888"><time datetime="2016-05-11T08:23:08-07:00">May 11, 2016 at 8:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>x has the units of the state variables.<br>
z has the units of the measurement variables.<br>
K is unitless 0-1.<br>
The units don’t work unless the right term is K(z/H-x).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=888#respond" data-commentid="888" data-postid="491" data-belowelement="comment-888" data-respondelement="respond" aria-label="Reply to Kurt Ramsdale">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-889">
		<article id="comment-889" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9da7bfcf5b3049dc961429177b054f81?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9da7bfcf5b3049dc961429177b054f81?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mehdi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-889"><time datetime="2016-05-11T12:06:14-07:00">May 11, 2016 at 12:06 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent Post! Kalman Filter has found applications in so diverse fields.  A great one to mention is as a online learning algorithm for Artificial Neural Networks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=889#respond" data-commentid="889" data-postid="491" data-belowelement="comment-889" data-respondelement="respond" aria-label="Reply to Mehdi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-890">
		<article id="comment-890" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2bfd5830a1681a9d395a714ce0b45cf2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2bfd5830a1681a9d395a714ce0b45cf2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://www.teninall.com" rel="external nofollow ugc" class="url">vishnu</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-890"><time datetime="2016-05-12T10:21:28-07:00">May 12, 2016 at 10:21 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great Article. Nicely articulated. Do you recommened any C++ or python implementation of kalman filter? I know there are many in google but your recommendation is not the same which i choose. </p>
<p>Assume that every car is connected to internet. I am trying to predict the movement of bunch of cars, where they probably going in next ,say 15 min. you can assume like 4 regions A,B,C,D (5-10km of radius) which are close to each other. How can I make use of kalman filter to predict and say, so many number cars have moved from A to B. </p>
<p>I am actullay having trouble with making the Covariance Matrix and Prediction Matrix. In my case I know only position. Veloctiy of the car is not reported to the cloud. So First step could be guessing the velocity from 2 consecutive position points, then forming velocity vector and position vector.Then applying your equations. Is my assumption is right? Thanks</p>
<p>P.S: sorry for the long comment.Need Help. Thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=890#respond" data-commentid="890" data-postid="491" data-belowelement="comment-890" data-respondelement="respond" aria-label="Reply to vishnu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-891">
		<article id="comment-891" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4d8f97936700fc1b313a8f6be0eb29c2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4d8f97936700fc1b313a8f6be0eb29c2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ebrahim Mirzaei</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-891"><time datetime="2016-05-17T15:51:00-07:00">May 17, 2016 at 3:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent Post!  thanks alot.<br>
I want to use kalman Filter to auto correct 2m temperature NWP forecasts.<br>
Could you please help me to get a solution or code in R, FORTRAN or Linux Shell Scripts(bash,perl,csh,…)  to do this.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=891#respond" data-commentid="891" data-postid="491" data-belowelement="comment-891" data-respondelement="respond" aria-label="Reply to Ebrahim Mirzaei">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-892">
		<article id="comment-892" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/37dddd0be3a0a11fd2b44eb861f220eb?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/37dddd0be3a0a11fd2b44eb861f220eb?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">omid</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-892"><time datetime="2016-05-20T20:24:19-07:00">May 20, 2016 at 8:24 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi<br>
I’m kinda new to this field and this document helped me a lot<br>
I just have one question and that is what is the value of the covariance  matrix at the start of the process?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=892#respond" data-commentid="892" data-postid="491" data-belowelement="comment-892" data-respondelement="respond" aria-label="Reply to omid">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-893">
		<article id="comment-893" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9b37d615a8ea0dac8d33d433a3849e39?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9b37d615a8ea0dac8d33d433a3849e39?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Will</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-893"><time datetime="2016-05-20T21:29:07-07:00">May 20, 2016 at 9:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is the best article I’ve read on Kalman filter so far by a long mile!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=893#respond" data-commentid="893" data-postid="491" data-belowelement="comment-893" data-respondelement="respond" aria-label="Reply to Will">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-894">
		<article id="comment-894" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9b37d615a8ea0dac8d33d433a3849e39?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9b37d615a8ea0dac8d33d433a3849e39?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Will</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-894"><time datetime="2016-05-20T21:32:33-07:00">May 20, 2016 at 9:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Btw, will there be an article on Extend Kalman Filter sometime in the future, soon hopefully? </p>
<p>Thanks! Great work</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=894#respond" data-commentid="894" data-postid="491" data-belowelement="comment-894" data-respondelement="respond" aria-label="Reply to Will">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-895">
		<article id="comment-895" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c7c371553645d825f181e505934aba86?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c7c371553645d825f181e505934aba86?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">urwa</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-895"><time datetime="2016-05-22T13:52:57-07:00">May 22, 2016 at 1:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks a bunch. :) Very helpful indeed</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=895#respond" data-commentid="895" data-postid="491" data-belowelement="comment-895" data-respondelement="respond" aria-label="Reply to urwa">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-896">
		<article id="comment-896" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6d3699e2a101c925551d1d26bb236358?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6d3699e2a101c925551d1d26bb236358?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sagar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-896"><time datetime="2016-05-25T14:44:40-07:00">May 25, 2016 at 2:44 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks a lot :D Great article!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=896#respond" data-commentid="896" data-postid="491" data-belowelement="comment-896" data-respondelement="respond" aria-label="Reply to Sagar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-900">
		<article id="comment-900" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7d0f8810c7cd02253128e4233d824be2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7d0f8810c7cd02253128e4233d824be2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Taz Walker</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-900"><time datetime="2016-05-31T02:24:24-07:00">May 31, 2016 at 2:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome thanks! :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=900#respond" data-commentid="900" data-postid="491" data-belowelement="comment-900" data-respondelement="respond" aria-label="Reply to Taz Walker">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-906">
		<article id="comment-906" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d702cd27690cfc77a7ba2a45d4ab7c15?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d702cd27690cfc77a7ba2a45d4ab7c15?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">martin</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-906"><time datetime="2016-06-07T17:14:24-07:00">June 7, 2016 at 5:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>My main interest in the filter is its significance to Dualities which you have not mentioned  – pity</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=906#respond" data-commentid="906" data-postid="491" data-belowelement="comment-906" data-respondelement="respond" aria-label="Reply to martin">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-907">
		<article id="comment-907" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/60238fabb0f22ac21fe3b72295acb75a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/60238fabb0f22ac21fe3b72295acb75a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Matheus</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-907"><time datetime="2016-06-07T18:23:57-07:00">June 7, 2016 at 6:23 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for the really good work!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=907#respond" data-commentid="907" data-postid="491" data-belowelement="comment-907" data-respondelement="respond" aria-label="Reply to Matheus">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-908">
		<article id="comment-908" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/cdda8318200b88f6656d387b6a61fea8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/cdda8318200b88f6656d387b6a61fea8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Colin</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-908"><time datetime="2016-06-11T10:26:08-07:00">June 11, 2016 at 10:26 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent. Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=908#respond" data-commentid="908" data-postid="491" data-belowelement="comment-908" data-respondelement="respond" aria-label="Reply to Colin">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-909">
		<article id="comment-909" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c917306385b6f58080d29762b78fadb4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c917306385b6f58080d29762b78fadb4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Chong</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-909"><time datetime="2016-06-22T02:41:21-07:00">June 22, 2016 at 2:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent explanation! best I can find online for newbies! Pls do a similar one for UKF pls!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=909#respond" data-commentid="909" data-postid="491" data-belowelement="comment-909" data-respondelement="respond" aria-label="Reply to Chong">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-910">
		<article id="comment-910" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/eae1607f56f9602a8848e5a5c0e62eb3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eae1607f56f9602a8848e5a5c0e62eb3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://mindbend.se" rel="external nofollow ugc" class="url">Manne</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-910"><time datetime="2016-06-22T20:51:22-07:00">June 22, 2016 at 8:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This article completely fills every hole I had in my understanding of the kalman filter. Thank you so much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=910#respond" data-commentid="910" data-postid="491" data-belowelement="comment-910" data-respondelement="respond" aria-label="Reply to Manne">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-911">
		<article id="comment-911" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/045fda22a75f55fb6d4c4f08466ac08f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/045fda22a75f55fb6d4c4f08466ac08f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nick</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-911"><time datetime="2016-06-26T17:39:02-07:00">June 26, 2016 at 5:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Pure Gold !</p>
<p>Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=911#respond" data-commentid="911" data-postid="491" data-belowelement="comment-911" data-respondelement="respond" aria-label="Reply to Nick">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-912">
		<article id="comment-912" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/19e18cc16b258d5179e5fa420941a632?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/19e18cc16b258d5179e5fa420941a632?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Pallanti Srinivas Rao</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-912"><time datetime="2016-07-03T12:35:08-07:00">July 3, 2016 at 12:35 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great work. The explanation is really very neat and clear.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=912#respond" data-commentid="912" data-postid="491" data-belowelement="comment-912" data-respondelement="respond" aria-label="Reply to Pallanti Srinivas Rao">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-913">
		<article id="comment-913" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0c96788f80b6c90325df84bc47e2e969?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0c96788f80b6c90325df84bc47e2e969?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">meow</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-913"><time datetime="2016-07-07T03:40:24-07:00">July 7, 2016 at 3:40 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>RIP Rudolf E. Kálmán.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=913#respond" data-commentid="913" data-postid="491" data-belowelement="comment-913" data-respondelement="respond" aria-label="Reply to meow">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-914">
		<article id="comment-914" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/23fb5a78b79d8578cf3b73e5541f47b8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/23fb5a78b79d8578cf3b73e5541f47b8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">shikhil bhalla</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-914"><time datetime="2016-07-08T12:27:38-07:00">July 8, 2016 at 12:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awsm work. kalman filter was not that easy before. Thanks  a lot.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=914#respond" data-commentid="914" data-postid="491" data-belowelement="comment-914" data-respondelement="respond" aria-label="Reply to shikhil bhalla">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-916">
		<article id="comment-916" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d1d5521d9b2e5f769d20cd040603d3fe?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d1d5521d9b2e5f769d20cd040603d3fe?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Zsolt Zseludek</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-916"><time datetime="2016-07-09T10:08:51-07:00">July 9, 2016 at 10:08 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article. I used this filter a few years ago in my embedded system, using code segments from net, but now I finally understand what I programmed before blindly :). Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=916#respond" data-commentid="916" data-postid="491" data-belowelement="comment-916" data-respondelement="respond" aria-label="Reply to Zsolt Zseludek">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-917">
		<article id="comment-917" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5e6062408c72a104cbb7244fd7f24722?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5e6062408c72a104cbb7244fd7f24722?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">MaheshAttade</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-917"><time datetime="2016-07-10T17:48:52-07:00">July 10, 2016 at 5:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>PURE AWESOMENESS!<br>
Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=917#respond" data-commentid="917" data-postid="491" data-belowelement="comment-917" data-respondelement="respond" aria-label="Reply to MaheshAttade">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-919">
		<article id="comment-919" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a6b4920665fbc377598669b591295472?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6b4920665fbc377598669b591295472?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">nancy wei</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-919"><time datetime="2016-07-12T03:52:34-07:00">July 12, 2016 at 3:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing! Funny and clear! Thanks a lot! It definitely give me a lot of help!!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=919#respond" data-commentid="919" data-postid="491" data-belowelement="comment-919" data-respondelement="respond" aria-label="Reply to nancy wei">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-920">
		<article id="comment-920" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b94ac02c93ae5da4a65328790d8ab42a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b94ac02c93ae5da4a65328790d8ab42a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">ammar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-920"><time datetime="2016-07-13T15:36:33-07:00">July 13, 2016 at 3:36 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>very helpful thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=920#respond" data-commentid="920" data-postid="491" data-belowelement="comment-920" data-respondelement="respond" aria-label="Reply to ammar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-921">
		<article id="comment-921" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1a68bdb99916c0430ec231dd0e206b4f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1a68bdb99916c0430ec231dd0e206b4f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Trustmeimanengineer</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-921"><time datetime="2016-07-14T21:34:45-07:00">July 14, 2016 at 9:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is great actually. Im studying electrial engineering (master). Ive read plenty of Kalman Filter explanations and derivations but they all kinda skip steps or forget to introduce variables, which is lethal.<br>
I had to laugh when I saw the diagram though, after seeing so many straight academic/technical flow charts of this, this was refreshing :D</p>
<p>If anyone really wants to get into it, implement the formulas in octave or matlab then you will see how easy it is. This filter is extremely helpful, “simple” and has countless applications.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=921#respond" data-commentid="921" data-postid="491" data-belowelement="comment-921" data-respondelement="respond" aria-label="Reply to Trustmeimanengineer">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-922">
		<article id="comment-922" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ae5f91da4ac9bc296b5b33665b581ff4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ae5f91da4ac9bc296b5b33665b581ff4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">ulzha</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-922"><time datetime="2016-07-17T16:09:03-07:00">July 17, 2016 at 4:09 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome! Acquisition of techniques like this might end up really useful for my robot builder aspirations… *sigh* *waiting for parts to arrive*</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=922#respond" data-commentid="922" data-postid="491" data-belowelement="comment-922" data-respondelement="respond" aria-label="Reply to ulzha">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-923">
		<article id="comment-923" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d2515d870daa6adb42e35fd2fc515bcc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d2515d870daa6adb42e35fd2fc515bcc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">satish</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-923"><time datetime="2016-07-18T16:05:06-07:00">July 18, 2016 at 4:05 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>An excellent way of teaching in a simplest way.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=923#respond" data-commentid="923" data-postid="491" data-belowelement="comment-923" data-respondelement="respond" aria-label="Reply to satish">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-925">
		<article id="comment-925" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e59d497e08f5fc779df34031c46fe727?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e59d497e08f5fc779df34031c46fe727?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Abdulrahman Darwish</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-925"><time datetime="2016-07-26T19:50:27-07:00">July 26, 2016 at 7:50 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you so much, that was really  helpful . AMAZING</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=925#respond" data-commentid="925" data-postid="491" data-belowelement="comment-925" data-respondelement="respond" aria-label="Reply to Abdulrahman Darwish">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-928">
		<article id="comment-928" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/76098cf6aff5846b67531c2a9b53d368?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/76098cf6aff5846b67531c2a9b53d368?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">James Wu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-928"><time datetime="2016-08-02T04:09:45-07:00">August 2, 2016 at 4:09 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent tutorial on kalman filter, I have been trying to teach myself kalman filter for a long time with no success. But I actually understand it now after reading this, thanks a lot!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=928#respond" data-commentid="928" data-postid="491" data-belowelement="comment-928" data-respondelement="respond" aria-label="Reply to James Wu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-930">
		<article id="comment-930" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b4f08666f93ae23be172aebed4c064e5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b4f08666f93ae23be172aebed4c064e5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Harry</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-930"><time datetime="2016-08-05T13:08:21-07:00">August 5, 2016 at 1:08 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much for your explanation. This is the best tutorial that I found online. I’m also expect to see the EKF tutorial. Thank you!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=930#respond" data-commentid="930" data-postid="491" data-belowelement="comment-930" data-respondelement="respond" aria-label="Reply to Harry">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-931">
		<article id="comment-931" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e64777c48363039081df9fe43abf891d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e64777c48363039081df9fe43abf891d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">zjulion</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-931"><time datetime="2016-08-10T09:36:11-07:00">August 10, 2016 at 9:36 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, dude,<br>
great article.<br>
there is a typo in eq(13) which should be \sigam_1 instead of \sigma_0.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=931#respond" data-commentid="931" data-postid="491" data-belowelement="comment-931" data-respondelement="respond" aria-label="Reply to zjulion">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-932">
		<article id="comment-932" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-932"><time datetime="2016-08-12T08:28:23-07:00">August 12, 2016 at 8:28 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nope, that would give the wrong answer. See the same math in the citation at the bottom of the article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=932#respond" data-commentid="932" data-postid="491" data-belowelement="comment-932" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-936">
		<article id="comment-936" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7b98ce2549765b81c331218d38defb02?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7b98ce2549765b81c331218d38defb02?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Oki Matra</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-936"><time datetime="2016-08-14T18:24:32-07:00">August 14, 2016 at 6:24 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Please write your explanation on the EKF topic as soon as possible…, or please tell me the recommended article about EKF that’s already existed by sending the article through the email :) (or the link)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=936#respond" data-commentid="936" data-postid="491" data-belowelement="comment-936" data-respondelement="respond" aria-label="Reply to Oki Matra">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-937">
		<article id="comment-937" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/92aa212da8c733d3afa736c988f9dff4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/92aa212da8c733d3afa736c988f9dff4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">anderstood</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-937"><time datetime="2016-08-20T23:27:57-07:00">August 20, 2016 at 11:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for this excellent post. Just one detail: the fact that Gaussians are “simply” multiplied is a very subtle point and not as trivial as it is presented, see <a href="http://stats.stackexchange.com/questions/230596/why-do-the-probability-distributions-multiply-here" rel="nofollow ugc">http://stats.stackexchange.com/questions/230596/why-do-the-probability-distributions-multiply-here</a>.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=937#respond" data-commentid="937" data-postid="491" data-belowelement="comment-937" data-respondelement="respond" aria-label="Reply to anderstood">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-1157">
		<article id="comment-1157" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/46576124ac54f9cb0ee637e9b487e2cd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/46576124ac54f9cb0ee637e9b487e2cd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Student</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1157"><time datetime="2018-04-08T01:23:46-07:00">April 8, 2018 at 1:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great question! It has confused me a long time</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1157#respond" data-commentid="1157" data-postid="491" data-belowelement="comment-1157" data-respondelement="respond" aria-label="Reply to Student">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-938">
		<article id="comment-938" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d7a7cc0c401ec27d55eafb32851c9443?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d7a7cc0c401ec27d55eafb32851c9443?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Manny Glover</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-938"><time datetime="2016-08-24T03:06:10-07:00">August 24, 2016 at 3:06 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Just another big fan of the article.  Great job!  I definitely understand it better than I did before.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=938#respond" data-commentid="938" data-postid="491" data-belowelement="comment-938" data-respondelement="respond" aria-label="Reply to Manny Glover">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-939">
		<article id="comment-939" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/095f14686335ce468609471b9a55e245?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/095f14686335ce468609471b9a55e245?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sandra</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-939"><time datetime="2016-08-26T16:04:48-07:00">August 26, 2016 at 4:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Oh my god. Thank you so much for this. Until now, I was totally and completely confused by Kalman filters. The pictures and examples are SO helpful. THANK YOU!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=939#respond" data-commentid="939" data-postid="491" data-belowelement="comment-939" data-respondelement="respond" aria-label="Reply to Sandra">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-940">
		<article id="comment-940" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b8dcfaca7da7dc1b088473dde41c8461?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b8dcfaca7da7dc1b088473dde41c8461?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Hao Yang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-940"><time datetime="2016-08-30T16:28:25-07:00">August 30, 2016 at 4:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you so much for this explaination.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=940#respond" data-commentid="940" data-postid="491" data-belowelement="comment-940" data-respondelement="respond" aria-label="Reply to Hao Yang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-941">
		<article id="comment-941" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d29dbaf1939d3094f602a1ed2739f685?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d29dbaf1939d3094f602a1ed2739f685?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Gary K</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-941"><time datetime="2016-08-30T19:00:04-07:00">August 30, 2016 at 7:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Love it – thank you M. Bzarg!  I owe you a significant debt of gratitude…</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=941#respond" data-commentid="941" data-postid="491" data-belowelement="comment-941" data-respondelement="respond" aria-label="Reply to Gary K">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-942">
		<article id="comment-942" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ee34ebb970a0f70b50f695bbb4712ae8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ee34ebb970a0f70b50f695bbb4712ae8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Miriam</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-942"><time datetime="2016-09-01T15:48:55-07:00">September 1, 2016 at 3:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Many thanks for this article,<br>
sometimes the easiest way to explain something is really the harthest!<br>
You did it!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=942#respond" data-commentid="942" data-postid="491" data-belowelement="comment-942" data-respondelement="respond" aria-label="Reply to Miriam">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-943">
		<article id="comment-943" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5d5c9d965435ab9fc42373d6ec31869f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5d5c9d965435ab9fc42373d6ec31869f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Simon Chen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-943"><time datetime="2016-09-05T13:04:27-07:00">September 5, 2016 at 1:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Good job，thank you so much！</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=943#respond" data-commentid="943" data-postid="491" data-belowelement="comment-943" data-respondelement="respond" aria-label="Reply to Simon Chen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-944">
		<article id="comment-944" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/f0ac6a73ce8bb1eb6c612b53e6bcff90?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f0ac6a73ce8bb1eb6c612b53e6bcff90?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Vic Vega</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-944"><time datetime="2016-09-07T23:00:33-07:00">September 7, 2016 at 11:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is a great explanation. The one thing that you present as trivial, but I am not sure what the inuition is, is this statement:</p>
<p>“””<br>
This is where we need another formula. If we multiply every point in a distribution by a matrix A, then what happens to its covariance matrix Σ?</p>
<p>Well, it’s easy. I’ll just give you the identity:<br>
Cov(x)=Σ<br>
Cov(Ax)==AΣA^T<br>
“””</p>
<p>Why is that easy? Thanks so much for your effort!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=944#respond" data-commentid="944" data-postid="491" data-belowelement="comment-944" data-respondelement="respond" aria-label="Reply to Vic Vega">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-945">
		<article id="comment-945" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-945"><time datetime="2016-09-10T00:49:08-07:00">September 10, 2016 at 12:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>It’s easy because I gave it to you. :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=945#respond" data-commentid="945" data-postid="491" data-belowelement="comment-945" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even depth-2" id="li-comment-1036">
		<article id="comment-1036" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4da503e142cf7ed0fbf996ce96bcecb8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4da503e142cf7ed0fbf996ce96bcecb8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Will C</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1036"><time datetime="2017-04-27T04:12:54-07:00">April 27, 2017 at 4:12 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I think of it in shorthand – and I could be wrong – as<br>
—  you spread state x out by multiplying by A<br>
— sigma is the covariance of the vector x (1d), which spreads x out by multiplying x by itself into 2d<br>
so<br>
—  you spread the covariance of x out by multiplying by A in each dimension ; in the first dimension by A, and in the other dimension by A_t</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1036#respond" data-commentid="1036" data-postid="491" data-belowelement="comment-1036" data-respondelement="respond" aria-label="Reply to Will C">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-946">
		<article id="comment-946" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a473925c8952d133ba81f58b5c0bfe6c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Esteban Zuluaga</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-946"><time datetime="2016-09-10T12:07:38-07:00">September 10, 2016 at 12:07 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for making science and math available to everyone!</p>
<p>On mean reverting linear systems how can I use the Kalman filter to measure the half life of mean reversion?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=946#respond" data-commentid="946" data-postid="491" data-belowelement="comment-946" data-respondelement="respond" aria-label="Reply to Esteban Zuluaga">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-947">
		<article id="comment-947" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d4e5afc4fdeb05c9a05f527a32b4c305?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d4e5afc4fdeb05c9a05f527a32b4c305?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alejandro</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-947"><time datetime="2016-09-15T08:46:07-07:00">September 15, 2016 at 8:46 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hey!</p>
<p>Just wanted to give some feedback. I really enjoyed your explanation of Kalman filters. Also, thank you very much for the reference!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=947#respond" data-commentid="947" data-postid="491" data-belowelement="comment-947" data-respondelement="respond" aria-label="Reply to Alejandro">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-948">
		<article id="comment-948" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/80ec42c2fe9bd8c565412a3a8fd2e4d3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/80ec42c2fe9bd8c565412a3a8fd2e4d3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Lars Kallryd</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-948"><time datetime="2016-09-16T07:52:01-07:00">September 16, 2016 at 7:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for a good tutorial !! What does a accelerometer cost to the Arduino? :D</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=948#respond" data-commentid="948" data-postid="491" data-belowelement="comment-948" data-respondelement="respond" aria-label="Reply to Lars Kallryd">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-949">
		<article id="comment-949" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5bd0bbce03f9c0bf7b6a7d9a8e6e3797?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5bd0bbce03f9c0bf7b6a7d9a8e6e3797?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Steffi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-949"><time datetime="2016-09-16T09:45:46-07:00">September 16, 2016 at 9:45 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I have never come across so beautifully and clearly elaborated explanation for Kalman Filter such as your article!! Thanks a lot for giving a lucid idea about Kalman Filter! Do continue to post many more useful mathematical principles</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=949#respond" data-commentid="949" data-postid="491" data-belowelement="comment-949" data-respondelement="respond" aria-label="Reply to Steffi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-951">
		<article id="comment-951" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/583ca217c4c1f40448b6a3aaae614af1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/583ca217c4c1f40448b6a3aaae614af1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">hadi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-951"><time datetime="2016-09-17T03:44:13-07:00">September 17, 2016 at 3:44 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hey!</p>
<p>Thanks for the great article. I have a couple of questions though:</p>
<p>1) Why do we multiply the state vector (x) by H to make it compatible with the measurements. Why don’t we do it the other way around? Would there be any issues if we did it the other way around?</p>
<p>2) If you only have a position sensor (say a GPS), would it be possible to work with a PV model as the one you have used? I understand that we can calculate the velocity between two successive measurements as (x2 – x1/dt). I just don’t understand where this calculation would be fit in.</p>
<p>Thanks :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=951#respond" data-commentid="951" data-postid="491" data-belowelement="comment-951" data-respondelement="respond" aria-label="Reply to hadi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-952">
		<article id="comment-952" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0a14796a05ea47d39f82e71352eea45b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0a14796a05ea47d39f82e71352eea45b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Selina</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-952"><time datetime="2016-10-04T13:26:15-07:00">October 4, 2016 at 1:26 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I am currently working on my undergraduate project where I am using a Kalman Filter to use the GPS and IMU data to improve the location and movements of an autonomous vehicle. I would like to know what was in Matrix A that you multiplied out in equations 4 and 5. Thank you for the helpful article!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=952#respond" data-commentid="952" data-postid="491" data-belowelement="comment-952" data-respondelement="respond" aria-label="Reply to Selina">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-956">
		<article id="comment-956" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/eee6fc78a933aeb5f4ed2daba5e6100b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eee6fc78a933aeb5f4ed2daba5e6100b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Burak Cetinkaya</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-956"><time datetime="2016-10-16T22:48:10-07:00">October 16, 2016 at 10:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The matrix A is just an example in equation 4, it is F_k in the equation 5. ( A = F_k )</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=956#respond" data-commentid="956" data-postid="491" data-belowelement="comment-956" data-respondelement="respond" aria-label="Reply to Burak Cetinkaya">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-953">
		<article id="comment-953" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e3b17a2f764dcad8f03e9ce361a19cb4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e3b17a2f764dcad8f03e9ce361a19cb4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Panruo Wu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-953"><time datetime="2016-10-06T00:15:39-07:00">October 6, 2016 at 12:15 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=953#respond" data-commentid="953" data-postid="491" data-belowelement="comment-953" data-respondelement="respond" aria-label="Reply to Panruo Wu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-955">
		<article id="comment-955" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/941759fe37b36d25be14f644610167bc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/941759fe37b36d25be14f644610167bc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://en.nicolasbouliane.com" rel="external nofollow ugc" class="url">Nicolas Bouliane</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-955"><time datetime="2016-10-15T10:41:46-07:00">October 15, 2016 at 10:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for making math accessible to us. I wish more math topics were presented this well.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=955#respond" data-commentid="955" data-postid="491" data-belowelement="comment-955" data-respondelement="respond" aria-label="Reply to Nicolas Bouliane">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-957">
		<article id="comment-957" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9d317d03ae6b36aad32e88856507ff3a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9d317d03ae6b36aad32e88856507ff3a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rocco</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-957"><time datetime="2016-10-17T21:16:54-07:00">October 17, 2016 at 9:16 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very cool article! Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=957#respond" data-commentid="957" data-postid="491" data-belowelement="comment-957" data-respondelement="respond" aria-label="Reply to Rocco">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-958">
		<article id="comment-958" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/cd6c0899516ba4efdebc140219000651?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/cd6c0899516ba4efdebc140219000651?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rodrigo Alves</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-958"><time datetime="2016-10-21T09:31:40-07:00">October 21, 2016 at 9:31 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome post. Thanks a lot !</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=958#respond" data-commentid="958" data-postid="491" data-belowelement="comment-958" data-respondelement="respond" aria-label="Reply to Rodrigo Alves">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-959">
		<article id="comment-959" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d7ecd265614efa0acd66becd978f8344?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d7ecd265614efa0acd66becd978f8344?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Hazem Helal</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-959"><time datetime="2016-10-22T13:58:29-07:00">October 22, 2016 at 1:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for your amazing work!<br>
but i have a question please !<br>
why this ??<br>
We can knock an Hk off the front of every term in (16) and (17) (note that one is hiding inside K ), and an HTk off the end of all terms in the equation for P′k.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=959#respond" data-commentid="959" data-postid="491" data-belowelement="comment-959" data-respondelement="respond" aria-label="Reply to Hazem Helal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-960">
		<article id="comment-960" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3936bfe04c4d73308a6eba07ed58df88?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3936bfe04c4d73308a6eba07ed58df88?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">thomai</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-960"><time datetime="2016-10-23T17:36:08-07:00">October 23, 2016 at 5:36 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>very nice! thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=960#respond" data-commentid="960" data-postid="491" data-belowelement="comment-960" data-respondelement="respond" aria-label="Reply to thomai">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-963">
		<article id="comment-963" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d5ff16bce5e5111ae33159bc8801825f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d5ff16bce5e5111ae33159bc8801825f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bonobo2000</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-963"><time datetime="2016-11-14T13:12:02-08:00">November 14, 2016 at 1:12 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>excellent job, thanks a lot for this article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=963#respond" data-commentid="963" data-postid="491" data-belowelement="comment-963" data-respondelement="respond" aria-label="Reply to Bonobo2000">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-964">
		<article id="comment-964" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/62c6c91476f0f385e13a580aaaa8a0ee?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/62c6c91476f0f385e13a580aaaa8a0ee?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jonathan B</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-964"><time datetime="2016-11-17T06:24:47-08:00">November 17, 2016 at 6:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I know I am very late to this post, and I am aware that this comment could very well go unseen by any other human eyes, but I also figure that there is no hurt in asking. This article was very helpful to me in my research of kalman filters and understanding how they work. I would absolutely love if you were to do a similar article about the Extended Kalman filter and the Unscented Kalman Filter (or Sigma Point filter, as it is sometimes called). If you never see this, or never write a follow up, I still leave my thank you here, for this is quite a fantastic article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=964#respond" data-commentid="964" data-postid="491" data-belowelement="comment-964" data-respondelement="respond" aria-label="Reply to Jonathan B">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-965">
		<article id="comment-965" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ec4ed261042f42d5c2c51263ef474171?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ec4ed261042f42d5c2c51263ef474171?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sheetal Bisht</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-965"><time datetime="2016-11-17T20:36:20-08:00">November 17, 2016 at 8:36 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I cannot express how thankful am I to you. I have an interview and i was having trouble in understanding the Kalman Filter due to the mathematical equations given everywhere but how beautifully have you explained Sir!! I understood each and every part and now feeling so confident about the Interview. Thanks to you</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=965#respond" data-commentid="965" data-postid="491" data-belowelement="comment-965" data-respondelement="respond" aria-label="Reply to Sheetal Bisht">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-966">
		<article id="comment-966" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4a5caf36cab213ed523a4ec125828209?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4a5caf36cab213ed523a4ec125828209?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Shilpi M</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-966"><time datetime="2016-11-19T15:14:50-08:00">November 19, 2016 at 3:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much..This article is really amazing</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=966#respond" data-commentid="966" data-postid="491" data-belowelement="comment-966" data-respondelement="respond" aria-label="Reply to Shilpi M">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-967">
		<article id="comment-967" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e58607c6790e6b81955b1ef23afbc53e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e58607c6790e6b81955b1ef23afbc53e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Biao Yang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-967"><time datetime="2016-11-21T15:56:25-08:00">November 21, 2016 at 3:56 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I have been working on Kalman Filter , Particle Filter and Ensemble Kalman Filter for my whole PhD thesis, and this article is absolutely the best tutorial for KF I’ve ever seen. I’m looking forward to read your article on EnKF.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=967#respond" data-commentid="967" data-postid="491" data-belowelement="comment-967" data-respondelement="respond" aria-label="Reply to Biao Yang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-968">
		<article id="comment-968" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e58607c6790e6b81955b1ef23afbc53e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e58607c6790e6b81955b1ef23afbc53e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Biao Yang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-968"><time datetime="2016-11-21T16:13:10-08:00">November 21, 2016 at 4:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>One thing may cause confusion this the normal * normal part.  The product of two independent normals are not normal. It should be better to explained as: p(x | z) = p(z | x) * p(x) / p(z)  = N(z| x) * N(x) / normalizing constant.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=968#respond" data-commentid="968" data-postid="491" data-belowelement="comment-968" data-respondelement="respond" aria-label="Reply to Biao Yang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1004">
		<article id="comment-1004" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3d8af73ea1fa579d8c15fa4b77082349?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3d8af73ea1fa579d8c15fa4b77082349?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">empiricist</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1004"><time datetime="2017-02-17T03:24:03-08:00">February 17, 2017 at 3:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome. I felt something was at odds there too. anderstood in the previous reply also shared the same confusion. I was about to reconcile it on my own, but you explained it right! Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1004#respond" data-commentid="1004" data-postid="491" data-belowelement="comment-1004" data-respondelement="respond" aria-label="Reply to empiricist">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-969">
		<article id="comment-969" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ad9ec0583de4c04846c4d37fd14bfa07?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ad9ec0583de4c04846c4d37fd14bfa07?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yagmur</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-969"><time datetime="2016-11-22T19:48:07-08:00">November 22, 2016 at 7:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks a lot for the nice and detailed explanation!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=969#respond" data-commentid="969" data-postid="491" data-belowelement="comment-969" data-respondelement="respond" aria-label="Reply to Yagmur">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-970">
		<article id="comment-970" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1b4a49a8b72bc526cb4ad7409a2f0161?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1b4a49a8b72bc526cb4ad7409a2f0161?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Livio</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-970"><time datetime="2016-11-25T17:22:59-08:00">November 25, 2016 at 5:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>After years of struggling to catch the physical meaning of all those matrices, evereything is crystal clear finally!</p>
<p>THANK YOU MAN, I LOVE YOU</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=970#respond" data-commentid="970" data-postid="491" data-belowelement="comment-970" data-respondelement="respond" aria-label="Reply to Livio">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-971">
		<article id="comment-971" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/8b8af7a111e42a0a37bd47ed2926931f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8b8af7a111e42a0a37bd47ed2926931f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">johnny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-971"><time datetime="2016-12-02T07:46:05-08:00">December 2, 2016 at 7:46 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice article!<br>
it seems a C++ implementation of a Kalman filter is made here :<br>
<a href="https://github.com/hmartiro/kalman-cpp" rel="nofollow ugc">https://github.com/hmartiro/kalman-cpp</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=971#respond" data-commentid="971" data-postid="491" data-belowelement="comment-971" data-respondelement="respond" aria-label="Reply to johnny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-973">
		<article id="comment-973" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/94d023d9107d98d7e68e09072fd5f7f4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/94d023d9107d98d7e68e09072fd5f7f4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Maissam</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-973"><time datetime="2016-12-04T19:33:42-08:00">December 4, 2016 at 7:33 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>what amazing description………thank you very very very much</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=973#respond" data-commentid="973" data-postid="491" data-belowelement="comment-973" data-respondelement="respond" aria-label="Reply to Maissam">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-975">
		<article id="comment-975" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5fc9b1180835b138c6c0c9eaf9912515?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5fc9b1180835b138c6c0c9eaf9912515?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Edu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-975"><time datetime="2016-12-09T01:15:28-08:00">December 9, 2016 at 1:15 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very good and clear explanation ! Many kudos !</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=975#respond" data-commentid="975" data-postid="491" data-belowelement="comment-975" data-respondelement="respond" aria-label="Reply to Edu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-976">
		<article id="comment-976" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/386d09cd455f5f5042e7baaf010aca99?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/386d09cd455f5f5042e7baaf010aca99?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Donovan Baarda</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-976"><time datetime="2016-12-11T23:53:15-08:00">December 11, 2016 at 11:53 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>For me the revelation on what kalman is came when I went through the maths for a single dimensional state (a 1×1 state matrix, which strips away all the matrix maths). When you do that it’s pretty clear it’s just the weighed average between the model and the sensor(s), weighted by their error variance.</p>
<p>It also explains how kalman filters can have less lag. You can’t have a filter without lag unless you can predict the future, since filters work by taking into account multiple past inputs. However, with kalman the model is a a kind of “future” prediction (provided your model is good enough).</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=976#respond" data-commentid="976" data-postid="491" data-belowelement="comment-976" data-respondelement="respond" aria-label="Reply to Donovan Baarda">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-978">
		<article id="comment-978" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c1f96843607261313f18f58ff5656dc6?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c1f96843607261313f18f58ff5656dc6?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Math Fan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-978"><time datetime="2016-12-22T15:47:29-08:00">December 22, 2016 at 3:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for this article. It is very nice and helpful. One of the best teaching tips I picked up from this is coloring equations to match the colored description. Brilliant!</p>
<p>When you knock off the Hk matrix, that makes sense when Hk has an inverse. Is the result the same when Hk has no inverse? In this case, how does the derivation change?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=978#respond" data-commentid="978" data-postid="491" data-belowelement="comment-978" data-respondelement="respond" aria-label="Reply to Math Fan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-979">
		<article id="comment-979" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7f7abc71581f2ce72c40c9bea6a247ef?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7f7abc71581f2ce72c40c9bea6a247ef?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">John</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-979"><time datetime="2016-12-22T19:28:36-08:00">December 22, 2016 at 7:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent ! You explained it clearly and simple. Thanks a lot!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=979#respond" data-commentid="979" data-postid="491" data-belowelement="comment-979" data-respondelement="respond" aria-label="Reply to John">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-980">
		<article id="comment-980" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e4a032154fe23f15b1d58a0f8efa9f39?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e4a032154fe23f15b1d58a0f8efa9f39?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ramesh</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-980"><time datetime="2016-12-23T22:44:32-08:00">December 23, 2016 at 10:44 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Awesome work !! . can you explain particle filter also?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=980#respond" data-commentid="980" data-postid="491" data-belowelement="comment-980" data-respondelement="respond" aria-label="Reply to Ramesh">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-981">
		<article id="comment-981" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ae983d1a221b27a4ea45926ea0ed1a03?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ae983d1a221b27a4ea45926ea0ed1a03?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Neil</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-981"><time datetime="2016-12-26T07:30:16-08:00">December 26, 2016 at 7:30 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You explained it clearly and simplely. I had not seen it. Tks very much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=981#respond" data-commentid="981" data-postid="491" data-belowelement="comment-981" data-respondelement="respond" aria-label="Reply to Neil">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-984">
		<article id="comment-984" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7fb964b7fbf179d1696f31ca72bdea94?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7fb964b7fbf179d1696f31ca72bdea94?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">airyym</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-984"><time datetime="2017-01-07T12:15:55-08:00">January 7, 2017 at 12:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>It’s great post. But I have one question.<br>
In equation (16), Where did the left part come from?  Updated state is already multiplied by measurement matrix and knocked off? I couldn’t understand this step.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=984#respond" data-commentid="984" data-postid="491" data-belowelement="comment-984" data-respondelement="respond" aria-label="Reply to airyym">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-986">
		<article id="comment-986" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4075a1d0ab0220aebf19bad98b3d5956?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4075a1d0ab0220aebf19bad98b3d5956?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mansoor Ghazi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-986"><time datetime="2017-01-11T16:58:52-08:00">January 11, 2017 at 4:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks a lot! This is probably the best explanation of KF anywhere in the literature/internet.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=986#respond" data-commentid="986" data-postid="491" data-belowelement="comment-986" data-respondelement="respond" aria-label="Reply to Mansoor Ghazi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-987">
		<article id="comment-987" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/cb67ff16832ef19998d739c1f3c0eedb?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/cb67ff16832ef19998d739c1f3c0eedb?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Richard Manning</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-987"><time datetime="2017-01-12T04:24:40-08:00">January 12, 2017 at 4:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Really fantastic explanation of something that baffles a lot of people (me included).  Well done!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=987#respond" data-commentid="987" data-postid="491" data-belowelement="comment-987" data-respondelement="respond" aria-label="Reply to Richard Manning">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-988">
		<article id="comment-988" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/00c1f398dce391d49f8621bcb08fcfc2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/00c1f398dce391d49f8621bcb08fcfc2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">H.D.N.</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-988"><time datetime="2017-01-13T00:32:38-08:00">January 13, 2017 at 12:32 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>So damn good! This is the first time that I finally understand what Kalman filter is doing.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=988#respond" data-commentid="988" data-postid="491" data-belowelement="comment-988" data-respondelement="respond" aria-label="Reply to H.D.N.">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-989">
		<article id="comment-989" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/66d3a7a7f217d029aa1d7d08ef84df25?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/66d3a7a7f217d029aa1d7d08ef84df25?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://www.uni.edu.pe" rel="external nofollow ugc" class="url">miguel arrunategui</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-989"><time datetime="2017-01-14T17:37:25-08:00">January 14, 2017 at 5:37 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I am a University software engineering professor, and this explanation is one of the best I have seen, thanks for your outstanding work.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=989#respond" data-commentid="989" data-postid="491" data-belowelement="comment-989" data-respondelement="respond" aria-label="Reply to miguel arrunategui">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-991">
		<article id="comment-991" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c6aec385564be3385dbf5f592ef6c2ea?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c6aec385564be3385dbf5f592ef6c2ea?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">xchip</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-991"><time datetime="2017-01-21T10:43:51-08:00">January 21, 2017 at 10:43 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Where have you been all my life!!!! Finally got it!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=991#respond" data-commentid="991" data-postid="491" data-belowelement="comment-991" data-respondelement="respond" aria-label="Reply to xchip">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-992">
		<article id="comment-992" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b59e0f6d5fa599b755041ef5721447f5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b59e0f6d5fa599b755041ef5721447f5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">W</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-992"><time datetime="2017-01-21T13:49:12-08:00">January 21, 2017 at 1:49 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is al kinds of awesome.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=992#respond" data-commentid="992" data-postid="491" data-belowelement="comment-992" data-respondelement="respond" aria-label="Reply to W">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-993">
		<article id="comment-993" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/252c8c2b8488172555e2bb2ff273ff50?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/252c8c2b8488172555e2bb2ff273ff50?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">David</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-993"><time datetime="2017-01-22T09:16:28-08:00">January 22, 2017 at 9:16 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great write-up! Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=993#respond" data-commentid="993" data-postid="491" data-belowelement="comment-993" data-respondelement="respond" aria-label="Reply to David">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-994">
		<article id="comment-994" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3bcf148b1b16037d323e56ba7b529937?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3bcf148b1b16037d323e56ba7b529937?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Vlad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-994"><time datetime="2017-01-24T15:14:25-08:00">January 24, 2017 at 3:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Loving the explanation.<br>
A great refresher…</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=994#respond" data-commentid="994" data-postid="491" data-belowelement="comment-994" data-respondelement="respond" aria-label="Reply to Vlad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-995">
		<article id="comment-995" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/8e302fdbc87b135dc1851bdaee5825b8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8e302fdbc87b135dc1851bdaee5825b8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Divya</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-995"><time datetime="2017-01-26T15:24:02-08:00">January 26, 2017 at 3:24 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is an amazing explanation; took me an hour to understand what I had been trying to figure out for a week.<br>
One question:<br>
what exactly does H do? Can you give me an example of H? I was assuming that the observation x IS the mean of where the real x could be, and it would have a certain variance. But instead, the mean is Hx. Why is that? why is the mean not just x?<br>
Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=995#respond" data-commentid="995" data-postid="491" data-belowelement="comment-995" data-respondelement="respond" aria-label="Reply to Divya">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-996">
		<article id="comment-996" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/f07cc244168fa4594cc25351eca99808?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f07cc244168fa4594cc25351eca99808?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">trecon</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-996"><time datetime="2017-02-05T08:23:11-08:00">February 5, 2017 at 8:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the KF article. Very interesting!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=996#respond" data-commentid="996" data-postid="491" data-belowelement="comment-996" data-respondelement="respond" aria-label="Reply to trecon">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-997">
		<article id="comment-997" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e44d92c6183ecef44b226f7b83545458?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e44d92c6183ecef44b226f7b83545458?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">juanattack</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-997"><time datetime="2017-02-05T18:04:15-08:00">February 5, 2017 at 6:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Impressive and clear explanation of such a tough subject! Really loved the graphical way you used, which appeals to many of us in a much more significant way. Bravo!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=997#respond" data-commentid="997" data-postid="491" data-belowelement="comment-997" data-respondelement="respond" aria-label="Reply to juanattack">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-998">
		<article id="comment-998" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/afac01e06580ff3f54e1d76626114e4d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/afac01e06580ff3f54e1d76626114e4d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yao</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-998"><time datetime="2017-02-06T23:15:10-08:00">February 6, 2017 at 11:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great work! Thank you so much!</p>
<p>But I have a simple problem. In pratice, we never know the ground truth, so we should assign an initial value for Pk. And my problem is Pk and kalman gain k are only determined by A,B,H,Q,R, these parameters are constant. Therefore, as long as we are using the same sensor(the same R), and we are measuring the same process(A,B,H,Q are the same), then everybody could use the same Pk, and k before collecting the data. Am I right?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=998#respond" data-commentid="998" data-postid="491" data-belowelement="comment-998" data-respondelement="respond" aria-label="Reply to Yao">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-999">
		<article id="comment-999" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c746f4e4a63708793c1ba9d109beaaf5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c746f4e4a63708793c1ba9d109beaaf5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Raul</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-999"><time datetime="2017-02-10T10:59:04-08:00">February 10, 2017 at 10:59 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Veeeery nice article! One of the best, if not the best, I’ve found about kalman filtering! Makes it much easier to understand! Thanks a lot for your great work!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=999#respond" data-commentid="999" data-postid="491" data-belowelement="comment-999" data-respondelement="respond" aria-label="Reply to Raul">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1000">
		<article id="comment-1000" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6b7cc3b1db50dfb1fc919410fd845db3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6b7cc3b1db50dfb1fc919410fd845db3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Selin</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1000"><time datetime="2017-02-11T17:13:30-08:00">February 11, 2017 at 5:13 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for this clear explanation!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1000#respond" data-commentid="1000" data-postid="491" data-belowelement="comment-1000" data-respondelement="respond" aria-label="Reply to Selin">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1001">
		<article id="comment-1001" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/94c9a1b1466fceff81b7294050bce514?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/94c9a1b1466fceff81b7294050bce514?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">feng liu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1001"><time datetime="2017-02-15T21:45:10-08:00">February 15, 2017 at 9:45 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is an amazing introduction! I read it through and want to and need to read it against. But cannot suppress the inner urge to thumb up!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1001#respond" data-commentid="1001" data-postid="491" data-belowelement="comment-1001" data-respondelement="respond" aria-label="Reply to feng liu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1002">
		<article id="comment-1002" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6361dfe653fb679946a543073e100b93?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6361dfe653fb679946a543073e100b93?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Revathi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1002"><time datetime="2017-02-16T11:43:26-08:00">February 16, 2017 at 11:43 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello!<br>
I have acceleration measurements only.How do I estimate position and velocity?<br>
What will be my measurement matrix?<br>
Is it possible to construct such a filter?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1002#respond" data-commentid="1002" data-postid="491" data-belowelement="comment-1002" data-respondelement="respond" aria-label="Reply to Revathi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1003">
		<article id="comment-1003" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/02b1a19628d05da992b8a54fefe78fc7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/02b1a19628d05da992b8a54fefe78fc7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yunfei</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1003"><time datetime="2017-02-16T12:19:30-08:00">February 16, 2017 at 12:19 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Your tutorial of KF is truely amazing. Every material related to KF now lead and redirect to this article (orginal popular one was Kalman Filter for dummies). Hope to see your EKF tutorial soon. Thank you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1003#respond" data-commentid="1003" data-postid="491" data-belowelement="comment-1003" data-respondelement="respond" aria-label="Reply to Yunfei">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1005">
		<article id="comment-1005" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9cc1a276b74dc94bafbf74d5b8a8cf93?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9cc1a276b74dc94bafbf74d5b8a8cf93?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jones</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1005"><time datetime="2017-02-17T17:00:49-08:00">February 17, 2017 at 5:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing post! Thank you! I guess you did not write the EKF tutorial, eventually?</p>
<p>Small question, if I may:<br>
What if the sensors don’t update at the same rate? You want to update your state at the speed of the fastest sensor, right? Do you “simply” reduce the rank of the H matrix for the sensors that haven’t been updated since the last prediction?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1005#respond" data-commentid="1005" data-postid="491" data-belowelement="comment-1005" data-respondelement="respond" aria-label="Reply to Jones">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1006">
		<article id="comment-1006" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6abf283ba68f2b4e8a3d5c510e1081c1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6abf283ba68f2b4e8a3d5c510e1081c1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">florian</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1006"><time datetime="2017-02-23T06:57:41-08:00">February 23, 2017 at 6:57 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hey, nice article. I enjoyed reading it. One small correction though: the figure which shows multiplication of two Gaussians should have the posterior be more “peaky” i.e. less variance than both the likelihood and the prior. The blue curve should be more certain than the other two.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1006#respond" data-commentid="1006" data-postid="491" data-belowelement="comment-1006" data-respondelement="respond" aria-label="Reply to florian">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1007">
		<article id="comment-1007" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b2eddff0b10ccc34d28f31fb69c78308?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b2eddff0b10ccc34d28f31fb69c78308?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Müller</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1007"><time datetime="2017-02-24T22:14:26-08:00">February 24, 2017 at 10:14 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very well explained!! Thank you.<br>
Could you pleaseeeee extend this to the Extended, Unscented and Square Root Kalman Filters as well.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1007#respond" data-commentid="1007" data-postid="491" data-belowelement="comment-1007" data-respondelement="respond" aria-label="Reply to Müller">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1008">
		<article id="comment-1008" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/88b6acfa86fc9e089cfa4705d1bb8843?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/88b6acfa86fc9e089cfa4705d1bb8843?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alberto Bussini</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1008"><time datetime="2017-02-26T12:07:39-08:00">February 26, 2017 at 12:07 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I’m currently studying mechatronics and robotics in my university and we just faced the Kalman Filter. It was really difficult for me to give a practical meaning to it, but after I read your article, now everything is clear!<br>
Really a great one, I loved it!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1008#respond" data-commentid="1008" data-postid="491" data-belowelement="comment-1008" data-respondelement="respond" aria-label="Reply to Alberto Bussini">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1011">
		<article id="comment-1011" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/35acaa41160b3435195d0bd0ec9f63e2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/35acaa41160b3435195d0bd0ec9f63e2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="https://www.facebook.com/profile.php?id=100010574532158" rel="external nofollow ugc" class="url">xibo zhang</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1011"><time datetime="2017-02-28T06:22:58-08:00">February 28, 2017 at 6:22 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>perfect work, simple and elegant!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1011#respond" data-commentid="1011" data-postid="491" data-belowelement="comment-1011" data-respondelement="respond" aria-label="Reply to xibo zhang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1013">
		<article id="comment-1013" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ea270adbe038fc6f73d1af6ddb889c6e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ea270adbe038fc6f73d1af6ddb889c6e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bharti Kaushal</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1013"><time datetime="2017-03-03T06:09:52-08:00">March 3, 2017 at 6:09 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks Tim, nice explanation on KF ..really very helpful..looking forward for EKF &amp; UKF</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1013#respond" data-commentid="1013" data-postid="491" data-belowelement="comment-1013" data-respondelement="respond" aria-label="Reply to Bharti Kaushal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1014">
		<article id="comment-1014" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/42011f9e9ad8613aa3714740087b0ccd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/42011f9e9ad8613aa3714740087b0ccd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">eric</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1014"><time datetime="2017-03-03T12:00:41-08:00">March 3, 2017 at 12:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Best Guide on KF ever !</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1014#respond" data-commentid="1014" data-postid="491" data-belowelement="comment-1014" data-respondelement="respond" aria-label="Reply to eric">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1015">
		<article id="comment-1015" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/fa15521cb99e6d6a4d9c04d5b5d6d632?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fa15521cb99e6d6a4d9c04d5b5d6d632?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Omer korech</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1015"><time datetime="2017-03-03T12:45:52-08:00">March 3, 2017 at 12:45 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>That was fascinating<br>
Thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1015#respond" data-commentid="1015" data-postid="491" data-belowelement="comment-1015" data-respondelement="respond" aria-label="Reply to Omer korech">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1016">
		<article id="comment-1016" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/8211c057a09e20c7a4927be3ce763051?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8211c057a09e20c7a4927be3ce763051?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">d</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1016"><time datetime="2017-03-07T22:32:12-08:00">March 7, 2017 at 10:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>For the extended Kalman Filter:<br>
‘The Extended Kalman Filter: An Interactive Tutorial for Non-Experts’<br>
<a href="https://home.wlu.edu/~levys/kalman_tutorial/" rel="nofollow ugc">https://home.wlu.edu/~levys/kalman_tutorial/</a><br>
(written to be understood by high-schoolers)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1016#respond" data-commentid="1016" data-postid="491" data-belowelement="comment-1016" data-respondelement="respond" aria-label="Reply to d">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1018">
		<article id="comment-1018" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a5388fd0373797985d2b6a9d1a8feba5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a5388fd0373797985d2b6a9d1a8feba5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Niel</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1018"><time datetime="2017-03-13T09:21:16-07:00">March 13, 2017 at 9:21 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I had read an article about simultaneously using 2 same sensors in kalman filter, do you think it will work well if I just wanna measure only the direction using E-compass?? What are those inputs then and the matrix H?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1018#respond" data-commentid="1018" data-postid="491" data-belowelement="comment-1018" data-respondelement="respond" aria-label="Reply to Niel">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1019">
		<article id="comment-1019" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c33718feddd6d2239beb6c8c9ff88b47?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c33718feddd6d2239beb6c8c9ff88b47?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">nhorro</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1019"><time datetime="2017-03-26T14:22:04-07:00">March 26, 2017 at 2:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks, great article!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1019#respond" data-commentid="1019" data-postid="491" data-belowelement="comment-1019" data-respondelement="respond" aria-label="Reply to nhorro">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1020">
		<article id="comment-1020" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e1f7f5a68cb88053cb56dbff5f9774a1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e1f7f5a68cb88053cb56dbff5f9774a1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Budwar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1020"><time datetime="2017-03-26T19:52:53-07:00">March 26, 2017 at 7:52 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is great. Such a wonderful description. Can you point me towards somewhere that shows the steps behind finding the expected value and SD of P(x)P(y), with normalisation. I’m getting stuck somewhere</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1020#respond" data-commentid="1020" data-postid="491" data-belowelement="comment-1020" data-respondelement="respond" aria-label="Reply to Budwar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1021">
		<article id="comment-1021" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1021"><time datetime="2017-03-26T19:58:59-07:00">March 26, 2017 at 7:58 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I don’t have a link on hand, but as mentioned above some have gotten confused by the distinction of taking pdf(X*Y) and pdf(X) * pdf(Y), with X and Y two independent random variables. It is the latter in this context, as we are asking for the probability that X=x and Y=y, not the probability of some third random variable taking on the value x*y.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1021#respond" data-commentid="1021" data-postid="491" data-belowelement="comment-1021" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1022">
		<article id="comment-1022" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/26445402207965fb5c0d8cfd952bf0b1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/26445402207965fb5c0d8cfd952bf0b1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Faruk Mustafic</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1022"><time datetime="2017-03-31T16:04:53-07:00">March 31, 2017 at 4:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Really clear article. Wish there were more explanations like this one.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1022#respond" data-commentid="1022" data-postid="491" data-belowelement="comment-1022" data-respondelement="respond" aria-label="Reply to Faruk Mustafic">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1024">
		<article id="comment-1024" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3ce4f0493e621a97cbf9b1854c9a846d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3ce4f0493e621a97cbf9b1854c9a846d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">georgerififi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1024"><time datetime="2017-04-03T14:48:47-07:00">April 3, 2017 at 2:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>great job! best explanation so far</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1024#respond" data-commentid="1024" data-postid="491" data-belowelement="comment-1024" data-respondelement="respond" aria-label="Reply to georgerififi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1025">
		<article id="comment-1025" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7c7ed7ed6151926c0140bf070422d312?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7c7ed7ed6151926c0140bf070422d312?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mandrake</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1025"><time datetime="2017-04-03T22:28:19-07:00">April 3, 2017 at 10:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Absolutely brilliant exposition!!! Thank you for the fantastic job of presenting the KF in such a simple and intuitive way.</p>
<p>I could be totally wrong, but for the figure under the section ‘Combining Gaussians’, shouldn’t the blue curve be taller than the other two curves? The location of the resulting ‘mean’ will be between the earlier two ‘means’ but the variance would be lesser than the earlier two variances causing the curve to get leaner and taller.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1025#respond" data-commentid="1025" data-postid="491" data-belowelement="comment-1025" data-respondelement="respond" aria-label="Reply to Mandrake">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1026">
		<article id="comment-1026" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1026"><time datetime="2017-04-03T22:42:51-07:00">April 3, 2017 at 10:42 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Yes, the variance is smaller. The blue curve is drawn unnormalized to show that it is the intersection of two statistical sets. I’ve added a note to clarify that, as I’ve had a few questions about it. Thanks for your comment!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1026#respond" data-commentid="1026" data-postid="491" data-belowelement="comment-1026" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-3" id="li-comment-1027">
		<article id="comment-1027" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7c7ed7ed6151926c0140bf070422d312?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7c7ed7ed6151926c0140bf070422d312?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mandrake</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1027"><time datetime="2017-04-03T22:47:20-07:00">April 3, 2017 at 10:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>That totally makes sense. Thanks for clarifying that bit.<br>
And did I mention you are brilliant!!!? :-)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1027#respond" data-commentid="1027" data-postid="491" data-belowelement="comment-1027" data-respondelement="respond" aria-label="Reply to Mandrake">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1028">
		<article id="comment-1028" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/94628032625287f252073d9a86ba41fd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/94628032625287f252073d9a86ba41fd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Anirudh</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1028"><time datetime="2017-04-06T10:41:36-07:00">April 6, 2017 at 10:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article, I read several other articles on Kalman filter but could not understand it clearly. </p>
<p>However, one question still remains unanswered is how to estimate covariance matrix. It would be great if you could share some simple practical methods for estimation of covariance matrix.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1028#respond" data-commentid="1028" data-postid="491" data-belowelement="comment-1028" data-respondelement="respond" aria-label="Reply to Anirudh">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1029">
		<article id="comment-1029" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d1acc95232ace6d1c31e95bfd3079fff?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d1acc95232ace6d1c31e95bfd3079fff?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Haseena</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1029"><time datetime="2017-04-09T12:25:50-07:00">April 9, 2017 at 12:25 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very Nice Explanation..<br>
Thanks for your effort</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1029#respond" data-commentid="1029" data-postid="491" data-belowelement="comment-1029" data-respondelement="respond" aria-label="Reply to Haseena">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1030">
		<article id="comment-1030" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/fe32697f1f73738c30106c0324672aaa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fe32697f1f73738c30106c0324672aaa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">abdulrahim ghzal</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1030"><time datetime="2017-04-14T14:43:59-07:00">April 14, 2017 at 2:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>thank you  … it is a very helpful article<br>
hope the best for you ^_^</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1030#respond" data-commentid="1030" data-postid="491" data-belowelement="comment-1030" data-respondelement="respond" aria-label="Reply to abdulrahim ghzal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1031">
		<article id="comment-1031" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6d706845185441da9c5a02cfbec5b90b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6d706845185441da9c5a02cfbec5b90b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Luca</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1031"><time datetime="2017-04-19T16:50:58-07:00">April 19, 2017 at 4:50 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very nice explanation and overall good job ! Thanks !</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1031#respond" data-commentid="1031" data-postid="491" data-belowelement="comment-1031" data-respondelement="respond" aria-label="Reply to Luca">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1032">
		<article id="comment-1032" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/378ba87ae09816a30909d7c67d823e1e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/378ba87ae09816a30909d7c67d823e1e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sai Krishna Allani</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1032"><time datetime="2017-04-21T18:54:00-07:00">April 21, 2017 at 6:54 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice explanation. I understood everything expect I didn’t get why you introduced matrix ‘H’. Can you please explain it?</p>
<p>Thanks,<br>
Krishna</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1032#respond" data-commentid="1032" data-postid="491" data-belowelement="comment-1032" data-respondelement="respond" aria-label="Reply to Sai Krishna Allani">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-1035">
		<article id="comment-1035" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/146935f38a6583e1fead478a105cec9b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/146935f38a6583e1fead478a105cec9b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bharath Ballamudi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1035"><time datetime="2017-04-27T01:34:36-07:00">April 27, 2017 at 1:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Perhaps, the sensor reading dimensions (possibly both scale and units) are not consistent with what you are keeping track of and predict……….as the author had previously alluded to that these sensor readings are might only ‘indirectly’ measure these variables of interest. Say, the sensors are measuring acceleration and then you are leveraging these acceleration measurements to compute the velocity (you are keeping track of) ; and same holds true with the other sensor. Since, there is a possibility of non-linear relationship between the corresponding parameters it warrants a different co-variance matrix and the result is you see a totally different distribution with both mean and co-variance different from the original distribution. So, essentially, you are transforming one distribution to another consistent with your setting.</p>
<p>Hope this makes sense.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1035#respond" data-commentid="1035" data-postid="491" data-belowelement="comment-1035" data-respondelement="respond" aria-label="Reply to Bharath Ballamudi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1037">
		<article id="comment-1037" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1037"><time datetime="2017-04-27T07:07:57-07:00">April 27, 2017 at 7:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>H puts sensor readings and the state vector into the same coordinate system, so that they can be sensibly compared.</p>
<p>In the simplest case, H can be biases and gains that map the units of the state vector to the units of the sensors. In a more complex case, some element of the state vector might affect multiple sensor readings, or some sensor reading might be influenced by multiple state vector elements. For example, a craft’s body axes will likely not be aligned with inertial coordinates, so each coordinate of a craft’s interial-space acceleration vector could affect all three axes of a body-aligned accelerometer.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1037#respond" data-commentid="1037" data-postid="491" data-belowelement="comment-1037" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1033">
		<article id="comment-1033" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/31d36642a2a90cc112bdc5eed8ca025a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/31d36642a2a90cc112bdc5eed8ca025a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">imane</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1033"><time datetime="2017-04-23T18:29:07-07:00">April 23, 2017 at 6:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Bonjour,<br>
i need to implémet  a banc of 4 observers  (kalman filter) with DOS( Dedicated observer), in order to detect and isolate sensors faults<br>
each observer is designed to estimate the 4 system outputs  qu’une seule sortie par laquelle il est piloté, les 3 autres sorties restantes ne sont pas bien estimées, alors que par définition de la structure DOS, chaque observateur piloté par une seule sortie et toutes les entrées du système doit estimer les 4 sorties.<br>
SVP veuillez m’indiquer comment faire pour résoudre ce problème et merci d’avance</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1033#respond" data-commentid="1033" data-postid="491" data-belowelement="comment-1033" data-respondelement="respond" aria-label="Reply to imane">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1034">
		<article id="comment-1034" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/df5f19f43b5bb153075c5a91304514d9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/df5f19f43b5bb153075c5a91304514d9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alexei Guriev</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1034"><time datetime="2017-04-24T22:03:28-07:00">April 24, 2017 at 10:03 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>How I can get Q and R? Can somebody show me exemple.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1034#respond" data-commentid="1034" data-postid="491" data-belowelement="comment-1034" data-respondelement="respond" aria-label="Reply to Alexei Guriev">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-1138">
		<article id="comment-1138" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nathaniel Groendyk</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1138"><time datetime="2018-02-09T01:13:31-08:00">February 9, 2018 at 1:13 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I can’t figure this out either. Are Q and R vectors? Matrices? Great article! I can almost implement one, but I just cant figure out R &amp; Q.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1138#respond" data-commentid="1138" data-postid="491" data-belowelement="comment-1138" data-respondelement="respond" aria-label="Reply to Nathaniel Groendyk">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-3" id="li-comment-1141">
		<article id="comment-1141" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1141"><time datetime="2018-02-09T01:58:42-08:00">February 9, 2018 at 1:58 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Q and R are covariances of noise, so they are matrices. Their values will depend on the process and uncertainty that you are modeling.</p>
<p>In many cases the best you can do is measure them, by performing a repeatable process many times, and recording a population of states and sensor readings. You can then compute the covariance of those datasets using the standard algorithm.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1141#respond" data-commentid="1141" data-postid="491" data-belowelement="comment-1141" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1038">
		<article id="comment-1038" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b1b1fc0378cefdd2ed7028a1a4433ad7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b1b1fc0378cefdd2ed7028a1a4433ad7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://peepo.com" rel="external nofollow ugc" class="url">jay</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1038"><time datetime="2017-04-27T16:40:49-07:00">April 27, 2017 at 4:40 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I’d like a cookbook demonstration.</p>
<p>ie say: simple sensor with arduino and reduced testcase or absolute minimal C code</p>
<p>tx  ~:”</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1038#respond" data-commentid="1038" data-postid="491" data-belowelement="comment-1038" data-respondelement="respond" aria-label="Reply to jay">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1039">
		<article id="comment-1039" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d1c3bc204aa455bebca83869546b9d2c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d1c3bc204aa455bebca83869546b9d2c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">dunanshan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1039"><time datetime="2017-04-28T05:37:24-07:00">April 28, 2017 at 5:37 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent article on Kalman Filter.<br>
Thank you very much.</p>
<p>But I still have a question, why use multiply to combine Gaussians?<br>
Maybe it is too simple to verify.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1039#respond" data-commentid="1039" data-postid="491" data-belowelement="comment-1039" data-respondelement="respond" aria-label="Reply to dunanshan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1040">
		<article id="comment-1040" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5ee8f63b09697a31dc52ef804886e4b3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5ee8f63b09697a31dc52ef804886e4b3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yw</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1040"><time datetime="2017-05-04T10:17:15-07:00">May 4, 2017 at 10:17 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Really COOL. I understand Kalman Filter now. Thanks very much！</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1040#respond" data-commentid="1040" data-postid="491" data-belowelement="comment-1040" data-respondelement="respond" aria-label="Reply to Yw">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1041">
		<article id="comment-1041" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e7df6be355189fa1d63a8d7b105863bd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e7df6be355189fa1d63a8d7b105863bd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mihir D</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1041"><time datetime="2017-05-05T11:20:23-07:00">May 5, 2017 at 11:20 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing article! Explained very well in simple words!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1041#respond" data-commentid="1041" data-postid="491" data-belowelement="comment-1041" data-respondelement="respond" aria-label="Reply to Mihir D">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1042">
		<article id="comment-1042" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/220d4ac2575863237172e55695384e56?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/220d4ac2575863237172e55695384e56?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Tom Riis</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1042"><time datetime="2017-05-06T04:26:42-07:00">May 6, 2017 at 4:26 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks so much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1042#respond" data-commentid="1042" data-postid="491" data-belowelement="comment-1042" data-respondelement="respond" aria-label="Reply to Tom Riis">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1044">
		<article id="comment-1044" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4a9e738c534d29d36caf4d0133ddb9f0?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4a9e738c534d29d36caf4d0133ddb9f0?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Oguzhan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1044"><time datetime="2017-05-17T11:55:11-07:00">May 17, 2017 at 11:55 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I wanted to clarify something about equations 3 and 4. You give the following equation to find the next state;</p>
<p>Xk=FkXk-1 (equation 3)</p>
<p>You then use the co-variance identity to get equation 4.</p>
<p>Cov(AX) = AEA^t</p>
<p>For Cov(X)= E, are you saying that Cov(X-1) = Pk-1? </p>
<p>Is this the reason why you get Pk=Fk*Pk-1*Fk^T? because Fk*Xk-1 is just Xk therefore you get Pk rather than Pk-1? in equation 5 as F is the prediction matrix?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1044#respond" data-commentid="1044" data-postid="491" data-belowelement="comment-1044" data-respondelement="respond" aria-label="Reply to Oguzhan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-1045">
		<article id="comment-1045" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1045"><time datetime="2017-05-17T18:29:40-07:00">May 17, 2017 at 6:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>F is the prediction matrix, and <span class="MathJax_Preview" style="">P_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-85-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-85">P_{k-1}</script> is the covariance of <span class="MathJax_Preview" style="">x_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-86-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-86">x_{k-1}</script>.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1045#respond" data-commentid="1045" data-postid="491" data-belowelement="comment-1045" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1046">
		<article id="comment-1046" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1b120b8d8f72163c9b17810442b6a7fa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1b120b8d8f72163c9b17810442b6a7fa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rafa</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1046"><time datetime="2017-05-18T10:01:40-07:00">May 18, 2017 at 10:01 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I have not finish to read the whole post yet, but I couldn’t resist saying I’m enjoying by first time reading an explanation about the Kalman filter. I felt I need to express you my most sincere congratulations.  I’ll add more comments about the post when I finish reading this interesting piece of art.</p>
<p>Pd. I’m sorry for my pretty horrible English :(</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1046#respond" data-commentid="1046" data-postid="491" data-belowelement="comment-1046" data-respondelement="respond" aria-label="Reply to Rafa">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-1047">
		<article id="comment-1047" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1b120b8d8f72163c9b17810442b6a7fa?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1b120b8d8f72163c9b17810442b6a7fa?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rafa</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1047"><time datetime="2017-05-19T14:02:05-07:00">May 19, 2017 at 2:02 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Ok. I have read the full article and, finally, I have understood this filter perfectly and I have applied it to my researches successfully. Thank you so much Tim!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1047#respond" data-commentid="1047" data-postid="491" data-belowelement="comment-1047" data-respondelement="respond" aria-label="Reply to Rafa">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1048">
		<article id="comment-1048" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/08a9d71dbcd01b2e7a6e149252f4bd48?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/08a9d71dbcd01b2e7a6e149252f4bd48?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Craig</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1048"><time datetime="2017-05-20T18:54:25-07:00">May 20, 2017 at 6:54 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Super excellent demultiplexing of the Kalman Filter through color coding and diagrams!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1048#respond" data-commentid="1048" data-postid="491" data-belowelement="comment-1048" data-respondelement="respond" aria-label="Reply to Craig">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1049">
		<article id="comment-1049" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/196ee53c2a07da4c77a02f012c29561b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/196ee53c2a07da4c77a02f012c29561b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Eyal</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1049"><time datetime="2017-05-22T07:55:21-07:00">May 22, 2017 at 7:55 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much for this lovely explanation.<br>
Can you please explain:<br>
1. How do we initialize the estimator ?<br>
2. How does the assumption of noise correlation affects the equations ?<br>
3. How can we see this system is linear (a simple explanation with an example like you did above would be great!) ?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1049#respond" data-commentid="1049" data-postid="491" data-belowelement="comment-1049" data-respondelement="respond" aria-label="Reply to Eyal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1050">
		<article id="comment-1050" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/80ad789d31bfc6e7d4895fdaffef0b63?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/80ad789d31bfc6e7d4895fdaffef0b63?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Brenton</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1050"><time datetime="2017-05-25T12:27:40-07:00">May 25, 2017 at 12:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Fantastic article, really enjoyed the way you went through the process.</p>
<p>One question, will the Kalman filter get more accurate as more variables are input into it? ie. if you have 1 unknown variable and 3 known variables can you use the filter with all 3 known variables to give a better prediction of the unknown variable and can you keep increasing the known inputs as long as you have accurate measurements of the data.</p>
<p>Mostly thinking of applying this to IMUs, where I know they already use magnetometer readings in the Kalman filter to remove error/drift, but could you also use temperature/gyroscope/other readings as well?  Or do IMUs already do the this?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1050#respond" data-commentid="1050" data-postid="491" data-belowelement="comment-1050" data-respondelement="respond" aria-label="Reply to Brenton">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1051">
		<article id="comment-1051" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/891401ba12b64ed0656145ab2f25f106?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/891401ba12b64ed0656145ab2f25f106?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Zaid</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1051"><time datetime="2017-06-14T18:57:39-07:00">June 14, 2017 at 6:57 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>You are awesome</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1051#respond" data-commentid="1051" data-postid="491" data-belowelement="comment-1051" data-respondelement="respond" aria-label="Reply to Zaid">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1053">
		<article id="comment-1053" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5483fc4d54c3368d6423d82f57feb910?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5483fc4d54c3368d6423d82f57feb910?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Richard C</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1053"><time datetime="2017-06-20T09:05:45-07:00">June 20, 2017 at 9:05 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for this article, it was very useful. Here’s an observation / question:</p>
<p>The prediction matrix F is obviously dependent on the time step (delta t). It also appears the external noise Q should depend on the time step in some way. e.g. if Q is constant, but you take more steps by reducing delta t, the P matrix accumulates noise more quickly. It appears Q should be made smaller to compensate for the smaller time step.</p>
<p>Do you know of a way to make Q something like the amount of noise per second, rather than per step?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1053#respond" data-commentid="1053" data-postid="491" data-belowelement="comment-1053" data-respondelement="respond" aria-label="Reply to Richard C">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1055">
		<article id="comment-1055" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ec47f14bc90cbce4c89a445adfd2b7a8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ec47f14bc90cbce4c89a445adfd2b7a8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">ajebulon</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1055"><time datetime="2017-06-21T16:21:30-07:00">June 21, 2017 at 4:21 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very well explained. I found many links about Kalman which contains terrifying equations and I ended up closing every one of them. This article really explains well the basic of Kalman filter.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1055#respond" data-commentid="1055" data-postid="491" data-belowelement="comment-1055" data-respondelement="respond" aria-label="Reply to ajebulon">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1056">
		<article id="comment-1056" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d67441bfa80b48a2d1cda73972923097?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d67441bfa80b48a2d1cda73972923097?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Lycos</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1056"><time datetime="2017-06-24T01:19:27-07:00">June 24, 2017 at 1:19 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article!! Even though I already used Kalman filter, I just used it. By this article, I can finally get knowledges of Kalman filter.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1056#respond" data-commentid="1056" data-postid="491" data-belowelement="comment-1056" data-respondelement="respond" aria-label="Reply to Lycos">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1060">
		<article id="comment-1060" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d9def31668010e126aedeca2bde52e23?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d9def31668010e126aedeca2bde52e23?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Romain</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1060"><time datetime="2017-06-28T19:10:01-07:00">June 28, 2017 at 7:10 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, Great article and great images !</p>
<p>you should mention how to initialize the covariance matrices. </p>
<p>I implemented my own and I initialized Pk as P0=[1 0; 0 1]. Pk will then converge by itself.</p>
<p>I initialized Qk as Q0=[0 0; 0 varA], where varA is the variance of the accelerometer.  varA is estimated form the accelerometer measurement of the noise at rest. </p>
<p>Same for Rk, I set it as Rk=varSensor. The estimated variance of the sensor at rest.</p>
<p>ps. to get the variance of few measure points at rest, let’s call them xi={x1, x2, … xn}<br>
first get the mean as: mean(x)=sum(xi)/n<br>
then the variance is given as: var(x)=sum((xi-mean(x))^2)/n<br>
see here (scroll down for discrete equally likely values): <a href="https://en.wikipedia.org/wiki/Variance" rel="nofollow ugc">https://en.wikipedia.org/wiki/Variance</a> </p>
<p>Cheers,<br>
Romain</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1060#respond" data-commentid="1060" data-postid="491" data-belowelement="comment-1060" data-respondelement="respond" aria-label="Reply to Romain">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-2" id="li-comment-1139">
		<article id="comment-1139" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nathaniel Groendyk</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1139"><time datetime="2018-02-09T01:16:57-08:00">February 9, 2018 at 1:16 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>THANK YOU KIND SIR! :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1139#respond" data-commentid="1139" data-postid="491" data-belowelement="comment-1139" data-respondelement="respond" aria-label="Reply to Nathaniel Groendyk">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1062">
		<article id="comment-1062" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/90c8c234e8ebe37d6d1f5dd58e1c3f44?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/90c8c234e8ebe37d6d1f5dd58e1c3f44?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Aditya</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1062"><time datetime="2017-07-05T20:15:38-07:00">July 5, 2017 at 8:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is definitely one of the best explanations of KF I have seen! I am trying to explain KF/EKF in my master thesis and I was wondering if I could use some of the images! They’re really awesome! </p>
<p>Cheers,<br>
Aditya</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1062#respond" data-commentid="1062" data-postid="491" data-belowelement="comment-1062" data-respondelement="respond" aria-label="Reply to Aditya">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1063">
		<article id="comment-1063" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1063"><time datetime="2017-07-10T08:14:33-07:00">July 10, 2017 at 8:14 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello! Equation 12 results in a scalar value….just one value as the result. But equation 14 involves covariance matrices, and equation 14 also has a ‘reciprocal’ symbol. Could you please explain whether equation 14 is feasible (correct)? That is, if we have covariance matrices, then it it even feasible to have a reciprocal term such as (sigma0 + sigma1)^-1 ?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1063#respond" data-commentid="1063" data-postid="491" data-belowelement="comment-1063" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1065">
		<article id="comment-1065" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1065"><time datetime="2017-07-10T22:59:11-07:00">July 10, 2017 at 10:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello. I’d like to add…… when I meant reciprocal term in equation 14, I’m talking about  (sigma0 + sigma1)^-1…. which appears to be 1/[sigma0 + sigma1]. But if sigma0 and sigma1 are matrices, then does that fractional reciprocal expression even make sense? Just interested to find out how that expression actually works, or how it is meant to be interpreted – in equation 14. Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1065#respond" data-commentid="1065" data-postid="491" data-belowelement="comment-1065" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1066">
		<article id="comment-1066" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4faad3f3dec2943a18787cfa1fdd310b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4faad3f3dec2943a18787cfa1fdd310b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">John Doe</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1066"><time datetime="2017-07-14T21:23:51-07:00">July 14, 2017 at 9:23 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Simply, Great Work!!<br>
Thank you so much :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1066#respond" data-commentid="1066" data-postid="491" data-belowelement="comment-1066" data-respondelement="respond" aria-label="Reply to John Doe">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1067">
		<article id="comment-1067" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0828c8fa2e55700e3fb1a7984365eb88?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0828c8fa2e55700e3fb1a7984365eb88?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">yota</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1067"><time datetime="2017-07-16T12:29:15-07:00">July 16, 2017 at 12:29 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Nice article, it is the first time I go this far with kalman filtering (^_^;)</p>
<p>Would you mind to detail the content (and shape) of the Hk matrix, if the predict step have very detailed examples, with real Bk and Fk matrices, I’m a bit lost on the update step.<br>
What is Hk exactly, what if my mobile have two sensors for speed for example and one very noisy for position…</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1067#respond" data-commentid="1067" data-postid="491" data-belowelement="comment-1067" data-respondelement="respond" aria-label="Reply to yota">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1068">
		<article id="comment-1068" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a29e4cf66d3b05f2bcc3a26a5694c39c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a29e4cf66d3b05f2bcc3a26a5694c39c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jay</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1068"><time datetime="2017-07-17T13:41:16-07:00">July 17, 2017 at 1:41 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Wow..<br>
FINALLY found THE article that clear things up!<br>
Thanks for the awesome article!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1068#respond" data-commentid="1068" data-postid="491" data-belowelement="comment-1068" data-respondelement="respond" aria-label="Reply to Jay">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1069">
		<article id="comment-1069" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/08a9bcd426d69721eb933d6ecdc5d605?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/08a9bcd426d69721eb933d6ecdc5d605?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="https://www.redbubble.com/people/teehome" rel="external nofollow ugc" class="url">Mohamed Belal</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1069"><time datetime="2017-07-18T08:34:35-07:00">July 18, 2017 at 8:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very well explained, one of the best tutorials about KF so far, very easy to follow, you’ve perfectly clarified everything, thank you so much :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1069#respond" data-commentid="1069" data-postid="491" data-belowelement="comment-1069" data-respondelement="respond" aria-label="Reply to Mohamed Belal">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1072">
		<article id="comment-1072" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1072"><time datetime="2017-07-28T06:32:59-07:00">July 28, 2017 at 6:32 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Finally found out the answer to my question, where I asked about how equations (12) and (13) convert to a matrix form of equation (14). The answer is …… it’s not a simple matter of taking (12) and (13) to get (14). The theory for obtaining a “kalman gain MATRIX” K is much more involved than just saying that (14) is the ‘matrix form’ of (12) and (13). So, if anybody here is confused about how (12) and (13) converts to (14) and (14), I don’t blame you, because the theory for that is not covered here.</p>
<p>This particular article, however….. is one of the best I’ve seen though. It is one that attempts to explain most of the theory in a way that people can understand and relate to.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1072#respond" data-commentid="1072" data-postid="491" data-belowelement="comment-1072" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1073">
		<article id="comment-1073" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1073"><time datetime="2017-07-28T06:34:26-07:00">July 28, 2017 at 6:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Finally found out the answer to my question, where I asked about how equations (12) and (13) convert to a matrix form of equation (14). The answer is …… it’s not a simple matter of taking (12) and (13) to get (14). The theory for obtaining a “kalman gain MATRIX” K is much more involved than just saying that (14) is the ‘matrix form’ of (12) and (13). So, if anybody here is confused about how (12) and (13) converts to (14) and (15), I don’t blame you, because the theory for that is not covered here.</p>
<p>This particular article, however….. is one of the best I’ve seen though. It is one that attempts to explain most of the theory in a way that people can understand and relate to.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1073#respond" data-commentid="1073" data-postid="491" data-belowelement="comment-1073" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1074">
		<article id="comment-1074" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/675804c4f465cff5443beacd4e0b10a7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/675804c4f465cff5443beacd4e0b10a7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yang Ding</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1074"><time datetime="2017-07-30T15:32:50-07:00">July 30, 2017 at 3:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you. :) Love your illustrations and explanations. Made things much more clear. Please draw more robots. XD</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1074#respond" data-commentid="1074" data-postid="491" data-belowelement="comment-1074" data-respondelement="respond" aria-label="Reply to Yang Ding">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1075">
		<article id="comment-1075" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d361add47c723c81b1a9d24cfadecad1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d361add47c723c81b1a9d24cfadecad1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Timo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1075"><time datetime="2017-08-05T07:45:11-07:00">August 5, 2017 at 7:45 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I only understand basic math and a lot of this went way over my head. I’m making a simple two wheel drive microcontroller based robot and it will have one of those dirt cheap 6-axis gyro/accelerometers. Was looking for a way to extract some sense and a way to combine this sensor data into meaningful data that can be used to steer the robot. There’re a lot of uncertainties and noise in such system and I knew someone somewhere had cracked the nut. Now I know at least some theory behind it and I’ll feel more confident using existing programming libraries that Implement these principles. </p>
<p>Even though I don’t understand all in this beautiful detailed explanation, I can see that it’s one of the most comprehensive. I appreciate your time and huge effort put into the subject. Bookmarked and looking forward to return to reread as many times as it takes to understand it piece by piece.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1075#respond" data-commentid="1075" data-postid="491" data-belowelement="comment-1075" data-respondelement="respond" aria-label="Reply to Timo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1076">
		<article id="comment-1076" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a1c9d14a735286407614f7c0871143cc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a1c9d14a735286407614f7c0871143cc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://hp.stuhome.net" rel="external nofollow ugc" class="url">Pu Huang</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1076"><time datetime="2017-08-15T08:26:31-07:00">August 15, 2017 at 8:26 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great blog!! Thanks to your nice work!<br>
By the way, can I translate this blog into Chinese? Of course, I will put this original URL in my translated post. :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1076#respond" data-commentid="1076" data-postid="491" data-belowelement="comment-1076" data-respondelement="respond" aria-label="Reply to Pu Huang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1078">
		<article id="comment-1078" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/55c210b10e087ac81bbf1c098915accc?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/55c210b10e087ac81bbf1c098915accc?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Arthur</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1078"><time datetime="2017-08-20T20:08:59-07:00">August 20, 2017 at 8:08 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you! this clarified my question abou the state transition matrix. Most people may be satisfied with this explanation but I am not.<br>
I am still curious about examples of control matrices and control vectors – the explanation of which you were kind enough to gloss over in this introductory exposition.<br>
I have a lot of other questions and any help would be appreciated!<br>
I have a strong background in stats and engineering math and I have implemented K Filters and Ext K Filters and others as calculators and algorithms without a deep understanding of how they work. I would like to get a better understanding please with any help you can provide. Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1078#respond" data-commentid="1078" data-postid="491" data-belowelement="comment-1078" data-respondelement="respond" aria-label="Reply to Arthur">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1079">
		<article id="comment-1079" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3762cbae5ed92dd0ad6c8b0ba5058279?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3762cbae5ed92dd0ad6c8b0ba5058279?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Akhil Tiwari</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1079"><time datetime="2017-08-22T10:49:41-07:00">August 22, 2017 at 10:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>what if we don’t have the initial velocity.<br>
yes i can use the coordinates ( from sensor/LiDAR ) of first two frame to find the velocity but that is again NOT completely reliable source</p>
<p>what should i do???</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1079#respond" data-commentid="1079" data-postid="491" data-belowelement="comment-1079" data-respondelement="respond" aria-label="Reply to Akhil Tiwari">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1080">
		<article id="comment-1080" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ee10f80be630e5ae36cbe855b7e073ca?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ee10f80be630e5ae36cbe855b7e073ca?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">apeksha vr</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1080"><time datetime="2017-08-23T10:43:54-07:00">August 23, 2017 at 10:43 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I did not understand what exactly is H matrix. Can you explain the difference between H,R,Z?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1080#respond" data-commentid="1080" data-postid="491" data-belowelement="comment-1080" data-respondelement="respond" aria-label="Reply to apeksha vr">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1082">
		<article id="comment-1082" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d50b3d1aa201fd52a4f00680bb0b647c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d50b3d1aa201fd52a4f00680bb0b647c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">adeeb</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1082"><time datetime="2017-09-07T20:59:35-07:00">September 7, 2017 at 8:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>i am doing my final year project on designing this estimator, and for starters, this is a good note and report ideal for seminar and self evaluating,. thanks admin for posting this gold knowledge. made easy for testing and understanding in a simple analogy. with great graphs and picture content. couldnt thank less. peace.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1082#respond" data-commentid="1082" data-postid="491" data-belowelement="comment-1082" data-respondelement="respond" aria-label="Reply to adeeb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1084">
		<article id="comment-1084" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a0e32a07c5ca0f8eb6231e84f1838c99?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a0e32a07c5ca0f8eb6231e84f1838c99?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Jiang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1084"><time datetime="2017-09-13T00:33:53-07:00">September 13, 2017 at 12:33 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is so helpful!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1084#respond" data-commentid="1084" data-postid="491" data-belowelement="comment-1084" data-respondelement="respond" aria-label="Reply to Jiang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1086">
		<article id="comment-1086" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1086"><time datetime="2017-09-27T19:43:41-07:00">September 27, 2017 at 7:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>A big question here is …. in equation (6), why is the projection (ie. xk) calculated from the state matrix Fk (instead of F_k-1 ?  Similarly? Why Bk and uk?<br>
If we’re trying to get xk, then shouldn’t xk be computed with F_k-1, B_k-1 and u_k-1? It is because, when we’re beginning at an initial time of k-1, and if we have x_k-1, then we should be using information available to use for projecting ahead…. which means F_k-1, B_k-1 and u_k-1, right? Not F_k, B_k and u_k.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1086#respond" data-commentid="1086" data-postid="491" data-belowelement="comment-1086" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-1087">
		<article id="comment-1087" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1087"><time datetime="2017-09-28T22:47:57-07:00">September 28, 2017 at 10:47 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p><span class="MathJax_Preview" style="">F_{k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-87-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-87">F_{k}</script> is defined to be the matrix that transitions the state from <span class="MathJax_Preview" style="">x_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-88-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-88">x_{k-1}</script> to <span class="MathJax_Preview" style="">x_{k}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-89-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-89">x_{k}</script>. We could label it <span class="MathJax_Preview" style="">F_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-90-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-90">F_{k-1}</script> and it would make no difference, so long as it carried the same meaning.</p>
<p>Similarly <span class="MathJax_Preview" style="">B_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-91-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-91">B_k</script> is the matrix that adjusts the final system state at time <span class="MathJax_Preview" style="">k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-92-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-92">k</script> based on the control inputs that happened over the time interval between <span class="MathJax_Preview" style="">k-1</span><span class="MathJax MathJax_Processing" id="MathJax-Element-93-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-93">k-1</script> and <span class="MathJax_Preview" style="">k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-94-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-94">k</script>. We could label it however we please; the important point is that our new state vector contains the correctly-predicted state for time <span class="MathJax_Preview" style="">k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-95-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-95">k</script>. </p>
<p>We also don’t make any requirements about the “order” of the approximation; we could assume constant forces or linear forces, or something more advanced. The only requirement is that the adjustment be represented as a matrix function of the control vector. </p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1087#respond" data-commentid="1087" data-postid="491" data-belowelement="comment-1087" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment odd alt depth-3" id="li-comment-1088">
		<article id="comment-1088" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2a83b37c4abbcf133e5e94f483583162?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kenny</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1088"><time datetime="2017-09-29T03:45:30-07:00">September 29, 2017 at 3:45 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi tbabb! Thanks for your kind reply. And thanks very much for explaining. I was only coming from the discrete time state space pattern:<br>
x[k+1] = Ax[k] + Bu[k]. I assumed that A is Ak, and B is Bk.<br>
Then, when re-arranging the above, we get:<br>
x[k] = Ax[k-1] + Bu[k-1]. I assumed here that A is A_k-1 and B is B_k-1. This suggests order is important. But, on the other hand, as long as everything is defined …. then that’s ok. Thanks again! Nice site, and nice work.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1088#respond" data-commentid="1088" data-postid="491" data-belowelement="comment-1088" data-respondelement="respond" aria-label="Reply to Kenny">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1089">
		<article id="comment-1089" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/39890008382504884ba7135bab207d5a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/39890008382504884ba7135bab207d5a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bhaskar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1089"><time datetime="2017-10-08T16:39:06-07:00">October 8, 2017 at 4:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The article was really great. It helped me understand KF much better. But I still have a doubt about how you visualize senor reading after eq 8. There are two visualizations, one in pink color and next one in green color. Can you explain the relation/difference between the two ?<br>
Thanks in advance.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1089#respond" data-commentid="1089" data-postid="491" data-belowelement="comment-1089" data-respondelement="respond" aria-label="Reply to Bhaskar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1091">
		<article id="comment-1091" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/61d768f614526f5d1219dc2116c27a33?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/61d768f614526f5d1219dc2116c27a33?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Gore Shilpa</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1091"><time datetime="2017-10-11T05:56:26-07:00">October 11, 2017 at 5:56 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Needless to say, concept has been articulated well and serves it purpose really well!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1091#respond" data-commentid="1091" data-postid="491" data-belowelement="comment-1091" data-respondelement="respond" aria-label="Reply to Gore Shilpa">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1092">
		<article id="comment-1092" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6642948ef92d3bddb7dc50c13cbdb955?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6642948ef92d3bddb7dc50c13cbdb955?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">om</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1092"><time datetime="2017-10-13T22:24:03-07:00">October 13, 2017 at 10:24 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I could get how matrix Rk  got introduced suudenly</p>
<p>(μ1,Σ1)=(zk→,Rk) .<br>
I think I need read it again,<br>
Explanation of Kalman Gain is superb.<br>
Thanks a lot</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1092#respond" data-commentid="1092" data-postid="491" data-belowelement="comment-1092" data-respondelement="respond" aria-label="Reply to om">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1095">
		<article id="comment-1095" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/67f7c7ebb0210c6db70a49979348e894?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/67f7c7ebb0210c6db70a49979348e894?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">PG</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1095"><time datetime="2017-10-25T16:23:52-07:00">October 25, 2017 at 4:23 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The explanation is great but I would like to point out one source of confusion which threw me off.  P_k should be the co-variance of the actual state and the truth and not co-variance of the actual state x_k. This will make more sense when you try deriving (5) with a forcing function.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1095#respond" data-commentid="1095" data-postid="491" data-belowelement="comment-1095" data-respondelement="respond" aria-label="Reply to PG">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1096">
		<article id="comment-1096" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5f92f8c8851afe423541f3d3bbb0c16d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5f92f8c8851afe423541f3d3bbb0c16d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mohan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1096"><time datetime="2017-10-27T01:17:35-07:00">October 27, 2017 at 1:17 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Superb ! Very simply and nicely put. Thanks a lot !!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1096#respond" data-commentid="1096" data-postid="491" data-belowelement="comment-1096" data-respondelement="respond" aria-label="Reply to Mohan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1097">
		<article id="comment-1097" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e43d65cbd38c23527c226cb171043dd7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e43d65cbd38c23527c226cb171043dd7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Paige</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1097"><time datetime="2017-10-31T23:18:35-07:00">October 31, 2017 at 11:18 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is, by far, the best tutorial on Kalman filters I’ve found. You provided the perfect balance between intuition and rigorous math. Thank you :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1097#respond" data-commentid="1097" data-postid="491" data-belowelement="comment-1097" data-respondelement="respond" aria-label="Reply to Paige">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1098">
		<article id="comment-1098" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/37c6da4e6a6a8d8bd7ed75f8e35e6918?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/37c6da4e6a6a8d8bd7ed75f8e35e6918?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Scott</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1098"><time datetime="2017-11-02T16:24:54-07:00">November 2, 2017 at 4:24 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello, thank you for this great article.  I followed it and would like to code something up but I am stopped at the computation of the Covariance matrix.  I understand that each summation is integration of one of these: (x*x)* Gaussian, (x*v)*Gaussian, or (v*v)*Gaussian .  I can use integration by parts to get down to integration of the Gaussian but then I run into the fact that it seems to be an integral that wants to result in the Error function, but the bounds don’t match.  It only works if bounds are 0 to inf, not –inf to inf.  So I am unable to integrate to form the Covariance matrix.  Could you please point me in the right direction.  Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1098#respond" data-commentid="1098" data-postid="491" data-belowelement="comment-1098" data-respondelement="respond" aria-label="Reply to Scott">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1104">
		<article id="comment-1104" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/aab3024b57e4b0d8cd0ff57ac41d21d7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aab3024b57e4b0d8cd0ff57ac41d21d7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Beiming</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1104"><time datetime="2017-11-19T14:16:40-08:00">November 19, 2017 at 2:16 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Now i understood, you are great!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1104#respond" data-commentid="1104" data-postid="491" data-belowelement="comment-1104" data-respondelement="respond" aria-label="Reply to Beiming">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1106">
		<article id="comment-1106" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/c92d0e805de887b654592e6fbccf7204?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c92d0e805de887b654592e6fbccf7204?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yadviga</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1106"><time datetime="2017-11-27T10:16:08-08:00">November 27, 2017 at 10:16 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great Job!!! Really the best explonation of Kalman Filter ever! Now my world is clear xD Is really not so scary as it’s shown on Wiki or other sources! Thank You very much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1106#respond" data-commentid="1106" data-postid="491" data-belowelement="comment-1106" data-respondelement="respond" aria-label="Reply to Yadviga">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1107">
		<article id="comment-1107" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/fb9799eaf607a3e3158767e0a39dd98d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fb9799eaf607a3e3158767e0a39dd98d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Angelia</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1107"><time datetime="2017-11-30T03:02:38-08:00">November 30, 2017 at 3:02 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>hi, i would like to ask if it possible to add the uncertainty in term of magnetometer, gyroscope and accelerometer into the kalman filter?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1107#respond" data-commentid="1107" data-postid="491" data-belowelement="comment-1107" data-respondelement="respond" aria-label="Reply to Angelia">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1109">
		<article id="comment-1109" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ca864c34243fc55595c64f7ada3d2038?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ca864c34243fc55595c64f7ada3d2038?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rob Snell</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1109"><time datetime="2017-12-04T16:32:12-08:00">December 4, 2017 at 4:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Wow, fantastic article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1109#respond" data-commentid="1109" data-postid="491" data-belowelement="comment-1109" data-respondelement="respond" aria-label="Reply to Rob Snell">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1110">
		<article id="comment-1110" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/dbc69dbc6053899b05d339bf0e8d6f6f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/dbc69dbc6053899b05d339bf0e8d6f6f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Srinivas</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1110"><time datetime="2017-12-12T11:07:09-08:00">December 12, 2017 at 11:07 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very neat! Thanks for this article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1110#respond" data-commentid="1110" data-postid="491" data-belowelement="comment-1110" data-respondelement="respond" aria-label="Reply to Srinivas">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1121">
		<article id="comment-1121" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/09ac7257534bfa21983985b1897e8e29?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/09ac7257534bfa21983985b1897e8e29?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Michael Breuker</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1121"><time datetime="2017-12-19T07:29:22-08:00">December 19, 2017 at 7:29 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent article and very clear explanations. I love your graphics. Thank you very much.<br>
I really would like to read a follow-up about Unscented KF or Extended KF from you.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1121#respond" data-commentid="1121" data-postid="491" data-belowelement="comment-1121" data-respondelement="respond" aria-label="Reply to Michael Breuker">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1125">
		<article id="comment-1125" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3bc60bd89eddf4fac1a6723880ee7442?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3bc60bd89eddf4fac1a6723880ee7442?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alex</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1125"><time datetime="2017-12-21T12:43:54-08:00">December 21, 2017 at 12:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for this article. Super! Simple and clear!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1125#respond" data-commentid="1125" data-postid="491" data-belowelement="comment-1125" data-respondelement="respond" aria-label="Reply to Alex">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1126">
		<article id="comment-1126" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0b7824b872e7c61d94b262cced5f5da4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0b7824b872e7c61d94b262cced5f5da4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">odyxanthi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1126"><time datetime="2017-12-27T23:22:32-08:00">December 27, 2017 at 11:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for your article, you ‘ve done a great job mixing the intuitive explanation with the mathematical formality. Now I can finally understand what each element in the equation represents.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1126#respond" data-commentid="1126" data-postid="491" data-belowelement="comment-1126" data-respondelement="respond" aria-label="Reply to odyxanthi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1127">
		<article id="comment-1127" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d7ec8ebcb2c1b07d1042b8b39c141109?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d7ec8ebcb2c1b07d1042b8b39c141109?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">xuesen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1127"><time datetime="2017-12-31T04:36:42-08:00">December 31, 2017 at 4:36 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>In “Combining Gaussians” section, why is the multiplication of two normal distributions also a normal distribution. This doesn’t seems right if the two normal distributions are not independent.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1127#respond" data-commentid="1127" data-postid="491" data-belowelement="comment-1127" data-respondelement="respond" aria-label="Reply to xuesen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1129">
		<article id="comment-1129" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/00638edaa88e3722dcc448636b345b76?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/00638edaa88e3722dcc448636b345b76?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">giatorta</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1129"><time datetime="2018-01-18T13:57:30-08:00">January 18, 2018 at 1:57 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>really great post: easy to understand but mathematically precise and correct. Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1129#respond" data-commentid="1129" data-postid="491" data-belowelement="comment-1129" data-respondelement="respond" aria-label="Reply to giatorta">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1131">
		<article id="comment-1131" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/8901c652060a81ce98d99ea2fe10868e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8901c652060a81ce98d99ea2fe10868e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ananthapadmanabha</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1131"><time datetime="2018-01-26T06:52:02-08:00">January 26, 2018 at 6:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Very great explaination and really very intuitive. excited to see your other posts from now on.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1131#respond" data-commentid="1131" data-postid="491" data-belowelement="comment-1131" data-respondelement="respond" aria-label="Reply to Ananthapadmanabha">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1132">
		<article id="comment-1132" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/f1ba0ec944e61e16ce5c6021cbedf02a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f1ba0ec944e61e16ce5c6021cbedf02a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Josephine</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1132"><time datetime="2018-01-27T15:39:20-08:00">January 27, 2018 at 3:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Informative Article.. It will be great if you provide the exact size it occupies on RAM,efficiency in percentage, execution of algorithm</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1132#respond" data-commentid="1132" data-postid="491" data-belowelement="comment-1132" data-respondelement="respond" aria-label="Reply to Josephine">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1133">
		<article id="comment-1133" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5c753e1e62c6c43a564a2dc5e8b949b7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5c753e1e62c6c43a564a2dc5e8b949b7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">El Barcho</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1133"><time datetime="2018-01-29T01:52:05-08:00">January 29, 2018 at 1:52 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>so great article, I have question about equation (11) and (12). could you explain it or another source that i can read?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1133#respond" data-commentid="1133" data-postid="491" data-belowelement="comment-1133" data-respondelement="respond" aria-label="Reply to El Barcho">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1134">
		<article id="comment-1134" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5ad00ce8f06097ebf93a055b62da5a3d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5ad00ce8f06097ebf93a055b62da5a3d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Xinrui Wang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1134"><time datetime="2018-01-30T23:49:54-08:00">January 30, 2018 at 11:49 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Fantastic! Thanks for your explanation!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1134#respond" data-commentid="1134" data-postid="491" data-belowelement="comment-1134" data-respondelement="respond" aria-label="Reply to Xinrui Wang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1135">
		<article id="comment-1135" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e7aeeecf0a25e40c94022eabb9398870?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e7aeeecf0a25e40c94022eabb9398870?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">robert</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1135"><time datetime="2018-02-02T14:32:45-08:00">February 2, 2018 at 2:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>” (being careful to renormalize, so that the total probability is 1) ”<br>
Can someone be kind enough to explain that part to me ? How do you normalize a Gaussian distribution ? Sorry for the newby question, trying to undertand the math a bit.</p>
<p>Thanks in advance</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1135#respond" data-commentid="1135" data-postid="491" data-belowelement="comment-1135" data-respondelement="respond" aria-label="Reply to robert">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment even depth-2" id="li-comment-1142">
		<article id="comment-1142" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/0cc2e171a38a5ba68393b94ef72c26cb?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0cc2e171a38a5ba68393b94ef72c26cb?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Joseph Cluever</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1142"><time datetime="2018-02-14T18:17:05-08:00">February 14, 2018 at 6:17 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The integral of a distribution over it’s domain has to be 1 by definition.  Also, I don’t know if that comment in the blog is really necessary because if you have the covariance matrix of a multivariate normal, the normalizing constant is known: det(2*pi*(Covariance Matrix))^(-1/2).  There’s nothing to really be careful about.  See <a href="https://en.wikipedia.org/wiki/Multivariate_normal_distribution" rel="nofollow ugc">https://en.wikipedia.org/wiki/Multivariate_normal_distribution</a></p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1142#respond" data-commentid="1142" data-postid="491" data-belowelement="comment-1142" data-respondelement="respond" aria-label="Reply to Joseph Cluever">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1140">
		<article id="comment-1140" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/abed9c6f1069e4bcc4979ca9ab41608a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nathaniel Groendyk</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1140"><time datetime="2018-02-09T01:50:46-08:00">February 9, 2018 at 1:50 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing article! Very impressed! You must have spent some time on it, thank you for this!</p>
<p>I had one quick question about Matrix H. Can it be extended to have more sensors and states? For example say we had 3 sensors, and the same 2 states, would the H matrix look like this:<br>
H = [  [Sensor1-to-State 1(vel) conversion Eq ,     Sensor1-to-State 2(pos) conversion Eq ] ;<br>
          [Sensor2-to-State 1(vel) conversion Eq ,     Sensor2-to-State 2(pos) conversion Eq ] ;<br>
          [Sensor3-to-State 1(vel) conversion Eq ,     Sensor3-to-State 2(pos) conversion Eq ]  ]</p>
<p>Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1140#respond" data-commentid="1140" data-postid="491" data-belowelement="comment-1140" data-respondelement="respond" aria-label="Reply to Nathaniel Groendyk">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1143">
		<article id="comment-1143" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/92f6e9271294364fc8ec80dcea714c01?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/92f6e9271294364fc8ec80dcea714c01?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sasanka Kuruppuarachchi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1143"><time datetime="2018-02-21T05:44:34-08:00">February 21, 2018 at 5:44 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Simply love it.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1143#respond" data-commentid="1143" data-postid="491" data-belowelement="comment-1143" data-respondelement="respond" aria-label="Reply to Sasanka Kuruppuarachchi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1144">
		<article id="comment-1144" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ff868863e455863473670fbb4402970a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ff868863e455863473670fbb4402970a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">hamza</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1144"><time datetime="2018-02-23T09:54:40-08:00">February 23, 2018 at 9:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hey Author,<br>
Good work. Can you elaborate how equation 4 and equation 3 are combined to give updated covariance matrix?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1144#respond" data-commentid="1144" data-postid="491" data-belowelement="comment-1144" data-respondelement="respond" aria-label="Reply to hamza">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor even depth-2" id="li-comment-1145">
		<article id="comment-1145" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1145"><time datetime="2018-02-23T19:51:55-08:00">February 23, 2018 at 7:51 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p><span class="MathJax_Preview" style="">F_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-96-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-96">F_k</script> is a matrix applied to a random vector <span class="MathJax_Preview" style="">x_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-97-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-97">x_{k-1}</script> with covariance <span class="MathJax_Preview" style="">P_{k-1}</span><span class="MathJax MathJax_Processing" id="MathJax-Element-98-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-98">P_{k-1}</script>. Equation (4) says what we do to the covariance of a random vector when we multiply it by a matrix.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1145#respond" data-commentid="1145" data-postid="491" data-belowelement="comment-1145" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1147">
		<article id="comment-1147" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/15b3909a212618af0410a7f0588b5f0b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/15b3909a212618af0410a7f0588b5f0b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ankit Swarnkar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1147"><time datetime="2018-02-27T21:22:17-08:00">February 27, 2018 at 9:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Simply Awesome!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1147#respond" data-commentid="1147" data-postid="491" data-belowelement="comment-1147" data-respondelement="respond" aria-label="Reply to Ankit Swarnkar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1148">
		<article id="comment-1148" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a34b55e90243b5ced44f5c9dee032f2a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a34b55e90243b5ced44f5c9dee032f2a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sangyun Han</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1148"><time datetime="2018-03-06T01:35:24-08:00">March 6, 2018 at 1:35 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This article is the best one about Kalman filter ever. Thanks for your help.</p>
<p>But I have a question about how to do knock off Hk in equation (16), (17).<br>
Because usual case Hk is not invertible matrix, so i think knocking off Hk is not possible.<br>
Can you explain?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1148#respond" data-commentid="1148" data-postid="491" data-belowelement="comment-1148" data-respondelement="respond" aria-label="Reply to Sangyun Han">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1149">
		<article id="comment-1149" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ffd7bd29cac864ac682f32b72157e1b3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ffd7bd29cac864ac682f32b72157e1b3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Dasarath S</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1149"><time datetime="2018-03-07T13:19:28-08:00">March 7, 2018 at 1:19 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Mind Blown !! The fact that you perfectly described the reationship between math and real world is really good. Thnaks a lot!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1149#respond" data-commentid="1149" data-postid="491" data-belowelement="comment-1149" data-respondelement="respond" aria-label="Reply to Dasarath S">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1150">
		<article id="comment-1150" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/8e07a81af635b3642a71f0d732161fd6?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8e07a81af635b3642a71f0d732161fd6?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">P P BANERJEE</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1150"><time datetime="2018-03-10T19:42:06-08:00">March 10, 2018 at 7:42 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Can this method be used accurately to predict the future position if the movement is random like Brownian motion.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1150#respond" data-commentid="1150" data-postid="491" data-belowelement="comment-1150" data-respondelement="respond" aria-label="Reply to P P BANERJEE">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1151">
		<article id="comment-1151" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1151"><time datetime="2018-03-12T18:02:49-07:00">March 12, 2018 at 6:02 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>If you have sensors or measurements providing some current information about the position of your system, then sure. </p>
<p>In the case of Brownian motion, your prediction step would leave the position estimate alone, and simply widen the covariance estimate with time by adding a constant <span class="MathJax_Preview" style="">Q_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-99-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-99">Q_k</script> representing the rate of diffusion. Your measurement update step would then tell you to where the system had advanced.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1151#respond" data-commentid="1151" data-postid="491" data-belowelement="comment-1151" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1152">
		<article id="comment-1152" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4fb878f3d8d3fa1240dcddbef00d90b6?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4fb878f3d8d3fa1240dcddbef00d90b6?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Lorenzo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1152"><time datetime="2018-03-13T10:24:15-07:00">March 13, 2018 at 10:24 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>It is an amazing article, thank you so much for that!!!!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1152#respond" data-commentid="1152" data-postid="491" data-belowelement="comment-1152" data-respondelement="respond" aria-label="Reply to Lorenzo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1153">
		<article id="comment-1153" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9c01d0027dfe8995692b196c13af12b7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9c01d0027dfe8995692b196c13af12b7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">salma rv</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1153"><time datetime="2018-03-17T06:28:39-07:00">March 17, 2018 at 6:28 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Is the method useful for biological samples variations from region to region</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1153#respond" data-commentid="1153" data-postid="491" data-belowelement="comment-1153" data-respondelement="respond" aria-label="Reply to salma rv">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1154">
		<article id="comment-1154" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/13b5c8fb2927e5c1d212dc445ce40c2e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/13b5c8fb2927e5c1d212dc445ce40c2e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">João Escusa</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1154"><time datetime="2018-03-21T12:05:12-07:00">March 21, 2018 at 12:05 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hello.</p>
<p>I’m trying to implement a Kalman filter for my thesis ut I’ve never heard of it and have some questions.<br>
I save the GPS data of latitude, longitude, altitude and speed. So my position is not a variable, so to speak, it’s a state made of 4 variables if one includes the speed. Data is acquired every second, so whenever I do a test I end up with a large vector with all the information.</p>
<p>How does one calculate the covariance and the mean in this case? Probabilities have never been my strong suit.</p>
<p>Thanks.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1154#respond" data-commentid="1154" data-postid="491" data-belowelement="comment-1154" data-respondelement="respond" aria-label="Reply to João Escusa">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1155">
		<article id="comment-1155" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1155"><time datetime="2018-03-22T02:17:59-07:00">March 22, 2018 at 2:17 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Take many measurements with your GPS in circumstances where you know the “true” answer. This will produce a bunch of state vectors, as you describe. Find the difference of these vectors from the “true” answer to get a bunch of vectors which represent the typical noise of your GPS system. Then <a href="https://en.wikipedia.org/wiki/Covariance#Calculating_the_sample_covariance" rel="nofollow">calculate the sample covariance</a> on that set of vectors. That will give you <span class="MathJax_Preview" style="">R_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-100-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-100">R_k</script>, the sensor noise covariance.</p>
<p>You can estimate <span class="MathJax_Preview" style="">Q_k</span><span class="MathJax MathJax_Processing" id="MathJax-Element-101-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-101">Q_k</script>, the process covariance, using an analogous process.</p>
<p>Note that to meaningfully improve your GPS estimate, you need some “external” information, like control inputs, knowledge of the process which is moving your vehicle, or data from other, separate inertial sensors. Running Kalman on <em>only</em> data from a single GPS sensor probably won’t do much, as the GPS chip likely uses Kalman internally anyway, and you wouldn’t be adding anything!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1155#respond" data-commentid="1155" data-postid="491" data-belowelement="comment-1155" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1159">
		<article id="comment-1159" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/762d5dd2cc99c6c756ebc527d5e5fd71?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/762d5dd2cc99c6c756ebc527d5e5fd71?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yar Zar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1159"><time datetime="2018-04-28T07:50:15-07:00">April 28, 2018 at 7:50 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Well explanation! Thank you so much!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1159#respond" data-commentid="1159" data-postid="491" data-belowelement="comment-1159" data-respondelement="respond" aria-label="Reply to Yar Zar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1160">
		<article id="comment-1160" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/b04dd30c49e999430627dc08258b96dd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b04dd30c49e999430627dc08258b96dd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Vladimir</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1160"><time datetime="2018-05-07T20:19:32-07:00">May 7, 2018 at 8:19 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Many thanks!<br>
I’ve never seen such a clear and passionate explanation.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1160#respond" data-commentid="1160" data-postid="491" data-belowelement="comment-1160" data-respondelement="respond" aria-label="Reply to Vladimir">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1161">
		<article id="comment-1161" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d63e9fc2a0fc88d95318c85375c8458d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d63e9fc2a0fc88d95318c85375c8458d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Di</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1161"><time datetime="2018-05-17T03:38:39-07:00">May 17, 2018 at 3:38 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent explanation. Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1161#respond" data-commentid="1161" data-postid="491" data-belowelement="comment-1161" data-respondelement="respond" aria-label="Reply to Di">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1169">
		<article id="comment-1169" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d322f1bf0827d6c8f6c5ef40810220ff?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d322f1bf0827d6c8f6c5ef40810220ff?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">P</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1169"><time datetime="2019-02-23T15:43:35-08:00">February 23, 2019 at 3:43 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great tutorial! Thanks! :D</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1169#respond" data-commentid="1169" data-postid="491" data-belowelement="comment-1169" data-respondelement="respond" aria-label="Reply to P">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1173">
		<article id="comment-1173" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/58eb351d7f65013f04be062b9165aad5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/58eb351d7f65013f04be062b9165aad5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Grant</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1173"><time datetime="2019-03-14T23:16:12-07:00">March 14, 2019 at 11:16 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>FANTASTIC explanation! Just EPIC:-)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1173#respond" data-commentid="1173" data-postid="491" data-belowelement="comment-1173" data-respondelement="respond" aria-label="Reply to Grant">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1174">
		<article id="comment-1174" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/27079607c343511a8eeabf8aaeebf096?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/27079607c343511a8eeabf8aaeebf096?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Steve</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1174"><time datetime="2019-03-20T09:50:43-07:00">March 20, 2019 at 9:50 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Agree with Grant, this is a fantastic explanation, please do your piece on extended KF’s – non linear systems is what I’m looking at!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1174#respond" data-commentid="1174" data-postid="491" data-belowelement="comment-1174" data-respondelement="respond" aria-label="Reply to Steve">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1175">
		<article id="comment-1175" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/34b7da8a0e01b607332360c1ed1c0e7a?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/34b7da8a0e01b607332360c1ed1c0e7a?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">modar</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1175"><time datetime="2019-03-25T16:35:34-07:00">March 25, 2019 at 4:35 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Perfect ,easy and insightful explanation; thanks  a lot.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1175#respond" data-commentid="1175" data-postid="491" data-belowelement="comment-1175" data-respondelement="respond" aria-label="Reply to modar">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1177">
		<article id="comment-1177" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/a87c91775a43d7ce95cc614f175b0e19?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a87c91775a43d7ce95cc614f175b0e19?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Eranga De Silva</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1177"><time datetime="2019-04-03T03:35:09-07:00">April 3, 2019 at 3:35 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you VERY much for this nice and clear explanation</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1177#respond" data-commentid="1177" data-postid="491" data-belowelement="comment-1177" data-respondelement="respond" aria-label="Reply to Eranga De Silva">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1178">
		<article id="comment-1178" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9355e61f1a72096a6f23193a6667fcd5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9355e61f1a72096a6f23193a6667fcd5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Will</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1178"><time datetime="2019-04-27T02:28:29-07:00">April 27, 2019 at 2:28 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>That was an amazing post! Thank you so much for the wonderful explanation!</p>
<p>As a side note, the link in the final reference is no longer up-to-date. Now it seems this is the correct link: <a href="https://drive.google.com/file/d/1nVtDUrfcBN9zwKlGuAclK-F8Gnf2M_to/view" rel="nofollow ugc">https://drive.google.com/file/d/1nVtDUrfcBN9zwKlGuAclK-F8Gnf2M_to/view</a></p>
<p>Once again, congratz on the amazing post!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1178#respond" data-commentid="1178" data-postid="491" data-belowelement="comment-1178" data-respondelement="respond" aria-label="Reply to Will">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1180">
		<article id="comment-1180" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3a5f73a3ef6e3fc6706ae2e4a8bd97f3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3a5f73a3ef6e3fc6706ae2e4a8bd97f3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">cle323</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1180"><time datetime="2019-05-16T04:41:42-07:00">May 16, 2019 at 4:41 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>THANK YOU !! </p>
<p>After spending 3 days on internet, I was lost and confused. Your explanation is very clear ! Nice job</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1180#respond" data-commentid="1180" data-postid="491" data-belowelement="comment-1180" data-respondelement="respond" aria-label="Reply to cle323">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1181">
		<article id="comment-1181" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4c260d9ee32ec0c96907e29c6608f6a9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4c260d9ee32ec0c96907e29c6608f6a9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Richard</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1181"><time datetime="2019-05-26T16:59:38-07:00">May 26, 2019 at 4:59 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This was very clear until I got to equation 5 where you introduce P without saying what is it and how its prediction equation relates to multiplying everything in a covariance matrix by A.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1181#respond" data-commentid="1181" data-postid="491" data-belowelement="comment-1181" data-respondelement="respond" aria-label="Reply to Richard">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1182">
		<article id="comment-1182" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4c260d9ee32ec0c96907e29c6608f6a9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4c260d9ee32ec0c96907e29c6608f6a9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Richard</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1182"><time datetime="2019-05-26T17:06:47-07:00">May 26, 2019 at 5:06 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Sorry, ignore previous comment. I’ve traced back and found it.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1182#respond" data-commentid="1182" data-postid="491" data-belowelement="comment-1182" data-respondelement="respond" aria-label="Reply to Richard">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1183">
		<article id="comment-1183" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/74a856897f03a2f8e616bf066a726fc5?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/74a856897f03a2f8e616bf066a726fc5?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">孙凯道</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1183"><time datetime="2019-05-30T10:22:10-07:00">May 30, 2019 at 10:22 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>THANK YOU<br>
Such a meticulous post gave me a lot of help.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1183#respond" data-commentid="1183" data-postid="491" data-belowelement="comment-1183" data-respondelement="respond" aria-label="Reply to 孙凯道">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1184">
		<article id="comment-1184" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/30c9615c025b95c4590ce2eebbee0c46?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/30c9615c025b95c4590ce2eebbee0c46?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Monty</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1184"><time datetime="2019-06-15T02:44:35-07:00">June 15, 2019 at 2:44 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>So it seems it’s interpolating state from prediction and state from measurement.  H x_meas = z.  Doesn’t seem like x_meas is unique.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1184#respond" data-commentid="1184" data-postid="491" data-belowelement="comment-1184" data-respondelement="respond" aria-label="Reply to Monty">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1186">
		<article id="comment-1186" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e93aaa6a6f062feeaf46374a552319a0?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e93aaa6a6f062feeaf46374a552319a0?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Maxim</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1186"><time datetime="2019-07-16T12:34:09-07:00">July 16, 2019 at 12:34 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for the post.<br>
I still have few questions.</p>
<p>1. At eq. (5) you put evolution as a motion without acceleration. At eq. 5 you add acceleration and put it as some external force. But it is not clear why you separate acceleration, as it is also a part of kinematic equation. So, the question is what is F and what is B. Can/should I put acceleration in F?</p>
<p>2. At eq. 7 you update P with F, but not with B, despite the x is updated with both F &amp; B. Why?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1186#respond" data-commentid="1186" data-postid="491" data-belowelement="comment-1186" data-respondelement="respond" aria-label="Reply to Maxim">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1187">
		<article id="comment-1187" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1187"><time datetime="2019-07-16T17:32:24-07:00">July 16, 2019 at 5:32 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>1. The state of the system (in this example) contains only position and velocity, which tells us nothing about acceleration. F is a matrix that acts on the state, so everything it tells us must be a function of the state alone. If our system state had something that affected acceleration (for example, maybe we are tracking a model rocket, and we want to include the thrust of the engine in our state estimate), then F could both account for and change the acceleration in the update step. Otherwise, things that do not depend on the state <em>x</em> go in B.</p>
<p>2. P represents the covariance of our state— how the possibilities are balanced around the mean. B affects the mean, but it does not affect the balance of states <em>around</em> the mean, so it does not matter in the calculation of P. This is because B does not depend on the state, so adding B is like adding a constant, which does not distort the <em>shape</em> of the distribution of states we are tracking.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1187#respond" data-commentid="1187" data-postid="491" data-belowelement="comment-1187" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1188">
		<article id="comment-1188" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/253af4d36d158082c96f2b83d45b9cc3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/253af4d36d158082c96f2b83d45b9cc3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Abdul Basit</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1188"><time datetime="2019-07-17T00:25:06-07:00">July 17, 2019 at 12:25 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great intuition, I am bit confuse how Kalman filter works. But this blog clear my mind and I am able to understand Computer Vision Tracking algorithms.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1188#respond" data-commentid="1188" data-postid="491" data-belowelement="comment-1188" data-respondelement="respond" aria-label="Reply to Abdul Basit">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1192">
		<article id="comment-1192" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/30c9615c025b95c4590ce2eebbee0c46?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/30c9615c025b95c4590ce2eebbee0c46?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Monty</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1192"><time datetime="2019-08-22T08:16:53-07:00">August 22, 2019 at 8:16 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>My issue is with you plucking H’s off of this:<br>
H x’ = H x + H K (z – H x)<br>
x’ = x + K (z – H x)  &lt;- we know this is true from a more rigorous derivation</p>
<p>H isn't generally invertible.  For sure you can go the other way by adding H back in.  However, I do like this explaination.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1192#respond" data-commentid="1192" data-postid="491" data-belowelement="comment-1192" data-respondelement="respond" aria-label="Reply to Monty">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1194">
		<article id="comment-1194" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/30324967b3df756c28f91d3f8173e55b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/30324967b3df756c28f91d3f8173e55b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Abdelrhman</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1194"><time datetime="2019-09-20T16:17:14-07:00">September 20, 2019 at 4:17 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks alot for this, it’s really the best explanation i’ve seen for the Kalman filter. visualization with the idea of merging gaussians for the correction/update step and to find out where the kalman gain “K” came from is very informative.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1194#respond" data-commentid="1194" data-postid="491" data-belowelement="comment-1194" data-respondelement="respond" aria-label="Reply to Abdelrhman">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-1195">
		<article id="comment-1195" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/14157dfda585c46d84ae82a82ff0fbb8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/14157dfda585c46d84ae82a82ff0fbb8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Kimon</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1195"><time datetime="2019-09-23T21:45:41-07:00">September 23, 2019 at 9:45 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Is there a way to combine sensor measurements where each of the sensors has a different latency? How does one handle that type of situation?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1195#respond" data-commentid="1195" data-postid="491" data-belowelement="comment-1195" data-respondelement="respond" aria-label="Reply to Kimon">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1197">
		<article id="comment-1197" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3c81e09bfb561b8575d5f3ff0c9ef00c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c81e09bfb561b8575d5f3ff0c9ef00c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">David Sorcman</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1197"><time datetime="2019-10-16T07:56:49-07:00">October 16, 2019 at 7:56 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is the best explanation of KF that I have ever seen, even after graduate school.</p>
<p>Just a warning though – in Equation 10, the “==?” should be “not equals” – the product of two Gaussians is not a Gaussian. See <a href="http://mathworld.wolfram.com/NormalProductDistribution.html" rel="nofollow ugc">http://mathworld.wolfram.com/NormalProductDistribution.html</a> for the actual distribution, which involves the Ksub0 Bessel function.  The expressions for the variance are correct, but not the implication about the pdf.</p>
<p>Also, since position has 3 components (one each along the x, y, and z axes), and ditto for velocity, the actual pdf becomes even more complicated. See the above link for the pdf for details in the 3 variable case.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1197#respond" data-commentid="1197" data-postid="491" data-belowelement="comment-1197" data-respondelement="respond" aria-label="Reply to David Sorcman">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	<ol class="children">
	<li class="comment byuser comment-author-tr-babbgmail-com bypostauthor odd alt depth-2" id="li-comment-1198">
		<article id="comment-1198" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a68c4c9e3fd75d45843b477ccc5dc9c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">tbabb</b> <span>Post author</span></cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1198"><time datetime="2019-11-01T00:00:53-07:00">November 1, 2019 at 12:00 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>See my other replies above: The product of two Gaussian PDFs is indeed a Gaussian. The PDF of the product of two Gaussian-distributed variables is the distribution you linked. For this application we need the former; the probability that two random independent events are simultaneously true.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1198#respond" data-commentid="1198" data-postid="491" data-belowelement="comment-1198" data-respondelement="respond" aria-label="Reply to tbabb">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1199">
		<article id="comment-1199" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5247d54bb27f63f2107ac559293deee4?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5247d54bb27f63f2107ac559293deee4?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Arye</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1199"><time datetime="2019-11-12T08:23:43-08:00">November 12, 2019 at 8:23 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great Article!<br>
I have some questions: Where do I get the Qk and Rk from? Do I model them? How do I update them?<br>
Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1199#respond" data-commentid="1199" data-postid="491" data-belowelement="comment-1199" data-respondelement="respond" aria-label="Reply to Arye">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1200">
		<article id="comment-1200" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/2f861fc0b117051f2765b8d7ad76dfbd?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2f861fc0b117051f2765b8d7ad76dfbd?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mariana Jimenez</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1200"><time datetime="2019-11-18T18:15:43-08:00">November 18, 2019 at 6:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very much ! Great article<br>
I’ve been struggling a lot to understand the KF and this has given me a much better idea of how it works.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1200#respond" data-commentid="1200" data-postid="491" data-belowelement="comment-1200" data-respondelement="respond" aria-label="Reply to Mariana Jimenez">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1201">
		<article id="comment-1201" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/97e934796e49e3cf66f9f33bb530c132?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/97e934796e49e3cf66f9f33bb530c132?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Ryder</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1201"><time datetime="2019-11-21T18:15:00-08:00">November 21, 2019 at 6:15 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>There’s a few things that are contradiction to what this paper <a href="https://arxiv.org/abs/1710.04055" rel="nofollow ugc">https://arxiv.org/abs/1710.04055</a> says about Kalman filtering:</p>
<p>“The Kalman filter assumes that both variables (postion and velocity, in our case) are random and Gaussian distributed”<br>
– Kalman filter only assumes that both variables are uncorrelated (which is a weaker assumption that independent).  Kalman filters can be used with variables that have other distributions besides the normal distribution</p>
<p>“In the above picture, position and velocity are uncorrelated, which means that the state of one variable tells you nothing about what the other might be.”<br>
– I think this a better description of what independence means that uncorrelated.  Again, check out p. 13 of the Appendix of the reference paper by Y Pei et Al.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1201#respond" data-commentid="1201" data-postid="491" data-belowelement="comment-1201" data-respondelement="respond" aria-label="Reply to Ryder">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1202">
		<article id="comment-1202" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6dcc95c2942d8524254d36b0045be61e?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6dcc95c2942d8524254d36b0045be61e?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Dmitry</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1202"><time datetime="2019-11-22T02:05:29-08:00">November 22, 2019 at 2:05 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article, finally I got understanding of the Kalman filter and how it works.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1202#respond" data-commentid="1202" data-postid="491" data-belowelement="comment-1202" data-respondelement="respond" aria-label="Reply to Dmitry">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1207">
		<article id="comment-1207" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d3eaf7e6cf58a5b581bee4a6ab528f1b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d3eaf7e6cf58a5b581bee4a6ab528f1b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Vlad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1207"><time datetime="2020-02-14T00:49:26-08:00">February 14, 2020 at 12:49 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This was such a great article. Really good job!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1207#respond" data-commentid="1207" data-postid="491" data-belowelement="comment-1207" data-respondelement="respond" aria-label="Reply to Vlad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1208">
		<article id="comment-1208" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/43295c5325ca53baab7d44cde6b04194?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/43295c5325ca53baab7d44cde6b04194?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Nishant Jain</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1208"><time datetime="2020-02-21T20:30:52-08:00">February 21, 2020 at 8:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>How do we get Qk and Hk matrices?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1208#respond" data-commentid="1208" data-postid="491" data-belowelement="comment-1208" data-respondelement="respond" aria-label="Reply to Nishant Jain">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1209">
		<article id="comment-1209" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/34eb0ef29248c3218c52b7d91d4c9f3d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/34eb0ef29248c3218c52b7d91d4c9f3d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Yiding Yang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1209"><time datetime="2020-03-04T09:06:19-08:00">March 4, 2020 at 9:06 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is an amazing tutorial. Thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1209#respond" data-commentid="1209" data-postid="491" data-belowelement="comment-1209" data-respondelement="respond" aria-label="Reply to Yiding Yang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1211">
		<article id="comment-1211" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/12eb674e1cf9d781502da83bb403674b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/12eb674e1cf9d781502da83bb403674b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Lepper</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1211"><time datetime="2020-04-07T03:06:33-07:00">April 7, 2020 at 3:06 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I have one question regarding state vector; what is the position? i would say it is [x, y, v], right? in this case how looks the prediction matrix? thanks!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1211#respond" data-commentid="1211" data-postid="491" data-belowelement="comment-1211" data-respondelement="respond" aria-label="Reply to Lepper">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1212">
		<article id="comment-1212" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d8a35abab44bad39ac96628ab9dcc99f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d8a35abab44bad39ac96628ab9dcc99f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Oussama</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1212"><time datetime="2020-04-14T20:48:06-07:00">April 14, 2020 at 8:48 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks, I think it was simple and cool as an introduction of KF</p>
<p>really appreciate reading it</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1212#respond" data-commentid="1212" data-postid="491" data-belowelement="comment-1212" data-respondelement="respond" aria-label="Reply to Oussama">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1216">
		<article id="comment-1216" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/78f04dec731e69f6e8c003203cc2bfc2?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/78f04dec731e69f6e8c003203cc2bfc2?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Om Kulkarni</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1216"><time datetime="2020-05-15T10:44:33-07:00">May 15, 2020 at 10:44 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I stumbled upon this article while learning autonomous mobile robots and I am completely blown away by this. The fact that an algorithm which I first thought was so boring could turn out to be so intuitive is just simply breathtaking.</p>
<p>Thank you for this article and I hope to be a part of many more.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1216#respond" data-commentid="1216" data-postid="491" data-belowelement="comment-1216" data-respondelement="respond" aria-label="Reply to Om Kulkarni">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1217">
		<article id="comment-1217" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/4c9b9e89a20fff1fa1c2b23847a84a33?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4c9b9e89a20fff1fa1c2b23847a84a33?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Diego</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1217"><time datetime="2020-05-21T11:11:58-07:00">May 21, 2020 at 11:11 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi ,<br>
I have never seen a very well and simple explanation as yours . It is amazing thanks a lot.<br>
I have a question ¿ How can I get Q and R Matrix ?</p>
<p>Thanks again.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1217#respond" data-commentid="1217" data-postid="491" data-belowelement="comment-1217" data-respondelement="respond" aria-label="Reply to Diego">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1218">
		<article id="comment-1218" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1adfd30e3b19e96341d7eaf7a85b5fde?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1adfd30e3b19e96341d7eaf7a85b5fde?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">David Bellomo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1218"><time datetime="2020-05-22T15:49:07-07:00">May 22, 2020 at 3:49 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This tool is one of my cornerstones for my Thesis, I have beeing struggling to understand the math behind this topic for more thant I whish. Your article is just amazing, shows the level of mastery you have on the topic since you can bring the maths an a level that is understandable by anyone. This is a tremendous boost to my Thesis, I cannot thank you enough for this work you did.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1218#respond" data-commentid="1218" data-postid="491" data-belowelement="comment-1218" data-respondelement="respond" aria-label="Reply to David Bellomo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1219">
		<article id="comment-1219" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/9a1fae5891ba9b2d1b21fca9bfe0b708?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9a1fae5891ba9b2d1b21fca9bfe0b708?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://cgnarendiran.github.io" rel="external nofollow ugc" class="url">Narendiran Chembu</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1219"><time datetime="2020-06-05T07:38:45-07:00">June 5, 2020 at 7:38 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Amazing Job. Thank you! :)</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1219#respond" data-commentid="1219" data-postid="491" data-belowelement="comment-1219" data-respondelement="respond" aria-label="Reply to Narendiran Chembu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1223">
		<article id="comment-1223" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1ffe1f2f7120c6bc35824bd1dcdbebac?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1ffe1f2f7120c6bc35824bd1dcdbebac?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Diego Burgos</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1223"><time datetime="2020-08-07T14:27:46-07:00">August 7, 2020 at 2:27 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Hi, thanks in advance for such a good post, I want to ask you how you deduce the equation (5) given (4), I will stick to your answer.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1223#respond" data-commentid="1223" data-postid="491" data-belowelement="comment-1223" data-respondelement="respond" aria-label="Reply to Diego Burgos">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1224">
		<article id="comment-1224" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/d07d869770ccde6e43015e117b56aae8?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d07d869770ccde6e43015e117b56aae8?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Rajat Mehta</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1224"><time datetime="2020-08-25T04:33:05-07:00">August 25, 2020 at 4:33 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>One of the best intuitive explanation for Kalman Filter. Thanks for the amazing post.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1224#respond" data-commentid="1224" data-postid="491" data-belowelement="comment-1224" data-respondelement="respond" aria-label="Reply to Rajat Mehta">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1225">
		<article id="comment-1225" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/13f7a7b26e20c48ad1d8fa8f3574ff08?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/13f7a7b26e20c48ad1d8fa8f3574ff08?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="http://N/A" rel="external nofollow ugc" class="url">Frederick C. Monson, PhD</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1225"><time datetime="2020-08-25T15:31:13-07:00">August 25, 2020 at 3:31 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>In the first set in a SEM I worked, there was  button for a “Kalman” image adjustment. No one could explain what it was doing.  Now, in the absence   of calculous, I can present SEM users to use this help.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1225#respond" data-commentid="1225" data-postid="491" data-belowelement="comment-1225" data-respondelement="respond" aria-label="Reply to Frederick C. Monson, PhD">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1227">
		<article id="comment-1227" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/af657771e31059349a003f0c7186201c?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/af657771e31059349a003f0c7186201c?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">eya</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1227"><time datetime="2020-09-14T12:22:27-07:00">September 14, 2020 at 12:22 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>thank you it is very clear and helpful</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1227#respond" data-commentid="1227" data-postid="491" data-belowelement="comment-1227" data-respondelement="respond" aria-label="Reply to eya">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1229">
		<article id="comment-1229" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3a201d32076e1548f343d6b31fe59a36?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3a201d32076e1548f343d6b31fe59a36?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Francisca</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1229"><time datetime="2020-10-20T20:33:07-07:00">October 20, 2020 at 8:33 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I Loved how you used the colors!!! Very clear thank yoy</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1229#respond" data-commentid="1229" data-postid="491" data-belowelement="comment-1229" data-respondelement="respond" aria-label="Reply to Francisca">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1230">
		<article id="comment-1230" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/422cb884221be164cd6a9731474f83d1?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/422cb884221be164cd6a9731474f83d1?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Hojae</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1230"><time datetime="2020-11-09T17:54:05-08:00">November 9, 2020 at 5:54 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you. it helps me a lot.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1230#respond" data-commentid="1230" data-postid="491" data-belowelement="comment-1230" data-respondelement="respond" aria-label="Reply to Hojae">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1232">
		<article id="comment-1232" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ec1bae178c73f99d82f9bf8320f677c7?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ec1bae178c73f99d82f9bf8320f677c7?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">T. K. Prasad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1232"><time datetime="2020-11-19T11:34:19-08:00">November 19, 2020 at 11:34 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent blog!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1232#respond" data-commentid="1232" data-postid="491" data-belowelement="comment-1232" data-respondelement="respond" aria-label="Reply to T. K. Prasad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1235">
		<article id="comment-1235" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/27836d24454685f89f7d1dc815521784?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/27836d24454685f89f7d1dc815521784?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">YT Tseng</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1235"><time datetime="2021-01-01T19:20:21-08:00">January 1, 2021 at 7:20 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you tbabb! It is a very nice tutorial!<br>
I have a question.</p>
<p>In equation15, you demonstrated the multiplication of the following two Gaussian distribution:<br>
mu_0 = Hk Xk_hat<br>
sigma_0 = Hk Pk Hk^T<br>
and<br>
mu_1 = zk<br>
sigma_1 = Rk</p>
<p>but how can we interpret the two Gaussian distribution in probability form?<br>
should it be like this (x is for state, and y is for observed value)?<br>
P(xt|y1, …, yt-1)*P(yt|xt) = P(xt, yt|y1, y2, …, yt-1) as N~(mu_0, sigma_0)<br>
and<br>
P(??|??) as N~(mu_1, sigma_1)<br>
so that after multiplication (correction step), we get P(xt|y1, y2, …, yt)?<br>
Especially the probability form of the observed distribution confuses me.</p>
<p>Looking forward to hearing from you. Happy new year!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1235#respond" data-commentid="1235" data-postid="491" data-belowelement="comment-1235" data-respondelement="respond" aria-label="Reply to YT Tseng">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1237">
		<article id="comment-1237" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1a7c5f0dc0f81517f6c082257dbcffc9?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1a7c5f0dc0f81517f6c082257dbcffc9?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">William Gao</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1237"><time datetime="2021-01-14T00:20:40-08:00">January 14, 2021 at 12:20 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks! That’s easy-understanding and interesting.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1237#respond" data-commentid="1237" data-postid="491" data-belowelement="comment-1237" data-respondelement="respond" aria-label="Reply to William Gao">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1238">
		<article id="comment-1238" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e269eac5ff16bfb7cc7986bc92b8df57?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e269eac5ff16bfb7cc7986bc92b8df57?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Mohammad Rahmani</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1238"><time datetime="2021-01-17T08:53:31-08:00">January 17, 2021 at 8:53 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I wish you had somethinf for particle filter too. Thanks anyway</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1238#respond" data-commentid="1238" data-postid="491" data-belowelement="comment-1238" data-respondelement="respond" aria-label="Reply to Mohammad Rahmani">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1241">
		<article id="comment-1241" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/6d9ad368a4b25558d279c77079ca4fc6?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6d9ad368a4b25558d279c77079ca4fc6?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn"><a href="https://unpublished.com:8080" rel="external nofollow ugc" class="url">Big Lebowsky</a></b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1241"><time datetime="2021-03-06T02:40:05-08:00">March 6, 2021 at 2:40 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks very good article actually helped me to finetune my python script to check K calculations in gravity.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1241#respond" data-commentid="1241" data-postid="491" data-belowelement="comment-1241" data-respondelement="respond" aria-label="Reply to Big Lebowsky">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1244">
		<article id="comment-1244" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/09a4e79cde0d38f488e88ff7b53a7ae3?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/09a4e79cde0d38f488e88ff7b53a7ae3?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Pedro Golmayo</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1244"><time datetime="2021-07-14T11:25:26-07:00">July 14, 2021 at 11:25 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent. Thanks</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1244#respond" data-commentid="1244" data-postid="491" data-belowelement="comment-1244" data-respondelement="respond" aria-label="Reply to Pedro Golmayo">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1245">
		<article id="comment-1245" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3e7fa80abcb0dddb2f3d0c8acc9af632?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3e7fa80abcb0dddb2f3d0c8acc9af632?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Chen Chiyu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1245"><time datetime="2021-08-07T20:39:11-07:00">August 7, 2021 at 8:39 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Pictures are so cute</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1245#respond" data-commentid="1245" data-postid="491" data-belowelement="comment-1245" data-respondelement="respond" aria-label="Reply to Chen Chiyu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1247">
		<article id="comment-1247" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/3e7fa80abcb0dddb2f3d0c8acc9af632?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3e7fa80abcb0dddb2f3d0c8acc9af632?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Chiyu Chen</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1247"><time datetime="2021-08-08T06:54:19-07:00">August 8, 2021 at 6:54 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Your pictures are all exquisite ! It is so cute to explain how a Kalman Filter works.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1247#respond" data-commentid="1247" data-postid="491" data-belowelement="comment-1247" data-respondelement="respond" aria-label="Reply to Chiyu Chen">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1248">
		<article id="comment-1248" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/08842175bb2a52cb5a147c79b3156c32?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/08842175bb2a52cb5a147c79b3156c32?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Tan Phan</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1248"><time datetime="2021-08-11T12:10:33-07:00">August 11, 2021 at 12:10 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>This is the best article that explains the topic interestingly.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1248#respond" data-commentid="1248" data-postid="491" data-belowelement="comment-1248" data-respondelement="respond" aria-label="Reply to Tan Phan">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1250">
		<article id="comment-1250" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/152d0a18c7989926672e3bb4192fe859?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/152d0a18c7989926672e3bb4192fe859?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">ravi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1250"><time datetime="2021-08-29T04:31:27-07:00">August 29, 2021 at 4:31 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Excellent article for understanding of kalman filter.. Thank you for explaining it beautifully</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1250#respond" data-commentid="1250" data-postid="491" data-belowelement="comment-1250" data-respondelement="respond" aria-label="Reply to ravi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1251">
		<article id="comment-1251" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/bfb698b7ac06ebac9ea929861db435cf?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/bfb698b7ac06ebac9ea929861db435cf?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Amrit Sahu</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1251"><time datetime="2021-09-05T07:25:46-07:00">September 5, 2021 at 7:25 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>One hell of an article. Awesome!!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1251#respond" data-commentid="1251" data-postid="491" data-belowelement="comment-1251" data-respondelement="respond" aria-label="Reply to Amrit Sahu">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1254">
		<article id="comment-1254" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/391d1512f9849f5b7d1689f134554985?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/391d1512f9849f5b7d1689f134554985?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Fitwi</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1254"><time datetime="2021-11-03T09:30:26-07:00">November 3, 2021 at 9:30 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for this article. It explains a lot. Keep up the good work.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1254#respond" data-commentid="1254" data-postid="491" data-belowelement="comment-1254" data-respondelement="respond" aria-label="Reply to Fitwi">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1255">
		<article id="comment-1255" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/520481a67ca14f1ebfc7d36814350967?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/520481a67ca14f1ebfc7d36814350967?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">mehmet rıza öz</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1255"><time datetime="2021-11-10T05:56:53-08:00">November 10, 2021 at 5:56 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you for explaining all the cycle without any missing point.<br>
I could not understand them until reading your article.<br>
Great job!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1255#respond" data-commentid="1255" data-postid="491" data-belowelement="comment-1255" data-respondelement="respond" aria-label="Reply to mehmet rıza öz">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1256">
		<article id="comment-1256" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/fd2873d92ff0743a8f2ead6f97ff4467?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fd2873d92ff0743a8f2ead6f97ff4467?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Viiresh Yang</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1256"><time datetime="2021-11-19T04:40:49-08:00">November 19, 2021 at 4:40 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great job! I really get benefit from this article.<br>
Thank you!</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1256#respond" data-commentid="1256" data-postid="491" data-belowelement="comment-1256" data-respondelement="respond" aria-label="Reply to Viiresh Yang">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1259">
		<article id="comment-1259" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/5dbfc386f986b9d600324cd02dae266d?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5dbfc386f986b9d600324cd02dae266d?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Alex Dowad</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1259"><time datetime="2022-02-13T08:20:22-08:00">February 13, 2022 at 8:20 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thank you very, very much! I loved this article.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1259#respond" data-commentid="1259" data-postid="491" data-belowelement="comment-1259" data-respondelement="respond" aria-label="Reply to Alex Dowad">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1262">
		<article id="comment-1262" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/19bfae47317f2d40d23656f631795bf0?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/19bfae47317f2d40d23656f631795bf0?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Stephen Kelly</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1262"><time datetime="2022-03-31T10:45:41-07:00">March 31, 2022 at 10:45 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>The maths are classic probabilistic equations.<br>
Nature is 3D well 4 really accounting for realitivity.<br>
What about non probabilistic calculations to this model.<br>
Also acceleration is not equated into the model<br>
Bravo<br>
Great explanation<br>
Keep up the good writing on all things AI<br>
Enjoying</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1262#respond" data-commentid="1262" data-postid="491" data-belowelement="comment-1262" data-respondelement="respond" aria-label="Reply to Stephen Kelly">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1263">
		<article id="comment-1263" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/e719142b80eeb522a46240adff6f051f?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e719142b80eeb522a46240adff6f051f?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Arijit Sinharay</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1263"><time datetime="2022-06-30T23:00:08-07:00">June 30, 2022 at 11:00 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Absolutely great – the best one ever..</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1263#respond" data-commentid="1263" data-postid="491" data-belowelement="comment-1263" data-respondelement="respond" aria-label="Reply to Arijit Sinharay">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-1264">
		<article id="comment-1264" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1e62d27c486199ea834abd203fbb841b?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1e62d27c486199ea834abd203fbb841b?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bill</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1264"><time datetime="2022-07-13T12:28:02-07:00">July 13, 2022 at 12:28 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article and I love the diagrams.  I noticed in your ‘information flow’ diagram (and in others like it, e.g. on wikipedia.org), the input in time k, u(k), feeds x(k).  I.e.</p>
<p>x(k) = Ax(k-1) + Bu(k)</p>
<p>In control engineering I was taught the following convention for defining u:</p>
<p>x(k) = Ax(k-1) + Bu(k-1)  or x(k+1) = Ax(k) + Bu(k)</p>
<p>Is there a reason for using u(k) in your diagram and not u(k-1) or is it just a different convention?</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1264#respond" data-commentid="1264" data-postid="491" data-belowelement="comment-1264" data-respondelement="respond" aria-label="Reply to Bill">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1265">
		<article id="comment-1265" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/7bb977d67ed71e91fbcfa054e6636271?s=44&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7bb977d67ed71e91fbcfa054e6636271?s=88&amp;d=mm&amp;r=g 2x" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">ja</b> </cite><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1265"><time datetime="2022-09-21T06:26:34-07:00">September 21, 2022 at 6:26 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Great article!</p>
<p>However, I would eliminate the vector notation of the position and velocity, and all references to wheel steering to clarify that the example only uses one dimension (a robot moving in a straight line where position measures distance to the origin and velocity measures the celerity along the line). Otherwise it is quite confusing.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/?replytocom=1265#respond" data-commentid="1265" data-postid="491" data-belowelement="comment-1265" data-respondelement="respond" aria-label="Reply to ja">Reply</a> <span>↓</span>			</div><!-- .reply -->
		</article><!-- #comment-## -->
	</li><!-- #comment-## -->
		</ol><!-- .commentlist -->

		
		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/p/how-a-kalman-filter-works-in-pictures/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://www.bzarg.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="15360" required="required" minlength="15"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="491" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
<noscript><input type="hidden" name="JS04X7" value="NS1" /></noscript>
<noscript><p><strong>Currently you have JavaScript disabled. In order to post comments, please make sure JavaScript and Cookies are enabled, and reload the page.</strong> <a href="http://enable-javascript.com/" rel="nofollow external" >Click here for instructions on how to enable JavaScript in your browser.</a></p></noscript>
</form>	</div><!-- #respond -->
	
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="https://www.bzarg.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
											<li>
					<a href="https://www.bzarg.com/p/interview-tips-for-moving-up-to-leadership/">Interview tips for moving up to leadership</a>
									</li>
											<li>
					<a href="https://www.bzarg.com/p/some-numbers-about-the-spacex-passenger-rocket/">Some interesting napkin math about SpaceX’s passenger ICBM</a>
									</li>
											<li>
					<a href="https://www.bzarg.com/p/what-bitcoin-shows-us-about-how-money-works/">What Bitcoin Shows Us About How Money Works</a>
									</li>
											<li>
					<a href="https://www.bzarg.com/p/12-trail-runs-under-10-miles-in-sf-and-the-east-bay/">12 trail runs under 10 miles in SF and the East Bay</a>
									</li>
											<li>
					<a href="https://www.bzarg.com/p/infinitely-aged-christmas-pudding/">Infinitely Aged Christmas Pudding</a>
									</li>
					</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">ja</span> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1265">How a Kalman filter works, in pictures</a></li><li class="recentcomments"><span class="comment-author-link">Bill</span> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1264">How a Kalman filter works, in pictures</a></li><li class="recentcomments"><span class="comment-author-link">Arijit Sinharay</span> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1263">How a Kalman filter works, in pictures</a></li><li class="recentcomments"><span class="comment-author-link">Stephen Kelly</span> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1262">How a Kalman filter works, in pictures</a></li><li class="recentcomments"><span class="comment-author-link">Alex Dowad</span> on <a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/#comment-1259">How a Kalman filter works, in pictures</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
				<li><a href="https://www.bzarg.com/p/2019/11/">November 2019</a></li>
	<li><a href="https://www.bzarg.com/p/2018/06/">June 2018</a></li>
	<li><a href="https://www.bzarg.com/p/2017/12/">December 2017</a></li>
	<li><a href="https://www.bzarg.com/p/2016/05/">May 2016</a></li>
	<li><a href="https://www.bzarg.com/p/2015/12/">December 2015</a></li>
	<li><a href="https://www.bzarg.com/p/2015/08/">August 2015</a></li>
	<li><a href="https://www.bzarg.com/p/2015/04/">April 2015</a></li>
	<li><a href="https://www.bzarg.com/p/2015/02/">February 2015</a></li>
	<li><a href="https://www.bzarg.com/p/2015/01/">January 2015</a></li>
		</ul>
			</aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
				<li class="cat-item cat-item-12"><a href="https://www.bzarg.com/p/category/current-events/">Current Events</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://www.bzarg.com/p/category/drawings/">Drawings</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://www.bzarg.com/p/category/fiction/">Fiction</a>
</li>
	<li class="cat-item cat-item-6"><a href="https://www.bzarg.com/p/category/mini-courses/">Mini-courses</a>
</li>
	<li class="cat-item cat-item-21"><a href="https://www.bzarg.com/p/category/programming/">Programming</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://www.bzarg.com/p/category/uncategorized/">Uncategorized</a>
</li>
		</ul>
			</aside><aside id="meta-2" class="widget widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="https://www.bzarg.com/wp-login.php">Log in</a></li>
			<li><a href="https://www.bzarg.com/feed/">Entries feed</a></li>
			<li><a href="https://www.bzarg.com/comments/feed/">Comments feed</a></li>
			<li><a href="https://wordpress.org/">WordPress.org</a></li>			</ul>
			</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
						<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->


<script type="text/javascript">
/* <![CDATA[ */
r3f5x9JS=escape(document['referrer']);
hf4N='b47d4f8392048bbcb209d125e692f6ba';
hf4V='4e0d6e19a56bf102e2a23d0ff34d4450';
cm4S="form[action='https://www.bzarg.com/wp-comments-post.php']";
jQuery(document).ready(function($){var e="#commentform, .comment-respond form, .comment-form, "+cm4S+", #lostpasswordform, #registerform, #loginform, #login_form, #wpss_contact_form";$(e).submit(function(){$("<input>").attr("type","hidden").attr("name","r3f5x9JS").attr("value",r3f5x9JS).appendTo(e);$("<input>").attr("type","hidden").attr("name",hf4N).attr("value",hf4V).appendTo(e);return true;});$("#comment").attr({minlength:"15",maxlength:"15360"})});
/* ]]> */
</script> 
<link rel="stylesheet" id="simple-share-buttons-adder-ssba-css" href="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/css/ssba.css?ver=5.3.15" type="text/css" media="all">
<style id="simple-share-buttons-adder-ssba-inline-css" type="text/css">
	.ssba {
									
									
									
									
								}
								.ssba img
								{
									width: 25px !important;
									padding: 6px;
									border:  0;
									box-shadow: none !important;
									display: inline !important;
									vertical-align: middle;
									box-sizing: unset;
								}
								
								.ssba-classic-2 .ssbp-text {
									display: none!important;
								}
								
								.ssba .fb-save
								{
								padding: 6px;
								line-height: 20px; }
								.ssba, .ssba a
								{
									text-decoration:none;
									background: none;
									
									font-size: 12px;
									color: #636363!important;
									font-weight: bold;
								}
								

			   #ssba-bar-2 .ssbp-bar-list {
					max-width: 48px!important;;
			   }
			   #ssba-bar-2 .ssbp-bar-list li a {height: 48px!important; width: 48px!important; 
				}
				#ssba-bar-2 .ssbp-bar-list li a:hover {
				}
					
				#ssba-bar-2 .ssbp-bar-list li a::before {line-height: 48px!important;; font-size: 18px;}
				#ssba-bar-2 .ssbp-bar-list li a:hover::before {}
				#ssba-bar-2 .ssbp-bar-list li {
				margin: 0px 0!important;
				}@media only screen and ( max-width: 750px ) {
				#ssba-bar-2 {
				display: block;
				}
			}
@font-face {
				font-family: 'ssbp';
				src:url('https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/fonts/ssbp.eot?xj3ol1');
				src:url('https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/fonts/ssbp.eot?#iefixxj3ol1') format('embedded-opentype'),
					url('https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/fonts/ssbp.woff?xj3ol1') format('woff'),
					url('https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/fonts/ssbp.ttf?xj3ol1') format('truetype'),
					url('https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/fonts/ssbp.svg?xj3ol1#ssbp') format('svg');
				font-weight: normal;
				font-style: normal;

				/* Better Font Rendering =========== */
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
</style>
<script type="text/javascript" src="https://www.bzarg.com/wp-content/plugins/simple-share-buttons-adder/js/ssba.js?ver=5.3.15"></script>
<script type="text/javascript">
Main.boot( [] );
</script>
<script type="text/javascript" src="https://www.bzarg.com/wp-includes/js/comment-reply.min.js?ver=5.3.15"></script>
<script type="text/javascript" src="https://www.bzarg.com/wp-content/themes/twentytwelve/js/navigation.js?ver=20140711"></script>
<script type="text/javascript" src="https://www.bzarg.com/wp-content/plugins/wp-spamshield/js/jscripts-ftr-min.js"></script>
<script type="text/javascript" src="https://www.bzarg.com/wp-includes/js/wp-embed.min.js?ver=5.3.15"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=default&amp;ver=1.3.11"></script>


<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; min-width: 0px; max-width: none; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Size3, monospace;"></div></div></body></html>