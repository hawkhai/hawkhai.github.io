---
title : 自动快照存档
---

* TIME: 2021-08-31 12:12:56
* URL: <https://github.com/MachineLP/TextMatch>

-----

Skip to content

[ ](https://github.com/)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo)

  * Why GitHub? 

[Features →](/features)

    * [Mobile →](/mobile)
    * [Actions →](/features/actions)
    * [Codespaces →](/features/codespaces)
    * [Packages →](/features/packages)
    * [Security →](/features/security)
    * [Code review →](/features/code-review/)
    * [Issues →](/features/issues/)
    * [Integrations →](/features/integrations)
    * [GitHub Sponsors →](/sponsors)
    * [Customer stories→](/customer-stories)

  * [Team](/team)
  * [Enterprise](/enterprise)
  * Explore 

    * [Explore GitHub →](/explore)

#### Learn and contribute

    * [Topics →](/topics)
    * [Collections →](/collections)
    * [Trending →](/trending)
    * [Learning Lab →](https://lab.github.com/)
    * [Open source guides →](https://opensource.guide)

#### Connect with others

    * [The ReadME Project →](https://github.com/readme)
    * [Events →](https://github.com/events)
    * [Community forum →](https://github.community)
    * [GitHub Education →](https://education.github.com)
    * [GitHub Stars program →](https://stars.github.com)

  * [Marketplace](/marketplace)
  * Pricing 

[Plans →](/pricing)

    * [Compare plans →](/pricing#feature-comparison)
    * [Contact Sales →](https://enterprise.github.com/contact)
    * [Education →](https://education.github.com)

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

  * No suggested jump to results

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this user  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2FMachineLP%2FTextMatch)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-
repo&source_repo=MachineLP%2FTextMatch)

{{ message }}

#  [MachineLP](/MachineLP) / **[TextMatch](/MachineLP/TextMatch) **

  * [ Notifications ](/login?return_to=%2FMachineLP%2FTextMatch)
  * [ Star ](/login?return_to=%2FMachineLP%2FTextMatch) [ 591 ](/MachineLP/TextMatch/stargazers)
  * [ Fork ](/login?return_to=%2FMachineLP%2FTextMatch) [ 170 ](/MachineLP/TextMatch/network/members)

QAmatch(qa_match)/文本匹配/文本分类/文本embedding/文本聚类/文本检索（bow/ifidf/ngramtf-
df/bert/albert/bm25/…/nn/gbdt/xgb/kmeans/dscan/faiss/….）

[ 591 stars ](/MachineLP/TextMatch/stargazers) [ 170 forks
](/MachineLP/TextMatch/network/members)

[ Star ](/login?return_to=%2FMachineLP%2FTextMatch)

[ Notifications ](/login?return_to=%2FMachineLP%2FTextMatch)

  * [ Code ](/MachineLP/TextMatch)
  * [ Issues 2 ](/MachineLP/TextMatch/issues)
  * [ Pull requests 1 ](/MachineLP/TextMatch/pulls)
  * [ Actions ](/MachineLP/TextMatch/actions)
  * [ Projects 0 ](/MachineLP/TextMatch/projects)
  * [ Wiki ](/MachineLP/TextMatch/wiki)
  * [ Security ](/MachineLP/TextMatch/security)
  * [ Insights ](/MachineLP/TextMatch/pulse)

More

  * [ Code ](/MachineLP/TextMatch)
  * [ Issues ](/MachineLP/TextMatch/issues)
  * [ Pull requests ](/MachineLP/TextMatch/pulls)
  * [ Actions ](/MachineLP/TextMatch/actions)
  * [ Projects ](/MachineLP/TextMatch/projects)
  * [ Wiki ](/MachineLP/TextMatch/wiki)
  * [ Security ](/MachineLP/TextMatch/security)
  * [ Insights ](/MachineLP/TextMatch/pulse)

master

Switch branches/tags

Branches Tags

Could not load branches

Nothing to show

[ {{ refName }} default ](https://github.com/MachineLP/TextMatch/tree/{{
urlEncodedRefName }}) [View all branches](/MachineLP/TextMatch/branches)

Could not load tags

Nothing to show

[ {{ refName }} default ](https://github.com/MachineLP/TextMatch/tree/{{
urlEncodedRefName }})

[View all tags](/MachineLP/TextMatch/tags)

[ **2** branches ](/MachineLP/TextMatch/branches) [ **1** tag
](/MachineLP/TextMatch/tags)

[ Go to file ](/MachineLP/TextMatch/find/master) Code

  * [ ](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone

HTTPS  GitHub CLI

Use Git or checkout with SVN using the web URL.

Work fast with our official CLI. [Learn more](https://cli.github.com).

  * [ Open with GitHub Desktop ](https://desktop.github.com)
  * [ Download ZIP ](/MachineLP/TextMatch/archive/refs/heads/master.zip)

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching Xcode

If nothing happens, [download Xcode](https://developer.apple.com/xcode/) and
try again.

Go back

#### Launching Visual Studio Code

Your codespace will open once ready.

There was a problem preparing your codespace, please try again.

## Latest commit

[ ![@MachineLP](https://avatars.githubusercontent.com/u/22276534?s=48&v=4)
](/MachineLP)

[MachineLP](/MachineLP/TextMatch/commits?author=MachineLP "View all commits by
MachineLP") [Update
README.md](/MachineLP/TextMatch/commit/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb
"Update README.md")

…

[ 394ffaa
](/MachineLP/TextMatch/commit/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb) [ 7
days ago
](/MachineLP/TextMatch/commit/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb)

[Update
README.md](/MachineLP/TextMatch/commit/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb)

`394ffaa`

## Git stats

  * [ **66** commits  ](/MachineLP/TextMatch/commits/master)

## Files

[Permalink](/MachineLP/TextMatch/tree/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb)

Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

[data](/MachineLP/TextMatch/tree/master/data "data")

[添加logging](/MachineLP/TextMatch/commit/ad06fc7b6b3019253de60acc8b4c1a80d26790ec
"添加logging")

13 months ago

[docs](/MachineLP/TextMatch/tree/master/docs "docs")

[Delete
.DS_Store](/MachineLP/TextMatch/commit/9a03c8dc934429c6f4a556998b0beec947bedca1
"Delete .DS_Store")

7 months ago

[examples](/MachineLP/TextMatch/tree/master/examples "examples")

[TextMatch](/MachineLP/TextMatch/commit/f6ed0aff9ae3f9810b24e55448bd50ae7117e528
"TextMatch")

15 months ago

[logs](/MachineLP/TextMatch/tree/master/logs "logs")

[添加logging](/MachineLP/TextMatch/commit/ad06fc7b6b3019253de60acc8b4c1a80d26790ec
"添加logging")

13 months ago

[server](/MachineLP/TextMatch/tree/master/server "server")

[添加logging](/MachineLP/TextMatch/commit/5dc1acaea3ed61d7a9ac4092c91a0401bffe6c4b
"添加logging")

13 months ago

[tests](/MachineLP/TextMatch/tree/master/tests "tests")

[基于召回和排序的文本搜索](/MachineLP/TextMatch/commit/24b8c8c0910a3a8f76e19f72da2218c537cd34f0
"基于召回和排序的文本搜索")

14 months ago

[textmatch](/MachineLP/TextMatch/tree/master/textmatch "textmatch")

[添加logging](/MachineLP/TextMatch/commit/ad06fc7b6b3019253de60acc8b4c1a80d26790ec
"添加logging")

13 months ago

[train_model](/MachineLP/TextMatch/tree/master/train_model "train_model")

[添加文本纠错](/MachineLP/TextMatch/commit/222953a08a4e3e7e2f57716c6b36ef648fcf1564
"添加文本纠错")

14 months ago

[EXAMPLES.md](/MachineLP/TextMatch/blob/master/EXAMPLES.md "EXAMPLES.md")

[基于召回和排序的文本搜索](/MachineLP/TextMatch/commit/8c9b2563e73d9ba34d96580e84af82f5256f9290
"基于召回和排序的文本搜索")

14 months ago

[README.md](/MachineLP/TextMatch/blob/master/README.md "README.md")

[Update
README.md](/MachineLP/TextMatch/commit/394ffaaa86fbf1d79ab9cbcac39f8a510676c2fb
"Update README.md")

7 days ago

[requirements.txt](/MachineLP/TextMatch/blob/master/requirements.txt
"requirements.txt")

[Update
requirements.txt](/MachineLP/TextMatch/commit/8e86a90c4af278e67dd887337b57f2415449e915
"Update requirements.txt")

6 months ago

[setup.py](/MachineLP/TextMatch/blob/master/setup.py "setup.py")

[TextMatch](/MachineLP/TextMatch/commit/f6ed0aff9ae3f9810b24e55448bd50ae7117e528
"TextMatch")

15 months ago

View code

test models List train models List TODO 样例： 样例： run train_model/ (train
embedding(bow/tfidf/ngram tfidf/bert/albert... train classifer)) run
tests/core_test （qa/文本embedding） run tests/models_test （模型测试） run
tests/ml_test （机器学习模型测试） run tests/tools_test （聚类/降维工具测试） run tests/tools_test
（词云）

##  README.md

TextMatch

TextMatch is a semantic matching model library for QA & text search ... It's
easy to train models and to export representation vectors.

Let's [**Run examples**](/MachineLP/TextMatch/blob/master/EXAMPLES.md) !

## test models List

Model | models | tests  
---|---|---  
Bow |
[1](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/bow_sklearn.py)
|
[test](/MachineLP/TextMatch/blob/master/tests/models_test/bow_sklearn_test.py)  
TFIDF |
[2](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/tf_idf_sklearn.py)
|
[test](/MachineLP/TextMatch/blob/master/tests/models_test/tf_idf_sklearn_test.py)  
Ngram-TFIDF |
[3](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/ngram_tf_idf_sklearn.py)
|
[test](/MachineLP/TextMatch/blob/master/tests/models_test/ngram_tf_idf_sklearn_test.py)  
W2V |
[4](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/w2v.py) |
[test](/MachineLP/TextMatch/blob/master/tests/models_test/w2v_test.py)  
BERT |
[5](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/bert_embedding.py)
| [BERT-whitening](https://github.com/bojone/BERT-
whitening)校正了BERT句向量分布，使cos相似度更合理。 [SimCSE](https://github.com/bojone/SimCSE)  
ALBERT |
[6](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/albert_embedding.py)
|
[test](/MachineLP/TextMatch/blob/master/tests/models_test/albert_embedding_test.py)
链接:<https://pan.baidu.com/s/1HSVS104iBBOsfw7hXdyqLQ> 密码:808k  
DSSM |  |  
bm25 |
[8](/MachineLP/TextMatch/blob/master/textmatch/models/text_search/bm25.py) |
[test](/MachineLP/TextMatch/blob/master/tests/models_test/bm25_test.py)  
edit_sim |
[9](/MachineLP/TextMatch/blob/master/textmatch/models/text_search/edit_sim.py)
| [test](/MachineLP/TextMatch/blob/master/tests/models_test/edit_sim_test.py)  
jaccard_sim |
[10](/MachineLP/TextMatch/blob/master/textmatch/models/text_search/jaccard_sim.py)
|
[test](/MachineLP/TextMatch/blob/master/tests/models_test/jaccard_sim_test.py)  
wmd | [11](/MachineLP/TextMatch/blob/master/tests/models_test/wmd_test.py) |
[test](/MachineLP/TextMatch/blob/master/tests/models_test/wmd_test.py)  
Kmeans |
[12](/MachineLP/TextMatch/blob/master/textmatch/tools/clustering/kmeans.py) |
[test](/MachineLP/TextMatch/blob/master/tests/tools_test/kmeans_test.py)  
DBSCAN |
[13](/MachineLP/TextMatch/blob/master/textmatch/tools/clustering/dbscan.py) |
[test](/MachineLP/TextMatch/blob/master/tests/tools_test/dbscan_test.py)  
PCA |
[14](/MachineLP/TextMatch/blob/master/textmatch/tools/decomposition/pca.py) |
[test](/MachineLP/TextMatch/blob/master/tests/tools_test/pca_test.py)  
FAISS | [15](/MachineLP/TextMatch/blob/master/textmatch/tools/faiss/faiss.py)
| [test](/MachineLP/TextMatch/blob/master/tests/tools_test/faiss_test.py)  
.... |  |  
lr | [92](/MachineLP/TextMatch/blob/master/textmatch/models/ml/lr.py) |
[test](/MachineLP/TextMatch/blob/master/tests/ml_test/lr_test.py)  
gbdt | [93](/MachineLP/TextMatch/blob/master/textmatch/models/ml/gbdt.py) |
[test](/MachineLP/TextMatch/blob/master/tests/ml_test/gbdt_test.py)  
gbdt_lr |
[94](/MachineLP/TextMatch/blob/master/textmatch/models/ml/gbdt_lr.py) |
[test](/MachineLP/TextMatch/blob/master/tests/ml_test/gbdt_lr_test.py)  
lgb | [95](/MachineLP/TextMatch/blob/master/textmatch/models/ml/lgb.py) |
[test](/MachineLP/TextMatch/blob/master/tests/ml_test/lgb_test.py)  
xgb | [96](/MachineLP/TextMatch/blob/master/textmatch/models/ml/xgb.py) |
[test](/MachineLP/TextMatch/blob/master/tests/ml_test/xgb_test.py)  
Bagging |
[97](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/model_factory_sklearn.py)
| [test](/MachineLP/TextMatch/blob/master/tests/models_test/factory_test.py)  
QA | [98](/MachineLP/TextMatch/blob/master/textmatch/core/qa_match.py) |
[test](/MachineLP/TextMatch/blob/master/tests/core_test/qa_match_test.py)  
Text Embedding |
[99](/MachineLP/TextMatch/blob/master/textmatch/core/text_embedding.py) |
[test](/MachineLP/TextMatch/blob/master/tests/core_test/text_embedding_test.py)  
  
#

## train models List

Model | models | train  
---|---|---  
Bow |
[1](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/bow_sklearn.py)
| [train](/MachineLP/TextMatch/blob/master/train_model/train_bow.py)  
TFIDF |
[2](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/tf_idf_sklearn.py)
| [train](/MachineLP/TextMatch/blob/master/train_model/train_tfidf.py)  
Ngram-TFIDF |
[3](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/ngram_tf_idf_sklearn.py)
| [train](/MachineLP/TextMatch/blob/master/train_model/train_ngram_tfidf.py)  
W2V |
[4](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/w2v.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_w2v.py)  
BERT |
[5](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/bert_embedding.py)
| [train](/MachineLP/TextMatch/blob/master/train_model/train_bert.py)  
ALBERT |
[6](/MachineLP/TextMatch/blob/master/textmatch/models/text_embedding/albert_embedding.py)
| [train](/MachineLP/TextMatch/blob/master/train_model/train_albert.py)  
DSSM |  |  
Kmeans |
[12](/MachineLP/TextMatch/blob/master/textmatch/tools/clustering/kmeans.py) |
[train](/MachineLP/TextMatch/blob/master/tests/tools_test/kmeans_test.py)  
DBSCAN |
[13](/MachineLP/TextMatch/blob/master/textmatch/tools/clustering/dbscan.py) |
[train](/MachineLP/TextMatch/blob/master/tests/tools_test/dbscan_test.py)  
PCA |
[14](/MachineLP/TextMatch/blob/master/textmatch/tools/decomposition/pca.py) |
[train](/MachineLP/TextMatch/blob/master/tests/tools_test/pca_test.py)  
.... |  |  
lr | [92](/MachineLP/TextMatch/blob/master/textmatch/models/ml/lr.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_lr_classifer.py)  
gbdt | [93](/MachineLP/TextMatch/blob/master/textmatch/models/ml/gbdt.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_gbdt_classifer.py)  
gbdt_lr |
[94](/MachineLP/TextMatch/blob/master/textmatch/models/ml/gbdt_lr.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_gbdtlr_classifer.py)  
lgb | [95](/MachineLP/TextMatch/blob/master/textmatch/models/ml/lgb.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_lgb_classifer.py)  
xgb | [96](/MachineLP/TextMatch/blob/master/textmatch/models/ml/xgb.py) |
[train](/MachineLP/TextMatch/blob/master/train_model/train_xgb_classifer.py)  
  
## TODO

（1）knn （2）dssm
（3）[实体识别](https://github.com/bojone/bert4keras/blob/master/examples/task_sequence_labeling_ner_crf.py)
（4）[文本纠错](https://github.com/shibing624/pycorrector)

#

  * wechat ID: lp9628

#

#

### 样例：

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python examples/text_search.py
    
    

examples/text_search.py

    
    
    import sys
    from textmatch.models.text_embedding.model_factory_sklearn import ModelFactory
    
    
    if __name__ == '__main__':
        # doc
        doc_dict = {"0":"我去玉龙雪山并且喜欢玉龙雪山玉龙雪山", "1":"我在玉龙雪山并且喜欢玉龙雪山", "2":"我在九寨沟", "3":"你好"}   
        # query
        query = "我在九寨沟,很喜欢"
        
        # 模型工厂，选择需要的模型加到列表中: 'bow', 'tfidf', 'ngram_tfidf', 'bert', 'albert', 'w2v'
        mf = ModelFactory( match_models=['bow', 'tfidf', 'ngram_tfidf'] )
        # 模型处理初始化
        mf.init(words_dict=doc_dict, update=True)
    
        # query 与 doc的相似度
        search_res = mf.predict(query)
        print ('search_res>>>>>', search_res) 
        # search_res>>>>> {'bow': [('0', 0.2773500981126146), ('1', 0.5303300858899106), ('2', 0.8660254037844388), ('3', 0.0)], 'tfidf': [('0', 0.2201159065358879), ('1', 0.46476266418455736), ('2', 0.8749225357988296), ('3', 0.0)], 'ngram_tfidf': [('0', 0.035719486884261346), ('1', 0.09654705406841395), ('2', 0.9561288696241232), ('3', 0.0)]}
        
        # query的embedding
        query_emb = mf.predict_emb(query)
        print ('query_emb>>>>>', query_emb) 
        '''
        pre_emb>>>>> {'bow': array([1., 0., 0., 1., 1., 0., 1., 0.]), 'tfidf': array([0.61422608, 0.        , 0.        , 0.4842629 , 0.4842629 ,
           0.        , 0.39205255, 0.        ]), 'ngram_tfidf': array([0.        , 0.        , 0.37156534, 0.37156534, 0.        ,
           0.        , 0.        , 0.29294639, 0.        , 0.37156534,
           0.37156534, 0.        , 0.        , 0.37156534, 0.        ,
           0.        , 0.        , 0.        , 0.        , 0.        ,
           0.        , 0.        , 0.29294639, 0.37156534, 0.        ,
           0.        , 0.        , 0.        , 0.        , 0.        ,
           0.        , 0.        , 0.        , 0.        ])}
        '''

#

[![text_match](https://github.com/MachineLP/TextMatch/raw/master/docs/text_match.png)](https://github.com/MachineLP/TextMatch/blob/master/docs/text_match.png)

### 样例：

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python tests/tools_test/faiss_test.py
    
    

tests/tools_test/faiss_test.py

    
    
    import sys
    import json 
    import time
    import faiss
    import numpy as np
    from faiss import normalize_L2
    from textmatch.config.constant import Constant as const
    from textmatch.core.text_embedding import TextEmbedding
    from textmatch.tools.decomposition.pca import PCADecomposition
    from textmatch.tools.faiss.faiss import FaissSearch
    
    test_dict = {"id0": "其实事物发展有自己的潮流和规律",
       "id1": "当你身处潮流之中的时候，要紧紧抓住潮流的机会",
       "id2": "想办法脱颖而出，即使没有成功，也会更加洞悉时代的脉搏",
       "id3": "收获珍贵的知识和经验。而如果潮流已经退去",
       "id4": "这个时候再去往这个方向上努力，只会收获迷茫与压抑",
       "id5": "对时代、对自己都没有什么帮助",
       "id6": "但是时代的浪潮犹如海滩上的浪花，总是一浪接着一浪，只要你站在海边，身处这个行业之中，下一个浪潮很快又会到来。你需要敏感而又深刻地去观察，略去那些浮躁的泡沫，抓住真正潮流的机会，奋力一搏，不管成败，都不会遗憾。",
       "id7": "其实事物发展有自己的潮流和规律",
       "id8": "当你身处潮流之中的时候，要紧紧抓住潮流的机会" }
    
    
    if __name__ == '__main__':
        # ['bow', 'tfidf', 'ngram_tfidf', 'bert']
        # ['bow', 'tfidf', 'ngram_tfidf', 'bert', 'w2v']
        # text_embedding = TextEmbedding( match_models=['bow', 'tfidf', 'ngram_tfidf', 'w2v'], words_dict=test_dict ) 
        text_embedding = TextEmbedding( match_models=['bow', 'tfidf', 'ngram_tfidf', 'w2v'], words_dict=None, update=False ) 
        feature_list = []
        for sentence in test_dict.values():
            pre = text_embedding.predict(sentence)
            feature = np.concatenate([pre[model] for model in ['bow', 'tfidf', 'ngram_tfidf', 'w2v']], axis=0)
            feature_list.append(feature)
        pca = PCADecomposition(n_components=8)
        data = np.array( feature_list )
        pca.fit( data )
        res = pca.transform( data )
        print('res>>', res)
    
       
    
        pre = text_embedding.predict("潮流和规律")
        feature = np.concatenate([pre[model] for model in ['bow', 'tfidf', 'ngram_tfidf', 'w2v']], axis=0)
        test = pca.transform( [feature] )
    
        faiss_search = FaissSearch( res, sport_mode=False )
        faiss_res = faiss_search.predict( test )
        print( "faiss_res:", faiss_res )
        '''
        faiss kmeans result times 8.0108642578125e-05
        faiss_res: [{0: 0.7833399, 7: 0.7833399, 3: 0.63782495}]
        '''
    
        
        faiss_search = FaissSearch( res, sport_mode=True )
        faiss_res = faiss_search.predict( test )
        print( "faiss_res:", faiss_res )
        '''
        faiss kmeans result times 3.266334533691406e-05
        faiss_res: [{0: 0.7833399, 7: 0.7833399, 3: 0.63782495}]
        '''

#

### run train_model/ (train embedding(bow/tfidf/ngram tfidf/bert/albert...
train classifer))

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python train_model/train_bow.py                          (文本embedding)
    python train_model/train_tfidf.py                        (文本embedding)
    python train_model/train_ngram_tfidf.py                  (文本embedding)
    python train_model/train_bert.py                         (文本embedding)
    python train_model/train_albert.py                       (文本embedding)
    python train_model/train_w2v.py                          (文本embedding)
    python train_model/train_dssm.py                         (文本embedding)
    python train_model/train_lr_classifer.py                 (文本分类)
    python train_model/train_gbdt_classifer.py               (文本分类)
    python train_model/train_gbdlr_classifer.py              (文本分类)
    python train_model/train_lgb_classifer.py                (文本分类)
    python train_model/train_xgb_classifer.py                (文本分类)
    python train_model/train_dnn_classifer.py                (文本分类)
    

### run tests/core_test （qa/文本embedding）

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python tests/core_test/qa_match_test.py
    python tests/core_test/text_embedding_test.py
    

### run tests/models_test （模型测试）

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python tests/models_test/bm25_test.py                    (bm25)
    python tests/models_test/edit_sim_test.py                (编辑距离)
    python tests/models_test/jaccard_sim_test.py             (jaccard)
    python tests/models_test/bow_sklearn_test.py             (bow)
    python tests/models_test/tf_idf_sklearn_test.py          (tf_idf)
    python tests/models_test/ngram_tf_idf_sklearn_test.py    (ngram_tf_idf)
    python tests/models_test/w2v_test.py                     (w2v)
    python tests/models_test/albert_test.py                  (bert)
    

### run tests/ml_test （机器学习模型测试）

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python tests/ml_test/lr_test.py                          (lr)
    python tests/ml_test/gbdt_test.py                        (gbdt)
    python tests/ml_test/gbdt_lr_test.py                     (gbdt_lr)
    python tests/ml_test/lgb_test.py                         (lgb)
    python tests/ml_test/xgb_test.py                         (xgb)
    

### run tests/tools_test （聚类/降维工具测试）

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    export PYTHONPATH=${PYTHONPATH}:../TextMatch
    python tests/tools_test/kmeans_test.py                   (kmeans)
    python tests/tools_test/dbscan_test.py                   (dbscan)
    python tests/tools_test/pca_test.py                      (pca)
    python tests/tools_test/faiss_test.py                    (faiss)
    

### run tests/tools_test （词云）

    
    
    git clone https://github.com/MachineLP/TextMatch
    cd TextMatch
    pip install -r requirements.txt
    cd tests/tools_test
    python generate_word_cloud.py
    

[![word_cloud](https://github.com/MachineLP/TextMatch/raw/master/docs/pics/word_cloud.png)](https://github.com/MachineLP/TextMatch/blob/master/docs/pics/word_cloud.png)

## About

QAmatch(qa_match)/文本匹配/文本分类/文本embedding/文本聚类/文本检索（bow/ifidf/ngramtf-
df/bert/albert/bm25/…/nn/gbdt/xgb/kmeans/dscan/faiss/….）

### Resources

Readme

##  [ Releases ](/MachineLP/TextMatch/releases)

[ 1 tags ](/MachineLP/TextMatch/releases)

##  [ Packages 0 ](/users/MachineLP/packages?repo_name=TextMatch)

No packages published  

## Languages

  * [ Python 100.0% ](/MachineLP/TextMatch/search?l=python)

  * © 2021 GitHub, Inc.
  * [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
  * [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com)

[ ](https://github.com "GitHub")

  * [Contact GitHub](https://support.github.com)
  * [Pricing](https://github.com/pricing)
  * [API](https://docs.github.com)
  * [Training](https://services.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. [Reload]() to refresh your session.
You signed out in another tab or window. [Reload]() to refresh your session.

