---
title : 自动快照存档
---

* TIME: 2021-09-05 19:33:06
* URL: <https://github.com/nicodv/kmodes>

-----

Skip to content

[ ](https://github.com/)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo)

  * Why GitHub? 

[Features →](/features)

    * [Mobile →](/mobile)
    * [Actions →](/features/actions)
    * [Codespaces →](/features/codespaces)
    * [Packages →](/features/packages)
    * [Security →](/features/security)
    * [Code review →](/features/code-review/)
    * [Issues →](/features/issues/)
    * [Integrations →](/features/integrations)
    * [GitHub Sponsors →](/sponsors)
    * [Customer stories→](/customer-stories)

  * [Team](/team)
  * [Enterprise](/enterprise)
  * Explore 

    * [Explore GitHub →](/explore)

#### Learn and contribute

    * [Topics →](/topics)
    * [Collections →](/collections)
    * [Trending →](/trending)
    * [Learning Lab →](https://lab.github.com/)
    * [Open source guides →](https://opensource.guide)

#### Connect with others

    * [The ReadME Project →](https://github.com/readme)
    * [Events →](https://github.com/events)
    * [Community forum →](https://github.community)
    * [GitHub Education →](https://education.github.com)
    * [GitHub Stars program →](https://stars.github.com)

  * [Marketplace](/marketplace)
  * Pricing 

[Plans →](/pricing)

    * [Compare plans →](/pricing#feature-comparison)
    * [Contact Sales →](https://enterprise.github.com/contact)
    * [Education →](https://education.github.com)

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

  * No suggested jump to results

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this user  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fnicodv%2Fkmodes)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=nicodv%2Fkmodes)

{{ message }}

#  [nicodv](/nicodv) / **[kmodes](/nicodv/kmodes) **

  * [ Notifications ](/login?return_to=%2Fnicodv%2Fkmodes)
  * [ Star ](/login?return_to=%2Fnicodv%2Fkmodes) [ 895 ](/nicodv/kmodes/stargazers)
  * [ Fork ](/login?return_to=%2Fnicodv%2Fkmodes) [ 353 ](/nicodv/kmodes/network/members)

Python implementations of the k-modes and k-prototypes clustering algorithms,
for clustering categorical data

[ MIT License ](/nicodv/kmodes/blob/master/LICENSE)

[ 895 stars ](/nicodv/kmodes/stargazers) [ 353 forks
](/nicodv/kmodes/network/members)

[ Star ](/login?return_to=%2Fnicodv%2Fkmodes)

[ Notifications ](/login?return_to=%2Fnicodv%2Fkmodes)

  * [ Code ](/nicodv/kmodes)
  * [ Issues 18 ](/nicodv/kmodes/issues)
  * [ Pull requests 0 ](/nicodv/kmodes/pulls)
  * [ Actions ](/nicodv/kmodes/actions)
  * [ Security ](/nicodv/kmodes/security)
  * [ Insights ](/nicodv/kmodes/pulse)

More

  * [ Code ](/nicodv/kmodes)
  * [ Issues ](/nicodv/kmodes/issues)
  * [ Pull requests ](/nicodv/kmodes/pulls)
  * [ Actions ](/nicodv/kmodes/actions)
  * [ Security ](/nicodv/kmodes/security)
  * [ Insights ](/nicodv/kmodes/pulse)

master

Switch branches/tags

Branches Tags

Could not load branches

Nothing to show

[ {{ refName }} default ](https://github.com/nicodv/kmodes/tree/{{
urlEncodedRefName }}) [View all branches](/nicodv/kmodes/branches)

Could not load tags

Nothing to show

[ {{ refName }} default ](https://github.com/nicodv/kmodes/tree/{{
urlEncodedRefName }})

[View all tags](/nicodv/kmodes/tags)

[ **1** branch ](/nicodv/kmodes/branches) [ **12** tags ](/nicodv/kmodes/tags)

[ Go to file ](/nicodv/kmodes/find/master) Code

  * [ ](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone

HTTPS  GitHub CLI

Use Git or checkout with SVN using the web URL.

Work fast with our official CLI. [Learn more](https://cli.github.com).

  * [ Open with GitHub Desktop ](https://desktop.github.com)
  * [ Download ZIP ](/nicodv/kmodes/archive/refs/heads/master.zip)

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching Xcode

If nothing happens, [download Xcode](https://developer.apple.com/xcode/) and
try again.

Go back

#### Launching Visual Studio Code

Your codespace will open once ready.

There was a problem preparing your codespace, please try again.

## Latest commit

[ ![@nicodv](https://avatars.githubusercontent.com/u/3716227?s=48&v=4)
](/nicodv)

[nicodv](/nicodv/kmodes/commits?author=nicodv "View all commits by nicodv")
[Drop support for missing values, following
sklearn](/nicodv/kmodes/commit/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f "Drop
support for missing values, following sklearn")

…

[ a20f6ed ](/nicodv/kmodes/commit/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f) [
6 days ago ](/nicodv/kmodes/commit/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f)

[Drop support for missing values, following
sklearn](/nicodv/kmodes/commit/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f)

`a20f6ed`

## Git stats

  * [ **467** commits  ](/nicodv/kmodes/commits/master)

## Files

[Permalink](/nicodv/kmodes/tree/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f)

Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

[.github/ISSUE_TEMPLATE](/nicodv/kmodes/tree/master/.github/ISSUE_TEMPLATE
"This path skips through empty directories")

[Update issue
templates](/nicodv/kmodes/commit/34baa8f2a90cb834f7f5b24625910a017d1155a6
"Update issue templates")

2 years ago

[examples](/nicodv/kmodes/tree/master/examples "examples")

[cleaner code](/nicodv/kmodes/commit/7846021c003538fb20e8033849e118472b4da865
"cleaner code")

3 years ago

[kmodes](/nicodv/kmodes/tree/master/kmodes "kmodes")

[Update
kprototypes.py](/nicodv/kmodes/commit/61d9b16d265107602297d910d0718eba429f24ce
"Update kprototypes.py")

6 days ago

[.coveragerc](/nicodv/kmodes/blob/master/.coveragerc ".coveragerc")

[omit tests from
coverage](/nicodv/kmodes/commit/24b318f03f4f989700d2364f50a53a34b4ccf8ea "omit
tests from coverage")

5 years ago

[.gitignore](/nicodv/kmodes/blob/master/.gitignore ".gitignore")

[package cleanup; install scipy before
sklearn](/nicodv/kmodes/commit/a8e5c54ad8a1d5f2248982addaa1a5ad0b38e615
"package cleanup; install scipy before sklearn")

6 years ago

[.prospector.yaml](/nicodv/kmodes/blob/master/.prospector.yaml
".prospector.yaml")

[Update
.prospector.yaml](/nicodv/kmodes/commit/28ea5c8f799ee2ce98fa59d5ff82c1863cddc15c
"Update .prospector.yaml")

2 years ago

[.travis.yml](/nicodv/kmodes/blob/master/.travis.yml ".travis.yml")

[Merge pull
request](/nicodv/kmodes/commit/69689e244f5123c83220b865cbe7d2119822ba81 "Merge
pull request #152 from nicodv/sklearn-upgrade

Minimum sklearn version upgrade to 0.22")
[#152](https://github.com/nicodv/kmodes/pull/152) [from nicodv/sklearn-
upgrade](/nicodv/kmodes/commit/69689e244f5123c83220b865cbe7d2119822ba81 "Merge
pull request #152 from nicodv/sklearn-upgrade

Minimum sklearn version upgrade to 0.22")

7 months ago

[LICENSE](/nicodv/kmodes/blob/master/LICENSE "LICENSE")

[Update
LICENSE](/nicodv/kmodes/commit/266f08e0a99b0065ac39f48dcc480377a00e305e
"Update LICENSE")

6 years ago

[README.rst](/nicodv/kmodes/blob/master/README.rst "README.rst")

[Drop support for missing values, following
sklearn](/nicodv/kmodes/commit/a20f6ed6567f4c0d5c5c9ad70ca86a6b77ab522f "Drop
support for missing values, following sklearn")

6 days ago

[setup.py](/nicodv/kmodes/blob/master/setup.py "setup.py")

[add test requirements to extras_require in
setup.py](/nicodv/kmodes/commit/cbb64fd7e9521e2ffdeba527cce7c80aa2002df4 "add
test requirements to extras_require in setup.py")

7 months ago

View code

kmodes Description Installation Usage Parallel execution FAQ References

##  README.rst

[![Version](https://camo.githubusercontent.com/aeaab15fb31d1639c1a767115845b7ded915edb89601aa00cdb2833b2cd95d3d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6b6d6f6465732e737667)
](https://pypi.python.org/pypi/kmodes/) [![Test
Status](https://camo.githubusercontent.com/5d768173d0d764ef1f9913541155ef649deeef2b4b90333c39c1435e52f8fa02/68747470733a2f2f7472617669732d63692e6f72672f6e69636f64762f6b6d6f6465732e7376673f6272616e63683d6d6173746572)](https://travis-
ci.org/nicodv/kmodes) [![Test
Coverage](https://camo.githubusercontent.com/fa8a779fd4fcb8719147970b33e2acb5028663e4011ee495553a65ef7ea5b952/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6e69636f64762f6b6d6f6465732f62616467652e737667)
](https://coveralls.io/r/nicodv/kmodes) [![Codacy
Badge](https://camo.githubusercontent.com/f8b27267589802231aaf92cedcc80cfeeaed72774afdfd035522d296b18ed09f/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f6362313966316631303933613434666138343565626664616637363937356636)](https://app.codacy.com/app/nicodv/kmodes?utm_source=github.com&utm_medium=referral&utm_content=nicodv/kmodes&utm_campaign=Badge_Grade_Dashboard)
[![Requirements
Status](https://camo.githubusercontent.com/2ea0375d3721e86e48ba6aed64882129e4903017a796d6c95838da66b295b7e0/68747470733a2f2f72657175697265732e696f2f6769746875622f6e69636f64762f6b6d6f6465732f726571756972656d656e74732e737667)
](https://requires.io/github/nicodv/kmodes/requirements/) [![Supported Python
versions](https://camo.githubusercontent.com/1840b9cfa33a0400b34ff699398f8daf167825e44b766774e75d426ecddb9758/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6b6d6f6465732e737667)
](https://pypi.python.org/pypi/kmodes/) [![Github
stars](https://camo.githubusercontent.com/16f406e81ba62f9dd3173dc1e3832c9cef27af93851c543eb5f3eb269e43d304/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f6e69636f64762f6b6d6f6465732e737667)
](https://github.com/nicodv/kmodes/)
[![License](https://camo.githubusercontent.com/1faa604d2b25360e644b197d35d892882381df8e20416551fa65df877ad7bc87/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6b6d6f6465732e737667)
](https://github.com/nicodv/kmodes/blob/master/LICENSE)

## kmodes

### Description

Python implementations of the k-modes and k-prototypes clustering algorithms.
Relies on numpy for a lot of the heavy lifting.

k-modes is used for clustering categorical variables. It defines clusters
based on the number of matching categories between data points. (This is in
contrast to the more well-known k-means algorithm, which clusters numerical
data based on Euclidean distance.) The k-prototypes algorithm combines k-modes
and k-means and is able to cluster mixed numerical / categorical data.

Implemented are:

  * k-modes [HUANG97] [HUANG98]
  * k-modes with initialization based on density [CAO09]
  * k-prototypes [HUANG97]

The code is modeled after the clustering algorithms in `scikit-learn` and has
the same familiar interface.

I would love to have more people play around with this and give me feedback on
my implementation. If you come across any issues in running or installing
kmodes, [please submit a bug report](https://github.com/nicodv/kmodes/issues).

Enjoy!

### Installation

kmodes can be installed using pip:

    
    
    pip install kmodes

To upgrade to the latest version (recommended), run it like this:

    
    
    pip install --upgrade kmodes

Alternatively, you can build the latest development version from source:

    
    
    git clone https://github.com/nicodv/kmodes.git
    cd kmodes
    python setup.py install

### Usage

    
    
    import numpy as np
    from kmodes.kmodes import KModes
    
    # random categorical data
    data = np.random.choice(20, (100, 10))
    
    km = KModes(n_clusters=4, init='Huang', n_init=5, verbose=1)
    
    clusters = km.fit_predict(data)
    
    # Print the cluster centroids
    print(km.cluster_centroids_)

The examples directory showcases simple use cases of both k-modes
('soybean.py') and k-prototypes ('stocks.py').

### Parallel execution

The k-modes and k-prototypes implementations both offer support for
multiprocessing via the [joblib
library](https://pythonhosted.org/joblib/generated/joblib.Parallel.html),
similar to e.g. scikit-learn's implementation of k-means, using the `n_jobs`
parameter. It generally does not make sense to set more jobs than there are
processor cores available on your system.

This potentially speeds up any execution with more than one initialization
try, `n_init > 1`, which may be helpful to reduce the execution time for
larger problems. Note that it depends on your problem whether multiprocessing
actually helps, so be sure to try that out first. You can check out the
examples for some benchmarks.

### FAQ

**Q: I'm seeing errors such as "TypeError: ' <' not supported between
instances of 'str' and 'float'" when using the kprototypes algorithm.**

A: One or more of your numerical feature columns have string values in them.
Make sure that all columns have consistent data types.

* * *

**Q: How does k-protypes know which of my features are numerical and which are
categorical?**

A: You tell it which column indices are categorical using the `categorical`
argument. All others are assumed numerical. E.g., `clusters =
KPrototypes().fit_predict(X, categorical=[1, 2])`

* * *

**Q: I'm getting the following error, what gives? "ModuleNotFoundError: No
module named 'kmodes.kmodes'; 'kmodes' is not a package".**

A: Make sure your working file is not called 'kmodes.py', because it might
overrule the `kmodes` package.

* * *

**Q: I'm getting the following error: "ValueError: Clustering algorithm could
not initialize. Consider assigning the initial clusters manually."**

A: This is a feature, not a bug. `kmodes` is telling you that it can't make
sense of the data you are presenting it. At least, not with the parameters you
are setting the algorithm with. It is up to you, the data scientist, to figure
out why. Some hints to possible solutions:

  * Run with fewer clusters as the data might not support a large number of clusters
  * Explore and visualize your data, checking for weird distributions, outliers, etc.
  * Clean and normalize the data
  * Increase the ratio of rows to columns

* * *

**Q: I'm getting the following error: "ValueError: Input contains NaN,
infinity, or a value too large for dtype('float64')."**

A: Following scikit-learn, the k-modes algorithm does not accept `np.NaN`
values in the `X` matrix. Users are suggested to fill in the missing data in a
way that makes sense for the problem at hand.

* * *

**Q: How would like your library to be cited?**

A: Something along these lines would do nicely:

    
    
    @Misc{devos2015,
      author = {Nelis J. de Vos},
      title = {kmodes categorical clustering library},
      howpublished = {\url{https://github.com/nicodv/kmodes}},
      year = {2015--2021}
    }
    

### References

[HUANG97]|  _(1, 2)_ Huang, Z.: Clustering large data sets with mixed numeric
and categorical values, Proceedings of the First Pacific Asia Knowledge
Discovery and Data Mining Conference, Singapore, pp. 21-34, 1997.  
---|---  
[HUANG98]| Huang, Z.: Extensions to the k-modes algorithm for clustering large
data sets with categorical values, Data Mining and Knowledge Discovery 2(3),
pp. 283-304, 1998.  
---|---  
[CAO09]| Cao, F., Liang, J, Bai, L.: A new initialization method for
categorical data clustering, Expert Systems with Applications 36(7), pp.
10223-10228., 2009.  
---|---  
  
## About

Python implementations of the k-modes and k-prototypes clustering algorithms,
for clustering categorical data

### Topics

[ python ](/topics/python "Topic: python") [ scikit-learn ](/topics/scikit-
learn "Topic: scikit-learn") [ clustering-algorithm ](/topics/clustering-
algorithm "Topic: clustering-algorithm") [ k-modes ](/topics/k-modes "Topic:
k-modes") [ k-prototypes ](/topics/k-prototypes "Topic: k-prototypes")

### Resources

Readme

### License

[ MIT License ](/nicodv/kmodes/blob/master/LICENSE)

##  [ Releases 12 ](/nicodv/kmodes/releases)

[ 0.11.0 Latest  on 13 Feb ](/nicodv/kmodes/releases/tag/0.11.0)

[ \+ 11 releases ](/nicodv/kmodes/releases)

##  [ Packages 0 ](/users/nicodv/packages?repo_name=kmodes)

No packages published  

##  [ Used by 727
](/nicodv/kmodes/network/dependents?package_id=UGFja2FnZS01MjI1MTgwNQ%3D%3D)

[

  * ![@dimasuwandi](https://avatars.githubusercontent.com/u/40557813?s=88&v=4)
  * ![@akane179](https://avatars.githubusercontent.com/u/80884417?s=88&v=4)
  * ![@assigneddikshya](https://avatars.githubusercontent.com/u/85833601?s=88&v=4)
  * ![@akane179](https://avatars.githubusercontent.com/u/80884417?s=88&v=4)
  * ![@prashantcurio](https://avatars.githubusercontent.com/u/87108628?s=88&v=4)
  * ![@DonErnesto](https://avatars.githubusercontent.com/u/16270519?s=88&u=c6efe22f4344f6bdc03e5f3064bbd9630f44e99b&v=4)
  * ![@giorgiaiacobellis](https://avatars.githubusercontent.com/u/61466883?s=88&u=3e39fe00152d891fde67f5c0aa9c12851b1aea9f&v=4)
  * ![@terier99](https://avatars.githubusercontent.com/u/86952356?s=88&v=4)

\+ 719
](/nicodv/kmodes/network/dependents?package_id=UGFja2FnZS01MjI1MTgwNQ%3D%3D)

##  [ Contributors 12 ](/nicodv/kmodes/graphs/contributors)

  * [ ![@nicodv](https://avatars.githubusercontent.com/u/3716227?v=4) ](https://github.com/nicodv)
  * [ ![@BikashPandey17](https://avatars.githubusercontent.com/u/25474667?v=4) ](https://github.com/BikashPandey17)
  * [ ![@rphes](https://avatars.githubusercontent.com/u/2222331?v=4) ](https://github.com/rphes)
  * [ ![@daffidwilde](https://avatars.githubusercontent.com/u/26261131?v=4) ](https://github.com/daffidwilde)
  * [ ![@benandow](https://avatars.githubusercontent.com/u/3586945?v=4) ](https://github.com/benandow)
  * [ ![@Genie-Liu](https://avatars.githubusercontent.com/u/34557281?v=4) ](https://github.com/Genie-Liu)
  * [ ![@larroy](https://avatars.githubusercontent.com/u/928489?v=4) ](https://github.com/larroy)
  * [ ![@nilkeshpatra](https://avatars.githubusercontent.com/u/42218010?v=4) ](https://github.com/nilkeshpatra)
  * [ ![@harry-b-harish](https://avatars.githubusercontent.com/u/43300971?v=4) ](https://github.com/harry-b-harish)
  * [ ![@NuclearFishin](https://avatars.githubusercontent.com/u/4617728?v=4) ](https://github.com/NuclearFishin)
  * [ ![@trevorstephens](https://avatars.githubusercontent.com/u/5210848?v=4) ](https://github.com/trevorstephens)
  * [ ![@enfeizhan](https://avatars.githubusercontent.com/u/8487127?v=4) ](https://github.com/enfeizhan)

## Languages

  * [ Python 100.0% ](/nicodv/kmodes/search?l=python)

  * © 2021 GitHub, Inc.
  * [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
  * [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com)

[ ](https://github.com "GitHub")

  * [Contact GitHub](https://support.github.com)
  * [Pricing](https://github.com/pricing)
  * [API](https://docs.github.com)
  * [Training](https://services.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. [Reload]() to refresh your session.
You signed out in another tab or window. [Reload]() to refresh your session.

