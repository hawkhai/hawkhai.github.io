<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" dir="ltr"><head><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
    
    
    
    
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com" />
    <meta name="google-signin-scope" content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award" />
    <meta property="og:site_name" content="Android Developers" />
    <meta property="og:type" content="website" />
    

    
      <meta name="theme-color" content="#3ddc84" />
    

    <meta charset="utf-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="/_pwa/android/manifest.json" crossorigin="use-credentials" />
    <link rel="preconnect" href="//www.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin="" />
    <link rel="preconnect" href="//apis.google.com" crossorigin="" />
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin="" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons" />
      
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/css/app.css" />
    

    <noscript>
      
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/favicon.png" />
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/touchicon-180.png" /><link rel="canonical" href="https://developer.android.com/studio/releases?hl=zh-cn" /><link rel="search" type="application/opensearchdescription+xml" title="Android Developers" href="https://developer.android.com/s/opensearch.xml" />
      

<title>Android Studio 版本说明  |  Android 开发者  |  Android Developers</title>

<meta property="og:title" content="Android Studio 版本说明  |  Android 开发者  |  Android Developers" />

  <meta name="description" content="了解最新版 Android Studio（适用于 Android 的官方 IDE）的新功能。" />
  <meta property="og:description" content="了解最新版 Android Studio（适用于 Android 的官方 IDE）的新功能。" />





  <meta property="og:url" content="https://developer.android.com/studio/releases?hl=zh-cn" />



  <meta property="og:image" content="https://developer.android.com/images/social/android-developers.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="675" />


  <meta property="og:locale" content="zh_cn" />


  <meta name="twitter:card" content="summary_large_image" />













  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    
    
    
    
  

    <script type="text/javascript" async="" src="https://www.google-analytics.com/plugins/ua/linkid.js" nonce=""></script><script type="text/javascript" id="www-widgetapi-script" src="https://www.youtube.com/s/player/4bc55fd6/www-widgetapi.vflset/www-widgetapi.js" async="" nonce=""></script><script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-KMSWPCJ" nonce=""></script><script src="https://www.gstatic.com/external_hosted/polymer/v2/webcomponents-lite.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_app_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_a11y_announce_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_analytics_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_badger_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_book_nav_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_code_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_content_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_expandable_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_footer_linkboxes_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_footer_promos_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_footer_utility_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_header_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_heading_link_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_language_selector_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_page_rating_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_progress_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_search_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_select_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_sitemask_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_snackbar_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_tabs_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_toc_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_tooltip_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_user_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_youtube_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_badge_awarded_module__zh_cn.js" nonce=""></script><script src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/devsite_devsite_spinner_module__zh_cn.js" nonce=""></script><script src="//www.google-analytics.com/analytics.js" nonce=""></script><script src="//www.youtube.com/iframe_api?trustedtypes=1" nonce=""></script><style nonce="" type="text/css"></style></head>
  <body type="article" theme="android-theme" class="" layout="docs" ready="">
    <devsite-progress id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header top-row--height="48" bottom-row--height="108" bottom-tabs--height="48" fixed="" offset="108" bottom-row--hidden="">
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu" class="devsite-header-icon-button button-flat material-icons gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Navigation menu button" aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav" track-name="androidDevelopers" track-metadata-position="nav" track-metadata-eventdetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/lockup.svg" class="devsite-site-logo" alt="Android Developers" />

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs" connected="">

    

  <nav class="devsite-tabs-wrapper" aria-label="Upper tabs">
      
        
          
        
      
        
          <tab active="">
            <a href="https://developer.android.com/studio" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="androidStudio" aria-label="Android Studio, selected" data-category="Site-Wide Custom Events" data-label="Tab: Android Studio">
  Android Studio
</a>

          </tab>
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    <tab overflow-tab=""><a href="#" class="devsite-icon devsite-icon-arrow-drop-down">更多</a><div class="devsite-tabs-overflow-menu" scrollbars="" hidden=""><tab>
            <a href="https://developer.android.com/about" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="平台" data-category="Site-Wide Custom Events" data-label="Tab: 平台">
  平台
</a>

          </tab><tab>
            <a href="https://developer.android.com/distribute" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="googlePlay" data-category="Site-Wide Custom Events" data-label="Tab: Google Play">
  Google Play
</a>

          </tab><tab>
            <a href="https://developer.android.com/jetpack" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="jetpack" data-category="Site-Wide Custom Events" data-label="Tab: Jetpack">
  Jetpack
</a>

          </tab><tab>
            <a href="https://developer.android.com/kotlin" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="kotlin" data-category="Site-Wide Custom Events" data-label="Tab: Kotlin">
  Kotlin
</a>

          </tab><tab>
            <a href="https://developer.android.com/docs" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="文档" data-category="Site-Wide Custom Events" data-label="Tab: 文档">
  文档
</a>

          </tab><tab>
            <a href="https://developer.android.com/news" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="资讯" data-category="Site-Wide Custom Events" data-label="Tab: 资讯">
  资讯
</a>

          </tab></div></tab></nav></devsite-tabs>

            
           </div>
          
<devsite-search aria-expanded="false" aria-haspopup="listbox" enable-signin="" enable-search="" enable-suggestions="" enable-query-completion="" project-name="Android 开发者" tenant-name="Android Developers" role="combobox">
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input aria-activedescendant="" aria-autocomplete="list" aria-label="搜索" aria-haspopup="false" aria-multiline="false" autocomplete="off" class="devsite-search-field devsite-search-query" name="q" placeholder="搜索" type="text" value="" aria-controls="devsite-search-popout-container-id-1" />
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button" search-open="" class="devsite-search-button devsite-header-icon-button button-flat material-icons" aria-label="Open search"></button>
    </div>
  <div class="devsite-popout" id="devsite-search-popout-container-id-1"><div class="devsite-popout-result devsite-suggest-results-container" devsite-hide=""></div></div></form>
  <button type="button" search-close="" class="devsite-search-button devsite-header-icon-button button-flat material-icons" aria-label="Close search"></button>
</devsite-search>

        <div class="devsite-search-background" style="opacity: 1;"></div></div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference." class="devsite-language-selector-select" name="language" track-name="click" track-type="languageSelector">
    
    
      <option value="en" lang="en" track-metadata-original-language="zh_cn" track-metadata-selected-language="en" track-name="changed" track-type="languageSelector">
        English
      </option>
    
      <option value="id" lang="id" track-metadata-original-language="zh_cn" track-metadata-selected-language="id" track-name="changed" track-type="languageSelector">
        Bahasa Indonesia
      </option>
    
      <option value="es_419" lang="es_419" track-metadata-original-language="zh_cn" track-metadata-selected-language="es_419" track-name="changed" track-type="languageSelector">
        Español – América Latina
      </option>
    
      <option value="pt_br" lang="pt_br" track-metadata-original-language="zh_cn" track-metadata-selected-language="pt_br" track-name="changed" track-type="languageSelector">
        Português – Brasil
      </option>
    
      <option value="zh_cn" lang="zh_cn" track-metadata-original-language="zh_cn" track-metadata-selected-language="zh_cn" track-name="changed" track-type="languageSelector" selected="selected">
        中文 – 简体
      </option>
    
      <option value="ja" lang="ja" track-metadata-original-language="zh_cn" track-metadata-selected-language="ja" track-name="changed" track-type="languageSelector">
        日本語
      </option>
    
      <option value="ko" lang="ko" track-metadata-original-language="zh_cn" track-metadata-selected-language="ko" track-name="changed" track-type="languageSelector">
        한국어
      </option>
    
    </select>
  <div class="devsite-select"><label id="devsite-select-16145126364445375-label" style="display:none;" aria-label="Select your language preference.">请选择一个选项</label><button type="button" class="devsite-select-toggle" id="devsite-select-16145126364445375-button" aria-haspopup="true" aria-labelledby="devsite-select-16145126364445375-label devsite-select-16145126364445375-button" aria-controls="devsite-select-16145126364445375-popup">中文 – 简体</button><span class="devsite-icon devsite-icon-arrow-drop-down devsite-select-toggle-icon" aria-hidden="true"></span><ul class="devsite-select-list" id="devsite-select-16145126364445375-popup" tabindex="-1" role="listbox" scrollbars="" aria-labelledby="devsite-select-16145126364445375-button"><li role="option" lang="en" value="en" id="devsite-select-16145126364445375-0" class="devsite-select-item" data-index="0" aria-selected="false" aria-label="English">English</li><li role="option" lang="id" value="id" id="devsite-select-16145126364445375-1" class="devsite-select-item" data-index="1" aria-selected="false" aria-label="Bahasa Indonesia">Bahasa Indonesia</li><li role="option" lang="es_419" value="es_419" id="devsite-select-16145126364445375-2" class="devsite-select-item" data-index="2" aria-selected="false" aria-label="Español – América Latina">Español – América Latina</li><li role="option" lang="pt_br" value="pt_br" id="devsite-select-16145126364445375-3" class="devsite-select-item" data-index="3" aria-selected="false" aria-label="Português – Brasil">Português – Brasil</li><li role="option" lang="zh_cn" value="zh_cn" id="devsite-select-16145126364445375-4" class="devsite-select-item" data-index="4" data-selected="" aria-selected="true" aria-label="中文 – 简体，已选中">中文 – 简体</li><li role="option" lang="ja" value="ja" id="devsite-select-16145126364445375-5" class="devsite-select-item" data-index="5" aria-selected="false" aria-label="日本語">日本語</li><li role="option" lang="ko" value="ko" id="devsite-select-16145126364445375-6" class="devsite-select-item" data-index="6" aria-selected="false" aria-label="한국어">한국어</li></ul></div></devsite-select>
</devsite-language-selector>


        

        
          
          
          <devsite-user enable-profiles="" id="devsite-user" sign-in-url="https://developer.android.com/_d/signin?continue=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Freleases%3Futm_source%3Dandroid-studio%234-0-0-ndk-dir&amp;prompt=select_account" sign-out-url="https://developer.android.com/_d/signout?continue=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Freleases%3Futm_source%3Dandroid-studio%234-0-0-ndk-dir" url="https://developer.android.com/_d/signout?continue=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Freleases%3Futm_source%3Dandroid-studio%234-0-0-ndk-dir"><div class="ogb-wrapper ogb-si"><a href="https://developer.android.com/_d/signin?continue=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Freleases%3Futm_source%3Dandroid-studio%234-0-0-ndk-dir&amp;prompt=select_account" class="devsite-user-signin button devsite-top-button" track-type="globalNav" track-name="signIn" track-metadata-eventdetail="nav" track-metadata-position="nav">
  登录
</a></div></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section&#10;    " style="transform: translate3d(0px, -108px, 0px);">
    <div class="devsite-header-background">
      
        
          <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
              
                
                  
                  
                  <ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
    
    
      
  <a href="https://developer.android.com/studio" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Lower Header" data-value="1" track-type="globalNav" track-name="breadcrumb" track-metadata-position="1" track-metadata-eventdetail="">
    
        Android Studio
      
  </a>
  
    
  </li>
  
</ul>
                
              
              
            </div>
            
          </div>
          
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs" connected="">

    

  <nav class="devsite-tabs-wrapper" aria-label="Lower tabs">
      
        
          <tab>
            <a href="https://developer.android.com/studio" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="下载" data-category="Site-Wide Custom Events" data-label="Tab: 下载">
  下载
</a>

          </tab>
        
      
        
          <tab active="">
            <a href="https://developer.android.com/studio/features" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="新变化" aria-label="新变化, selected" data-category="Site-Wide Custom Events" data-label="Tab: 新变化">
  新变化
</a>

          </tab>
        
      
        
          <tab>
            <a href="https://developer.android.com/studio/intro" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="用户指南" data-category="Site-Wide Custom Events" data-label="Tab: 用户指南">
  用户指南
</a>

          </tab>
        
      
        
          <tab>
            <a href="https://developer.android.com/studio/preview" class="gc-analytics-event " track-type="globalNav" track-metadata-position="nav" track-metadata-eventdetail="nav" track-name="预览" data-category="Site-Wide Custom Events" data-label="Tab: 预览">
  预览
</a>

          </tab>
        
      
    <tab overflow-tab="" hidden=""><a href="#" class="devsite-icon devsite-icon-arrow-drop-down">更多</a><div class="devsite-tabs-overflow-menu" scrollbars="" hidden=""></div></tab></nav></devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <div class="devsite-book-nav-bg" fixed=""></div><devsite-book-nav scrollbars="" animatable="" fixed="" style="top: 156px; max-height: 841px; transform: translate3d(0px, -108px, 0px);">
        
          
























<nav class="devsite-book-nav devsite-nav nocontent" aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button" id="devsite-close-nav" class="devsite-header-icon-button button-flat material-icons gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Close navigation" aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav" track-name="androidDevelopers" track-metadata-position="nav" track-metadata-eventdetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/lockup.svg" class="devsite-site-logo" alt="Android Developers" />

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/about" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 平台" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="平台">
  
    <span class="devsite-nav-text" tooltip="">
      平台
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/studio" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: Android Studio" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="androidStudio">
  
    <span class="devsite-nav-text" tooltip="">
      Android Studio
   </span>
    
  
  </a>
  

  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/studio" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 下载" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="下载">
  
    <span class="devsite-nav-text" tooltip="">
      下载
   </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/studio/features" class="devsite-nav-title gc-analytics-event devsite-nav-has-children" data-category="Site-Wide Custom Events" data-label="Responsive Tab: 新变化" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="新变化">
  
    <span class="devsite-nav-text" tooltip="" menu="_book">
      新变化
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward" menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/studio/intro" class="devsite-nav-title gc-analytics-event&#10;              devsite-nav-has-children&#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 用户指南" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="用户指南">
  
    <span class="devsite-nav-text" tooltip="">
      用户指南
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/studio/preview" class="devsite-nav-title gc-analytics-event&#10;              devsite-nav-has-children&#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 预览" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="预览">
  
    <span class="devsite-nav-text" tooltip="">
      预览
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/distribute" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Google Play" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="googlePlay">
  
    <span class="devsite-nav-text" tooltip="">
      Google Play
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/jetpack" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Jetpack" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="jetpack">
  
    <span class="devsite-nav-text" tooltip="">
      Jetpack
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/kotlin" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Kotlin" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="kotlin">
  
    <span class="devsite-nav-text" tooltip="">
      Kotlin
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 文档" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="文档">
  
    <span class="devsite-nav-text" tooltip="">
      文档
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/news" class="devsite-nav-title gc-analytics-event&#10;              &#10;              " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 资讯" track-type="globalNav" track-metadata-eventdetail="globalMenu" track-metadata-position="nav" track-name="资讯">
  
    <span class="devsite-nav-text" tooltip="">
      资讯
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom" role="navigation">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/studio/features" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">功能概览</span></a></li>

  <li class="devsite-nav-item&#10;           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip="">版本说明</span></div></li>

  <li class="devsite-nav-item"><a href="/studio/releases" class="devsite-nav-title devsite-nav-active"><span class="devsite-nav-text" tooltip="">Android Studio</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/cmdline-tools" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">SDK 命令行工具</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/emulator" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">Android 模拟器</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/build-tools" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">SDK 构建工具</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/gradle-plugin" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">Android Gradle 插件</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/platforms" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">SDK 平台</span></a></li>

  <li class="devsite-nav-item"><a href="/studio/releases/platform-tools" class="devsite-nav-title"><span class="devsite-nav-text" tooltip="">SDK 平台工具</span></a></li>
          </ul>
        
        
          
    
  
    
  
    
  
    
  
    
  
    
  
    
  
        
        
          
    
  
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper" style="margin-top: 156px;">
        <main role="main" class="devsite-main-content" has-book-nav="" has-toc="">
          <devsite-toc class="devsite-nav devsite-toc" visible="" fixed="" max-height="793" offset="108"><ul class="devsite-nav-list" role="navigation" aria-label="目录" scrollbars="" style="max-height: 793px; transform: translate3d(0px, -108px, 0px);"><li class="devsite-nav-item devsite-nav-heading devsite-toc-toggle" role="heading" aria-level="2"><span class="devsite-nav-title"><span class="devsite-nav-text">目录</span></span></li><li class="devsite-nav-item"><a href="#4-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0" track-type="navigation" track-name="rightNav" track-metadata-position="0" track-metadata-link-destination="#4-1-0"><span class="devsite-nav-text" tooltip="">4.1（2020 年 8 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#android_gradle_plugin_410" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.0" track-type="navigation" track-name="rightNav" track-metadata-position="0.0" track-metadata-link-destination="#android_gradle_plugin_410"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 4.1.0</span></a></li><li class="devsite-nav-item"><a href="#4.1-database-inspector" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.1" track-type="navigation" track-name="rightNav" track-metadata-position="0.1" track-metadata-link-destination="#4.1-database-inspector"><span class="devsite-nav-text" tooltip="">新的 Database Inspector</span></a></li><li class="devsite-nav-item"><a href="#run-emulator-studio" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.2" track-type="navigation" track-name="rightNav" track-metadata-position="0.2" track-metadata-link-destination="#run-emulator-studio"><span class="devsite-nav-text" tooltip="">直接在 Android Studio 中运行 Android 模拟器</span></a></li><li class="devsite-nav-item"><a href="#4.1-tensor-flow-lite-models" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.3" track-type="navigation" track-name="rightNav" track-metadata-position="0.3" track-metadata-link-destination="#4.1-tensor-flow-lite-models"><span class="devsite-nav-text" tooltip="">使用 TensorFlow Lite 模型</span></a></li><li class="devsite-nav-item"><a href="#4.1-native-memory-profiler" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.4" track-type="navigation" track-name="rightNav" track-metadata-position="0.4" track-metadata-link-destination="#4.1-native-memory-profiler"><span class="devsite-nav-text" tooltip="">原生内存性能分析器</span></a></li><li class="devsite-nav-item"><a href="#4.1-ui-upgrades" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.5" track-type="navigation" track-name="rightNav" track-metadata-position="0.5" track-metadata-link-destination="#4.1-ui-upgrades"><span class="devsite-nav-text" tooltip="">System Trace 界面：更简单的选择功能、全新的分析标签页以及更多帧渲染数据</span></a></li><li class="devsite-nav-item"><a href="#standalone-profilers" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.6" track-type="navigation" track-name="rightNav" track-metadata-position="0.6" track-metadata-link-destination="#standalone-profilers"><span class="devsite-nav-text" tooltip="">现在可以使用独立性能剖析器</span></a></li><li class="devsite-nav-item"><a href="#dagger-navigation" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.7" track-type="navigation" track-name="rightNav" track-metadata-position="0.7" track-metadata-link-destination="#dagger-navigation"><span class="devsite-nav-text" tooltip="">Dagger 导航支持</span></a></li><li class="devsite-nav-item"><a href="#mdc-templates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.8" track-type="navigation" track-name="rightNav" track-metadata-position="0.8" track-metadata-link-destination="#mdc-templates"><span class="devsite-nav-text" tooltip="">Material Design 组件：在新项目模板中更新了主题背景和样式</span></a></li><li class="devsite-nav-item"><a href="#4.1-intellij-idea" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.9" track-type="navigation" track-name="rightNav" track-metadata-position="0.9" track-metadata-link-destination="#4.1-intellij-idea"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2020.1</span></a></li><li class="devsite-nav-item"><a href="#directory-configuration-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.10" track-type="navigation" track-name="rightNav" track-metadata-position="0.10" track-metadata-link-destination="#directory-configuration-changes"><span class="devsite-nav-text" tooltip="">IDE 配置目录更改</span></a></li><li class="devsite-nav-item"><a href="#4.1-kotlin" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.11" track-type="navigation" track-name="rightNav" track-metadata-position="0.11" track-metadata-link-destination="#4.1-kotlin"><span class="devsite-nav-text" tooltip="">Kotlin 1.3.72</span></a></li><li class="devsite-nav-item"><a href="#4.1-custom-preview" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.12" track-type="navigation" track-name="rightNav" track-metadata-position="0.12" track-metadata-link-destination="#4.1-custom-preview"><span class="devsite-nav-text" tooltip="">自定义视图预览</span></a></li><li class="devsite-nav-item"><a href="#native-crash-symbolization" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.13" track-type="navigation" track-name="rightNav" track-metadata-position="0.13" track-metadata-link-destination="#native-crash-symbolization"><span class="devsite-nav-text" tooltip="">原生代码崩溃报告的符号化解析</span></a></li><li class="devsite-nav-item"><a href="#4.1-apply-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="0.14" track-type="navigation" track-name="rightNav" track-metadata-position="0.14" track-metadata-link-destination="#4.1-apply-changes"><span class="devsite-nav-text" tooltip="">Apply Changes</span></a></li></ul></li><li class="devsite-nav-item"><a href="#4-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1" track-type="navigation" track-name="rightNav" track-metadata-position="1" track-metadata-link-destination="#4-0-0"><span class="devsite-nav-text" tooltip="">4.0（2020 年 5 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#android_gradle_plugin_400" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.0" track-type="navigation" track-name="rightNav" track-metadata-position="1.0" track-metadata-link-destination="#android_gradle_plugin_400"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 4.0.0</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-kts" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.1" track-type="navigation" track-name="rightNav" track-metadata-position="1.1" track-metadata-link-destination="#4-0-0-kts"><span class="devsite-nav-text" tooltip="">支持 Kotlin DSL 脚本文件</span></a></li><li class="devsite-nav-item"><a href="#cpu-profiler-upgrades" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.2" track-type="navigation" track-name="rightNav" track-metadata-position="1.2" track-metadata-link-destination="#cpu-profiler-upgrades"><span class="devsite-nav-text" tooltip="">CPU 性能剖析器升级</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-design-tools" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.3" track-type="navigation" track-name="rightNav" track-metadata-position="1.3" track-metadata-link-destination="#4-0-0-design-tools"><span class="devsite-nav-text" tooltip="">设计工具</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-smart-code-shrinker-rules" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.4" track-type="navigation" track-name="rightNav" track-metadata-position="1.4" track-metadata-link-destination="#4-0-0-smart-code-shrinker-rules"><span class="devsite-nav-text" tooltip="">针对代码缩减器规则的智能编辑器功能</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-live-templates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.5" track-type="navigation" track-name="rightNav" track-metadata-position="1.5" track-metadata-link-destination="#4-0-0-live-templates"><span class="devsite-nav-text" tooltip="">Kotlin Android 实时模板</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-fragment-wizard" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.6" track-type="navigation" track-name="rightNav" track-metadata-position="1.6" track-metadata-link-destination="#4-0-0-fragment-wizard"><span class="devsite-nav-text" tooltip="">Fragment 向导和新的 Fragment 模板</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-emulator" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.7" track-type="navigation" track-name="rightNav" track-metadata-position="1.7" track-metadata-link-destination="#4-0-0-emulator"><span class="devsite-nav-text" tooltip="">Android 模拟器中的相机支持扩展</span></a></li><li class="devsite-nav-item"><a href="#4.0-clangd-clang-tidy" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.8" track-type="navigation" track-name="rightNav" track-metadata-position="1.8" track-metadata-link-destination="#4.0-clangd-clang-tidy"><span class="devsite-nav-text" tooltip="">C++ 代码编辑器现在提供 clangd</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-ndk-dir" class="devsite-nav-title gc-analytics-event devsite-nav-active" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.9" track-type="navigation" track-name="rightNav" track-metadata-position="1.9" track-metadata-link-destination="#4-0-0-ndk-dir"><span class="devsite-nav-text" tooltip="">local.properties 文件中的 ndk.dir 设置已弃用</span></a></li><li class="devsite-nav-item"><a href="#4.0-idea-2019-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="1.10" track-type="navigation" track-name="rightNav" track-metadata-position="1.10" track-metadata-link-destination="#4.0-idea-2019-3-3"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.3.3</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-6-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2" track-type="navigation" track-name="rightNav" track-metadata-position="2" track-metadata-link-destination="#3-6-0"><span class="devsite-nav-text" tooltip="">3.6（2020 年 2 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#design_tools_2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.0" track-type="navigation" track-name="rightNav" track-metadata-position="2.0" track-metadata-link-destination="#design_tools_2"><span class="devsite-nav-text" tooltip="">设计工具</span></a></li><li class="devsite-nav-item"><a href="#agp-3-6-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.1" track-type="navigation" track-name="rightNav" track-metadata-position="2.1" track-metadata-link-destination="#agp-3-6-0"><span class="devsite-nav-text" tooltip="">Android Gradle 插件的更新</span></a></li><li class="devsite-nav-item"><a href="#3.6-apply-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.2" track-type="navigation" track-name="rightNav" track-metadata-position="2.2" track-metadata-link-destination="#3.6-apply-changes"><span class="devsite-nav-text" tooltip="">Apply Changes</span></a></li><li class="devsite-nav-item"><a href="#aia_refactor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.3" track-type="navigation" track-name="rightNav" track-metadata-position="2.3" track-metadata-link-destination="#aia_refactor"><span class="devsite-nav-text" tooltip="">重构菜单选项以启用免安装应用支持</span></a></li><li class="devsite-nav-item"><a href="#apk_analyzer" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.4" track-type="navigation" track-name="rightNav" track-metadata-position="2.4" track-metadata-link-destination="#apk_analyzer"><span class="devsite-nav-text" tooltip="">在 APK 分析器中对类和方法字节码进行去混淆处理</span></a></li><li class="devsite-nav-item"><a href="#3.6-native-tooling" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.5" track-type="navigation" track-name="rightNav" track-metadata-position="2.5" track-metadata-link-destination="#3.6-native-tooling"><span class="devsite-nav-text" tooltip="">原生工具</span></a></li><li class="devsite-nav-item"><a href="#3.6-kotlin-apk-sources" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.6" track-type="navigation" track-name="rightNav" track-metadata-position="2.6" track-metadata-link-destination="#3.6-kotlin-apk-sources"><span class="devsite-nav-text" tooltip="">附加纯 Kotlin APK 源代码</span></a></li><li class="devsite-nav-item"><a href="#3.6-profiler-memory-leak-detection" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.7" track-type="navigation" track-name="rightNav" track-metadata-position="2.7" track-metadata-link-destination="#3.6-profiler-memory-leak-detection"><span class="devsite-nav-text" tooltip="">Memory Profiler 中的泄漏检测</span></a></li><li class="devsite-nav-item"><a href="#3.6-emulators" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.8" track-type="navigation" track-name="rightNav" track-metadata-position="2.8" track-metadata-link-destination="#3.6-emulators"><span class="devsite-nav-text" tooltip="">模拟器</span></a></li><li class="devsite-nav-item"><a href="#3.6-resumable-downloads" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.9" track-type="navigation" track-name="rightNav" track-metadata-position="2.9" track-metadata-link-destination="#3.6-resumable-downloads"><span class="devsite-nav-text" tooltip="">可恢复的 SDK 下载</span></a></li><li class="devsite-nav-item"><a href="#3.6-win32-deprecated" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.10" track-type="navigation" track-name="rightNav" track-metadata-position="2.10" track-metadata-link-destination="#3.6-win32-deprecated"><span class="devsite-nav-text" tooltip="">Win32 已弃用</span></a></li><li class="devsite-nav-item"><a href="#3.6-gradle-sync" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.11" track-type="navigation" track-name="rightNav" track-metadata-position="2.11" track-metadata-link-destination="#3.6-gradle-sync"><span class="devsite-nav-text" tooltip="">用于优化 Gradle 同步时间的新选项</span></a></li><li class="devsite-nav-item"><a href="#3.6-gradle-offline-ui" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.12" track-type="navigation" track-name="rightNav" track-metadata-position="2.12" track-metadata-link-destination="#3.6-gradle-offline-ui"><span class="devsite-nav-text" tooltip="">用于切换 Gradle 离线模式的新位置</span></a></li><li class="devsite-nav-item"><a href="#3.6-idea-2019-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.13" track-type="navigation" track-name="rightNav" track-metadata-position="2.13" track-metadata-link-destination="#3.6-idea-2019-2"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.2</span></a></li><li class="devsite-nav-item"><a href="#3-6-community-contributors" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="2.14" track-type="navigation" track-name="rightNav" track-metadata-position="2.14" track-metadata-link-destination="#3-6-community-contributors"><span class="devsite-nav-text" tooltip="">社区贡献者</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-5-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3" track-type="navigation" track-name="rightNav" track-metadata-position="3" track-metadata-link-destination="#3-5-0"><span class="devsite-nav-text" tooltip="">3.5（2019 年 8 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#3-5-system-health" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.0" track-type="navigation" track-name="rightNav" track-metadata-position="3.0" track-metadata-link-destination="#3-5-system-health"><span class="devsite-nav-text" tooltip="">Project Marble：系统运行状况</span></a></li><li class="devsite-nav-item"><a href="#3-5-feature-polish" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.1" track-type="navigation" track-name="rightNav" track-metadata-position="3.1" track-metadata-link-destination="#3-5-feature-polish"><span class="devsite-nav-text" tooltip="">Project Marble：功能完善</span></a></li><li class="devsite-nav-item"><a href="#chrome-os-support" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.2" track-type="navigation" track-name="rightNav" track-metadata-position="3.2" track-metadata-link-destination="#chrome-os-support"><span class="devsite-nav-text" tooltip="">支持 Chrome 操作系统</span></a></li><li class="devsite-nav-item"><a href="#conditional-delivery" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.3" track-type="navigation" track-name="rightNav" track-metadata-position="3.3" track-metadata-link-destination="#conditional-delivery"><span class="devsite-nav-text" tooltip="">按条件分发功能模块</span></a></li><li class="devsite-nav-item"><a href="#idea-2019-1" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.4" track-type="navigation" track-name="rightNav" track-metadata-position="3.4" track-metadata-link-destination="#idea-2019-1"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.1</span></a></li><li class="devsite-nav-item"><a href="#3-5-agp-updates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.5" track-type="navigation" track-name="rightNav" track-metadata-position="3.5" track-metadata-link-destination="#3-5-agp-updates"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 3.5.0 更新</span></a></li><li class="devsite-nav-item"><a href="#3-5-community-contributors" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="3.6" track-type="navigation" track-name="rightNav" track-metadata-position="3.6" track-metadata-link-destination="#3-5-community-contributors"><span class="devsite-nav-text" tooltip="">社区贡献者</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-4-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4" track-type="navigation" track-name="rightNav" track-metadata-position="4" track-metadata-link-destination="#3-4-0"><span class="devsite-nav-text" tooltip="">3.4（2019 年 4 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#intellij-3-4" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.0" track-type="navigation" track-name="rightNav" track-metadata-position="4.0" track-metadata-link-destination="#intellij-3-4"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2018.3.4</span></a></li><li class="devsite-nav-item"><a href="#agp-3-4-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.1" track-type="navigation" track-name="rightNav" track-metadata-position="4.1" track-metadata-link-destination="#agp-3-4-0"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 3.4.0 更新</span></a></li><li class="devsite-nav-item"><a href="#psd" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.2" track-type="navigation" track-name="rightNav" track-metadata-position="4.2" track-metadata-link-destination="#psd"><span class="devsite-nav-text" tooltip="">新的 Project Structure 对话框</span></a></li><li class="devsite-nav-item"><a href="#resource-manager" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.3" track-type="navigation" track-name="rightNav" track-metadata-position="4.3" track-metadata-link-destination="#resource-manager"><span class="devsite-nav-text" tooltip="">新的 Resource Manager</span></a></li><li class="devsite-nav-item"><a href="#check-build-id" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.4" track-type="navigation" track-name="rightNav" track-metadata-position="4.4" track-metadata-link-destination="#check-build-id"><span class="devsite-nav-text" tooltip="">在对 APK 进行性能剖析和调试时检查版本号</span></a></li><li class="devsite-nav-item"><a href="#r8-default" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.5" track-type="navigation" track-name="rightNav" track-metadata-position="4.5" track-metadata-link-destination="#r8-default"><span class="devsite-nav-text" tooltip="">R8 默认处于启用状态</span></a></li><li class="devsite-nav-item"><a href="#nav-editor-args" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.6" track-type="navigation" track-name="rightNav" track-metadata-position="4.6" track-metadata-link-destination="#nav-editor-args"><span class="devsite-nav-text" tooltip="">Navigation Editor 现在支持所有参数类型</span></a></li><li class="devsite-nav-item"><a href="#layout-editor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.7" track-type="navigation" track-name="rightNav" track-metadata-position="4.7" track-metadata-link-destination="#layout-editor"><span class="devsite-nav-text" tooltip="">布局编辑器方面的改进</span></a></li><li class="devsite-nav-item"><a href="#import-intention" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="4.8" track-type="navigation" track-name="rightNav" track-metadata-position="4.8" track-metadata-link-destination="#import-intention"><span class="devsite-nav-text" tooltip="">用于快速导入依赖项的新 intent 操作</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-3-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5" track-type="navigation" track-name="rightNav" track-metadata-position="5" track-metadata-link-destination="#3-3-0"><span class="devsite-nav-text" tooltip="">3.3（2019 年 1 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#idea-2018-2-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.0" track-type="navigation" track-name="rightNav" track-metadata-position="5.0" track-metadata-link-destination="#idea-2018-2-2"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2018.2.2</span></a></li><li class="devsite-nav-item"><a href="#gradle-updates-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.1" track-type="navigation" track-name="rightNav" track-metadata-position="5.1" track-metadata-link-destination="#gradle-updates-3-3"><span class="devsite-nav-text" tooltip="">Android Gradle 插件更新</span></a></li><li class="devsite-nav-item"><a href="#nav-editor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.2" track-type="navigation" track-name="rightNav" track-metadata-position="5.2" track-metadata-link-destination="#nav-editor"><span class="devsite-nav-text" tooltip="">Navigation Editor</span></a></li><li class="devsite-nav-item"><a href="#delete-unused" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.3" track-type="navigation" track-name="rightNav" track-metadata-position="5.3" track-metadata-link-destination="#delete-unused"><span class="devsite-nav-text" tooltip="">删除未使用的 Android Studio 目录</span></a></li><li class="devsite-nav-item"><a href="#lint" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.4" track-type="navigation" track-name="rightNav" track-metadata-position="5.4" track-metadata-link-destination="#lint"><span class="devsite-nav-text" tooltip="">Lint 方面的改进</span></a></li><li class="devsite-nav-item"><a href="#new-project" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.5" track-type="navigation" track-name="rightNav" track-metadata-position="5.5" track-metadata-link-destination="#new-project"><span class="devsite-nav-text" tooltip="">“Create New Project”向导</span></a></li><li class="devsite-nav-item"><a href="#profiler-updates-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.6" track-type="navigation" track-name="rightNav" track-metadata-position="5.6" track-metadata-link-destination="#profiler-updates-3-3"><span class="devsite-nav-text" tooltip="">分析器更新</span></a></li><li class="devsite-nav-item"><a href="#automatic-downloading-sdk" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.7" track-type="navigation" track-name="rightNav" track-metadata-position="5.7" track-metadata-link-destination="#automatic-downloading-sdk"><span class="devsite-nav-text" tooltip="">自动下载 SDK 组件</span></a></li><li class="devsite-nav-item"><a href="#clang-tidy-support" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.8" track-type="navigation" track-name="rightNav" track-metadata-position="5.8" track-metadata-link-destination="#clang-tidy-support"><span class="devsite-nav-text" tooltip="">对 Clang-Tidy 的支持</span></a></li><li class="devsite-nav-item"><a href="#cpp-options-removal" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.9" track-type="navigation" track-name="rightNav" track-metadata-position="5.9" track-metadata-link-destination="#cpp-options-removal"><span class="devsite-nav-text" tooltip="">移除了针对 C++ 自定义的选项</span></a></li><li class="devsite-nav-item"><a href="#cmake-3-10-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.10" track-type="navigation" track-name="rightNav" track-metadata-position="5.10" track-metadata-link-destination="#cmake-3-10-2"><span class="devsite-nav-text" tooltip="">CMake 版本 3.10.2</span></a></li><li class="devsite-nav-item"><a href="#cmake-plus" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.11" track-type="navigation" track-name="rightNav" track-metadata-position="5.11" track-metadata-link-destination="#cmake-plus"><span class="devsite-nav-text" tooltip="">用于指定最低 CMake 版本的新“+”语法</span></a></li><li class="devsite-nav-item"><a href="#app-bundles-instant" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.12" track-type="navigation" track-name="rightNav" track-metadata-position="5.12" track-metadata-link-destination="#app-bundles-instant"><span class="devsite-nav-text" tooltip="">Android App Bundle 现在支持免安装应用</span></a></li><li class="devsite-nav-item"><a href="#single-variant" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.13" track-type="navigation" track-name="rightNav" track-metadata-position="5.13" track-metadata-link-destination="#single-variant"><span class="devsite-nav-text" tooltip="">单变体项目同步</span></a></li><li class="devsite-nav-item"><a href="#feedback" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="5.14" track-type="navigation" track-name="rightNav" track-metadata-position="5.14" track-metadata-link-destination="#feedback"><span class="devsite-nav-text" tooltip="">提供快速反馈</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-2-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="6" track-type="navigation" track-name="rightNav" track-metadata-position="6" track-metadata-link-destination="#3-2-0"><span class="devsite-nav-text" tooltip="">3.2（2018 年 9 月）</span></a></li><li class="devsite-nav-item"><a href="#3-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="7" track-type="navigation" track-name="rightNav" track-metadata-position="7" track-metadata-link-destination="#3-1-0"><span class="devsite-nav-text" tooltip="">3.1（2018 年 3 月）</span></a></li><li class="devsite-nav-item"><a href="#3-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="8" track-type="navigation" track-name="rightNav" track-metadata-position="8" track-metadata-link-destination="#3-0-0"><span class="devsite-nav-text" tooltip="">3.0（2017 年 10 月）</span></a></li><li class="devsite-nav-item"><a href="#2-3-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="9" track-type="navigation" track-name="rightNav" track-metadata-position="9" track-metadata-link-destination="#2-3-0"><span class="devsite-nav-text" tooltip="">2.3（2017 年 3 月）</span></a></li><li class="devsite-nav-item"><a href="#2-2-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="10" track-type="navigation" track-name="rightNav" track-metadata-position="10" track-metadata-link-destination="#2-2-0"><span class="devsite-nav-text" tooltip="">2.2（2016 年 9 月）</span></a></li><li class="devsite-nav-item"><a href="#2-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="11" track-type="navigation" track-name="rightNav" track-metadata-position="11" track-metadata-link-destination="#2-1-0"><span class="devsite-nav-text" tooltip="">2.1（2016 年 4 月）</span></a></li><li class="devsite-nav-item"><a href="#2-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="12" track-type="navigation" track-name="rightNav" track-metadata-position="12" track-metadata-link-destination="#2-0-0"><span class="devsite-nav-text" tooltip="">2.0（2016 年 4 月）</span></a></li><li class="devsite-nav-item"><a href="#older-releases" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Right nav" data-value="13" track-type="navigation" track-name="rightNav" track-metadata-position="13" track-metadata-link-destination="#older-releases"><span class="devsite-nav-text" tooltip="">旧版本</span></a></li></ul></devsite-toc>
          <devsite-content>
            
              

















<article class="devsite-article">
  
  
    <div class="devsite-banner devsite-banner-announcement">
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><style>
  .devsite-banner-announcement {
    background: #202124;
    color: white;
    font-weight: 500;
  }
  .devsite-banner-announcement a {
    color: white;
    font-weight: 700;
  }
  .devsite-banner-announcement a:link,
  .devsite-banner-announcement a:visited {
    background: 0;
  }
  .devsite-banner-announcement a:hover,
  .devsite-banner-announcement a:focus {
    text-decoration: none;
  }
  .devsite-banner-announcement .devsite-banner-message-text {
    margin: 0 auto;
  }
</style> Google 致力于为黑人社区推动种族平等。<a href="https://google.com/racialequity" class="gc-analytics-event" data-category="Announcement" data-label="Racial Equity">查看具体举措</a>。

        </div>
      </div>
    </div>
  
  

  <div class="devsite-article-meta" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list" aria-label="Breadcrumb">
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
    
    
      
  <a href="https://developer.android.com/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1" track-type="globalNav" track-name="breadcrumb" track-metadata-position="1" track-metadata-eventdetail="Android 开发者">
    
        Android 开发者
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://developer.android.com/studio" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2" track-type="globalNav" track-name="breadcrumb" track-metadata-position="2" track-metadata-eventdetail="">
    
        Android Studio
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item&#10;             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://developer.android.com/studio/features" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3" track-type="globalNav" track-name="breadcrumb" track-metadata-position="3" track-metadata-eventdetail="">
    
        新变化
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
    <div class="devsite-rating-stars" role="form" tabindex="0" aria-label="给此页面评分"><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="header" role="checkbox" tabindex="0" data-title="文档根本没法用" aria-label="文档根本没用，评分为 1（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="header" role="checkbox" tabindex="0" data-title="文档水平很差" aria-label="文档质量很差，评分为 2（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="header" role="checkbox" tabindex="0" data-title="文档水平一般" aria-label="文档质量一般，评分为 3（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="header" role="checkbox" tabindex="0" data-title="文档不错" aria-label="文档不错，评分为 4（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="header" role="checkbox" tabindex="0" data-title="文档写得很好" aria-label="文档非常好，评分为 5（最高为 5）" aria-checked="false"></div></div></devsite-page-rating>
  
    
  </div>
  
  
    <h1 class="devsite-page-title">Android Studio 版本说明</h1>
  

  <devsite-toc class="devsite-nav devsite-toc-embedded" devsite-toc-embedded="" expandable="" visible=""><ul class="devsite-nav-list" role="navigation" aria-label="目录" scrollbars=""><li class="devsite-nav-item devsite-nav-heading devsite-toc-toggle" role="heading" aria-level="2"><span class="devsite-nav-title"><span class="devsite-nav-text">目录</span></span><button type="button" title="展开/收起内容" class="devsite-nav-show-all button-transparent material-icons"></button></li><li class="devsite-nav-item" visible=""><a href="#4-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0" track-type="navigation" track-name="embeddedNav" track-metadata-position="0" track-metadata-link-destination="#4-1-0"><span class="devsite-nav-text" tooltip="">4.1（2020 年 8 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item" visible=""><a href="#android_gradle_plugin_410" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.0" track-metadata-link-destination="#android_gradle_plugin_410"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 4.1.0</span></a></li><li class="devsite-nav-item" visible=""><a href="#4.1-database-inspector" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.1" track-metadata-link-destination="#4.1-database-inspector"><span class="devsite-nav-text" tooltip="">新的 Database Inspector</span></a></li><li class="devsite-nav-item" visible=""><a href="#run-emulator-studio" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.2" track-metadata-link-destination="#run-emulator-studio"><span class="devsite-nav-text" tooltip="">直接在 Android Studio 中运行 Android 模拟器</span></a></li><li class="devsite-nav-item" visible=""><a href="#4.1-tensor-flow-lite-models" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.3" track-metadata-link-destination="#4.1-tensor-flow-lite-models"><span class="devsite-nav-text" tooltip="">使用 TensorFlow Lite 模型</span></a></li><li class="devsite-nav-item"><a href="#4.1-native-memory-profiler" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.4" track-metadata-link-destination="#4.1-native-memory-profiler"><span class="devsite-nav-text" tooltip="">原生内存性能分析器</span></a></li><li class="devsite-nav-item"><a href="#4.1-ui-upgrades" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.5" track-metadata-link-destination="#4.1-ui-upgrades"><span class="devsite-nav-text" tooltip="">System Trace 界面：更简单的选择功能、全新的分析标签页以及更多帧渲染数据</span></a></li><li class="devsite-nav-item"><a href="#standalone-profilers" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.6" track-metadata-link-destination="#standalone-profilers"><span class="devsite-nav-text" tooltip="">现在可以使用独立性能剖析器</span></a></li><li class="devsite-nav-item"><a href="#dagger-navigation" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.7" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.7" track-metadata-link-destination="#dagger-navigation"><span class="devsite-nav-text" tooltip="">Dagger 导航支持</span></a></li><li class="devsite-nav-item"><a href="#mdc-templates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.8" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.8" track-metadata-link-destination="#mdc-templates"><span class="devsite-nav-text" tooltip="">Material Design 组件：在新项目模板中更新了主题背景和样式</span></a></li><li class="devsite-nav-item"><a href="#4.1-intellij-idea" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.9" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.9" track-metadata-link-destination="#4.1-intellij-idea"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2020.1</span></a></li><li class="devsite-nav-item"><a href="#directory-configuration-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.10" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.10" track-metadata-link-destination="#directory-configuration-changes"><span class="devsite-nav-text" tooltip="">IDE 配置目录更改</span></a></li><li class="devsite-nav-item"><a href="#4.1-kotlin" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.11" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.11" track-metadata-link-destination="#4.1-kotlin"><span class="devsite-nav-text" tooltip="">Kotlin 1.3.72</span></a></li><li class="devsite-nav-item"><a href="#4.1-custom-preview" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.12" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.12" track-metadata-link-destination="#4.1-custom-preview"><span class="devsite-nav-text" tooltip="">自定义视图预览</span></a></li><li class="devsite-nav-item"><a href="#native-crash-symbolization" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.13" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.13" track-metadata-link-destination="#native-crash-symbolization"><span class="devsite-nav-text" tooltip="">原生代码崩溃报告的符号化解析</span></a></li><li class="devsite-nav-item"><a href="#4.1-apply-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="0.14" track-type="navigation" track-name="embeddedNav" track-metadata-position="0.14" track-metadata-link-destination="#4.1-apply-changes"><span class="devsite-nav-text" tooltip="">Apply Changes</span></a></li></ul></li><li class="devsite-nav-item"><a href="#4-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1" track-type="navigation" track-name="embeddedNav" track-metadata-position="1" track-metadata-link-destination="#4-0-0"><span class="devsite-nav-text" tooltip="">4.0（2020 年 5 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#android_gradle_plugin_400" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.0" track-metadata-link-destination="#android_gradle_plugin_400"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 4.0.0</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-kts" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.1" track-metadata-link-destination="#4-0-0-kts"><span class="devsite-nav-text" tooltip="">支持 Kotlin DSL 脚本文件</span></a></li><li class="devsite-nav-item"><a href="#cpu-profiler-upgrades" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.2" track-metadata-link-destination="#cpu-profiler-upgrades"><span class="devsite-nav-text" tooltip="">CPU 性能剖析器升级</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-design-tools" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.3" track-metadata-link-destination="#4-0-0-design-tools"><span class="devsite-nav-text" tooltip="">设计工具</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-smart-code-shrinker-rules" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.4" track-metadata-link-destination="#4-0-0-smart-code-shrinker-rules"><span class="devsite-nav-text" tooltip="">针对代码缩减器规则的智能编辑器功能</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-live-templates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.5" track-metadata-link-destination="#4-0-0-live-templates"><span class="devsite-nav-text" tooltip="">Kotlin Android 实时模板</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-fragment-wizard" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.6" track-metadata-link-destination="#4-0-0-fragment-wizard"><span class="devsite-nav-text" tooltip="">Fragment 向导和新的 Fragment 模板</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-emulator" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.7" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.7" track-metadata-link-destination="#4-0-0-emulator"><span class="devsite-nav-text" tooltip="">Android 模拟器中的相机支持扩展</span></a></li><li class="devsite-nav-item"><a href="#4.0-clangd-clang-tidy" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.8" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.8" track-metadata-link-destination="#4.0-clangd-clang-tidy"><span class="devsite-nav-text" tooltip="">C++ 代码编辑器现在提供 clangd</span></a></li><li class="devsite-nav-item"><a href="#4-0-0-ndk-dir" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.9" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.9" track-metadata-link-destination="#4-0-0-ndk-dir"><span class="devsite-nav-text" tooltip="">local.properties 文件中的 ndk.dir 设置已弃用</span></a></li><li class="devsite-nav-item"><a href="#4.0-idea-2019-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="1.10" track-type="navigation" track-name="embeddedNav" track-metadata-position="1.10" track-metadata-link-destination="#4.0-idea-2019-3-3"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.3.3</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-6-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2" track-type="navigation" track-name="embeddedNav" track-metadata-position="2" track-metadata-link-destination="#3-6-0"><span class="devsite-nav-text" tooltip="">3.6（2020 年 2 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#design_tools_2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.0" track-metadata-link-destination="#design_tools_2"><span class="devsite-nav-text" tooltip="">设计工具</span></a></li><li class="devsite-nav-item"><a href="#agp-3-6-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.1" track-metadata-link-destination="#agp-3-6-0"><span class="devsite-nav-text" tooltip="">Android Gradle 插件的更新</span></a></li><li class="devsite-nav-item"><a href="#3.6-apply-changes" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.2" track-metadata-link-destination="#3.6-apply-changes"><span class="devsite-nav-text" tooltip="">Apply Changes</span></a></li><li class="devsite-nav-item"><a href="#aia_refactor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.3" track-metadata-link-destination="#aia_refactor"><span class="devsite-nav-text" tooltip="">重构菜单选项以启用免安装应用支持</span></a></li><li class="devsite-nav-item"><a href="#apk_analyzer" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.4" track-metadata-link-destination="#apk_analyzer"><span class="devsite-nav-text" tooltip="">在 APK 分析器中对类和方法字节码进行去混淆处理</span></a></li><li class="devsite-nav-item"><a href="#3.6-native-tooling" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.5" track-metadata-link-destination="#3.6-native-tooling"><span class="devsite-nav-text" tooltip="">原生工具</span></a></li><li class="devsite-nav-item"><a href="#3.6-kotlin-apk-sources" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.6" track-metadata-link-destination="#3.6-kotlin-apk-sources"><span class="devsite-nav-text" tooltip="">附加纯 Kotlin APK 源代码</span></a></li><li class="devsite-nav-item"><a href="#3.6-profiler-memory-leak-detection" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.7" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.7" track-metadata-link-destination="#3.6-profiler-memory-leak-detection"><span class="devsite-nav-text" tooltip="">Memory Profiler 中的泄漏检测</span></a></li><li class="devsite-nav-item"><a href="#3.6-emulators" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.8" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.8" track-metadata-link-destination="#3.6-emulators"><span class="devsite-nav-text" tooltip="">模拟器</span></a></li><li class="devsite-nav-item"><a href="#3.6-resumable-downloads" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.9" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.9" track-metadata-link-destination="#3.6-resumable-downloads"><span class="devsite-nav-text" tooltip="">可恢复的 SDK 下载</span></a></li><li class="devsite-nav-item"><a href="#3.6-win32-deprecated" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.10" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.10" track-metadata-link-destination="#3.6-win32-deprecated"><span class="devsite-nav-text" tooltip="">Win32 已弃用</span></a></li><li class="devsite-nav-item"><a href="#3.6-gradle-sync" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.11" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.11" track-metadata-link-destination="#3.6-gradle-sync"><span class="devsite-nav-text" tooltip="">用于优化 Gradle 同步时间的新选项</span></a></li><li class="devsite-nav-item"><a href="#3.6-gradle-offline-ui" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.12" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.12" track-metadata-link-destination="#3.6-gradle-offline-ui"><span class="devsite-nav-text" tooltip="">用于切换 Gradle 离线模式的新位置</span></a></li><li class="devsite-nav-item"><a href="#3.6-idea-2019-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.13" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.13" track-metadata-link-destination="#3.6-idea-2019-2"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.2</span></a></li><li class="devsite-nav-item"><a href="#3-6-community-contributors" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="2.14" track-type="navigation" track-name="embeddedNav" track-metadata-position="2.14" track-metadata-link-destination="#3-6-community-contributors"><span class="devsite-nav-text" tooltip="">社区贡献者</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-5-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3" track-type="navigation" track-name="embeddedNav" track-metadata-position="3" track-metadata-link-destination="#3-5-0"><span class="devsite-nav-text" tooltip="">3.5（2019 年 8 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#3-5-system-health" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.0" track-metadata-link-destination="#3-5-system-health"><span class="devsite-nav-text" tooltip="">Project Marble：系统运行状况</span></a></li><li class="devsite-nav-item"><a href="#3-5-feature-polish" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.1" track-metadata-link-destination="#3-5-feature-polish"><span class="devsite-nav-text" tooltip="">Project Marble：功能完善</span></a></li><li class="devsite-nav-item"><a href="#chrome-os-support" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.2" track-metadata-link-destination="#chrome-os-support"><span class="devsite-nav-text" tooltip="">支持 Chrome 操作系统</span></a></li><li class="devsite-nav-item"><a href="#conditional-delivery" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.3" track-metadata-link-destination="#conditional-delivery"><span class="devsite-nav-text" tooltip="">按条件分发功能模块</span></a></li><li class="devsite-nav-item"><a href="#idea-2019-1" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.4" track-metadata-link-destination="#idea-2019-1"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2019.1</span></a></li><li class="devsite-nav-item"><a href="#3-5-agp-updates" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.5" track-metadata-link-destination="#3-5-agp-updates"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 3.5.0 更新</span></a></li><li class="devsite-nav-item"><a href="#3-5-community-contributors" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="3.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="3.6" track-metadata-link-destination="#3-5-community-contributors"><span class="devsite-nav-text" tooltip="">社区贡献者</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-4-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4" track-type="navigation" track-name="embeddedNav" track-metadata-position="4" track-metadata-link-destination="#3-4-0"><span class="devsite-nav-text" tooltip="">3.4（2019 年 4 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#intellij-3-4" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.0" track-metadata-link-destination="#intellij-3-4"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2018.3.4</span></a></li><li class="devsite-nav-item"><a href="#agp-3-4-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.1" track-metadata-link-destination="#agp-3-4-0"><span class="devsite-nav-text" tooltip="">Android Gradle 插件 3.4.0 更新</span></a></li><li class="devsite-nav-item"><a href="#psd" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.2" track-metadata-link-destination="#psd"><span class="devsite-nav-text" tooltip="">新的 Project Structure 对话框</span></a></li><li class="devsite-nav-item"><a href="#resource-manager" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.3" track-metadata-link-destination="#resource-manager"><span class="devsite-nav-text" tooltip="">新的 Resource Manager</span></a></li><li class="devsite-nav-item"><a href="#check-build-id" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.4" track-metadata-link-destination="#check-build-id"><span class="devsite-nav-text" tooltip="">在对 APK 进行性能剖析和调试时检查版本号</span></a></li><li class="devsite-nav-item"><a href="#r8-default" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.5" track-metadata-link-destination="#r8-default"><span class="devsite-nav-text" tooltip="">R8 默认处于启用状态</span></a></li><li class="devsite-nav-item"><a href="#nav-editor-args" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.6" track-metadata-link-destination="#nav-editor-args"><span class="devsite-nav-text" tooltip="">Navigation Editor 现在支持所有参数类型</span></a></li><li class="devsite-nav-item"><a href="#layout-editor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.7" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.7" track-metadata-link-destination="#layout-editor"><span class="devsite-nav-text" tooltip="">布局编辑器方面的改进</span></a></li><li class="devsite-nav-item"><a href="#import-intention" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="4.8" track-type="navigation" track-name="embeddedNav" track-metadata-position="4.8" track-metadata-link-destination="#import-intention"><span class="devsite-nav-text" tooltip="">用于快速导入依赖项的新 intent 操作</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-3-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5" track-type="navigation" track-name="embeddedNav" track-metadata-position="5" track-metadata-link-destination="#3-3-0"><span class="devsite-nav-text" tooltip="">3.3（2019 年 1 月）</span></a><ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="#idea-2018-2-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.0" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.0" track-metadata-link-destination="#idea-2018-2-2"><span class="devsite-nav-text" tooltip="">IntelliJ IDEA 2018.2.2</span></a></li><li class="devsite-nav-item"><a href="#gradle-updates-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.1" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.1" track-metadata-link-destination="#gradle-updates-3-3"><span class="devsite-nav-text" tooltip="">Android Gradle 插件更新</span></a></li><li class="devsite-nav-item"><a href="#nav-editor" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.2" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.2" track-metadata-link-destination="#nav-editor"><span class="devsite-nav-text" tooltip="">Navigation Editor</span></a></li><li class="devsite-nav-item"><a href="#delete-unused" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.3" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.3" track-metadata-link-destination="#delete-unused"><span class="devsite-nav-text" tooltip="">删除未使用的 Android Studio 目录</span></a></li><li class="devsite-nav-item"><a href="#lint" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.4" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.4" track-metadata-link-destination="#lint"><span class="devsite-nav-text" tooltip="">Lint 方面的改进</span></a></li><li class="devsite-nav-item"><a href="#new-project" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.5" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.5" track-metadata-link-destination="#new-project"><span class="devsite-nav-text" tooltip="">“Create New Project”向导</span></a></li><li class="devsite-nav-item"><a href="#profiler-updates-3-3" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.6" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.6" track-metadata-link-destination="#profiler-updates-3-3"><span class="devsite-nav-text" tooltip="">分析器更新</span></a></li><li class="devsite-nav-item"><a href="#automatic-downloading-sdk" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.7" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.7" track-metadata-link-destination="#automatic-downloading-sdk"><span class="devsite-nav-text" tooltip="">自动下载 SDK 组件</span></a></li><li class="devsite-nav-item"><a href="#clang-tidy-support" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.8" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.8" track-metadata-link-destination="#clang-tidy-support"><span class="devsite-nav-text" tooltip="">对 Clang-Tidy 的支持</span></a></li><li class="devsite-nav-item"><a href="#cpp-options-removal" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.9" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.9" track-metadata-link-destination="#cpp-options-removal"><span class="devsite-nav-text" tooltip="">移除了针对 C++ 自定义的选项</span></a></li><li class="devsite-nav-item"><a href="#cmake-3-10-2" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.10" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.10" track-metadata-link-destination="#cmake-3-10-2"><span class="devsite-nav-text" tooltip="">CMake 版本 3.10.2</span></a></li><li class="devsite-nav-item"><a href="#cmake-plus" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.11" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.11" track-metadata-link-destination="#cmake-plus"><span class="devsite-nav-text" tooltip="">用于指定最低 CMake 版本的新“+”语法</span></a></li><li class="devsite-nav-item"><a href="#app-bundles-instant" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.12" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.12" track-metadata-link-destination="#app-bundles-instant"><span class="devsite-nav-text" tooltip="">Android App Bundle 现在支持免安装应用</span></a></li><li class="devsite-nav-item"><a href="#single-variant" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.13" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.13" track-metadata-link-destination="#single-variant"><span class="devsite-nav-text" tooltip="">单变体项目同步</span></a></li><li class="devsite-nav-item"><a href="#feedback" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="5.14" track-type="navigation" track-name="embeddedNav" track-metadata-position="5.14" track-metadata-link-destination="#feedback"><span class="devsite-nav-text" tooltip="">提供快速反馈</span></a></li></ul></li><li class="devsite-nav-item"><a href="#3-2-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="6" track-type="navigation" track-name="embeddedNav" track-metadata-position="6" track-metadata-link-destination="#3-2-0"><span class="devsite-nav-text" tooltip="">3.2（2018 年 9 月）</span></a></li><li class="devsite-nav-item"><a href="#3-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="7" track-type="navigation" track-name="embeddedNav" track-metadata-position="7" track-metadata-link-destination="#3-1-0"><span class="devsite-nav-text" tooltip="">3.1（2018 年 3 月）</span></a></li><li class="devsite-nav-item"><a href="#3-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="8" track-type="navigation" track-name="embeddedNav" track-metadata-position="8" track-metadata-link-destination="#3-0-0"><span class="devsite-nav-text" tooltip="">3.0（2017 年 10 月）</span></a></li><li class="devsite-nav-item"><a href="#2-3-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="9" track-type="navigation" track-name="embeddedNav" track-metadata-position="9" track-metadata-link-destination="#2-3-0"><span class="devsite-nav-text" tooltip="">2.3（2017 年 3 月）</span></a></li><li class="devsite-nav-item"><a href="#2-2-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="10" track-type="navigation" track-name="embeddedNav" track-metadata-position="10" track-metadata-link-destination="#2-2-0"><span class="devsite-nav-text" tooltip="">2.2（2016 年 9 月）</span></a></li><li class="devsite-nav-item"><a href="#2-1-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="11" track-type="navigation" track-name="embeddedNav" track-metadata-position="11" track-metadata-link-destination="#2-1-0"><span class="devsite-nav-text" tooltip="">2.1（2016 年 4 月）</span></a></li><li class="devsite-nav-item"><a href="#2-0-0" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="12" track-type="navigation" track-name="embeddedNav" track-metadata-position="12" track-metadata-link-destination="#2-0-0"><span class="devsite-nav-text" tooltip="">2.0（2016 年 4 月）</span></a></li><li class="devsite-nav-item"><a href="#older-releases" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="Embedded nav" data-value="13" track-type="navigation" track-name="embeddedNav" track-metadata-position="13" track-metadata-link-destination="#older-releases"><span class="devsite-nav-text" tooltip="">旧版本</span></a></li><li class="devsite-toc-toggle"><button type="button" class="button-flat devsite-nav-more-items material-icons" track-type="navigation" track-name="embeddedNavExpand" title="展开/收起内容" aria-hidden="true"></button></li></ul></devsite-toc>

  <div class="devsite-article-body clearfix&#10;    ">

    
      

<p>Android Studio 是开发 Android 应用的官方 IDE，包含构建 Android 应用所需的所有功能。</p>

<p>如需获取最新版本，请依次点击 <strong>Help &gt; Check for updates</strong>（在 macOS 上，依次点击 <strong>Android Studio &gt; Check for updates</strong>）。</p>

<p>您也可以<a href="/studio">在此处下载 Android Studio</a>。</p>

<p>如果您在 Android Studio 中遇到问题，请查看<a href="/studio/known-issues">已知问题</a>或<a href="/studio/troubleshoot">问题排查</a>页面。</p>

<p>如需了解与其发布版本有关的最新资讯（包括每个预览版中的重要修正的列表），请参阅<a href="https://androidstudio.googleblog.com/">版本更新</a>。</p>

<p>如需了解 Android Plugin for Gradle 的新变化，请参阅其<a href="/studio/releases/gradle-plugin">版本说明</a>。</p>

<h2 id="4-1-0" data-text="4.1（2020 年 8 月）">4.1（2020 年 8 月）</h2>

<p>Android Studio 4.1 是一个主要版本，包含各种新功能和改进。</p>

<div>
  <devsite-youtube autohide="1" showinfo="0" video-id="Yhbr6u7f3ME" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What's new in Android Studio 4.1. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/Yhbr6u7f3ME?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=Yhbr6u7f3ME&amp;enablejsapi=1&amp;widgetid=1" id="widget2" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<h3 id="android_gradle_plugin_410" data-text="Android Gradle 插件 4.1.0">Android Gradle 插件 4.1.0</h3>

<p>最新版本的 Android Gradle 插件包含许多更新。如需了解详情，请阅读<a href="/studio/releases/gradle-plugin#4-1-0">完整的 Android Gradle 插件版本说明</a>。</p>

<h3 id="4.1-database-inspector" data-text="新的 Database Inspector">新的 Database Inspector</h3>

<p>使用新的 <strong>Database Inspector</strong> 可以检查、查询和修改正在运行的应用中的数据库。如需开始使用，请将您的应用部署到搭载 API 级别 26 或更高级别的设备中，然后从菜单栏中依次选择 <strong>View &gt; Tool Windows &gt; Database Inspector</strong>。</p>

<p><img src="/studio/images/inspect/database-inspector.gif" alt="" /></p>

<p>如需了解详情，请参阅<a href="/studio/inspect/database">使用 Database Inspector 调试数据库</a>。</p>

<h3 id="run-emulator-studio" data-text="直接在 Android Studio 中运行 Android 模拟器">直接在 Android Studio 中运行 Android 模拟器</h3>

<p>现在，您可以直接在 Android Studio 中运行 Android 模拟器。使用此功能可节省屏幕空间、可利用热键在模拟器窗口和编辑器窗口之间快速导航，并可在一个应用窗口中集中管理 IDE 和模拟器工作流。</p>

<p><img src="/studio/images/releases/emulator-tool-window.gif" alt="在 Android Studio 的工具窗口中启动的模拟器。" /></p>

<p>如需了解详情，请参阅 <a href="/studio/run/emulator#run-emulator-studio">Android 模拟器文档</a>。</p>

<h3 id="4.1-tensor-flow-lite-models" data-text="使用 TensorFlow Lite 模型">使用 TensorFlow Lite 模型</h3>

<p>借助机器学习模型绑定，您可以轻松地直接导入 <code translate="no" dir="ltr">.tflite</code> 模型文件并在项目中使用这些模型文件。Android Studio 会生成易于使用的类，这样您就可以使用更少的代码运行模型并获得更佳的类型安全。</p>

<h4 id="supported_models" data-text="支持的模型">支持的模型</h4>

<p>机器学习模型绑定的当前实现支持图像分类和风格迁移模型，前提是这些模型通过元数据得到了增强。随着时间的推移，支持范围将扩展到其他问题领域，例如对象检测、图像分割和文本分类。</p>

<p><a href="https://tfhub.dev/android-studio/collections/ml-model-binding/1">TensorFlow Hub</a> 上提供了丰富的包含元数据的预训练模型。您还可以自己向 TensorFlow Lite 模型添加元数据，如<a href="https://www.tensorflow.org/lite/convert/metadata">向 TensorFlow Lite 模型添加元数据</a>中所述。</p>

<h4 id="import_a_model_file" data-text="导入模型文件">导入模型文件</h4>

<p>如需导入支持的模型文件，请按以下步骤操作：</p>

<ol>
<li>在“File”菜单中，依次选择 <strong>File &gt; New &gt; Other &gt; TensorFlow Lite Model</strong>，打开 TensorFlow Lite 模型导入对话框。</li>
<li>选择您之前下载或创建的 <code translate="no" dir="ltr">.tflite</code> 模型文件。</li>
<li>点击 <strong>Finish</strong>。</li>
</ol>

<p>这会将模型文件导入您的项目中，并将其放入 <code translate="no" dir="ltr">ml/</code> 文件夹中；如果该目录不存在，Android Studio 将为您创建该目录。</p>

<p><img src="/studio/images/write/import-tf-lite-model.png" alt="导入 TensorFlow Lite 模型" /></p>

<h4 id="view_model_metadata_and_usage" data-text="查看模型元数据和使用情况">查看模型元数据和使用情况</h4>

<p>如需查看所导入模型的详细信息并获取有关如何在应用中使用该模型的说明，请双击项目中的模型文件以打开模型查看器页面，该页面显示以下信息：</p>

<ul>
<li><strong>Model</strong>：模型的简要说明</li>
<li><strong>Tensors</strong>：输入和输出张量的说明</li>
<li><strong>Sample Code</strong>：有关如何在应用中与模型交互的示例</li>
</ul>

<p>下面是一个使用 <a href="https://tfhub.dev/tensorflow/lite-model/mobilenet_v1_0.25_160_quantized/1/metadata/1">mobilenet_v1_0.25_160_quantized.tflite</a> 的示例：</p>

<p><img src="/studio/images/write/tf-lite-model-viewer.png" alt="TensorFlow Lite 模型查看器的屏幕截图" /></p>

<p>如示例所示，Android Studio 创建了一个名为 <code translate="no" dir="ltr">MobilenetV1025160Quantized</code> 的类，用于与模型进行交互。</p>

<p>如果模型不含<a href="https://www.tensorflow.org/lite/convert/metadata">元数据</a>，此屏幕将仅提供基本信息。</p>

<h4 id="known_issues_and_workarounds" data-text="已知问题与解决方法">已知问题与解决方法</h4>

<ul>
<li>目前对除图像分类和风格迁移之外的其他问题领域的 TensorFlow Lite 模型的支持有限。虽然导入应该可以正常运行，但某些模型输入和/或输出由 <a href="https://github.com/tensorflow/tflite-support/blob/master/tensorflow_lite_support/java/src/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.java">TensorBuffer</a> 而非合适的类型表示。对于不含任何元数据的模型，所有模型输入和输出都将由 TensorBuffer 表示。</li>
<li>不支持输入和输出数据类型不为 <code translate="no" dir="ltr">DataType.UINT8</code> 或 <code translate="no" dir="ltr">DataType.FLOAT32</code> 的模型。</li>
</ul>

<p>此功能仍处于开发阶段，欢迎您<a href="https://issuetracker.google.com/issues/new?component=192708&amp;template=840533">提供反馈或报告错误</a>。</p>

<h3 id="4.1-native-memory-profiler" data-text="原生内存性能分析器">原生内存性能分析器</h3>

<p>Android Studio 内存性能分析器现在包含原生内存性能分析器，该工具适用于部署到搭载 Android 10 或更高版本的物理设备的应用。借助原生内存性能分析器，您可以通过原生代码记录内存分配和释放情况，并查看原生对象的累计统计信息。</p>

<p><img src="/studio/images/profile/native_memory_profiler.png" alt="" /></p>

<p>如需详细了解原生内存性能分析器，请参阅<a href="/studio/profile/memory-profiler#native-memory-profiler">使用内存性能分析器查看应用的内存使用情况</a>。</p>

<h4 id="known_issues_and_workarounds_2" data-text="已知问题与解决方法">已知问题与解决方法</h4>

<ul>
<li><p>Android Studio 4.1 中的原生内存性能分析器在 Android 11 设备上无法工作。目前，<a href="/studio/preview">4.2 预览版</a>支持对 Android 11 设备进行性能剖析</p></li>
<li><p>自最初的 4.1 版本起，在应用启动时进行性能剖析的功能已停用。此选项会在即将发布的版本中启用。</p>

<p>解决方法之一是，您可以使用 <a href="https://perfetto.dev/docs/quickstart/heap-profiling" class="external">Perfetto 独立命令行性能剖析器</a>来捕获启动配置文件。</p></li>
</ul>

<h3 id="4.1-ui-upgrades" data-text="System Trace 界面：更简单的选择功能、全新的分析标签页以及更多帧渲染数据">System Trace 界面：更简单的选择功能、全新的分析标签页以及更多帧渲染数据</h3>

<p>Android Studio 性能剖析器中的 System Trace 界面包含以下改进：</p>

<ul>
<li><p><strong>边框选择</strong>：在 <strong>Threads</strong> 部分中，现在您可以拖动鼠标选出一个矩形区域，然后可以点击区域右上角的 <strong>Zoom to Selection</strong> <img src="/studio/images/buttons/profiler-system-trace-zoom-to-selection.png" alt="" class="inline-icon" /> 按钮（或使用键盘快捷键 <strong>M</strong>）放大选中区域。当您将相似的线程拖放到一起时，可以选择多个线程以同时检查所有这些线程。例如，您可能需要分析多个工作器线程。</p>

<p><img src="/studio/images/releases/profiler-system-trace-box-selection.gif" alt="" /></p></li>
<li><p><strong>“Summary”标签页</strong>：<strong>Analysis</strong> 面板中新增的 <strong>Summary</strong> 标签页显示以下内容：</p>

<ul>
<li>特定事件所有发生实例的汇总统计信息，例如发生次数和最短/最长持续时间。</li>
<li>所选发生实例的跟踪事件统计信息。</li>
<li>有关线程状态分布的数据。</li>
<li>所选跟踪事件中运行时间最长的发生实例。</li>
</ul>

<p><img src="/studio/images/releases/profiler-system-trace-statistics-panel.png" alt="" /></p>

<p>如需转到其他发生实例，请从表格中选择其他行。</p></li>
<li><p><strong>显示数据</strong>：在 <strong>Display</strong> 部分，新增的 <a href="https://source.android.com/devices/graphics/surfaceflinger-windowmanager">SurfaceFlinger</a> 和 <a href="https://source.android.com/devices/graphics/implement-vsync">VSYNC</a> 时间轴可以帮助您调查应用界面中的渲染问题。</p>

<p><img src="/studio/images/releases/profiler-system-trace-summary-panel.png" alt="" /></p></li>
</ul>

<p>如需了解有关如何记录系统跟踪数据的基本用法说明，请参阅<a href="/studio/profile/cpu-profiler">使用 CPU 性能剖析器检查 CPU 活动</a>的<a href="/studio/profile/cpu-profiler#method_traces">记录跟踪数据</a>部分。</p>

<aside class="note"><b>Windows 用户</b>：如果在剖析应用性能时线程活动时间轴中缺失标签，请参阅<a href="/studio/known-issues#system-trace-labels">已知问题</a>，从中寻找解决方法。4.2 版中修复了此问题。
</aside>

<h3 id="standalone-profilers" data-text="现在可以使用独立性能剖析器">现在可以使用独立性能剖析器</h3>

<p>借助新的独立性能剖析器，现在您无需运行完整的 Android Studio IDE 即可剖析应用的性能。</p>

<p>如需了解如何使用独立性能剖析器，请参阅<a href="/studio/profile/android-profiler#standalone-profilers">运行独立性能剖析器</a>。</p>

<h3 id="dagger-navigation" data-text="Dagger 导航支持">Dagger 导航支持</h3>

<p><img src="/studio/images/releases/dagger-navigation-support.gif" alt="用于转到 Dagger 使用方和提供方的 IDE 边线操作" /></p>

<p>Android Studio 提供了新的边线操作，并扩展了 <strong>Find Usages</strong> 窗口中的支持，让您可以更轻松地浏览与 Dagger 相关的代码。</p>

<ul>
<li><p><strong>新的边线操作</strong>：对于使用 Dagger 的项目，IDE 提供了边线操作，以帮助您浏览使用 Dagger 注释的代码。例如，点击使用给定类型的方法旁边的 <img src="/studio/images/buttons/navigate-to-dagger-provider.png" class="inline-icon" /> 边线操作会将您转到该类型的提供方。相反，点击 <img src="/studio/images/buttons/navigate-to-dagger-code.png" class="inline-icon" /> 边线操作会将您转到类型被用作依赖项的位置。</p></li>
<li><p><strong>“Find Usages”节点</strong>：现在，在给定类型的提供方上调用 <strong>Find Usages</strong> 时，<strong>Find</strong> 窗口会包含一个 <strong>Dependency consumer(s)</strong> 节点，列出该类型的使用方。相反，在由 Dagger 注入的依赖项的使用方上调用此操作时，<strong>Find</strong> 窗口会显示该依赖项的提供方。</p></li>
</ul>

<h3 id="mdc-templates" data-text="Material Design 组件：在新项目模板中更新了主题背景和样式">Material Design 组件：在新项目模板中更新了主题背景和样式</h3>

<p><img src="/studio/preview/features/images/material-design-components-template-update.gif" alt="动画：在 Android Studio 中使用新的 Material Design 属性创建项目。" /></p>

<p><strong>Create New Project</strong> 对话框中的 Android Studio 模板现在使用 <a href="https://github.com/material-components/material-components-android" class="external">Material Design 组件 (MDC)</a>，并默认遵循更新后的主题背景和样式指南。
更新包括：</p>

<ul>
<li><strong>MDC</strong>：项目依赖于 <code translate="no" dir="ltr">build.gradle.</code> 中的 <code translate="no" dir="ltr">com.google.android.material:material</code>。基本应用主题背景使用 <code translate="no" dir="ltr">Theme.MaterialComponents.*</code> 父级并替换了更新后的 MDC 颜色和“on”属性。</li>
<li><strong>颜色资源</strong>：<code translate="no" dir="ltr">colors.xml</code> 中的颜色资源使用字面名称（例如，使用 <code translate="no" dir="ltr">purple_500</code> 而不是 <code translate="no" dir="ltr">colorPrimary</code>）。</li>
<li><strong>主题背景资源</strong>：主题背景资源位于 <code translate="no" dir="ltr">themes.xml</code>（而非 <code translate="no" dir="ltr">styles.xml</code>）中，使用 <code translate="no" dir="ltr">Theme.<var translate="no">&lt;ApplicationName&gt;</var></code> 名称。</li>
<li><strong>深色主题</strong>：基本应用主题背景使用 <code translate="no" dir="ltr">DayNight</code> 父级，拆分为 <code translate="no" dir="ltr">res/values</code> 和 <code translate="no" dir="ltr">res/values-night</code>。</li>
<li><strong>主题背景属性</strong>：颜色资源在布局和样式中以主题背景属性（例如 <code translate="no" dir="ltr">?attr/colorPrimary</code>）的形式引用，以避免硬编码颜色。</li>
</ul>

<h3 id="4.1-intellij-idea" data-text="IntelliJ IDEA 2020.1">IntelliJ IDEA 2020.1</h3>

<p>核心 Android Studio IDE 已通过 IntelliJ IDEA 2020.1 版本进行了更新，增加了 IntelliJ IDEA 中的相关改进，其中包括新的 <strong>Commit</strong> 窗口（支持版本控制操作）以及新的 Zen 模式（可通过依次选择 <strong>View &gt; Appearance &gt; Enter Distraction Free Mode</strong> 进行切换）。</p>

<p>如需详细了解版本 2020.1 中的改进，请参阅以下页面：</p>

<ul>
<li><a href="https://blog.jetbrains.com/idea/2020/04/intellij-idea-2020-1-released/" class="external">IDEA 2020.1</a> </li>
</ul>

<h3 id="directory-configuration-changes" data-text="IDE 配置目录更改">IDE 配置目录更改</h3>

<p>用户配置目录的位置已更改为以下位置：</p>

<h4 id="windows" data-text="Windows">Windows</h4>

<p>语法：<code translate="no" dir="ltr">%APPDATA%\Google\&lt;product&gt;&lt;version&gt;</code></p>

<p>示例：<code translate="no" dir="ltr">C:\Users\YourUserName\AppData\Roaming\Google\AndroidStudio4.1</code></p>

<h4 id="macos" data-text="macOS">macOS</h4>

<p>语法：<code translate="no" dir="ltr">~/Library/Application Support/Google/&lt;product&gt;&lt;version&gt;</code></p>

<p>示例：<code translate="no" dir="ltr">~/Library/Application Support/Google/AndroidStudio4.1</code></p>

<h4 id="linux" data-text="Linux">Linux</h4>

<p>语法：<code translate="no" dir="ltr">~/.config/Google/&lt;product&gt;&lt;version&gt;</code></p>

<p>示例：<code translate="no" dir="ltr">~/.config/Google/AndroidStudio4.1</code></p>

<p>这些新的目录位置与 <a href="https://www.jetbrains.com/help/idea/tuning-the-ide.html?_ga=2.165019455.1890831646.1588892783-2122726634.1572645395#default-dirs" class="external">IntelliJ IDEA 的最新更新</a>一致（IntelliJ IDEA 是 Android Studio 所基于的 IDE）。</p>
<aside class="note"><strong>注意</strong><span>：如果 Studio 在升级后没有重启，可能需要删除以前的 Studio 版本中的该配置目录。如需了解详情，请参阅<a href="/studio/known-issues#studio-config-directories">已知问题</a>页面。</span></aside>
<h3 id="4.1-kotlin" data-text="Kotlin 1.3.72">Kotlin 1.3.72</h3>

<p>Android Studio 4.1 捆绑了 Kotlin 1.3.72，该版本包含许多修复，可以改进 Kotlin 的突出显示、检查和代码补全功能。如需了解详情，请查看 <a href="https://github.com/JetBrains/kotlin/blob/1.3.70/ChangeLog.md#1372">1.3.72 Kotlin 变更日志</a>。</p>

<h3 id="4.1-custom-preview" data-text="自定义视图预览">自定义视图预览</h3>

<p>创建自定义视图时（例如，通过扩展 <a href="/reference/android/view/View"><code translate="no" dir="ltr">View</code></a> 或 <a href="/reference/android/widget/Button"><code translate="no" dir="ltr">Button</code></a> 类来创建），Android Studio 现在会显示自定义视图的预览。使用工具栏中的下拉菜单可在多个自定义视图之间切换，也可以点击按钮以垂直或水平方式封装内容。</p>

<p><img src="/studio/images/design/custom-view-preview.png" alt="在 Android Studio 中预览自定义视图。" /></p>
<aside class="note"><strong>注意</strong><span>：如果没有在预览中看到所做更改，请从菜单栏中依次选择 <strong>Build &gt; Make Project</strong>。</span></aside>
<h3 id="native-crash-symbolization" data-text="原生代码崩溃报告的符号化解析">原生代码崩溃报告的符号化解析</h3>

<p>当原生代码中发生崩溃或 ANR 时，系统会生成堆栈轨迹，这是您的程序在崩溃之前调用过的嵌套函数序列的快照。这些快照可帮助您找出并修正源代码中的任何问题，但必须先对其进行符号化解析，以将机器地址转换回简单易懂的函数名称。</p>

<p>如果您的应用或游戏是使用原生代码（如 C++）开发的，那么您现在可以针对应用的每个版本向 Play 管理中心上传调试符号文件。Play 管理中心会使用这些调试符号文件对应用的堆栈轨迹进行符号化解析，以便您更轻松地分析崩溃和 ANR。如需了解如何上传调试符号文件，请参阅<a href="/studio/build/shrink-code#native-crash-support">原生代码崩溃支持</a>。</p>

<h3 id="4.1-apply-changes" data-text="Apply Changes">Apply Changes</h3>

<p>为了帮助您提高迭代应用时的效率，我们针对搭载 Android 11 开发者预览版 3 或更高版本的设备推出了以下 Apply Changes 增强功能：</p>

<h4 id="4.1-ac-deploy" data-text="部署速度更快">部署速度更快</h4>

<p>我们投入了大量资源，开发了一种无需安装应用即可在设备上部署和保留更改的方法，以优化您的迭代速度。
现在，完成初始部署后，使用 <strong>Apply Code Changes</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-code-changes.svg" alt="" class="inline-icon" /> 或 <strong>Apply Changes and Restart Activity</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-changes.svg" alt="" class="inline-icon" /> 对 Android 11 设备进行后续部署的速度显著加快。</p>

<p>如需详细了解这两项操作之间的区别，请参阅 <a href="/studio/run#apply-changes">Apply Changes</a>。</p>

<h4 id="4.1-ac-methods" data-text="支持其他代码更改">支持其他代码更改</h4>

<p>现在，对于搭载 Android 11 开发者预览版 3 或更高版本的设备，您可以添加各种方法，然后点击 <strong>Apply Code Changes</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-code-changes.svg" alt="" class="inline-icon" /> 或 <strong>Apply Changes and Restart Activity</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-changes.svg" alt="" class="inline-icon" /> 将这些更改部署到正在运行的应用。</p>

<h2 id="4-0-0" data-text="4.0（2020 年 5 月）">4.0（2020 年 5 月）</h2>

<p>Android Studio 4.0 是一个主要版本，包含各种新功能和改进。
</p><div>
  <devsite-youtube autohide="1" showinfo="0" video-id="f1fHPqAYj5I" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What's new in Android Studio 4.0. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/f1fHPqAYj5I?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=f1fHPqAYj5I&amp;enablejsapi=1&amp;widgetid=3" id="widget4" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>
<div class="updates-box">
  <p><b>4.0.1（2020 年 7 月）<a name="4.0.1"></a></b></p><a name="4.0.1">
  </a><p><a name="4.0.1">
    本次要更新修复了多个问题，并支持 </a><a href="/about/versions/11/privacy/package-visibility">Android 11 中软件包可见性</a>的新默认设置。如需了解详情，请参阅 <a href="/studio/releases/gradle-plugin#4.0.1">Android Gradle 插件 4.0.1 版本说明</a>。</p>
    <p>
    如需查看此版本的重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2020/07/android-studio-401-available.html">版本更新博客</a>上的相关博文。
  </p>
  <p><b>4.0（2020 年 5 月）</b></p>
<b>重要提示</b>：更新后，您需要重启 Android Studio 才能应用迁移自较低版本 Android Studio 的任何内存设置。如需了解详情，请参阅<a href="/studio/known-issues#memory-settings">已知问题</a>页面。
</div><p></p>

<h3 id="android_gradle_plugin_400" data-text="Android Gradle 插件 4.0.0">Android Gradle 插件 4.0.0</h3>

<p>最新版 Android Gradle 插件包含许多更新，例如适用于较低版本 Android 平台的 Java 8 脱糖功能以及功能对功能的依赖性功能。如需了解详情，请阅读<a href="/studio/releases/gradle-plugin#4-0-0">完整的 Android Gradle 插件版本说明</a>。</p>

<p>此外，Android Studio 现在还包含一些有助于提升构建性能的新功能。</p>

<h4 id="4-0-0-build-analyzer" data-text="Build Analyzer">Build Analyzer</h4>

<p>将 Android Studio 4.0 与 Android Gradle 插件 4.0.0 及更高版本一起使用时，<strong>Build Analyzer</strong> 窗口可帮助您了解和诊断与构建流程有关的问题，如优化被停用和任务配置不当问题。如需打开 <strong>Build Analyzer</strong> 窗口，请按以下步骤操作：</p>

<ol>
<li>通过从菜单栏中依次选择 <strong>Build &gt; Make Project</strong> 来构建应用（如果您尚未这样做）。</li>
<li>从菜单栏中依次选择 <strong>View &gt; Tool Windows &gt; Build</strong>。</li>
<li>在 <strong>Build</strong> 窗口中，通过以下某种方式打开 <strong>Build Analyzer</strong> 窗口：
<ul>
<li>Android Studio 构建完您的项目后，点击 <strong>Build Analyzer</strong> 标签页。</li>
<li>Android Studio 构建完您的项目后，点击 <strong>Build Output</strong> 窗口右侧的链接。</li>
</ul></li>
</ol>

<p><strong>Build Analyzer</strong> 窗口将可能存在的构建问题整理成左侧的树状图。您可以检查并点击每个问题，以在右侧的面板中调查其详细信息。当 Android Studio 分析您的构建时，它会计算决定构建时长的一组任务，并提供直观的图表来帮助您了解其中每项任务所产生的影响。您也可以展开 <strong>Warnings</strong> 节点，以获取有关警告的详细信息。</p>

<p><img src="/studio/images/build/build-attribution-critical-path.png" alt="检查对构建时长影响最大的任务。" />
</p><p class="img-caption">检查决定构建时长的任务。</p><p></p>

<h4 id="4-0-0-desugar" data-text="D8 和 R8 中的 Java 8 库脱糖">D8 和 R8 中的 Java 8 库脱糖</h4>

<p>Android Studio 现在支持使用多种 Java 8 语言 API，而无需为应用设置最低 API 级别。</p>

<p>通过一个称为“脱糖”的过程，Android Studio 3.0 及更高版本中的 DEX 编译器 D8 已经为 Java 8 语言功能（如 lambda 表达式、默认接口方法、try-with-resources 等等）提供了大量的支持。<em></em>在 Android Studio 4.0 中，脱糖引擎经过扩展，能够使 Java 语言 API 脱糖。这意味着，您现在可以在支持旧版 Android 的应用中添加过去仅在最新 Android 版本中可用的标准语言 API（如 <code translate="no" dir="ltr">java.util.streams</code>）。</p>

<p>此版本支持下面一组 API：</p>

<ul>
<li>顺序流 (<code translate="no" dir="ltr">java.util.stream</code>)</li>
<li><code translate="no" dir="ltr">java.time</code> 的子集</li>
<li><code translate="no" dir="ltr">java.util.function</code></li>
<li><code translate="no" dir="ltr">java.util.{Map,Collection,Comparator}</code> 的最近新增内容</li>
<li>可选内容（<code translate="no" dir="ltr">java.util.Optional</code>、<code translate="no" dir="ltr">java.util.OptionalInt</code> 和 <code translate="no" dir="ltr">java.util.OptionalDouble</code>）以及对上述 API 很有用的一些其他新类</li>
<li><code translate="no" dir="ltr">java.util.concurrent.atomic</code> 的一些新增内容（<code translate="no" dir="ltr">AtomicInteger</code>、<code translate="no" dir="ltr">AtomicLong</code> 和 <code translate="no" dir="ltr">AtomicReference</code> 的新方法）</li>
<li><code translate="no" dir="ltr">ConcurrentHashMap</code>（包含 Android 5.0 的问题修复）</li>
</ul>

<p>为了支持这些语言 API，D8 编译了一个单独的库 DEX 文件，其中包含缺失 API 的实现，并将其添加到您的应用中。脱糖过程会重新编写应用的代码，以便在运行时改用此库。</p>

<p>如需启用对这些语言 API 的支持，请在模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中添加以下代码：</p>
<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br />  defaultConfig </span><span class="pun">{</span><span class="pln"><br />    </span><span class="com">// Required when setting minSdkVersion to 20 or lower</span><span class="pln"><br />    multiDexEnabled </span><span class="kwd">true</span><span class="pln"><br />  </span><span class="pun">}</span><span class="pln"><br /><br />  compileOptions </span><span class="pun">{</span><span class="pln"><br />    </span><span class="com">// Flag to enable support for the new language APIs</span><span class="pln"><br />    coreLibraryDesugaringEnabled </span><span class="kwd">true</span><span class="pln"><br />    </span><span class="com">// Sets Java compatibility to Java 8</span><span class="pln"><br />    sourceCompatibility </span><span class="typ">JavaVersion</span><span class="pun">.</span><span class="pln">VERSION_1_8<br />    targetCompatibility </span><span class="typ">JavaVersion</span><span class="pun">.</span><span class="pln">VERSION_1_8<br />  </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br />dependencies </span><span class="pun">{</span><span class="pln"><br />  coreLibraryDesugaring </span><span class="str">'com.android.tools:desugar_jdk_libs:1.0.4'</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre></devsite-code>
<h4 id="4-0-0-feature-plugin" data-text="功能对功能的依赖性">功能对功能的依赖性</h4>

<p>在以前的 Android Gradle 插件版本中，所有功能模块都只能依赖于应用的基本模块。使用 Android Gradle 插件 4.0.0 及更高版本时，您现在可以添加依赖于其他功能模块的功能模块。也就是说，<code translate="no" dir="ltr">:video</code> 功能可以依赖于 <code translate="no" dir="ltr">:camera</code> 功能，而后者依赖于基本模块，如下图所示。</p>

<p><img src="/images/app-bundle/feature-on-feature.png" alt="功能对功能的依赖性" />
</p><p class="img-caption"><code translate="no" dir="ltr">:video</code> 功能模块依赖于 <code translate="no" dir="ltr">:camera</code> 功能，而后者依赖于 <code translate="no" dir="ltr">:app</code> 基本模块。</p><p></p>

<p>这意味着，当您的应用请求下载某个功能模块时，它也会下载该模块所依赖的其他功能模块。为您的应用<a href="/guide/app-bundle/on-demand-delivery">创建功能模块</a>后，您可以在模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中声明功能对功能的依赖性。例如，<code translate="no" dir="ltr">:video</code> 模块声明对 <code translate="no" dir="ltr">:camera</code> 的依赖性，如下所示：</p>
<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="com">// In the build.gradle file of the ':video' module.</span><span class="pln"><br />dependencies </span><span class="pun">{</span><span class="pln"><br />    </span><span class="com">// All feature modules must declare a dependency</span><span class="pln"><br />    </span><span class="com">// on the base module.</span><span class="pln"><br />    implementation project</span><span class="pun">(</span><span class="str">':app'</span><span class="pun">)</span><span class="pln"><br />    </span><span class="com">// Declares that this module also depends on the 'camera' feature module.</span><span class="pln"><br />    implementation project</span><span class="pun">(</span><span class="str">':camera'</span><span class="pun">)</span><span class="pln"><br />    </span><span class="pun">...</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre></devsite-code>
<p>此外，您还应在 Android Studio 中启用功能对功能的依赖性功能（例如，为了在修改运行配置时支持该功能），方法是在菜单栏中依次点击 <strong>Help &gt; Edit Custom VM Options</strong>，然后添加以下代码：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">-Drundebug.feature.on.feature=true
</code></pre></devsite-code>
<h4 id="4-0-0-dependency-metadata" data-text="依赖项元数据">依赖项元数据</h4>

<p>使用 Android Gradle 插件 4.0.0 及更高版本构建应用时，该插件包含描述已编译到应用中的依赖项的元数据。上传应用时，Play 管理中心会检查此元数据，以便为您提供以下优势：</p>

<ul>
<li>获取有关您的应用使用的 SDK 和依赖项的已知问题的提醒</li>
<li>接收切实可行的反馈来解决这些问题</li>
</ul>

<p>数据经过压缩，并由 Google Play 签名密钥加密，然后存储在您的发布应用的签名分块中。但是，您可以在以下目录中的本地中间构建文件中自行检查元数据：<code translate="no" dir="ltr">&lt;project&gt;/&lt;module&gt;/build/outputs/sdk-dependencies/release/sdkDependency.txt</code>。</p>

<p>如果您不希望分享这些信息，您可以通过在模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中添加以下代码来选择退出：</p>
<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br />    dependenciesInfo </span><span class="pun">{</span><span class="pln"><br />        </span><span class="com">// Disables dependency metadata when building APKs.</span><span class="pln"><br />        includeInApk </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"><br />        </span><span class="com">// Disables dependency metadata when building Android App Bundles.</span><span class="pln"><br />        includeInBundle </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre></devsite-code>
<h3 id="4-0-0-kts" data-text="支持 Kotlin DSL 脚本文件">支持 Kotlin DSL 脚本文件</h3>

<p>Android Gradle 插件现在支持 Kotlin DSL 构建脚本文件 (<code translate="no" dir="ltr">*.kts</code>)。与 Android Studio 一起使用时，某些 IDE 功能（如“Project Structure”对话框和构建脚本快速修复）现在也支持读取和写入 Kotlin 构建脚本文件。</p>

<h3 id="cpu-profiler-upgrades" data-text="CPU 性能剖析器升级">CPU 性能剖析器升级</h3>

<p><img src="/studio/images/profile/render_thread.png" alt="" /></p>

<p>根据开发者的反馈，我们着重提高了 CPU 性能剖析器在两个重要方面的用户体验。</p>

<p>第一个方面，与以前的 Android Studio 版本相比，CPU 性能剖析器中的 CPU 记录错误率已显著降低。</p>

<p>第二个方面，CPU 性能剖析器的界面经过了全新改版，可提供更直观的工作流。以下是其中一些重要的界面变更：</p>

<ul>
<li>CPU 记录现在已从性能剖析器主时间轴分离出来，使分析更加容易。记录的数据按组显示在 <strong>Profiler</strong> 窗口的左侧。您可以通过点击窗口右上角的 <img src="/studio/images/buttons/profiler_options_button.png" alt="性能剖析器中的选项图标" class="inline-icon" /> 选项图标或通过拖放组中的各项来上下移动组以重新整理列表。</li>
<li>为使并排分析更容易，您现在可以查看线程活动时间轴中的所有线程活动（包括方法、函数和事件）。您可以通过以下几种方法进行时间轴导航：
<ul>
<li>如需关注特定时间点，可在左上方的 CPU 使用情况图表中拖动时间范围。</li>
<li>如需放大或缩小，可在按住 Ctrl 键（在 MacOS 上，按住 Command 键）的同时，滚动鼠标滚轮。如需向左或向右平移，可在按住空格键的同时，拖动对象。</li>
<li>或者，使用 W 键和 A 键进行精细缩放，使用 S 键和 D 键进行精细的左右平移。</li>
</ul></li>
<li>现在，<strong>Flame Chart</strong>、<strong>Top Down</strong> 和 <strong>Bottom Up</strong> 分析对应的标签页位于右侧列中。在“Threads”组中，对于系统跟踪记录，线程会自动展开；对于其他记录类型，线程会默认收起。双击（或按 Enter 键）线程名称可将其展开或收起。</li>
<li>系统跟踪界面（如屏幕截图中所示）也得到了一些改进：
<img src="/studio/images/profile/system_trace_2.png" alt="" />
<ul>
<li>为了让您更容易区分，系统现在使用独特的颜色显示不同的事件。</li>
<li>线程按其中的跟踪事件数量排序，因此，越“忙”的线程在列表中的排名越高。</li>
<li>您可以选择一个或多个线程，以便在右侧列中仅查看对所选线程的分析。</li>
<li>同样，您也可以选择任何线程中的跟踪事件以查看其分析数据。</li>
</ul></li>
</ul>

<h3 id="4-0-0-design-tools" data-text="设计工具">设计工具</h3>

<p>此版本的 Android Studio 包含对设计工具的更新，例如对布局检查器和全新的 Motion Editor 的更新。</p>

<h4 id="4-0-0-motion-editor" data-text="新的 Motion Editor">新的 Motion Editor</h4>

<p>Android Studio 现在包含一个适用于 <a href="/training/constraint-layout/motionlayout">MotionLayout</a> 布局类型的视觉设计编辑器，可让您更轻松地创建和预览动画。</p>

<p>Motion Editor 提供了一个简单的界面来操控 MotionLayout 库中的元素，该库是 Android 应用中动画的基础。在之前的版本中，创建和更改这些元素需要手动修改 XML 资源文件中的约束条件。现在，Motion Editor 支持开始状态和结束状态、关键帧、转换和时间轴，可以为您生成此 XML 文件。</p>

<p>如需详细了解如何使用 Motion Editor，请参阅<a href="/studio/write/motion-editor">用户指南</a>。</p>

<p><img style="max-width:700px;" src="/studio/images/write/motion_animation_preview.gif" /></p>
<aside class="note"><strong>注意</strong><span>：在使用 Motion Editor 之前，请务必在 <code translate="no" dir="ltr">build.gradle</code> 文件中将 <code translate="no" dir="ltr">ConstraintLayout</code> 依赖项设置为版本 <code translate="no" dir="ltr">2.0.0-beta3</code> 或更高版本。</span></aside>
<h4 id="4-0-0-live-layout-inspector" data-text="实时布局检查器">实时布局检查器</h4>

<p>您可以使用更新后的实时布局检查器来调试布局，该工具可以在将应用部署到设备时提供应用界面的完整实时数据分析。</p>

<p>如需打开一个布局检查器窗口，请依次转到 <strong>View &gt; Tools Windows &gt; Layout Inspector</strong>。除了与现有布局检查器相同的许多功能之外，实时布局检查器还包含如下功能：</p>

<ul>
<li><strong>动态布局层次结构</strong>：随着设备上的视图发生变化而进行更新。</li>
</ul>

<p><img src="/studio/images/debug/live-layout-inspector.png" alt="动态布局层次结构" /></p>

<ul>
<li><strong>属性值解析堆栈</strong>：调查资源属性值在源代码中的来源位置，点击属性窗格中的超链接即可转到其位置。</li>
</ul>

<p><img src="/studio/images/debug/layout_inspector_properties.png" width="500px" alt="属性值解析堆栈" /></p>

<ul>
<li><strong>3D 视图</strong>：使用高级 3D 可视化功能，在运行时查看应用的视图层次结构。如需使用此功能，只需在实时布局检查器窗口中点击相应的布局并进行旋转。</li>
</ul>

<p><img src="/studio/images/debug/live-layout-inspector-3d-view.png" alt="布局检查器：3D 视图" /></p>

<p>只有将应用部署到搭载 API 级别 29 或更高级别的设备或模拟器后，才能使用实时布局检查器。如需启用实时布局检查器，请依次转到 <strong>File &gt; Settings &gt; Experimental</strong>，勾选 <strong>Enable Live Layout Inspector</strong> 旁边的框，然后点击 <strong>Layout Display</strong> 上方 <strong>Live updates</strong> 旁边的复选框。</p>

<h4 id="4-0-0-layout-validation" data-text="布局验证">布局验证</h4>

<p>布局验证是一款可视化工具，用于同时预览不同设备上及采用不同配置的布局，有助于您察觉布局错误并打造无障碍水平更高的应用。</p>

<p><img src="/studio/images/debug/layout-validation-custom.gif" alt="在“Layout Validation”窗口中创建自定义的布局预览" style="max-width:600px;" /></p>

<p>您可以通过点击 IDE 窗口右上角的 <strong>Layout Validation</strong> 标签页来使用此功能：</p>

<p><img src="/studio/images/debug/layout-validation-tab.png" alt="Android Studio 中的“Layout Validation”标签页" style="max-width:50px;" /></p>

<p>在“Layout Validation”窗口中，您可以从四组不同的配置中进行选择，其中包括：</p>

<ul>
<li><strong>Pixel 设备</strong>：在一系列 Pixel 设备上预览应用。</li>
<li><strong>自定义</strong>：使用自定义显示选项（例如屏幕方向或语言）来预览应用。</li>
<li><strong>色盲</strong>：通过模拟常见的色盲类型来预览应用。</li>
<li><strong>字体大小</strong>：使用各种字体大小来预览应用。</li>
</ul>

<p>如需详细了解如何使用布局验证工具，请参阅<a href="/studio/debug/layout-inspector#layout-validation">使用布局检查器调试您的布局</a>。</p>

<h3 id="4-0-0-smart-code-shrinker-rules" data-text="针对代码缩减器规则的智能编辑器功能">针对代码缩减器规则的智能编辑器功能</h3>

<p>Android Studio 现在可以在您打开 R8 代码缩减器规则文件时提供智能编辑器功能，如语法突出显示、代码补全和错误检查。该编辑器还与 Android Studio 项目集成，以便为所有类、方法和字段提供完整的符号补全，并且包括快速导航和重构功能。</p>

<p><img src="/studio/images/build/shrinker-smart-editor.png" alt="修改 R8 规则文件时使用的智能编辑器功能" /></p>

<h3 id="4-0-0-live-templates" data-text="Kotlin Android 实时模板">Kotlin Android 实时模板</h3>

<p>Android Studio 现在包含适用于 Kotlin 类的 Android <a href="/studio/write#create_custom_code-completion_templates">实时模板</a>。例如，您现在可以输入 <code translate="no" dir="ltr">toast</code> 并按 <strong>Tab</strong> 键来快速插入一个消息框。如需查看可用实时模板的完整列表，请在菜单栏中依次点击 <strong>File &gt; Settings</strong>（或者，在 macOS 上依次点击 <strong>Android Studio &gt; Preferences</strong>），然后依次转到 <strong>Editor &gt; Live Templates</strong>。</p>

<h3 id="4-0-0-fragment-wizard" data-text="Fragment 向导和新的 Fragment 模板">Fragment 向导和新的 Fragment 模板</h3>

<p>现在，当您依次转到 <strong>File &gt; New &gt; Fragment &gt; Gallery</strong> 或在 Navigation Editor 中点击 <strong>Create new destination</strong> 时，会出现新的 Android Fragment 向导和新的 Fragment 模板。</p>

<h3 id="4-0-0-emulator" data-text="Android 模拟器中的相机支持扩展">Android 模拟器中的相机支持扩展</h3>

<p>使用 Android 11 映像时，Android 模拟器的相机功能包含以下新功能：</p>

<ul>
<li>RAW 捕获</li>
<li>YUV 重新处理</li>
<li>3 级设备</li>
<li>逻辑相机支持</li>
</ul>

<p>如需详细了解如何针对 Android 11 进行开发，请参阅 <a href="/about/versions/11">Android 11 文档</a>。</p>

<h3 id="4.0-clangd-clang-tidy" data-text="C++ 代码编辑器现在提供 clangd">C++ 代码编辑器现在提供 clangd</h3>

<p>作为 Android Studio 支持 C++ 语言的基石，Jetbrains CLion 技术现在使用基于 LLVM <a href="https://clangd.llvm.org/">clangd</a> 和 <a href="http://clang.llvm.org/extra/clang-tidy/">clang-tidy</a> 的检查引擎，加快了 C/C++ 代码补全的速度，并与 clang-tidy 实现了更顺畅的集成。</p>

<p>Android Studio C++ 代码编辑器现在提供 clangd 和 clang-tidy，这二者都属于开源 LLVM extra 工具的一部分：</p>

<ul>
<li>clangd 提供代码补全、在编辑器中编译错误消息以及 go-to-definition 导航功能。</li>
<li>clang-tidy 是一个 C++ linter 工具，具有可扩展的框架，用于诊断和修复典型编程错误。</li>
</ul>

<p>在以前的版本中，Android Studio 用户可通过 NDK 使用 clang-tidy；此次变更后，Android Studio 不再依赖于 NDK 来提供 clang-tidy 功能。</p>

<h3 id="4-0-0-ndk-dir" data-text="local.properties 文件中的 ndk.dir 设置已弃用">local.properties 文件中的 ndk.dir 设置已弃用</h3>

<p>您不应再在应用的 <code translate="no" dir="ltr">local.properties</code> 文件中设置 <code translate="no" dir="ltr">ndk.dir</code> 的值，以后的版本中将移除对这项 <code translate="no" dir="ltr">ndk.dir</code> 设置的支持。Android Gradle 插件会默认设置 NDK 版本，但如果您需要<a href="https://developer.android.com/studio/projects/install-ndk#apply-specific-version">特定版本的 NDK</a>，可以在 <code translate="no" dir="ltr">build.gradle</code> 中设置 <code translate="no" dir="ltr">android.ndkVersion</code>。</p>

<p>如需详细了解如何设置 NDK，请参阅<a href="/studio/projects/install-ndk">安装及配置 NDK 和 CMake</a>。</p>

<h3 id="4.0-idea-2019-3-3" data-text="IntelliJ IDEA 2019.3.3">IntelliJ IDEA 2019.3.3</h3>

<p>核心 Android Studio IDE 已通过 2019.3.3 版本进行了更新，增加了 IntelliJ IDEA 中的相关改进。</p>

<p>如需详细了解版本 2019.3.3 累积的其他 IntelliJ 版本的改进，请参阅以下页面：</p>

<ul>
<li><a href="https://blog.jetbrains.com/idea/2019/11/intellij-idea-2019-3-better-performance-and-quality/" class="external-link">IntelliJ IDEA 2019.3</a></li>
<li><a href="https://blog.jetbrains.com/idea/2020/02/intellij-idea-2019-3-3-is-out/" class="external-link">IntelliJ IDEA 2019.3.3</a></li>
</ul>

<h2 id="3-6-0" data-text="3.6（2020 年 2 月）">3.6（2020 年 2 月）</h2>

<p>Android Studio 3.6 是一个主要版本，包含各种新功能和改进。</p>

<p>另外，我们还要感谢所有为此版本提供过帮助的<a href="#3-6-community-contributors">社区贡献者</a>。</p>

<div>
  <devsite-youtube autohide="1" showinfo="0" video-id="h7dCm2lQLOg" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What's new in Android Studio 3.6. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/h7dCm2lQLOg?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=h7dCm2lQLOg&amp;enablejsapi=1&amp;widgetid=5" id="widget6" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<div class="updates-box">
  <p><b>3.6.3（2020 年 4 月）</b></p>

  <p>
    本次要更新包含多项问题修复。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2020/04/android-studio-363-available.html">版本更新博客</a>上的相关博文。
  </p>
  <p><b>3.6.2（2020 年 3 月）</b></p>

  <p>
    本次要更新包含多项问题修复。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2020/03/android-studio-362-available.html">版本更新博客</a>上的相关博文。
  </p>
  <p><b>3.6.1（2020 年 2 月）</b></p>

  <p>
    本次要更新包含多项问题修复。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2020/02/android-studio-361-available.html">版本更新博客</a>上的相关博文。
  </p>
</div>

<h3 id="design_tools_2" data-text="设计工具">设计工具</h3>

<p>此版本的 Android Studio 包含对多个设计工具的更新，其中包括布局编辑器和 Resource Manager。</p>

<h4 id="3.6-split-view-zoom" data-text="设计编辑器中的拆分视图和缩放控件">设计编辑器中的拆分视图和缩放控件</h4>

<p><img src="/studio/images/releases/split-view.png" alt="拆分视图同时显示设计视图和文本视图" /></p>

<p>此版本包含对视觉设计编辑器的以下更新：</p>

<ul>
<li><p>设计编辑器（如布局编辑器和 Navigation Editor）现在提供了 <strong>Split</strong> 视图，可让您同时查看界面的 <strong>Design</strong> 视图和 <strong>Code</strong> 视图。在编辑器窗口的右上角，现在提供三个按钮 <img src="/studio/images/buttons/view-icons.png" alt="视图图标" class="inline-icons" width="58" height="22" />，可用于在视图选项之间切换以启用相应视图：</p>

<ul>
<li>如需启用拆分视图，请点击 <strong>Split</strong> 图标 <img src="/studio/images/buttons/split-view-icon.png" alt="拆分视图图标" class="inline-icon" />。</li>
<li>如需启用 XML 源代码视图，请点击 <strong>Source</strong> 图标 <img src="/studio/images/buttons/source-view-icon.png" alt="源代码视图图标" class="inline-icon" />。</li>
<li>如需启用 Design 视图，请点击 <strong>Design</strong> 图标 <img src="/studio/images/buttons/design-view-icon.png" alt="Design 视图图标" class="inline-icon" />。</li>
</ul></li>
<li><p>设计编辑器中的缩放和平移控件已移至编辑器窗口右下角的浮动面板。</p></li>
</ul>

<p>如需了解详情，请参阅<a href="/studio/write/layout-editor">使用布局编辑器构建界面</a>。</p>

<h4 id="3.6-color-picker-resource-tab" data-text="颜色选择器 Resource 标签页">颜色选择器 Resource 标签页</h4>

<p>为了帮助您在使用 XML 或设计工具中的颜色选择器时快速更新应用中的颜色资源值，Android Studio 现在会为您填充颜色资源值。</p>

<p><img src="/studio/images/releases/color-picker-resource-tab.png" alt="填充了颜色值的颜色选择器" /></p>

<h4 id="3.6-resource-manager" data-text="Resource Manager">Resource Manager</h4>

<p>Resource Manager 包含以下更新：</p>

<ul>
<li>Resource Manager 现在支持大多数资源类型。</li>
<li>在搜索资源时，Resource Manager 现在会显示所有项目模块中的搜索结果。以前，该工具只会返回已选定模块中的搜索结果。</li>
<li>借助过滤器按钮，您可以查看本地相关模块、外部库和 Android 框架中的资源。您还可以使用该过滤器来显示主题背景属性。</li>
<li>现在，您可以在导入过程中点击资源上方的文本框来重命名相应资源。</li>
</ul>

<p>如需了解详情，请参阅<a href="/studio/write/resource-manager">使用 Resource Manager 管理应用的界面资源</a>。</p>

<h3 id="agp-3-6-0" data-text="Android Gradle 插件的更新">Android Gradle 插件的更新</h3>

<p>最新版 Android Gradle 插件包含许多更新，其中包括针对构建速度的优化、对 Maven 发布插件的支持以及对视图绑定的支持。如需了解详情，请参阅<a href="/studio/releases/gradle-plugin#3-6-0">完整的版本说明</a>。</p>

<h4 id="3.6-view-binding" data-text="视图绑定">视图绑定</h4>

<p>通过<a href="/topic/libraries/view-binding">视图绑定</a>，您能够为每个 XML 布局文件生成绑定类，从而更轻松地编写可与视图交互的代码。这些类包含对在相应布局中具有 ID 的所有视图的直接引用。</p>

<p>由于视图绑定取代了 <code translate="no" dir="ltr">findViewById()</code>，因此可以消除因视图 ID 无效而引发 Null 指针异常的风险。</p>

<p>如需启用视图绑定，您需要使用 Android Gradle 插件 3.6.0 或更高版本，并在每个模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中添加以下代码：</p>
<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br />    viewBinding</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre></devsite-code>
<h3 id="3.6-apply-changes" data-text="Apply Changes">Apply Changes</h3>

<p>您现在可以添加一个类，然后将该代码更改部署到正在运行的应用，方法是点击 <strong>Apply Code Changes</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-code-changes.svg" alt="Apply Code Changes 图标" class="inline-icon" /> 或 <strong>Apply Changes and Restart Activity</strong> 图标 <img src="/studio/images/buttons/toolbar-apply-changes.svg" alt="Apply Changes 图标" class="inline-icon" />。</p>

<p>如需详细了解这两项操作之间的区别，请参阅 <a href="/studio/run#apply-changes">Apply Changes</a>。</p>

<h3 id="aia_refactor" data-text="重构菜单选项以启用免安装应用支持">重构菜单选项以启用免安装应用支持</h3>

<p>现在，您可以在创建应用项目后随时使基础模块支持免安装体验，具体操作步骤如下：</p>

<ol>
<li>从菜单栏中依次选择 <strong>View &gt; Tool Windows &gt; Project</strong>，打开 <strong>Project</strong> 面板。</li>
<li>右键点击基础模块（通常名为 'app'），然后依次选择 <strong>Refactor &gt; Enable Instant Apps Support</strong>。</li>
<li>在出现的对话框中，从下拉菜单中选择基础模块。</li>
<li>点击 <strong>OK</strong>。</li>
</ol>
<aside class="note"><strong>注意</strong><span>：已移除 <strong>Create New Project</strong> 向导中用于使基础应用模块支持免安装体验的选项。</span></aside>
<p>如需了解详情，请阅读 <a href="/topic/google-play-instant/overview">Google Play 免安装体验概览</a>。</p>

<h3 id="apk_analyzer" data-text="在 APK 分析器中对类和方法字节码进行去混淆处理">在 APK 分析器中对类和方法字节码进行去混淆处理</h3>

<p>使用 <a href="/studio/build/apk-analyzer">APK 分析器</a>检查 DEX 文件时，您可以对类和方法字节码进行去混淆处理，操作步骤如下所示：</p>

<ol>
<li>从菜单栏中依次选择 <strong>Build &gt; Analyze APK</strong>。</li>
<li>在出现的对话框中，转到您要检查的 APK 并选择该 APK。</li>
<li>点击 <strong>Open</strong>。</li>
<li>在 APK 分析器中，选择您要检查的 DEX 文件。</li>
<li>在 DEX 文件查看器中，为您要分析的 APK <a href="/studio/build/apk-analyzer#load_proguard_mappings">加载 ProGuard 映射文件</a>。</li>
<li>右键点击您要检查的类或方法，然后选择 <strong>Show bytecode</strong>。</li>
</ol>

<h3 id="3.6-native-tooling" data-text="原生工具">原生工具</h3>

<p>以下更新支持 Android Studio 中的原生 (C/C++) 开发。</p>

<h4 id="kotlin_support" data-text="Kotlin 支持">Kotlin 支持</h4>

<p>Android Studio 中的以下 NDK 功能以前在 Java 中受支持，现在也在 Kotlin 中受支持：</p>

<ul>
<li>从 JNI 声明转到 C/C++ 中的对应实现函数。只需将鼠标悬停在托管源代码文件中的行号附近的 C 或 C++ 项标记上方，即可查看此映射。</li>
<li><p>自动为 JNI 声明创建存根实现函数。首先定义 JNI 声明，然后输入“jni”或 C/C++ 文件中的方法名称进行激活。</p>

<p width="700" class="screenshot"><img src="/studio/preview/features/images/jni-autocomplete.gif" alt="" /> </p></li>
<li><p>未使用的原生实现函数会在源代码中突出显示为警告。缺少实现的 JNI 声明也会突出显示为错误。</p></li>
<li><p>如果您重命名（重构）某个原生实现函数，所有对应的 JNI 声明都会更新。重命名 JNI 声明可更新原生实现函数。</p></li>
<li><p>对隐式绑定的 JNI 实现进行签名检查。</p></li>
</ul>

<h4 id="other_jni_improvements" data-text="其他关于 JNI 的改进">其他关于 JNI 的改进</h4>

<p>Android Studio 中的代码编辑器现在支持更顺畅的 JNI 开发流程，包括改进后的类型提示、自动补全、检查和代码重构。</p>

<h4 id="3.6-reload-apk" data-text="针对原生库重新加载 APK">针对原生库重新加载 APK</h4>

<p>当项目中的 APK 在 Android Studio 之外进行了更新时，您不再需要创建新项目。Android Studio 会检测 APK 中的更改，并为您提供重新导入 APK 的选项。</p>

<p><img src="/studio/images/debug/import-updated-apk.png" alt="" class="screenshot" /></p>

<h3 id="3.6-kotlin-apk-sources" data-text="附加纯 Kotlin APK 源代码">附加纯 Kotlin APK 源代码</h3>

<p>现在，当您对预构建的 APK 进行性能剖析和调试时，可以附加纯 Kotlin 外部 APK 源代码。如需了解详情，请参阅<a href="/studio/debug/apk-debugger#attach_java">附加 Kotlin/Java 源代码</a>。</p>

<h3 id="3.6-profiler-memory-leak-detection" data-text="Memory Profiler 中的泄漏检测">内存性能分析器中的泄漏检测</h3>

<p>在内存性能分析器中分析堆转储时，您现在可以过滤 Android Studio 认为可能表明应用中的 <code translate="no" dir="ltr">Activity</code> 和 <code translate="no" dir="ltr">Fragment</code> 实例存在内存泄漏的分析数据。</p>

<p>过滤器显示的数据类型包括：</p>

<ul>
<li>已销毁但仍被引用的 <code translate="no" dir="ltr">Activity</code> 实例。</li>
<li>没有有效的 <code translate="no" dir="ltr">FragmentManager</code> 但仍被引用的 <code translate="no" dir="ltr">Fragment</code> 实例。</li>
</ul>

<p>在某些情况（如以下情况）下，过滤器可能会产生误报：</p>

<ul>
<li>已创建 <code translate="no" dir="ltr">Fragment</code>，但尚未使用它。</li>
<li>正在缓存 <code translate="no" dir="ltr">Fragment</code>，但它不是 <code translate="no" dir="ltr">FragmentTransaction</code> 的一部分。</li>
</ul>

<p>如需使用此功能，请先<a href="/studio/profile/memory-profiler#capture-heap-dump">捕获堆转储</a>或<a href="/studio/profile/memory-profiler#import-hprof">将堆转储文件导入</a> Android Studio。如需显示可能泄漏内存的 Fragment 和 Activity，请勾选内存性能分析器的堆转储窗格中的 <strong>Activity/Fragment Leaks</strong> 复选框。</p>

<p><img src="/studio/images/profile/profiler-memory-leak-detection.png" alt="内存性能分析器：内存泄漏检测" />
</p><p class="img-caption">过滤堆转储以检测内存泄漏。</p><p></p>

<h3 id="3.6-emulators" data-text="模拟器">模拟器</h3>

<p>Android Studio 3.6 可帮助您利用 Android 模拟器 29.2.7 及更高版本中包含的多项更新，如下所述。</p>

<h4 id="improved_location_support" data-text="改进了位置信息支持">改进了位置信息支持</h4>

<p>Android 模拟器 29.2.7 及更高版本为模拟 GPS 坐标和路线信息提供了额外的支持。打开模拟器的 <a href="/studio/run/emulator#extended">Extended controls</a> 时，您会发现“Location”标签页下的选项现在位于 <strong>Single points</strong> 和 <strong>Routes</strong> 这两个标签页下。</p>

<h5 id="single_points" data-text="Single points">Single points</h5>

<p>在 <strong>Single points</strong> 标签页中，您可以使用 Google 地图 WebView 搜索地图注点，就像在手机或浏览器中使用 Google 地图一样。当您在地图上搜索或点击某个地点时，可以通过选择地图底部附近的 Save point 来保存该地点。您保存的所有地点都会列在 <strong>Extended controls</strong> 窗口的右侧。</p>

<p>如需将模拟器位置设置为您在地图上选择的地点，请点击 <strong>Extended controls</strong> 窗口右下角附近的 <strong>Set location</strong> 按钮。</p>

<p><img src="/studio/images/run/emulator-single-points.png" alt="模拟器“Extended Controls”窗口中的“Single points”标签页。" />。</p>

<h5 id="routes" data-text="Routes">Routes</h5>

<p>与 <strong>Single points</strong> 标签页类似，<strong>Routes</strong> 标签页提供的 Google 地图 WebView 可用于在两个或多个地点之间创建路线。如需创建并保存路线，请执行以下操作：</p>

<ol>
<li>在地图视图中，使用文本字段搜索路线中的第一个目的地。</li>
<li>从搜索结果中选择地点。</li>
<li>选择 <strong>Navigate</strong> <img src="/studio/images/buttons/routes-navigate-icon.png" alt="Google 地图中的导航按钮。" class="inline-icon" /> 按钮。</li>
<li>从地图中选择路线的出发地。</li>
<li>（可选）点击 <strong>Add destination</strong> 可向路线添加其他地点。</li>
<li>点击地图视图中的 <strong>Save route</strong> 以保存路线。</li>
<li>指定路线的名称，然后点击 <strong>Save</strong>。</li>
</ol>

<p>如需让模拟器模拟您保存的路线，请从 <strong>Saved routes</strong> 列表中选择路线，然后点击 <strong>Extended controls</strong> 窗口右下角附近的 <strong>Play route</strong>。如需停止模拟，请点击 <strong>Stop route</strong>。</p>

<p><img src="/studio/images/run/emulator-routes.png" alt="模拟器“Extended Controls”窗口中的“Routes”标签页。" />.</p>

<p>如需继续让模拟器模拟指定的路线，请打开 <strong>Repeat playback</strong> 旁边的开关。如需更改模拟器模拟指定路线的速度，请从 <strong>Playback speed</strong> 下拉菜单中选择一个选项。</p>

<h4 id="multi-display_support" data-text="多显示屏支持">多显示屏支持</h4>

<p>借助 Android 模拟器，您现在可以将应用部署到多个显示屏，这些显示屏支持自定义尺寸，而且可以帮助您测试支持<a href="/guide/topics/ui/foldables#multi-window">多窗口模式</a>和<a href="/guide/topics/ui/foldables#multi-display">多显示屏</a>的应用。在虚拟设备运行时，您最多可以添加两个额外的显示屏，如下所示：</p>

<ol>
<li>打开 <a href="/studio/run/emulator#extended"><strong>Extended controls</strong></a>，然后转到 <strong>Displays</strong> 标签页。</li>
<li>如需添加其他屏幕，请点击 <strong>Add secondary display</strong>。</li>
<li><p>从 <strong>Secondary displays</strong> 下的下拉菜单中，执行以下任一操作：</p>

<ol>
<li>选择一个预设的宽高比</li>
<li>选择 <strong>custom</strong>，然后为自定义屏幕设置<strong>高度</strong>、<strong>宽度</strong>和 <strong>dpi</strong>。</li>
</ol></li>
<li><p>（可选）点击 <strong>Add secondary display</strong> 可添加第三个屏幕。</p></li>
<li><p>点击 <strong>Apply changes</strong>，将指定的屏幕添加到正在运行的虚拟设备。</p></li>
</ol>

<p><img src="/studio/images/run/emulator-multi-display.png" alt="在模拟器“Extended Controls”窗口“Display”标签页中添加多个屏幕。" /></p>

<h4 id="new_virtual_devices_and_project_templates_for_android_automotive_os" data-text="适合 Android Automotive OS 的新虚拟设备和项目模板">适合 Android Automotive OS 的新虚拟设备和项目模板</h4>

<p>使用 Android Studio 创建新项目时，您现在可以从 <strong>Create New Project</strong> 向导的 <strong>Automotive</strong> 标签页中选择三个模板：<strong>No Activity</strong>、<strong>Media service</strong> 和 <strong>Messaging service</strong>。对于现有项目，您可以添加对 Android Automotive 设备的支持，方法是从菜单栏中依次选择 <strong>File &gt; New &gt; New Module</strong>，然后选择 <strong>Automotive Module</strong>。然后，<strong>Create New Module</strong> 向导会引导您使用其中一个 Android Automotive 项目模板创建新模块。</p>

<p><img src="/studio/images/run/auto-select-project-template.png" alt="选择 Android Automotive 项目模板。" />。</p>

<p>此外，您现在可以为 Android Automotive OS 设备<a href="/studio/run/managing-avds#createavd">创建 Android 虚拟设备 (AVD)</a>，方法是在 <strong>Virtual Device Configuration</strong> 向导中的<strong>Automotive</strong> 标签页下选择以下其中一个选项。</p>

<ol>
<li><strong>Polestar 2</strong>：创建一个可模拟 Polestar 2 音响主机的 AVD。</li>
<li><strong>Automotive (1024p landscape)</strong>：创建一个适用于通用 1024 x 768 像素 Android Automotive 音响主机的 AVD。</li>
</ol>

<p><img src="/studio/images/run/auto-select-hardware.png" alt="选择 Android Automotive 虚拟设备。" />。</p>

<h3 id="3.6-resumable-downloads" data-text="可恢复的 SDK 下载">可恢复的 SDK 下载</h3>

<p>使用 SDK 管理器下载 SDK 组件和工具时，Android Studio 现在允许您恢复已中断的下载（例如，由于网络问题），而不是从头开始重新下载。当互联网连接不可靠时，此增强功能对大量数据的下载（如 Android 模拟器或系统映像）特别有用。</p>

<p>此外，如果您在后台运行 SDK 下载任务，现在可以使用状态栏中的控件暂停或恢复下载。</p>

<p><img src="/studio/preview/features/images/background-download-controls.png" alt="状态栏中的后台下载任务，带有可让您暂停或恢复下载的新控件。" width="658" />
</p><p class="img-caption">状态栏中的后台下载任务，带有可让您暂停或恢复下载的新控件。</p><p></p>

<h3 id="3.6-win32-deprecated" data-text="Win32 已弃用">Win32 已弃用</h3>

<p>Windows 32 位版本的 Android Studio 自 2019 年 12 月之后不再提供更新，自 2020 年 12 月之后也将不再获得支持。您可以继续使用 Android Studio。但是，如需接收其他更新，请将工作站升级为 64 位版本的 Windows。</p>

<p>如需了解详情，请阅读<a href="https://android-developers.googleblog.com/2019/06/moving-android-studio-and-android.html" class="external-link">关于 Windows 32 位弃用说明的博文</a>。</p>

<h3 id="3.6-gradle-sync" data-text="用于优化 Gradle 同步时间的新选项">用于优化 Gradle 同步时间的新选项</h3>

<p>在之前的版本中，Android Studio 会在 Gradle Sync 执行期间检索所有 Gradle 任务的列表。对于大型项目来说，检索任务列表可能会导致同步时间较长。</p>

<p>如需提高 Gradle Sync 性能，请依次转到 <strong>File &gt; Settings &gt; Experimental</strong>，然后选择“Do not build Gradle task list during Gradle sync”。</p>

<p>启用此选项后，Android Studio 会在同步期间跳过构建任务列表，这样可使 Gradle Sync 更快地完成并提高界面响应能力。请注意，当 Android Studio 跳过构建任务列表时，Gradle 面板中的任务列表为空，并且构建文件中的任务名称自动补全功能不起作用。</p>

<h3 id="3.6-gradle-offline-ui" data-text="用于切换 Gradle 离线模式的新位置">用于切换 Gradle 离线模式的新位置</h3>

<p>如需启用或停用 Gradle 离线模式，请先从菜单栏中依次选择 <strong>View &gt; Tool Windows &gt; Gradle</strong>。然后，在 <strong>Gradle</strong> 窗口顶部附近，点击 <strong>Toggle Offline Mode</strong> 图标 <img src="/studio/images/buttons/gradle-offline.png" alt="Gradle 面板中的 Gradle 离线按钮。" class="inline-icon" />。</p>

<h3 id="3.6-idea-2019-2" data-text="IntelliJ IDEA 2019.2">IntelliJ IDEA 2019.2</h3>

<p>核心 Android Studio IDE 已通过 <a href="https://blog.jetbrains.com/idea/2019/07/intellij-idea-2019-2-java-13-preview-features-profiling-tools-services-tool-window-and-more/" class="external-link">2019.2 版本</a>进行了更新，增加了 IntelliJ IDEA 中的相关改进。</p>

<p>如需详细了解版本 2019.2 累积的其他 IntelliJ 版本的改进，请参阅以下页面：</p>

<ul>
<li><a href="https://blog.jetbrains.com/idea/2019/05/intellij-idea-2019-1-3-is-here/" class="external-link">IntelliJ IDEA 2019.1.3</a></li>
<li><a href="https://blog.jetbrains.com/idea/2019/05/intellij-idea-2019-1-2-is-here/" class="external-link">IntelliJ IDEA 2019.1.2</a></li>
<li><a href="https://blog.jetbrains.com/idea/2019/04/intellij-idea-2019-1-1-is-here/" class="external-link">IntelliJ IDEA 2019.1.1</a></li>
</ul>

<h3 id="3-6-community-contributors" data-text="社区贡献者">社区贡献者</h3>

<p>感谢所有帮助我们发现错误及通过其他方式改进 Android Studio 3.6 的社区贡献者。特别要感谢以下报告错误的人士：</p>

<div class="devsite-table-wrapper"><table class="columns">
  <tbody><tr>
    <td>
      <li><a href="https://stackoverflow.com/users/923920/phileo99">Albert Lo</a></li>
      <li><a href="https://github.com/desmondfox">Alexey Rott</a></li>
      <li>Andrea Leganza</li>
      <li><a href="https://github.com/Bennik2000">Benedikt Kolb</a></li>
      <li>César Puerta</li>
      <li><a href="https://github.com/cckroets">Curtis Kroetsch</a></li>
      <li><a href="https://github.com/damianw/">Damian Wieczorek</a></li>
      <li><a href="https://github.com/dlew">Dan Lew</a></li>
      <li><a href="https://stackoverflow.com/users/643007/david-burstr%c3%b6m">David Burström</a></li>
      <li>Deepanshu</li>
      <li>Egor Andreevici</li>
      <li>Eli Graber</li>
      <li><a href="https://stackoverflow.com/users/3636806/eak-team">Emin Kokalari</a></li>
      <li><a href="https://www.github.com/evant">Evan Tatarka</a></li>
      <li>Frantisek Nagy</li>
      <li><a href="https://stackoverflow.com/users/10630172/greg-moens">Greg Moens</a></li>
      <li><a href="https://stackoverflow.com/users/1079990/hannes-ach">Hannes Achleitner</a></li>
      <li><a href="https://github.com/hanspeide">Hans Petter Eide</a></li>
      <li><a href="https://github.com/henningBunk">Henning Bunk</a></li>
      <li><a href="https://twitter.com/botteaap">Hugo Visser</a></li>
      <li><a href="https://github.com/igorescodro">Igor Escodro</a></li>
    </td>
    <td>
      <li><a href="https://github.com/cdsap/">Iñaki Villar</a></li>
      <li><a href="https://github.com/hugosvent">Javentira Lienata</a></li>
      <li><a href="https://github.com/joerogers">Joe Rogers</a></li>
      <li><a href="https://stackoverflow.com/users/419761/l33t">Kristoffer Danielsson</a></li>
      <li><a href="https://github.com/AndroidDeveloperLB">Liran Barsisa</a></li>
      <li><a href="https://github.com/LouisCAD">Louis CAD</a></li>
      <li><a href="https://github.com/lptr">Lóránt Pintér</a></li>
      <li><a href="https://github.com/lwasyl">Łukasz Wasylkowski</a></li>
      <li>Luke Fielke</li>
      <li>Malvin Sutanto</li>
      <li><a href="https://github.com/kubode">Masatoshi Kubode</a></li>
      <li>Mathew Winters</li>
      <li><a href="https://stackoverflow.com/users/1686989/yogurtearl">Michael Bailey</a></li>
      <li>Michał Górny</li>
      <li><a href="https://stackoverflow.com/users/2607246/mike-n">Mihai Neacsu</a></li>
      <li><a href="https://github.com/mikescamell">Mike Scamell</a></li>
      <li><a href="https://github.com/MonteCreasor">Monte Creasor</a></li>
      <li><a href="https://github.com/runningcode/">Nelson Osacky</a></li>
      <li><a href="https://osacky.com/">Nelson Osacky</a></li>
      <li><a href="https://github.com/nickfirmani">Nick Firmani</a></li>
      <li><a href="https://github.com/ansman">Nicklas Ansman Giertz</a></li>
    </td>
    <td>
      <li><a href="https://github.com/sphrak/">Niclas Kron</a></li>
      <li>Nicolás Lichtmaier</li>
      <li><a href="https://github.com/nhaarman">Niek Haarman</a></li>
      <li>Niels van Hove</li>
      <li><a href="https://github.com/vanniktech">Niklas Baudy</a></li>
      <li><a href="https://github.com/renatoarg">Renato Goncalves</a></li>
      <li><a href="https://github.com/RoarGronmo">Roar Grønmo</a></li>
      <li><a href="https://github.com/ruslo">Ruslan Baratov</a></li>
      <li><a href="https://github.com/kozaxinan">Sinan Kozak</a></li>
      <li><a href="https://github.com/sczerwinski">Slawomir Czerwinski</a></li>
      <li><a href="https://github.com/wolfs">Stefan Wolf</a></li>
      <li><a href="https://github.com/sddamico">Stephen D'Amico</a></li>
      <li>Tao Wang</li>
      <li><a href="https://github.com/ThomasCZ">Tomas Chladek</a></li>
      <li><a href="https://stackoverflow.com/users/504179/atom">Tomáš Procházka</a></li>
      <li><a href="https://github.com/autonomousapps">Tony Robalik</a></li>
      <li><a href="https://stackoverflow.com/users/503668/thorbear">Torbjørn Sørli</a></li>
      <li>Warren He</li>
      <li><a href="https://github.com/xcatg">Yenchi Lin</a></li>
      <li><a href="https://github.com/ZacSweers">Zac Sweers</a></li>
    </td>
  </tr>
</tbody></table></div>

<h2 id="3-5-0" data-text="3.5（2019 年 8 月）">3.5（2019 年 8 月）</h2>

<p>Android Studio 3.5 是一个重大版本，同时也是 Project Marble 的项目成果。从 <a href="https://android-developers.googleblog.com/2019/01/android-studio-33.html">Android Studio 3.3</a> 版本开始，Project Marble 项目涵盖了多个版本，着力改进 Android Studio 的三个主要方面：<a href="#3-5-system-health">系统运行状况</a>、<a href="#3-5-feature-polish">功能完善</a>以及错误修复。</p>

<p>如需详细了解这些更新以及其他 Project Marble 更新，请阅读 <a href="https://android-developers.googleblog.com/2019/08/android-studio-35-project-marble-goes.html">Android 开发者博文</a>或以下几个部分。</p>

<p>另外，我们还要感谢所有为此版本提供过帮助的<a href="#3-5-community-contributors">社区贡献者</a>。</p>

<div>
  <devsite-youtube autohide="1" showinfo="0" video-id="OJ3K90FpQ6A" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What’s new in Android Studio 3.5. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/OJ3K90FpQ6A?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=OJ3K90FpQ6A&amp;enablejsapi=1&amp;widgetid=7" id="widget8" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<div class="updates-box">
  <p><b>3.5.3（2019 年 12 月）</b></p>

  <p>
    本次要更新修正了多个问题并进行了多项性能改进。
  </p>

  <p><b>3.5.2（2019 年 11 月）</b></p>

  <p>
    本次要更新修正了多个问题并进行了多项性能改进。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2019/11/android-studio-352-available.html">版本更新博客</a>上的相关博文。
  </p>
  <p><b>3.5.1（2019 年 10 月）</b></p>

  <p>
    本次要更新修正了多个问题并进行了多项性能改进。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2019/10/android-studio-351-available.html">版本更新博客</a>上的相关博文。
  </p>
</div>

<h3 id="3-5-system-health" data-text="Project Marble：系统运行状况">Project Marble：系统运行状况</h3>

<p>本部分将介绍 Android Studio 3.5 中旨在改善系统运行状况的更改。</p>

<h4 id="memory-settings" data-text="推荐内存设置">推荐内存设置</h4>

<p>现在，如果 Android Studio 检测到您可以通过增加操作系统应该为 Android Studio 进程（例如核心 IDE、Gradle 守护程序和 Kotlin 守护程序）分配的 RAM 上限来提高性能，它会通知您。您可以通过点击通知中的操作链接来接受推荐设置，或者，您可以通过以下方式手动调整这些设置：依次选择 <strong>File &gt; Settings</strong>（或者，在 macOS 上依次选择 <strong>Android Studio &gt; Preferences</strong>），然后在 <strong>Appearance &amp; Behavior &gt; System Settings</strong> 下找到 <strong>Memory Settings</strong> 部分。如需了解详情，请参阅<a href="/studio/intro/studio-config#adjusting_heap_size">最大堆大小</a>。</p>

<p><img src="/studio/images/memory-settings-notification.png" alt="有关推荐内存设置的通知。" width="370" />
</p><p class="img-caption">有关推荐内存设置的通知。</p><p></p>

<h4 id="memory-usage-report" data-text="内存使用情况报告">内存使用情况报告</h4>

<p>Android Studio 中的内存问题有时难以重现和报告。为了解决此问题，您可以在 Android Studio 中从菜单栏依次点击 <strong>Help &gt; Analyze Memory Usage</strong>，生成内存使用情况报告。执行此操作后，Android Studio 会在本地清理掉数据中的个人信息，然后询问您是否希望将数据发送给 Android Studio 团队以帮助识别内存问题的来源。如需了解详情，请参阅<a href="/studio/report-bugs#run-memory-usage-report">运行内存使用情况报告</a>。</p>

<p><img src="/studio/images/memory-usage-report.png" alt="内存使用情况报告。" width="728" />
</p><p class="img-caption">内存使用情况报告。</p><p></p>

<h4 id="windows-av-io" data-text="Windows：防病毒文件 I/O 优化">Windows：防病毒文件 I/O 优化</h4>

<p>Android Studio 现在会自动检查某些项目目录是否已从实时防病毒扫描中排除。当能够进行调整以提高构建性能时，Android Studio 会通知您并提供有关如何优化防病毒配置的说明。如需了解详情，请参阅<a href="/studio/intro/studio-config#antivirus-impact">最大限度地降低防病毒软件对构建速度的影响</a>。</p>

<h3 id="3-5-feature-polish" data-text="Project Marble：功能完善">Project Marble：功能完善</h3>

<p>本部分将介绍 Android Studio 3.5 中旨在改进现有功能的更改。</p>

<h4 id="apply-changes" data-text="Apply Changes">Apply Changes</h4>

<p>借助 Apply Changes，您可以将代码和资源更改推送给正在运行的应用，而无需重启应用（在某些情况下，甚至无需重启当前的 Activity）。Apply Changes 实现了一种全新的方法来保持应用的状态。与重写 APK 字节码的 Instant Run 不同，Apply Changes 会利用 Android 8.0（API 级别 26）或更高版本中支持的运行时插桩，实时地重新定义类。</p>

<p>如需了解详情，请参阅 <a href="/studio/run#apply-changes">Apply Changes</a>。</p>

<p><img src="/studio/images/releases/apply-changes-buttons-3.5.png" alt="Apply Changes 的工具栏按钮。" width="534" />
</p><p class="img-caption">Apply Changes 的工具栏按钮。</p><p></p>

<h4 id="3-5-deploy-flow" data-text="应用部署流程">应用部署流程</h4>

<p>Android Studio 有一个新的下拉菜单，可让您快速选择要将应用部署到哪个设备。此菜单还包含一个新选项，可让您一次在多个设备上运行您的应用。</p>

<p><img src="/studio/images/run/deploy-run-app.png" alt="目标设备下拉菜单。" />
</p><p class="img-caption">目标设备下拉菜单。</p><p></p>

<h4 id="3-5-gradle-sync" data-text="改进了 Gradle 同步和缓存检测功能">改进了 Gradle 同步和缓存检测功能</h4>

<p>现在，Android Studio 能够更好地检测 Gradle 在减少其硬盘消耗时何时定期清除构建缓存。在以前的版本中，此状态会导致 Android Studio 报告缺少依赖项，并导致 Gradle 同步失败。现在，Android Studio 只需根据需要下载依赖项，以确保成功完成 Gradle 同步。</p>

<h4 id="3-5-build-error-output" data-text="改进了构建错误输出">改进了构建错误输出</h4>

<p><strong>Build</strong> <img src="/studio/images/buttons/window-build-2x.png" class="inline-icon" alt="Build 窗口图标" /> 窗口现在针对以下构建过程改进了错误报告，例如提供指向文件的链接以及所报告错误对应的行号：</p>

<ul>
<li>AAPT 编译和链接</li>
<li>R8 和 ProGuard</li>
<li>Dexing</li>
<li>资源合并</li>
<li>XML 文件解析</li>
<li>Javac、Kotlinc 和 CMake 编译</li>
</ul>

<h4 id="3-5-project-upgrades" data-text="项目升级">项目升级</h4>

<p>改善了更新体验，提供了更多信息和操作来帮助您更新 Android Studio 和 Android Gradle 插件。例如，有更多的同步和构建错误会包含帮助您在更新时减少错误的操作。</p>

<p>请务必注意，您可以独立于 Android Gradle 插件等其他组件更新 Android Studio。因此，您可以在新版本推出后安全地更新 Android Studio，并在以后更新其他组件。</p>

<h4 id="3-5-layout-editor" data-text="布局编辑器">布局编辑器</h4>

<p>Android Studio 3.5 对布局可视化、管理和互动功能进行了多项改进。</p>

<p>使用 <code translate="no" dir="ltr">ConstraintLayout</code> 时，<strong>Attributes</strong> 面板中新的 <strong>Constraints</strong> 部分会列出所选界面组件的约束关系。您可以从设计图面或约束列表中选择一个约束条件，突出显示这两个区域中的约束条件。</p>

<p><img src="/studio/images/releases/constraint-relationships-3.5.png" alt="所选界面元素的约束关系。" />
</p><p class="img-caption">所选界面元素的约束关系。</p><p></p>

<p>同样，您现在可以选择某个约束条件并按 <code translate="no" dir="ltr">Delete</code> 键，删除约束条件。您还可以按住 <code translate="no" dir="ltr">Control</code> 键（在 macOS 上，按住 <code translate="no" dir="ltr">Command</code>）并点击约束条件定位点来删除约束条件。请注意，当您按住 <code translate="no" dir="ltr">Control</code> 或 <code translate="no" dir="ltr">Command</code> 键并将鼠标悬停在定位点上时，任何关联的约束条件都会变成红色，表示您可以点击以将其删除。</p>

<p>选择视图后，您可以点击 <strong>Attributes</strong> 面板的 <strong>Constraint Widget</strong> 部分的任何一个 <strong>+</strong> 图标来创建约束条件，如下图所示。当您创建新的约束条件时，布局编辑器现在会选择并突出显示该约束条件，为您刚刚添加的约束条件提供即时视觉反馈。</p>

<p><img src="/studio/images/releases/constraint-widget-3.5.gif" alt="此动画演示了如何使用约束条件微件创建约束条件。" />
</p><p class="img-caption">使用约束条件微件创建约束条件。</p><p></p>

<p>在创建约束条件时，布局编辑器现在只会显示您可以约束的符合条件的定位点。以前，布局编辑器会突出显示所有视图上的所有定位点，无论您是否可以约束它们。此外，蓝色叠加层现在会突出显示约束条件的目标。这种突出显示在尝试约束与另一个组件重叠的组件时特别有用。</p>

<p><img src="/studio/images/releases/constraint-target-overlay-3.4.gif" alt="此动画演示了如何在 Android Studio 3.4 中为重叠组件创建约束条件。" width="433" />
</p><p class="img-caption">在 Android Studio 3.4 中为重叠组件创建约束条件。</p><p></p>

<p><img src="/studio/images/releases/constraint-target-overlay-3.5.gif" alt="此动画演示了如何在 Android Studio 3.5 中为重叠组件创建约束条件。" width="433" />
</p><p class="img-caption">在 Android Studio 3.5 中为重叠组件创建约束条件。</p><p></p>

<p>除了上述更新之外，Android Studio 3.5 还包含布局编辑器方面的以下改进：</p>

<ul>
<li>现在，您可以使用<strong>约束条件微件</strong>和默认外边距下拉菜单将尺寸资源用于外边距。</li>
<li>在布局编辑器工具栏中，确定设计图面大小的设备列表已经更新。此外，调整大小时的贴靠行为已得到改进，设计图面上的大小调整手柄现在始终可见。调整大小时，系统会显示可显示常见设备尺寸的新叠加层。</li>
<li>布局编辑器采用了新的配色方案，可改进组件、文本和约束条件之间的一致性并降低它们之间的对比度。</li>
<li>蓝图模式现在包含对某些文本未显示的组件的文本支持。</li>
</ul>

<p>如需详细了解这些更改，请参阅 <a href="https://medium.com/androiddevelopers/android-studio-project-marble-layout-editor-608b6704957a">Android Studio Project Marble：布局编辑器</a>。</p>

<h4 id="3-5-data-binding" data-text="数据绑定">数据绑定</h4>

<p>除了为数据绑定添加<a href="#incremental_ap">增量注解处理支持</a>之外，Android Studio 还改进了在 XML 中创建数据绑定表达式时智能编辑器的功能和性能。</p>

<p><img src="/studio/images/releases/xml-editing-latency-3.4.gif" alt="此动画演示了 Android Studio 3.4 上的代码编辑器性能。" />
</p><p class="img-caption">Android Studio 3.4 上的代码编辑器性能。</p>
<img src="/studio/images/releases/xml-editing-latency-3.5.gif" alt="此动画演示了 Android Studio 3.5 上的代码编辑器性能。" />
<p class="img-caption">改进了 Android Studio 3.5 上的代码编辑性能。</p><p></p>

<h4 id="3-5-ndk" data-text="改进了对 C/C++ 项目的支持">改进了对 C/C++ 项目的支持</h4>

<p>Android Studio 3.5 包含一些更改，可以改进对 C/C++ 项目的支持。</p>

<h5 id="3-5-single-variant-ABI" data-text="针对单个变体同步的 Build Variants 面板改进">针对单个变体同步的 Build Variants 面板改进</h5>

<p>现在，您可以在 <strong>Build Variants</strong> 面板中同时指定活动构建变体和活动 ABI。此功能简化了每个模块的构建配置，还可以提高 Gradle 同步性能。</p>

<p>如需了解详情，请参阅<a href="/studio/run#changing-variant">更改构建变体</a>。</p>

<p><img src="/studio/images/releases/single-variant-ABI.png" alt="Build Variants 面板按 ABI 显示单个变体选择。" width="523" />
</p><p class="img-caption">Build Variants 面板，按 ABI 进行单个变体选择。</p><p></p>

<h5 id="3-5-ndk-sbs" data-text="NDK 并排版本">NDK 并排版本</h5>

<p>现在，您可以并排使用 NDK 的多个版本。此功能可让您更灵活地配置项目，例如，如果项目在同一计算机上使用了不同版本的 NDK。</p>

<p>如果您的项目使用 Android Gradle 插件 3.5.0 或更高版本，您还可以指定项目中每个模块应使用的 NDK 版本。您可以使用此功能来创建可重现的 build，并缓解 NDK 版本与 Android Gradle 插件之间的不兼容性。</p>

<p>如需了解详情，请参阅<a href="/studio/projects/install-ndk">安装及配置 NDK、CMake 和 LLDB</a>。</p>

<h3 id="chrome-os-support" data-text="支持 Chrome 操作系统">支持 Chrome 操作系统</h3>

<p>Android Studio 现已正式支持 Chrome 操作系统设备，例如 HP Chromebook x360 14、Acer Chromebook 13/Spin 13 以及其他设备，具体可参阅<a href="/studio#Requirements">系统要求</a>。如需开始使用，请在兼容的 Chrome 操作系统设备上<a href="/studio">下载 Android Studio</a>，然后按照<a href="/studio/install#chrome-os">安装说明</a>操作。</p>
<aside class="note"><strong>注意</strong><span>：Chrome 操作系统上的 Android Studio 目前仅支持将应用部署至已连接的硬件设备。如需了解详情，请参阅<a href="/studio/run/device">在硬件设备上运行应用</a>。</span></aside><h3 id="conditional-delivery" data-text="按条件分发功能模块">按条件分发功能模块</h3>

<p>通过按条件分发，您可以针对将在应用安装过程中自动下载的功能模块设置特定的设备配置要求。例如，您可以配置包含增强现实 (AR) 功能的功能模块，其仅供支持 AR 功能的设备在安装应用时可用。</p>

<p>此分发机制目前支持根据以下设备配置来控制模块在应用安装时的下载情况：</p>

<ul>
<li>设备硬件和软件功能，包括 OpenGL ES 版本</li>
<li>用户所在国家/地区</li>
<li>API 级别</li>
</ul>

<p>如果设备不满足您指定的所有要求，相应模块便不会在应用安装时下载。不过，您的应用以后可以使用 Play Core 库来请求<a href="/guide/app-bundle/playcore">按需下载此模块</a>。如需了解详情，请阅读<a href="/studio/projects/dynamic-delivery/conditional-delivery">配置按条件分发</a>。</p>

<h3 id="idea-2019-1" data-text="IntelliJ IDEA 2019.1">IntelliJ IDEA 2019.1</h3>

<p>核心 Android Studio IDE 已通过 <a href="https://blog.jetbrains.com/idea/2019/03/intellij-idea-2019-1-is-released-theme-customization-java-12-switch-expressions-debug-inside-docker-containers-and-more/" class="external-link">2019.1 版本</a>进行了更新，增加了 IntelliJ IDEA 中的相关改进，例如主题背景自定义。</p>

<p>Android Studio 附带的最后一个 IntelliJ 版本为 2018.3.4。如需详细了解此版本 Android Studio 累积的其他 IntelliJ 版本的改进，请参阅以下错误修复更新：</p>

<ul>
<li><a href="https://blog.jetbrains.com/idea/2019/03/intellij-idea-2018-3-6-is-released/" class="external-link">IntelliJ IDEA 2018.3.6</a></li>
<li><a href="https://blog.jetbrains.com/idea/2019/02/intellij-idea-2018-3-5-is-out/" class="external-link">IntelliJ IDEA 2018.3.5</a></li>
</ul>

<h3 id="3-5-agp-updates" data-text="Android Gradle 插件 3.5.0 更新">Android Gradle 插件 3.5.0 更新</h3>

<p>如需了解 Android Gradle 插件 3.5.0 中的新变化，例如针对增量注解处理和可缓存单元测试的改进支持，请参阅其<a href="/studio/releases/gradle-plugin">版本说明</a>。</p>

<h3 id="3-5-community-contributors" data-text="社区贡献者">社区贡献者</h3>

<p>感谢所有帮助我们发现错误及通过其他方式改进 Android Studio 3.5 的社区贡献者。特别要感谢以下报告 P0 和 P1 错误的人士：</p>

<div class="devsite-table-wrapper"><table class="columns">
  <tbody><tr>
    <td>
      <ul>
        <li><a href="https://github.com/aaronhe42">Aaron He</a></li>
        <li><a href="https://github.com/anddybdahl">Andreas Dybdahl</a></li>
        <li><a href="https://github.com/Vampirelu">Andrei Vădan</a></li>
        <li><a href="https://github.com/ashughes">Andrew Hughes</a></li>
        <li><a href="https://github.com/gildor">Andrey Mischenko</a></li>
        <li>Andrii Seredenko</li>
        <li><a href="https://github.com/BoD">Benoît 'BoD' Lubek</a></li>
        <li><a href="https://github.com/alashow">Berkeli Alashov</a></li>
        <li><a href="https://github.com/stolk">Bram Stolk</a></li>
        <li><a href="https://github.com/gtcompscientist">Charles Anderson</a></li>
        <li>Curtis Kroetsch</li>
        <li><a href="https://stackoverflow.com/users/643007/david-burstr%c3%b6m">David Burström</a></li>
        <li><a href="https://github.com/DeweyReed">DeweyReed</a></li>
        <li>Dmitriy Dolovov</li>
        <li><a href="https://stackoverflow.com/users/3636806/eak-team">Emin Kokalari</a></li>
        <li><a href="https://github.com/evant">Evan Tatarka</a></li>
        <li><a href="https://github.com/xapienz">Evgeny Brazgin</a></li>
      </ul>
    </td>
    <td>
      <ul>
        <li><a href="https://github.com/gmk57">George Kropotkin</a></li>
        <li><a href="https://github.com/ifeins">Ido Feins</a></li>
        <li>Jakub Banaszewski</li>
        <li><a href="https://github.com/jmfayard">Jean-Michel Fayard</a></li>
        <li><a href="https://github.com/jrodbx">John Rodriguez</a></li>
        <li><a href="https://github.com/dudududi">Kamil Dudek</a></li>
        <li><a href="https://github.com/STAR-ZERO">Kenji Abe</a></li>
        <li><a href="https://stackoverflow.com/users/878126/android-developer">Liran Barsisa</a></li>
        <li><a href="https://github.com/LouisCAD">Louis CAD</a></li>
        <li>Luke Fielke</li>
        <li><a href="https://github.com/lptr">Lóránt Pintér</a></li>
        <li>Marcin Dawid</li>
        <li>Mario O</li>
        <li><a href="https://github.com/mvignale1987">Mauricio Vignale</a></li>
        <li><a href="https://stackoverflow.com/users/1686989/yogurtearl">Michael Bailey</a></li>
        <li>Miguel Angel Rossi Sanahuja</li>
        <li><a href="https://github.com/vanniktech">Niklas Baudy</a></li>
      </ul>

    </td>
    <td>
      <ul>
        <li><a href="https://github.com/NoahAndrews">Noah Andrews</a></li>
        <li><a href="https://github.com/sanchopanchos">Oleksandr Zakrevskyi</a></li>
        <li>Peter Vegh</li>
        <li><a href="https://github.com/rishabh876">Rishabh harit</a></li>
        <li><a href="https://github.com/RoarGronmo">Roar Grønmo</a></li>
        <li><a href="https://github.com/tasomaniac/">Said Tahsin Dane</a></li>
        <li><a href="https://stackoverflow.com/users/6600637/shynline">Shayan Sabahi</a></li>
        <li><a href="https://github.com/sczerwinski">Slawomir Czerwinski</a></li>
        <li>Stephen Yu</li>
        <li><a href="https://github.com/dsteve595">Steven Schoen</a></li>
        <li><a href="https://github.com/tolriq">Tolriq</a></li>
        <li><a href="https://github.com/autonomousapps">Tony Robalik</a></li>
        <li><a href="https://github.com/bubenheimer/">Uli Bubenheimer</a></li>
        <li>Vixb Xue</li>
        <li><a href="https://github.com/wisechengyi">Yi Cheng</a></li>
      </ul>
    </td>
  </tr>
</tbody></table></div>

<h2 id="3-4-0" data-text="3.4（2019 年 4 月）">3.4（2019 年 4 月）</h2>

<p>Android Studio 3.4 是一个主要版本，包含各种新功能和改进。</p>

<div>
  <devsite-youtube autohide="1" showinfo="0" video-id="3lDO5uFkJoQ" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What’s new in Android Studio 3.4. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/3lDO5uFkJoQ?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=3lDO5uFkJoQ&amp;enablejsapi=1&amp;widgetid=9" id="widget10" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<div class="dac-releases-page updates-box">
  <p><b>3.4.2（2019 年 7 月）</b></p>

  <p>
    本次要更新修正了多个问题并进行了多项性能改进。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2019/07/android-studio-342-available.html">版本更新博客</a>上的相关博文。
  </p>

  <p><b>3.4.1（2019 年 5 月）</b></p>

  <p>
    本次要更新修正了多个问题并进行了多项性能改进。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2019/05/android-studio-341-available.html">版本更新博客</a>上的相关博文。
  </p>

  <p><b>3.4.0 已知问题</b></p>
  <ul>
    <li><p>将应用部署到搭载 Android Q Beta 版的设备时，系统会停用性能剖析功能。</p></li>
    <li>使用数据绑定库时，<code translate="no" dir="ltr">LiveDataListener.onChanged()</code> 可能会因 NPE 而失败。针对此问题的修复程序将包含在 Android Studio 3.4.1 中，并且已在 Android Studio 3.5 的最新<a href="/studio/preview">预览版</a>中提供。（请参阅<a href="https://issuetracker.google.com/122066788">问题 #122066788</a>）
    </li>
  </ul>
</div>

<h3 id="intellij-3-4" data-text="IntelliJ IDEA 2018.3.4">IntelliJ IDEA 2018.3.4</h3>

<p>核心 Android Studio IDE 已通过 <a href="https://blog.jetbrains.com/idea/2019/01/intellij-idea-2018-3-4-is-released/">2018.3.4 版本</a>进行了更新，增加了 IntelliJ IDEA 中的相关改进。</p>

<h3 id="agp-3-4-0" data-text="Android Gradle 插件 3.4.0 更新">Android Gradle 插件 3.4.0 更新</h3>

<p>如需了解 Android Gradle 插件 3.4.0 中的新变化，请参阅其<a href="/studio/releases/gradle-plugin">版本说明</a>。</p>

<h3 id="psd" data-text="新的 Project Structure 对话框">新的 Project Structure 对话框</h3>

<p>新的 Project Structure 对话框 (PSD) 可让您更轻松地更新依赖项并配置项目的不同方面，例如模块、构建变体、签名配置和构建变量。</p>

<p>您可以从菜单栏中依次选择 <strong>File &gt; Project Structure</strong> 来打开 PSD，也可以通过按 <code translate="no" dir="ltr">Ctrl+Shift+Alt+S</code>（在 Windows 和 Linux 上）或 <code translate="no" dir="ltr">Command+;</code>（分号，在 macOS 上）来打开 PSD。您可以在下面找到有关 PSD 的一些新部分和更新部分的说明。</p>

<h4 id="psd-variables" data-text="变量">变量</h4>

<p>使用 PSD 新增的变量部分，您可以创建和管理构建变量，例如用于确保依赖项的版本号在项目中保持一致的构建变量。</p>

<p><img src="/studio/images/releases/psd_variables.png" width="856" /></p>

<ul>
<li>快速查看和修改项目的 Gradle 构建脚本中已有的构建变量。</li>
<li>直接从 PSD 添加新的项目级或模块级构建变量。</li>
</ul>
<aside class="note"><strong>注意</strong><span>：如果您的现有构建配置文件通过复杂的 Groovy 脚本分配值，可能就无法通过 PSD 修改这些值。此外，您无法使用 PSD 修改用 Kotlin 编写的构建文件。</span></aside>
<h4 id="psd-modules" data-text="模块">模块</h4>

<p>配置应用于现有模块中所有构建变体的属性，或者从 <strong>Modules</strong> 部分向项目添加新模块。例如，您可以在此处配置 <code translate="no" dir="ltr">defaultConfig</code> 属性或管理签名配置。</p>

<h4 id="psd-dependencies" data-text="依赖项">依赖项</h4>

<p>检查并以图形方式呈现项目依赖项图中的每个依赖项（如 Gradle 在项目同步时所解析的那样），具体步骤如下：</p>

<ol>
<li>在 PSD 的左侧窗格中，选择 <strong>Dependencies</strong>。</li>
<li>在 <strong>Modules</strong> 窗格中，选择您想要检查已解析的依赖项的模块。</li>
<li><p>在 PSD 的右侧，打开 <strong>Resolved Dependencies</strong> 窗格，如下所示。</p>

<p><img src="/studio/images/releases/psd_resolved_dependencies.png" width="856" /></p></li>
</ol>

<p>您还可以快速搜索依赖项并将其添加到项目中，具体方法是：首先从 PSD 的 <strong>Dependencies</strong> 部分选择一个模块，点击 <strong>Declared Dependencies</strong> 部分中的 (+) 按钮，然后选择要添加的依赖项类型。</p>

<p>根据您选择的依赖项的类型，您应该会看到一个类似如下的对话框，它可以帮助您向模块中添加依赖项。</p>

<p><img src="/studio/images/releases/psd_add_dependency.png" width="856" /></p>

<h4 id="psd-build-variants" data-text="构建变体">构建变体</h4>

<p>在 PSD 的这一部分中，为项目中的每个模块创建和配置构建变体和产品变种。您可以添加清单占位符，添加 ProGuard 文件以及分配签名密钥等。</p>

<p><img src="/studio/images/releases/psd_build_variants.png" width="856" /></p>

<h4 id="psd-suggestions" data-text="建议">建议</h4>

<p>您可以在 <strong>Suggestions</strong> 部分中查看为项目依赖项和构建变量建议的更新，如下图所示。</p>

<p><img src="/studio/images/releases/psd_suggestions.png" width="856" /></p>

<h3 id="resource-manager" data-text="新的 Resource Manager">新的 Resource Manager</h3>

<p>Resource Manager 是一个新的工具窗口，用于在应用中导入、创建、管理和使用资源。您可以从菜单栏中依次选择 <strong>View &gt; Tool Windows &gt; Resource Manager</strong> 来打开该工具窗口。通过 Resource Manager，您可以执行以下操作：</p>

<p><img src="/studio/images/releases/resource_manager.png" width="550px" /></p>

<ul>
<li><strong>直观地呈现资源</strong>：您可以预览可绘制资源、颜色和布局，以快速找到所需的资源。</li>
<li><strong>批量导入</strong>：您可以一次导入多项可绘制资源，具体方法是：将这些资源拖放到 <strong>Resource Manager</strong> 工具窗口中或使用 <strong>Import drawables</strong> 向导。如需访问向导，请选择工具窗口左上角的 (+) 按钮，然后从下拉菜单中选择 <strong>Import Drawables</strong>。</li>
<li><strong>将 SVG 转换为 <code translate="no" dir="ltr">VectorDrawable</code> 对象</strong>：您可以使用 <strong>Import Drawables</strong> 向导将 SVG 图片转换为 <code translate="no" dir="ltr">VectorDrawable</code> 对象。</li>
<li><strong>拖放资源</strong>：在 <strong>Resource Manager</strong> 工具窗口中，您可以将可绘制资源拖放到 Layout Editor 的设计视图和 XML 视图上。</li>
<li><strong>查看备用版本</strong>：现在，您可以在 <strong>Tool</strong> 窗口中双击某项资源来查看该资源的备用版本。此视图会显示您创建的不同版本以及包含的限定符。</li>
<li><strong>平铺和列表视图</strong>：您可以在工具窗口中更改视图，以便以不同的排列方式显示您的资源。</li>
</ul>

<p>如需了解详情，请阅读有关如何<a href="/studio/write/resource-manager">管理应用资源</a>的指南。</p>

<h3 id="check-build-id" data-text="在对 APK 进行性能剖析和调试时检查版本号">在对 APK 进行性能剖析和调试时检查 build ID</h3>

<p>当您为 APK 内的 <code translate="no" dir="ltr">.so</code> 共享库提供调试符号文件时，Android Studio 会验证所提供的符号文件的 <a href="https://linux.die.net/man/1/ld">build ID</a> 是否与 APK 内 <code translate="no" dir="ltr">.so</code> 库的 build ID 匹配。</p>

<p>如果您通过版本号构建 APK 中的原生库，Android Studio 会检查符号文件中的版本号是否与原生库中的版本号匹配，如果不匹配，会拒绝该符号文件。如果您不是使用版本号构建的原生库，提供不正确的符号文件可能会导致调试出现问题。</p>

<h3 id="r8-default" data-text="R8 默认处于启用状态">R8 默认处于启用状态</h3>

<p>R8 将脱糖、压缩、混淆、优化和 dex 处理整合到一个步骤中，从而<a href="https://www.google.com/url?q=https://android-developers.googleblog.com/2018/11/r8-new-code-shrinker-from-google-is.html&amp;sa=D&amp;ust=1551922493258000&amp;usg=AFQjCNH0N1wuMX645n7giw0wjikzjm3WCA">显著提高了构建性能</a>。R8 是在 Android Gradle 插件 3.3.0 中引入的，对于使用插件 3.4.0 及更高版本的应用和 Android 库项目，R8 现已默认处于启用状态。</p>

<p>下图是 R8 引入之前的编译流程的简要概览。</p>

<p><img src="/studio/images/build/r8/compile_with_d8_proguard.png" alt="在 R8 之前，ProGuard 是一个与 dex 处理和脱糖不同的编译步骤。" width="855" /></p>

<p>现在，有了 R8，可以在一个步骤中完成脱糖、压缩、混淆、优化和 dex 处理 (D8)，如下图所示。</p>

<p><img src="/studio/images/build/r8/compile_with_r8.png" alt="有了 R8，可以在一个编译步骤中执行脱糖、压缩、混淆、优化和 dex 处理。" width="856" /></p>

<p>请注意，R8 旨在与您现有的 ProGuard 规则配合使用，因此您可能不需要采取任何操作即可从 R8 中受益。但是，相对专为 Android 项目设计的 ProGuard 而言，R8 是一项不同的技术，因此压缩和优化可能会导致移除 ProGuard 可能没有的代码。因此，在这种情况（尽管不太可能发生）下，您可能需要添加其他规则，以在构建输出中保留这些代码。</p>

<p>如果您在使用 R8 时遇到问题，请阅读 <a href="https://r8.googlesource.com/r8/+/refs/heads/master/compatibility-faq.md">R8 兼容性常见问题解答</a>一文，以检查是否有针对您的问题的解决方案。如果没有记录的解决方案，请<a href="https://issuetracker.google.com/issues/new?component=326788&amp;template=1025938">报告错误</a>。您可以停用 R8，只需将以下其中一行代码添加到项目的 <code translate="no" dir="ltr">gradle.properties</code> 文件即可：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr"># Disables R8 for Android Library modules only.
android.enableR8.libraries = false
# Disables R8 for all modules.
android.enableR8 = false
</code></pre></devsite-code><aside class="note"><strong>注意</strong>：<span>对于指定构建类型，如果您在应用模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中将 <code translate="no" dir="ltr">useProguard</code> 设为 <code translate="no" dir="ltr">false</code>，Android Gradle 插件会使用 R8 压缩该构建类型的应用代码，无论您是否在项目的 <code translate="no" dir="ltr">gradle.properties</code> 文件中停用 R8 都是如此。</span></aside>
<h3 id="nav-editor-args" data-text="Navigation Editor 现在支持所有参数类型">Navigation Editor 现在支持所有参数类型</h3>

<p>现在，导航组件支持的所有参数类型都在 Navigation Editor 中得到支持。如需详细了解支持的类型，请参阅<a href="/topic/libraries/architecture/navigation/navigation-pass-data">在平台之间传递数据</a>。</p>

<h3 id="layout-editor" data-text="布局编辑器方面的改进">布局编辑器方面的改进</h3>

<p>布局编辑器中的 <strong>Attributes</strong> 窗格已经简化为单个页面，您可以展开该页面中的各部分，查看可配置的属性。<strong>Attributes</strong> 窗格还包含以下更新：</p>

<ul>
<li>新的 <strong>Declared Attributes</strong> 部分列出了布局文件指定的属性，并且可让您快速添加新属性。</li>
<li>现在，<strong>Attributes</strong> 窗格还会在每个属性旁边显示指示符，当该属性的值是资源引用时，这些指示符是非中空的 <img src="/studio/images/buttons/layout-editor-indicator-solid.png" class="inline-icon" alt="" />，在其他情况下则是中空的 <img src="/studio/images/buttons/layout-editor-indicator-empty.png" class="inline-icon" alt="" />。</li>
<li>现在，系统会突出显示带有错误或警告的属性。红色表示错误（例如，使用无效布局值时），橙色表示警告（例如，使用硬编码值时）。</li>
</ul>

<h3 id="import-intention" data-text="用于快速导入依赖项的新 intent 操作">用于快速导入依赖项的新 intent 操作</h3>

<p>如果您开始在代码中使用某些 Jetpack 和 Firebase 类，新的 intent 操作会建议将所需的 Gradle 库依赖项添加到项目中（如果您尚未这样做）。例如，如果您在未先导入所需的 <code translate="no" dir="ltr">android.arch.work:work-runtime</code> 依赖项的情况下引用 <code translate="no" dir="ltr">WorkManager</code> 类，intent 操作可让您只需点击一次即可轻松实现此目的，如下所示。</p>

<p><img src="/studio/images/releases/import_intention.png" width="540" /></p>

<p>特别是，由于 Jetpack 将支持库重新打包为易于管理和更新的独立软件包，因此该 intent 操作可帮助您快速添加您想要使用的 Jetpack 组件所需的依赖项。</p>

<h2 id="3-3-0" data-text="3.3（2019 年 1 月）">3.3（2019 年 1 月）</h2>

<p>Android Studio 3.3 是一个主要版本，包含各种新功能和改进。</p>

<div>
  <devsite-youtube autohide="1" showinfo="0" video-id="DdWWsruUXTo" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What’s new in Android Studio 3.3. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/DdWWsruUXTo?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=DdWWsruUXTo&amp;enablejsapi=1&amp;widgetid=11" id="widget12" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<p>
</p><div class="dac-releases-page updates-box">

  <p><b>3.3.2（2019 年 3 月）</b></p>

<p></p><p>
    本次要更新修正了多个问题并进行了多项性能改进。如需查看重要问题修复列表，请阅读<a href="https://androidstudio.googleblog.com/2019/03/android-studio-332-available.html">版本更新博客</a>上的相关博文。
  </p><p></p>

<p></p><p><b>3.3.1（2019 年 2 月）</b></p><p></p>

<p></p><p>
    本次要更新修正了多个问题并进行了多项性能改进。
  </p>
</div><p></p>

<h3 id="idea-2018-2-2" data-text="IntelliJ IDEA 2018.2.2">IntelliJ IDEA 2018.2.2</h3>

<p>核心 Android Studio IDE 已通过 <a href="http://blog.jetbrains.com/idea/2018/08/intellij-idea-2018-2-2-is-released">2018.2.2 版本</a>进行了更新，增加了 IntelliJ IDEA 中的相关改进。</p>

<h3 id="gradle-updates-3-3" data-text="Android Gradle 插件更新">Android Gradle 插件更新</h3>

<p>如需了解 Android Gradle 插件中的新变化，请参阅其<a href="/studio/releases/gradle-plugin">版本说明</a>。</p>

<h3 id="nav-editor" data-text="Navigation Editor">Navigation Editor</h3>

<p>借助 Navigation Editor，您可以使用<a href="/topic/libraries/architecture/navigation">导航架构组件</a>快速直观呈现导航内容并将其构建到您的应用中。</p>

<p><img src="/studio/images/releases/navigation-editor_2x.png" width="750" /></p>

<p>如需了解详情，请参阅<a href="/topic/libraries/architecture/navigation/navigation-implementing">使用导航架构组件实现导航</a>。</p>

<h3 id="delete-unused" data-text="删除未使用的 Android Studio 目录">删除未使用的 Android Studio 目录</h3>

<p>当您首次运行 Android Studio 的主要版本时，它会查找包含缓存、设置、索引和日志的目录，以确定找不到对应安装内容的 Android Studio 的版本。然后，<strong>Delete Unused Android Studio Directories</strong> 对话框中会显示这些未使用目录的位置、大小和最后修改时间，并提供删除它们的选项。</p>

<p>Android Studio 考虑删除的目录如下所示：</p>

<ul>
<li>Linux：<code translate="no" dir="ltr">~/.AndroidStudio[Preview]_X.Y_</code></li>
<li>Mac：<code translate="no" dir="ltr">~/Library/{Preferences, Caches, Logs, Application Support}/AndroidStudio[Preview]_X.Y_</code></li>
<li>Windows：<code translate="no" dir="ltr">%USER%\.AndroidStudio[Preview]_X.Y_</code></li>
</ul>

<p><img src="/studio/images/releases/delete-unused-directories-dialog-2x.png" width="615" /></p>

<h3 id="lint" data-text="Lint 方面的改进">Lint 方面的改进</h3>

<p>从 Gradle 调用时，Lint 的运行速度明显加快 - 对于较大的项目，Lint 的运行速度最多可提高四倍。</p>

<h3 id="new-project" data-text="“Create New Project”向导">“Create New Project”向导</h3>

<p><strong>Create New Project</strong> 向导具有全新外观，并且包含有助于简化新 Android Studio 项目创建过程的更新。</p>

<p><img src="/studio/images/projects/new-project-wizard-choose_2x.png" width="750" /></p>

<p>如需了解详情，请参阅<a href="/studio/projects/create-project">创建项目</a>。</p>

<h3 id="profiler-updates-3-3" data-text="分析器更新">分析器更新</h3>

<p>Android Studio 3.3 包含对多个分析器的更新。</p>

<h4 id="profiler-performance" data-text="改进了性能">改进了性能</h4>

<p>根据用户反馈，使用性能剖析器时的渲染性能得到了极大的改善。请继续<a href="https://issuetracker.google.com/issues/new?component=192722">提供反馈</a>，特别是在您依旧看到性能问题时。</p>

<h4 id="memory-allocation-tracking" data-text="分析器内存分配跟踪选项">内存性能分析器内存分配跟踪选项</h4>

<p>为了在进行性能剖析时提高应用性能，<a href="/studio/profile/memory-profiler">内存性能分析器</a>现在会默认定期对内存分配进行采样。如果需要，您可以在搭载 Android 8.0（API 级别 26）或更高版本的设备上进行测试时使用 <strong>Allocation Tracking</strong> 下拉列表来更改此行为。</p>

<p><img src="/studio/images/releases/profiler-memory-allocation-modes.png" /></p>

<p>您可以从 <strong>Allocation Tracking</strong> 下拉列表中选择以下模式：</p>

<ul>
<li><strong>Full</strong>：捕获所有对象内存分配。请注意，如果您有一个分配了大量对象的应用，可能会在进行性能剖析时遇到重大性能问题。</li>
<li><strong>Sampled</strong>：捕获对象内存分配的周期性采样。这是默认行为，在进行性能剖析时对应用性能的影响较小。对于在短时间内分配大量对象的应用，您可能会遇到一些性能问题。</li>
<li><p><strong>Off</strong>：关闭内存分配。如果未选择此选项，系统会在记录 CPU 时自动启用此模式，然后在记录完成后恢复先前的设置。您可以在 CPU 记录配置对话框中更改此行为。</p>

<p>跟踪会同时影响 Java 对象和 JNI 引用。</p></li>
</ul>

<h4 id="inspect-frame-rendering" data-text="检查帧渲染数据">检查帧渲染数据</h4>

<p>在 <a href="/studio/profile/cpu-profiler">CPU 性能剖析器</a>中，您现在可以检查 Java 应用在主界面线程和 RenderThread 上渲染每个帧所需的时间。在调查会导致界面卡顿和帧速率偏低的瓶颈时，此数据可能很有用。例如，每个用时超过 16 毫秒才能保持顺畅帧速率的帧都以红色显示。</p>

<p>如需查看帧渲染数据，请使用使您可以<strong>跟踪系统调用</strong>的配置来<a href="/studio/profile/cpu-profiler#method_traces">记录跟踪</a>。记录跟踪后，在 <strong>FRAMES</strong> 部分下查找沿记录时间轴的每个帧的相关信息，如下所示。</p>

<p><img src="/studio/images/releases/frame-rendering_2x.png" width="856" /></p>

<p>如需详细了解如何调查和解决帧速率问题，请阅读<a href="/topic/performance/vitals/render">渲染速度缓慢</a>。</p>

<h4 id="fragments-in-event-timeline" data-text="事件时间轴中的 Fragment">事件时间轴中的 Fragment</h4>

<p>事件时间轴现在会显示附加和分离 Fragment 的时间。此外，将鼠标悬停在某个 Fragment 上时，工具提示会显示 Fragment 状态。</p>

<p><img src="/studio/images/releases/fragments-activity-bar_2x.png" width="652" /></p>

<h4 id="formatted-payloads" data-text="在 Network Profiler 中查看连接负载的格式化文本">在网络性能剖析器中查看连接负载的格式化文本</h4>

<p>以前，网络性能剖析器仅显示来自连接负载的原始文本。Android Studio 3.3 现在会默认格式化某些文本类型，包括 JSON、XML 和 HTML。在 <strong>Response</strong> 和 <strong>Request</strong> 标签页中，点击 <strong>View Parsed</strong> 链接可显示格式化文本，点击 <strong>View Source</strong> 链接可显示原始文本。</p>

<p><img src="/studio/images/releases/network-profiler-text_2x.png" width="856px" /></p>

<p>如需了解详情，请参阅<a href="/studio/profile/network-profiler">利用网络性能剖析器检查网络流量</a>。</p>

<h3 id="automatic-downloading-sdk" data-text="自动下载 SDK 组件">自动下载 SDK 组件</h3>

<p>当您的项目需要 SDK 平台、NDK 或 CMake 中的 SDK 组件时，Gradle 现在会尝试自动下载所需的软件包，前提是您之前已使用 SDK 管理器接受了所有相关的许可协议。</p>

<p>如需了解详情，请参阅<a href="/studio/intro/update#download-with-gradle">使用 Gradle 自动下载缺失的软件包</a>。</p>

<h3 id="clang-tidy-support" data-text="对 Clang-Tidy 的支持">对 Clang-Tidy 的支持</h3>

<p>Android Studio 现在支持使用 <a href="http://clang.llvm.org/extra/clang-tidy/">Clang-Tidy</a> 对包含原生代码的项目进行静态代码分析。如需启用对 Clang-Tidy 的支持，请<a href="/ndk/guides#download-ndk">将 NDK 更新</a>为 r18 或更高版本。</p>

<p>然后，您可以启用或重新启用检查，方法是打开 <strong>Settings</strong> 或 <strong>Preferences</strong> 对话框，然后依次转到 <strong>Editor &gt; Inspections &gt; C/C++ &gt; General &gt; Clang-Tidy</strong>。在 <strong>Settings</strong> 或 <strong>Preferences</strong> 对话框中选择此检查时，您还可以在最右侧面板的 <strong>Option</strong> 部分下看到已启用和停用的 Clang-Tidy 检查列表。如需启用<a href="https://clang.llvm.org/extra/clang-tidy/checks/list.html">其他检查</a>，请将其添加到列表中，然后点击 <strong>Apply</strong>。</p>

<p>如需使用<a href="http://clang.llvm.org/extra/clang-tidy/#using-clang-tidy">其他选项</a>配置 Clang-Tidy，请点击 <strong>Configure Clang-Tidy Checks Options</strong>，然后在随即打开的对话框中添加这些选项。</p>

<h3 id="cpp-options-removal" data-text="移除了针对 C++ 自定义的选项">移除了针对 C++ 自定义的选项</h3>

<p>已从 <strong>Customize C++ Support</strong> 对话框中移除以下选项：</p>

<ul>
<li><strong>Exceptions Support (-fexceptions)</strong></li>
<li><strong>Runtime Type Information Support (-ftti)</strong></li>
</ul>

<p>系统已对通过 Android Studio 创建的所有项目启用相应行为。</p>

<h3 id="cmake-3-10-2" data-text="CMake 版本 3.10.2">CMake 版本 3.10.2</h3>

<p>SDK 管理器现在包含 CMake 版本 3.10.2。请注意，Gradle 默认仍会使用版本 3.6.0。</p>

<p>如需为 Gradle 指定要使用的 CMake 版本，请将以下内容添加到模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">android {
    ...
    externalNativeBuild {
        cmake {
            ...
            version "3.10.2"
        }
    }
}
</code></pre></devsite-code>
<p>如需详细了解如何在 <code translate="no" dir="ltr">build.gradle</code> 中配置 CMake，请参阅<a href="/studio/projects/gradle-external-native-builds#configure-gradle">手动配置 Gradle</a>。</p>

<h3 id="cmake-plus" data-text="用于指定最低 CMake 版本的新“+”语法">用于指定最低 CMake 版本的新“+”语法</h3>

<p>在主模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中指定 CMake 的版本时，您现在可以附加“+”以匹配 CMake <a href="https://cmake.org/cmake/help/latest/command/cmake_minimum_required.html"><code translate="no" dir="ltr">cmake_minimum_required()</code></a> 命令的行为。</p>
<aside class="caution"><strong>警告</strong><span>：不建议将“+”语法与其他<a href="/studio/build/dependencies">构建依赖项</a>搭配使用，因为动态依赖项可能会导致意外的版本更新和难以解析版本差异。</span></aside>
<h3 id="app-bundles-instant" data-text="Android App Bundle 现在支持免安装应用">Android App Bundle 现在支持免安装应用</h3>

<p>Android Studio 现在允许您构建 <a href="/guide/app-bundle">Android App Bundle</a>，并且完全支持 <a href="/topic/google-play-instant/overview">Google Play 免安装体验</a>。换句话说，您现在可以构建和部署单个 Android Studio 项目中的已安装应用和免安装体验，并将其纳入单个 Android App Bundle 中。</p>

<p>如果您要使用 <strong>Create New Project</strong> 对话框创建新的 Android Studio 项目，请确保选中 <strong>Configure your project &gt; This project will support instant apps</strong> 旁边的复选框。然后，Android Studio 会像往常一样创建新的应用项目，但会在清单中包含以下属性，以便向应用的基本模块添加免安装应用支持：</p>
<devsite-code data-copy-event-label=""><pre class="lang-xml" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="tag">&lt;manifest</span><span class="pln"> ... </span><span class="atn">xmlns:dist</span><span class="pun">=</span><span class="atv">"http://schemas.android.com/apk/distribution"</span><span class="tag">&gt;</span><span class="pln"><br />    </span><span class="tag">&lt;dist:module</span><span class="pln"> </span><span class="atn">dist:instant</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br />    ...<br /></span><span class="tag">&lt;/manifest&gt;</span><span class="pln"><br /></span></code></pre></devsite-code>
<p>然后，您可以<a href="/studio/projects/dynamic-delivery#create_instant_enabled">创建支持免安装体验的功能</a>模块，方法是从菜单栏中依次选择 <strong>File &gt; New &gt; New Module</strong>，然后从 <strong>Create New Module</strong> 对话框中选择 <strong>Instant Dynamic Feature Module</strong>。请注意，创建此模块也会使应用的基本模块支持免安装体验。</p>

<p>如需将应用作为免安装应用部署到本地设备，请<a href="/studio/run/rundebugconfig#editing">修改您的运行配置</a>，然后选中 <strong>General &gt; Deploy as instant app</strong> 旁边的复选框。</p>

<h3 id="single-variant" data-text="单变体项目同步">单变体项目同步</h3>

<p><a href="/studio/build#sync-files">将项目与构建配置同步</a>，是让 Android Studio 了解项目结构的重要步骤。不过，对于大型项目来说，此过程可能非常耗时。如果您的项目使用了多个构建变体，那么您现在可以限定仅同步当前所选的变体，从而优化项目同步操作。</p>

<p>您需要结合使用 Android Studio 3.3 或更高版本与 Android Gradle 插件 3.3.0 或更高版本，才能启用此优化。满足这些要求后，Android Studio 会在您同步项目时提示您启用此优化。默认情况下，新项目也会启用此优化。</p>

<p>如需手动启用此优化功能，请依次点击 <strong>File &gt; Settings &gt; Experimental &gt; Gradle</strong>（在 Mac 上，请依次点击 <strong>Android Studio &gt; Preferences &gt; Experimental &gt; Gradle</strong>），然后选中 <strong>Only sync the active variant</strong> 复选框。</p>
<aside class="note"><strong>注意</strong><span>：此优化目前支持仅包含 Java 编程语言的项目。例如，如果 Android Studio 在您的项目中检测到 Kotlin 代码或 C++ 代码，那么 Android Studio 不会自动启用此优化，您也不应手动启用此优化。</span></aside><p>如需了解详情，请参阅<a href="/studio/build/optimize-your-build#single_variant_sync">启用单变体项目同步</a>。</p>

<h3 id="feedback" data-text="提供快速反馈">提供快速反馈</h3>

<p>如果您已选择分享使用情况统计信息以帮助改进 Android Studio，您会在 Android Studio 窗口底部的状态栏中看到以下两个新图标：<img class="inline-icon" src="/studio/images/releases/user-sentiment-positive.png" /><img class="inline-icon" src="/studio/images/releases/user-sentiment-negative.png" /></p>

<p>只需点击最能代表您目前使用 Android Studio 的体验的图标来提供反馈即可。在您执行此操作后，Android Studio 会发送使用情况统计信息，让 Android Studio 团队能够更好地了解您的感受。在某些情况下，例如，当您表示在使用 Android Studio 时有不好的体验时，您将有机会提供进一步的反馈。</p>

<p>如果尚未启用分享使用情况统计信息，您可以通过以下步骤予以启用：打开 <strong>Settings</strong> 对话框（在 Mac 上，则打开 <strong>Preferences</strong>），依次转到 <strong>Appearance &amp; Behavior &gt; System Settings &gt; Data Sharing</strong>，然后选中 <strong>Send usage statistics to Google</strong>。</p>

<h2 id="3-2-0" data-text="3.2（2018 年 9 月）">3.2（2018 年 9 月）</h2>

<p>Android Studio 3.2 是一个主要版本，包含各种新功能和改进。</p>

<div class="dac-releases-page updates-box">

  <p><b>3.2.1（2018 年 10 月）</b></p>

  <p>这项 Android Studio 3.2 更新进行了下列更改和修复：
  </p>

  <ul>
    <li>捆绑的 Kotlin 版本现为 1.2.71。</li>
    <li>默认的构建工具版本现为 28.0.3。</li>
    <li>在导航库中，参数类型已从 <code translate="no" dir="ltr">type</code> 重命名为 <code translate="no" dir="ltr">argType</code>。</li>
    <li>
      下列错误已得到修复：
    </li>
      <ul>
        <li>使用数据绑定库时，变量名称带有下划线会导致编译错误。</li>
        <li>CMake 会导致 IntelliSense 和其他 CLion 功能失败。</li>
        <li>添加 <code translate="no" dir="ltr">SliceProvider</code> 会导致在未使用 <code translate="no" dir="ltr">androidx.*</code> 库的项目出现编译错误。</li>
        <li>一些 Kotlin 单元测试没有运行。</li>
        <li>数据绑定问题会导致 <code translate="no" dir="ltr">PsiInvalidElementAccessException</code>。</li>
        <li><code translate="no" dir="ltr">&lt;merge&gt;</code> 元素有时会导致布局编辑器崩溃。</li>
      </ul>
  </ul>

  <p><b>3.2.0 已知问题</b></p>
  <p class="note"><b>注意</b>：以下问题已在 Android Studio 3.2.1 中得到解决</p>
<ul>
  <li><p>我们强烈建议您不要使用 Kotlin 版本 1.2.70。</p>
    <p>Kotlin 版本 1.2.61 修复了一个可能会导致 Android Studio 挂起的错误，但 <b>Kotlin 1.2.70 不包含此修复</b>。</p>
    <p>但是，Kotlin 版本 1.2.71 及更高版本确实包含此修复。</p>
  </li>
  <li>
    <p>虽然您通常不需要指定构建工具版本，但在使用 Android Gradle 插件 3.2.0 时（<code translate="no" dir="ltr">renderscriptSupportModeEnabled</code> 设为 <code translate="no" dir="ltr">true</code>），您需要在每个模块的 <code translate="no" dir="ltr">build.gradle</code> 文件中包含以下内容：</p>

    <p><code translate="no" dir="ltr">android.buildToolsVersion "28.0.3"</code></p><p>
  </p></li>
</ul>
</div>

<h3 id="whats-new-assistant" class="hide-from-toc" data-text="什么是全新的 Assistant">什么是全新的 Assistant</h3>

<p>全新的 Assistant 会通知您 Android Studio 中的最新变化。</p>

<p>当您在全新安装或更新后启动 Android Studio 时，如果系统检测到有新信息需要显示，Assistant 便会打开。您也可以依次选择 <strong>Help &gt; What's new in Android Studio</strong> 来打开 Assistant。</p>

<h3 id="jetpack" class="hide-from-toc" data-text="Android Jetpack">Android Jetpack</h3>

<p>Android Jetpack 提供各种组件、工具和指南以消除重复性任务，来帮助加速 Android 开发，让您能够更快速、更轻松地构建优秀的、可测试的应用。Android Studio 进行了以下更新以支持 Jetpack。如需了解详情，请参阅 <a href="/jetpack">Jetpack 文档</a>。</p>

<h4 id="navigation-editor" class="hide-from-toc" data-text="Navigation Editor">Navigation Editor</h4>

<p>新的 Navigation Editor 与 Android Jetpack 的导航组件集成，提供了用于创建应用导航结构的图形视图。Navigation Editor 简化了应用内目标之间的导航设计和实现。</p>

<p>在 Android Studio 3.2 中，Navigation Editor 是一项实验性功能。如需启用 Navigation Editor，请依次点击 <strong>File &gt; Settings</strong>（在 Mac 上，则依次点击 <strong>Android Studio &gt; Preferences</strong>），选择左侧窗格中的 <strong>Experimental</strong> 类别，选中 <strong>Enable Navigation Editor</strong> 旁边的复选框，然后重启 Android Studio。</p>

<p>如需了解详情，请参阅 <a href="/topic/libraries/architecture/navigation/navigation-implementing">Navigation Editor 文档</a>。</p>

<h4 id="androidx-migration" class="hide-from-toc" data-text="AndroidX 迁移">AndroidX 迁移</h4>

<p>作为 Jetpack 的一部分，我们正在将 Android 支持库迁移到使用 <code translate="no" dir="ltr">androidx</code> 命名空间的全新 Android 扩展库。如需了解详情，请参阅 <a href="/topic/libraries/support-library/androidx-overview">AndroidX 概览</a>。</p>

<p>Android Studio 3.2 利用一项新的迁移功能来帮助您完成此过程。</p>

<p>如需将现有项目迁移到 AndroidX，请依次选择 <strong>Refactor &gt;  Migrate to AndroidX</strong>。如果您有任何尚未迁移到 AndroidX 命名空间的 Maven 依赖项，Android Studio 构建系统还会自动转换这些项目依赖项。</p>

<p>Android Gradle 插件提供以下可在 <code translate="no" dir="ltr">gradle.properties</code> 文件中设置的全局标记：</p>

<ul>
  <li><code translate="no" dir="ltr">android.useAndroidX</code>：当设为 <code translate="no" dir="ltr">true</code> 时，此标记表示您想立即开始使用 AndroidX。如果缺少此标记，Android Studio 会假定此标记已设为 <code translate="no" dir="ltr">false</code>。
  </li>
  <li><code translate="no" dir="ltr">android.enableJetifier</code>：设为 <code translate="no" dir="ltr">true</code> 时，此标记表示您希望获得工具支持（通过 Android Gradle 插件），以自动转换现有的第三方库，就像它们是为 AndroidX 而编写的一样。如果缺少此标记，Android Studio 会假定此标记已设为 <code translate="no" dir="ltr">false</code>。
  </li>
</ul>

<p>当您使用 <strong>Migrate to AndroidX</strong> 命令时，这两个标记都会设为 <code translate="no" dir="ltr">true</code>。</p>

<p>如果您想立即开始使用 AndroidX 库，而无需转换现有的第三方库，您可以将 <code translate="no" dir="ltr">android.useAndroidX</code> 标记设为 <code translate="no" dir="ltr">true</code> 并将 <code translate="no" dir="ltr">android.enableJetifier</code> 标记设为 <code translate="no" dir="ltr">false</code>。</p>

<h3 id="app-bundle" class="hide-from-toc" data-text="Android App Bundle">Android App Bundle</h3>

<p><em></em>Android App Bundle 是一种全新的上传格式，其中包含您应用的所有经过编译的代码和资源，但 APK 生成及签名则延后到 Google Play 商店来完成。</p>

<p>Google Play 新推出的应用服务模式会使用您的 App Bundle 针对每位用户的设备配置生成并提供经过优化的 APK，因此他们只需下载运行您的应用所需的代码和资源。您无需再构建、签署和管理多个 APK，而用户也可以下载更小、更优化的下载文件包。</p>

<p>此外，您还可以向应用项目添加功能模块，并将其包含在 App Bundle 中。然后，用户就可以按需下载和安装应用的功能。</p>

<p>如需构建软件包，请依次选择 <strong>Build &gt; Build Bundle(s)/APK(s) &gt; Build Bundle(s)</strong>。</p>

<p>如需了解详情，包括与构建和分析 Android App Bundle 有关的说明，请参阅 <a href="/platform/technology/app-bundle">Android App Bundle</a>。</p>

<h3 id="layout-editor-sample-data" class="hide-from-toc" data-text="布局编辑器中的示例数据">布局编辑器中的示例数据</h3>

<p>许多 Android 布局都包含运行时数据，而这可能导致在应用开发的设计阶段难以以图形的方式呈现布局的外观和风格。现在，您可以轻松地在填充有示例数据的布局编辑器中查看视图预览。在添加视图时，<img src="/studio/images/buttons/layout-editor-wrench.png" class="inline-icon" alt="" /> 按钮会显示在设计窗口中的视图下方。点击此按钮即可设置设计时视图属性。您可以从各种各样的示例数据模板中选择，并指定用于填充相应视图的示例项目的数量。</p>

<p>如需尝试使用示例数据，请将 <a href="/reference/androidx/recyclerview/widget/RecyclerView"><code translate="no" dir="ltr">RecyclerView</code></a> 添加到新布局，点击视图下方的设计时属性按钮 <img src="/studio/images/buttons/layout-editor-wrench.png" class="inline-icon" alt="" />，然后从示例数据模板的轮播界面中选择一个选项。</p>

<h3 id="slices" class="hide-from-toc" data-text="切片">切片</h3>

<p><em></em>“切片”提供了一种全新的方式，让您能够将应用的部分功能嵌入到 Android 上的其他界面中。例如，借助切片，您可以在 Google 搜索建议中显示应用功能和内容。</p>

<p>Android Studio 3.2 不但包含一个内置模板，可以帮助您使用新的切片提供商 API 来扩展您的应用，而且还包含新的 Lint 检查功能，可以确保您在构建切片时遵循最佳做法。</p>

<p>如需开始使用，请右键点击一个项目文件夹，然后依次选择 <strong>New &gt; Other &gt; Slice Provider</strong>。</p>

<p>如需了解详情，包括如何测试切片交互，请参阅<a href="/guide/slices/getting-started">切片入门指南</a>。</p>

<h3 id="kotlin_update" class="hide-from-toc" data-text="Kotlin 1.2.61">Kotlin 1.2.61</h3>

<p>Android Studio 3.2 捆绑了 Kotlin 1.2.61，并且新的 Android SDK 可与 Kotlin 更好地集成。如需了解详情，请参阅 <a href="https://android-developers.googleblog.com/2018/08/android-pie-sdk-is-now-more-kotlin.html">Android 开发者博客</a>。</p>

<h3 id="idea_update" class="hide-from-toc" data-text="IntelliJ IDEA 2018.1.6">IntelliJ IDEA 2018.1.6</h3>

<p>核心 Android Studio IDE 已通过 <a href="https://blog.jetbrains.com/idea/2018/07/intellij-idea-2018-1-6-is-released/">2018.1.6 版本</a>进行了更新，增加了 IntelliJ IDEA 中的相关改进。</p>

<h3 id="profilers" class="hide-from-toc" data-text="Android 分析器">Android Profiler</h3>

<p>请试用 Android Studio 3.2 中的以下全新 <a href="/studio/profile/android-profiler">Android Profiler</a> 功能。</p>

<h4 id="sessions" class="hide-from-toc" data-text="会话">会话</h4>

<p>您现在可以将性能剖析器数据保存为<a href="/studio/profile/android-profiler#sessions">会话</a>，以便日后重新访问和检查。性能剖析器会一直保存您的会话数据，直到您重启 Android Studio 为止。</p>

<p>在您<a href="/studio/profile/cpu-profiler#method_traces">记录方法跟踪</a>或<a href="/studio/profile/memory-profiler#capture-heap-dump">捕获堆转储</a>后，Android Studio 会将相应数据（以及您应用的网络活动）作为单独的条目添加到当前会话，并且您可以轻松地在记录之间来回切换以比较数据。</p>

<h4 id="system_trace" class="hide-from-toc" data-text="系统跟踪">System Trace</h4>

<p>在 <a href="/studio/profile/cpu-profiler">CPU 性能剖析器</a>中，选择新的 <b>System Trace</b> 配置即可检查设备的系统 CPU 和线程活动。此跟踪配置是基于 <a href="/studio/command-line/systrace"><code translate="no" dir="ltr">systrace</code></a> 构建的，并且可用于调查系统级问题，例如界面卡顿。</p>

<p>使用此跟踪配置时，您可以使用<a href="/ndk/guides/tracing">原生跟踪 API</a> 检测 C/C++ 代码或使用 <a href="/reference/android/os/Trace"><code translate="no" dir="ltr">Trace</code></a> 类检测 Java 代码，从而直观地标记性能剖析器时间轴上的重要代码例程。</p>

<h4 id="jni_memory" class="hide-from-toc" data-text="在 Memory Profiler 中检查 JNI 引用">在内存性能分析器中检查 JNI 引用</h4>

<p>如果您将应用部署到搭载 Android 8.0（API 级别 26）或更高版本的设备，那么您现在可以使用<a href="/studio/profile/memory-profiler">内存性能分析器</a>来检查应用 JNI 代码的内存分配情况。</p>

<p>在您的应用运行时，选择您想检查的一部分时间轴，然后从类列表上方的下拉菜单中选择 <strong>JNI heap</strong>，具体如下所示。然后，您可以像往常一样检查堆中的对象，并双击 <strong>Allocation Call Stack</strong> 标签页中的对象，以查看 JNI 引用已分配并发布到了代码中的哪些位置。</p>

<p><img src="/studio/images/releases/memory-profiler-jni-heap_2x.png" alt="" width="856" /></p>

<h4 id="import_hprof" class="hide-from-toc" data-text="导入、导出和检查内存堆转储文件">导入、导出和检查内存堆转储文件</h4>

<p>您现在可以导入、导出和检查使用<a href="/studio/profile/memory-profiler">内存性能分析器</a>创建的 <code translate="no" dir="ltr">.hprof</code> 内存堆转储文件。</p>

<p>如需导入 <code translate="no" dir="ltr">.hprof</code> 文件，请在性能剖析器的 <strong>Sessions</strong> 窗格中点击 <strong>Start new profiler session</strong><img src="/studio/images/buttons/ic_plus.png" class="inline-icon" />，然后选择 <strong>Load from file</strong>。然后，您可以像在任何其他堆转储中一样检查内存性能分析器中的数据。</p>

<p>如需保存堆转储数据以供日后查看，请使用 <strong>Sessions</strong> 窗格中 <strong>Heap Dump</strong> 条目右侧的 <strong>Export Heap Dump</strong> 按钮。在随即显示的 <strong>Export As</strong> 对话框中，使用 <code translate="no" dir="ltr">.hprof</code> 文件扩展名保存文件。</p>

<h4 id="trace_startup" class="hide-from-toc" data-text="在应用启动过程中记录 CPU 活动">在应用启动过程中记录 CPU 活动</h4>

<p>您可以在应用启动过程中记录 CPU 活动，具体操作如下所示：</p>

<ol>
<li>从主菜单中依次选择 <strong>Run &gt; Edit Configurations</strong>。</li>
<li>在所需运行配置的 <strong>Profiling</strong> 标签页下，选中 <strong>Start recording a method trace on startup</strong> 旁边的方框。</li>
<li>从下拉菜单中选择要使用的 CPU 记录配置。</li>
<li>依次选择 <strong>Run &gt; Profile</strong>，将应用部署到搭载 Android 8.0（API 级别 26）或更高版本的设备。</li>
</ol>

<h4 id="export_cpu_traces" class="hide-from-toc" data-text="导出 CPU 跟踪记录">导出 CPU 跟踪记录</h4>

<p>在您使用 CPU 性能剖析器记录 CPU 活动后，您可以将相应数据导出为 <code translate="no" dir="ltr">.trace</code> 文件，以便与他人共享或日后进行检查。</p>

<p>如需在记录 CPU 活动后导出跟踪记录，请执行以下操作：</p>

<ol>
<li>右键点击您想从 CPU 时间轴中导出的记录。</li>
<li>从下拉菜单中选择 <strong>Export trace</strong>。</li>
<li>转到您想保存文件的位置，然后点击 <strong>Save</strong>。</li>
</ol>

<h4 id="import_trace" class="hide-from-toc" data-text="导入和检查 CPU 跟踪文件">导入和检查 CPU 跟踪文件</h4>

<p>您现在可以导入和检查使用 <a href="/reference/android/os/Debug">Debug API</a> 或 <a href="/studio/profile/cpu-profiler#method_traces">CPU 性能剖析器</a>创建的 <code translate="no" dir="ltr">.trace</code> 文件。（目前，您无法导入系统跟踪记录）。</p>

<p>如需导入跟踪文件，请在性能剖析器的 <strong>Sessions</strong> 窗格中点击 <strong>Start new profiler session</strong> 图标 <img src="/studio/images/buttons/ic_plus.png" class="inline-icon" />，然后选择 <strong>Load from file</strong>。然后，您可以按照与往常相似的方式检查 CPU 性能剖析器中的数据，但以下情况例外：</p>

<ul>
<li>CPU 活动未显示在 CPU 时间轴上。</li>
<li>线程 Activity 时间轴仅显示可在哪里获取各线程的轨迹数据，并不显示实际线程状态（例如正在运行、等待中或休眠中）。</li>
</ul>

<h4 id="debug_api" class="hide-from-toc" data-text="使用 Debug API 记录 CPU 活动">使用 Debug API 记录 CPU 活动</h4>

<p>现在，您可以使用 <a href="/reference/android/os/Debug">Debug API</a> 设置您的应用，以便开始和停止在 CPU 性能剖析器中记录 CPU 活动。在您将应用部署到某个设备后，性能剖析器会在您的应用调用 <a href="/reference/android/os/Debug#startMethodTracing(java.lang.String)"><code translate="no" dir="ltr">startMethodTracing(String tracePath)</code></a> 时自动开始记录 CPU 活动，并会在您的应用调用 <a href="/reference/android/os/Debug#stopMethodTracing()"><code translate="no" dir="ltr">stopMethodTracing()</code></a> 时停止记录。在记录使用此 API 触发的 CPU 活动时，CPU 性能剖析器会将 <strong>Debug API</strong> 显示为所选的 CPU 记录配置。</p>

<h4 id="energy-profiler" class="hide-from-toc" data-text="Energy Profiler">能耗性能剖析器</h4>

<p><a href="/studio/profile/energy-profiler">能耗性能剖析器</a>能够以图形方式显示您的应用的估算耗电量，以及影响耗电量的系统事件（例如唤醒锁定、闹钟和作业）。</p>

<p>当您在搭载 Android 8.0 (API 26) 或更高版本的关联设备或 Android 模拟器中运行您的应用时，能耗性能剖析器便会显示为 <strong>Profiler</strong> 窗口底部的新行。</p>

<p>点击 <strong>Energy</strong> 行即可将能耗性能剖析器视图最大化。将鼠标指针放在时间轴中的条形上方，即可查看 CPU、网络和位置信息 (GPS) 资源的耗电量明细，以及相关系统事件。</p>

<p>影响耗电量的系统事件会在 <strong>Energy</strong> 时间轴下方的 <strong>System</strong> 时间轴中指明。当您在 <strong>Energy</strong> 时间轴中选择时间范围时，事件窗格中会显示指定时间范围内的系统事件的详细信息。</p>

<p>查勘定损查看系统事件（如唤醒锁定）的调用堆栈和其他详细信息，请在事件窗格中选择该事件。如需转到负责系统事件的代码，请双击调用堆栈中的相应条目。</p>

<h3 id="lint" class="hide-from-toc" data-text="Lint 检查">Lint 检查</h3>

<p>Android Studio 3.2 包含许多用于 <a href="/studio/write/lint">Lint 检查</a>的新功能和经过改进的功能。</p>

<p>新的 Lint 检查功能可帮助您查找和识别常见的代码问题，包括与潜在易用性问题有关的警告，以及与潜在安全漏洞有关的高优先级错误。</p>

<h4 id="java_kotlin_interop" class="hide-from-toc" data-text="针对 Java/Kotlin 互操作性的 Lint 检查">针对 Java/Kotlin 互操作性的 Lint 检查</h4>

<p>为确保 Java 代码与 Kotlin 代码之间的良好互操作性，新的 Lint 检查会强制执行 <a href="https://android.github.io/kotlin-guides/interop.html">Kotlin 互操作指南</a>中所述的最佳做法。这些检查的示例包括查找是否存在可为 null 性注解、是否使用了 Kotlin 硬关键字、是否将 lambda 参数放置在最后等。</p>

<p>如需启用这些检查，请依次点击 <strong>File &gt; Settings</strong>（在 Mac 上，则依次点击 <strong>Android Studio &gt; Preferences</strong>）打开 <strong>Settings</strong> 对话框，依次转到 <strong>Editor &gt; Inspections &gt; Android &gt; Lint &gt; Interoperability &gt; Kotlin Interoperability</strong> 部分，然后选择要启用的规则。</p>

<p><img src="/studio/images/releases/java-kotlin-interop.png" alt="" width="791" /></p>

<p>如需对命令行构建启用这些检查，请在 <code translate="no" dir="ltr">build.gradle</code> 文件中添加以下内容：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">android {
    lintOptions {
        check 'Interoperability'
    }
}
</code></pre></devsite-code>
<h4 id="lint_slices" class="hide-from-toc" data-text="针对切片的 Lint 检查">针对切片的 Lint 检查</h4>

<p>针对切片的新 Lint 检查可以确保您构建切片的方式正确无误。例如，如果您没有将主要操作分配到某个切片，Lint 检查就会向您发出警告。</p>

<h4 id="lint_gradle" class="hide-from-toc" data-text="新的 Gradle 目标">新的 Gradle 目标</h4>

<p>借助新的 <code translate="no" dir="ltr">lintFix</code> Gradle 任务，您可以将 Lint 检查建议的所有安全修正直接应用于源代码。<em></em>会建议您应用安全修正的 Lint 检查示例如下：<code translate="no" dir="ltr">SyntheticAccessor</code>。</p>

<h4 id="lint_metadata" class="hide-from-toc" data-text="元数据更新">元数据更新</h4>

<p>各种元数据（例如服务投射检查）已针对 Lint 检查进行更新，以便配合 Android 9（API 级别 28）使用。</p>

<h4 id="lint_new_variant" class="hide-from-toc" data-text="如果在新变体上运行 Lint，则会收到警告">如果在新变体上运行 Lint，会收到警告</h4>

<p>Lint 现在会记录与基准一起记录的变体和版本，如果您在与基准一起创建的变体以外的其他变体上运行 Lint，Lint 就会向您发出警告。</p>

<h4 id="lint_improvements" class="hide-from-toc" data-text="改进了现有 Lint 检查">改进了现有 Lint 检查</h4>

<p>Android Studio 3.2 包含对现有 Lint 检查的许多改进。例如，资源周期检查现在适用于其他资源类型，并且翻译检测器现在可以在编辑器中实时查找缺失的翻译。</p>

<h4 id="lint_ids" class="hide-from-toc" data-text="更容易找到问题 ID">更容易找到问题 ID</h4>

<p>问题 ID 现在会显示在更多位置，其中包括 <strong>Inspection Results</strong> 窗口，让您可以更轻松地找到所需信息，以便通过 <code translate="no" dir="ltr">build.gradle</code> 中的 <code translate="no" dir="ltr">lintOptions</code> 启用或停用特定检查。</p>

<p>如需了解详情，请参阅<a href="/studio/write/lint#gradle">通过 Gradle 配置 Lint 选项</a>。</p>

<h3 id="data-binding" class="hide-from-toc" data-text="Data Binding V2">Data Binding V2</h3>

<p>Data Binding V2 现已默认处于启用状态，并与 V1 兼容。这意味着，如果您拥有使用 V1 编译的库依赖项，则可以将其用于使用 Data Binding V2 的项目。不过请注意，使用 V1 的项目无法利用使用 V2 编译的依赖项。</p>

<h3 id="d8-desugaring" class="hide-from-toc" data-text="D8 脱糖">D8 脱糖</h3>

<p>在 Android Studio 3.1 中，我们已将脱糖步骤作为一项实验性功能集成到 D8 工具中，这能够减少总体构建时间。使用 D8 进行脱糖的功能在 Android Studio 3.2 中默认处于开启状态。</p>

<h3 id="R8" class="hide-from-toc" data-text="新的代码压缩器">新的代码缩减器</h3>

<p>R8 是一种用于执行代码压缩和混淆的新工具，替代了 ProGuard。您只需将以下内容添加到项目的 <code translate="no" dir="ltr">gradle.properties</code> 文件中，即可开始使用 R8 的预览版本：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="pln">android</span><span class="pun">.</span><span class="pln">enableR8 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"><br /></span></code></pre></devsite-code>
<h3 id="default_abis" class="hide-from-toc" data-text="更改了针对多 APK 的默认 ABI">更改了针对多 APK 的默认 ABI</h3>

<p>在<a href="/studio/build/configure-apk-splits">构建分别以不同 ABI 为目标的多个 APK</a> 时，默认情况下，插件不会再针对以下 ABI 生成 APK：<code translate="no" dir="ltr">mips</code>、<code translate="no" dir="ltr">mips64</code> 和 <code translate="no" dir="ltr">armeabi</code>。</p>

<p>如果您想构建以上述 ABI 为目标的 APK，必须使用 <a href="/ndk/downloads/revision_history">NDK r16b 或更低版本</a>，并在 <code translate="no" dir="ltr">build.gradle</code> 文件中指定这些 ABI，如下所示：</p>

<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><span class="pln">splits </span><span class="pun">{</span><span class="pln"><br />    abi </span><span class="pun">{</span><span class="pln"><br />        include </span><b><span class="str">'armeabi'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'mips'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'mips64'</span></b><span class="pln"><br />        </span><span class="pun">...</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></pre></devsite-code>
<aside class="note"><strong>注意</strong><span>：此行为更改也包含在 Android Studio 3.1 RC1 及更高版本中。</span></aside>
<h3 id="cmake-editor" class="hide-from-toc" data-text="改进了针对 CMake 构建文件的编辑器功能">改进了针对 CMake 构建文件的编辑器功能</h3>

<p>如果您使用 CMake <a href="/studio/projects/add-native-code">将 C 和 C++ 代码添加到您的项目</a>，Android Studio 现在包含经过改进的编辑器功能，可帮助您修改 CMake 构建脚本，例如：</p>

<ul>
<li><strong>语法突出显示和代码补全</strong>：Android Studio 现在会突出显示常用的 CMake 命令并提出相应的代码补全建议。此外，您只需点击某个文件，同时按 Ctrl 键（在 Mac 上，则按 Command 键）即可转到此文件所在的位置。</li>
<li><strong>代码重新格式化</strong>：您现在可以使用 IntelliJ 的代码重新格式化选项将代码样式应用于 CMake 构建脚本。</li>
<li><strong>安全重构</strong>：Android Studio 内置的重构工具现在还会检查您是否正在重命名或删除 CMake 构建脚本中引用的文件。</li>
</ul>

<h3 id="navigate_headers" class="hide-from-toc" data-text="浏览外部标头文件">浏览外部标头文件</h3>

<p>在以前版本的 Android Studio 中使用 <strong>Project</strong> 窗口时，您只能浏览和检查从本地项目构建的库中包含的标头文件。在此版本中，您现在还可以查看和检查导入到应用项目的外部 C/C++ 库依赖项中包含的头文件。</p>

<p>如果您已<a href="/studio/projects/add-native-code">在项目中添加 C/C++ 代码和库</a>，请从主菜单中依次选择 <strong>View &gt; Tool Windows &gt; Project</strong>，打开 IDE 左侧的 <strong>Project</strong> 窗口，然后从下拉菜单中选择 <strong>Android</strong>。在 <strong>cpp</strong> 目录中，应用项目范围内的所有头文件都位于各本地 C/C++ 库依赖项的 <strong>include</strong> 节点下，具体如下所示。</p>

<p><img src="/studio/images/releases/project-include-nodes.png" alt="" width="354" /></p>

<h3 id="native-multidex" class="hide-from-toc" data-text="原生多 dex 处理默认处于启用状态">原生多 dex 处理默认处于启用状态</h3>

<p>以前版本的 Android Studio 会在将应用的调试版本部署到搭载 Android API 级别 21 或更高级别的设备时启用原生多 dex 处理。现在，无论您是要部署到设备，还是要构建 APK 以供发布，Android Plugin for Gradle 都会针对所有设置为 <code translate="no" dir="ltr">minSdkVersion=21</code> 或更高版本的模块启用原生多 dex 处理。</p>

<h3 id="aapt2_gmaven" class="hide-from-toc" data-text="AAPT2 移动到 Google 的 Maven 代码库中">AAPT2 已移动到 Google 的 Maven 代码库中</h3>

<p>从 Android Studio 3.2 开始，<a href="/studio/command-line/aapt2">AAPT2（Android 资源打包工具 2）</a>的来源为 Google 的 Maven 代码库。</p>

<p>如需使用 AAPT2，请确保您的 <code translate="no" dir="ltr">build.gradle</code> 文件中包含 <code translate="no" dir="ltr">google()</code> 依赖项，如下所示：</p>

<devsite-code data-copy-event-label=""><pre class="lang-groovy" translate="no" dir="ltr" is-upgraded=""><span class="pln">  buildscript </span><span class="pun">{</span><span class="pln"><br />      repositories </span><span class="pun">{</span><span class="pln"><br />          google</span><span class="pun">()</span><span class="pln"> </span><span class="com">// here</span><span class="pln"><br />          jcenter</span><span class="pun">()</span><span class="pln"><br />      </span><span class="pun">}</span><span class="pln"><br />      dependencies </span><span class="pun">{</span><span class="pln"><br />          classpath </span><span class="str">'com.android.tools.build:gradle:3.2.0'</span><span class="pln"><br />      </span><span class="pun">}</span><span class="pln"><br />  </span><span class="pun">}</span><span class="pln"> allprojects </span><span class="pun">{</span><span class="pln"><br />      repositories </span><span class="pun">{</span><span class="pln"><br />          google</span><span class="pun">()</span><span class="pln"> </span><span class="com">// and here</span><span class="pln"><br />          jcenter</span><span class="pun">()</span><span class="pln"><br />  </span><span class="pun">}</span><span class="pln"><br /></span></pre></devsite-code>

<p>新版本的 AAPT2 修正了许多问题，包括改进了在 Windows 上对非 ASCII 字符的处理。</p>

<h3 id="remove-cod" class="hide-from-toc" data-text="移除了按需配置">移除了按需配置</h3>

<p><strong>按需配置</strong>偏好设置已从 Android Studio 中移除。</p>

<p>Android Studio 不再将 <code translate="no" dir="ltr">--configure-on-demand</code> 参数传递给 Gradle。</p>

<h3 id="adb-connection-assistant" class="hide-from-toc" data-text="ADB Connection Assistant">ADB Connection Assistant</h3>

<p>新的 <a href="/studio/run/device#assistant">ADB Connection Assistant</a> 提供了逐步说明，可以帮助您通过 Android 调试桥 (ADB) 关联来设置和使用设备。<em></em></p>

<p>如需启用此 Assistant，请依次选择 <strong>Tools &gt; Connection Assistant</strong>。</p>

<p>ADB Connection Assistant 在 <strong>Assistant</strong> 面板中的一系列页面中提供了说明、环境控件以及关联设备列表。</p>

<h3 id="emulator-improvements" class="hide-from-toc" data-text="模拟器的改进">模拟器的改进</h3>

<p>您现在可以随时在 Android 模拟器中保存和加载 AVD (Android Virtual Device) 快照，以便快速轻松地让模拟设备返回已知状态以进行测试。在使用 AVD Manager 修改 AVD 时，您可以指定在 AVD 启动时加载哪个 AVD 快照。</p>

<p>用于保存、加载和管理 AVD 快照的控件现在位于模拟器的 <strong>Extended controls</strong> 窗口的 <strong>Snapshots</strong> 标签页中。</p>

<p>如需了解详情，请参阅<a href="/studio/run/emulator#snapshots">快照</a>。</p>

<p>如需详细了解模拟器中的新变化以及变更内容，请参阅<a href="/studio/releases/emulator">模拟器版本说明</a>。</p>

<h2 id="3-1-0" data-text="3.1（2018 年 3 月）">3.1（2018 年 3 月）</h2>

<p>Android Studio 3.1.0 是一个主要版本，包含各种新功能和改进。</p>

<div class="video-wrapper-left">
  <devsite-youtube autohide="1" showinfo="0" video-id="nnnW0nehPEA" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What’s new in Android Studio 3.1. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/nnnW0nehPEA?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=nnnW0nehPEA&amp;enablejsapi=1&amp;widgetid=13" id="widget14" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<div class="dac-releases-page updates-box">

  <p><b>3.1.4（2018 年 8 月）</b></p>

  <p>这项 Android Studio 3.1 更新进行了下列更改和修复：
  </p>

  <ul>
    <li>
      捆绑的 Kotlin 版本现为 1.2.50。
    </li>
    <li>
      使用 <code translate="no" dir="ltr">kotlin-stdlib-jdk* artifacts</code>（而非已弃用的 <code translate="no" dir="ltr">kotlin-stdlib-jre*</code> 工件）创建新项目。
    </li>
    <li>
      对 ProGuard 规则的 R8 解析已得到改进。
    </li>
    <li>
      下列错误已得到修复：
    </li>
      <ul>
        <li>
          尝试运行 Kotlin Main 类失败，并出现错误：
          <code translate="no" dir="ltr">"Error: Could not find or load main class..."</code>
        </li>
        <li>
          R8 在执行某些优化时进入了无限循环。
        </li>
        <li>
          在 <b>Run</b> 窗口中使用 <b>Rerun failed tests</b> 命令有时会错误地返回“No tests were found”消息。
        </li>
        <li>
          D8 未正确处理 <code translate="no" dir="ltr">invoke-virtual</code> 实例，导致 <code translate="no" dir="ltr">VerifyError</code> 崩溃：
          <code translate="no" dir="ltr">invoke-super/virtual can't be used on private method</code>
        </li>
        <li>
          数据绑定编译器依赖于旧版本的 <code translate="no" dir="ltr">com.android.tools:annotations</code>。现在，编译器会使用来自基础项目的工具注解（如可用）。
        </li>
        <li>
          使用性能剖析器时，Android Studio 在 Fragment 过渡期间崩溃。
        </li>
        <li>
          在调试包含文本框的布局时，调试器发生崩溃。
        </li>
        <li>
          D8 无法读取某些带有特殊字符的 ZIP 文件。
        </li>
      </ul>
  </ul>

  <p><b>3.1.3（2018 年 6 月）</b></p>

  <p>这项 Android Studio 3.1 更新修复了下列错误：
  </p>

  <ul>
    <li>内存泄漏导致 Android Studio 在您使用布局编辑器后变得缓慢且无响应。此更新包含针对大多数此类问题的修复程序。我们打算很快发布另一项更新来解决额外的内存泄漏问题。</li>
    <li>
      一些使用 D8 构建的应用在部分 Verizon Ellipsis 平板电脑上出现崩溃。
    </li>
    <li>
      在搭载 Android 5.0 或 5.1（API 级别 21 或 22）的设备上，使用 D8 构建的应用的安装失败并出现 <code translate="no" dir="ltr">INSTALL_FAILED_DEXOPT</code> 错误。
    </li>
    <li>
      一些使用 OkHttp 库并使用 D8 构建的应用在搭载 Android 4.4（API 级别 19）的设备上出现崩溃。
    </li>
    <li>
      Android Studio 有时无法启动，并在类初始化期间出现 <code translate="no" dir="ltr">ProcessCanceledException</code>（对于 <code translate="no" dir="ltr">com.intellij.psi.jsp.JspElementType</code>）。
    </li>
  </ul>

  <p><b>3.1.2（2018 年 4 月）</b></p>

  <p>这项 Android Studio 3.1 更新修复了下列错误：
  </p>

  <ul>
    <li>
      在某些情况下，Android Studio 会在退出时无限期挂起。
    </li>
    <li>
      <p>启用 Instant Run 后，使用<a href="/studio/build/build-variants#sourcesets">源代码集</a>配置的构建失败，并显示以下消息：
      </p>
      <p><code translate="no" dir="ltr">"The SourceSet <var translate="no">name</var> is not recognized by the Android
        Gradle Plugin."</code>
      </p>
    </li>
    <li>
      启用 Instant Run 后，由 <b>Run</b> 命令触发的新 Kotlin 项目构建失败。
    </li>
    <li>
      修改 <code translate="no" dir="ltr">build.gradle</code> 文件时，输入某个字符后要过很长一段时间才会在屏幕上显示该字符。
    </li>
    <li>
      <p>在一些具有大量模块或外部依赖项的项目中，在 dex 处理期间发生构建失败，并显示以下错误消息：</p>
      <p><code translate="no" dir="ltr">"RejectedExecutionException: Thread limit exceeded replacing
        blocked worker"</code></p>
    </li>
    <li>
      D8 主 DEX 列表的计算方式没有考虑到一些反射调用。
    </li>
  </ul>

  <p>此更新还包含一些更改，这些更改使得在某些情况下从 Gradle 运行 Lint 检查的速度更快。
  </p>

  <p><b>3.1.1（2018 年 4 月）</b></p>

  <p>这项 Android Studio 3.1 更新修复了下列错误：
  </p>

  <ul>
    <li>
      <p>在某些情况下，在 Android Studio 3.1 中首次打开在 Android Studio 3.0 中创建的项目时，Gradle-aware Make 任务已从 <b>Run/Debug Configurations</b> 的 <b>Before launch</b> 区域中移除。因此，点击 <b>Run</b> 或 <b>Debug</b> 按钮时没有构建项目，这反过来会导致使用 Instant Run 时部署错误的 APK 以及崩溃等失败情况。
      </p>

      <p>为解决此问题，Android Studio 3.1.1 会将 Gradle-aware Make 任务添加到缺少此条目的项目的运行配置中。此项修改发生在首次 Gradle 同步之后的项目加载完毕时。
      </p>
    </li>

    <li>
      在调试包含文本框的布局时，如果启用了高级性能剖析，调试器会发生崩溃。
    </li>

    <li>
      点击 <b>Build Variants</b> 后，Android Studio 冻结。
    </li>

    <li>
      AAR（Android 归档）文件被提取了两次，一次是在 Gradle 同步过程中，另一次是在 Gradle 构建过程中。
    </li>

    <li>
      从 SVG 文件导入的一些矢量可绘制对象中缺少元素。
    </li>

    <li>
      更新了有关弃用 <code translate="no" dir="ltr">compile</code> 依赖项配置的警告，并优化了有关 <code translate="no" dir="ltr">implementation</code> 和 <code translate="no" dir="ltr">api</code> 配置的指导。如需详细了解如何停止使用 <code translate="no" dir="ltr">compile</code> 配置，请参阅<a href="/studio/build/gradle-plugin-3-0-0-migration#new_configurations">新依赖项配置的文档</a>。
    </li>

  </ul>

</div>

<h3 id="coding-ide" class="hide-from-toc" data-text="编码/IDE">编码/IDE</h3>

<h4 id="intellij-201733" class="hide-from-toc" data-text="IntelliJ 2017.3.3">IntelliJ 2017.3.3</h4>

<p>核心 Android Studio IDE 已通过 2017.3.3 版本进行了更新，增加了 IntelliJ IDEA 中的相关改进。改进功能包括为集合与字符串提供了更好的控制流分析，改进了可为 null 性推理，添加了一些快速修复功能，等等。</p>

<p>如需了解详情，请参阅 IntelliJ IDEA 版本 <a href="https://www.jetbrains.com/idea/whatsnew/#v2017-2">2017.2</a> 和 <a href="https://www.jetbrains.com/idea/whatsnew/#v2017-3">2017.3</a> 的 JetBrains 版本说明，以及<a href="https://blog.jetbrains.com/idea/2018/01/intellij-idea-2017-3-3-is-released/">错误修复更新</a>的 JetBrains 版本说明。</p>

<h4 id="sql-room" class="hide-from-toc" data-text="通过 Room 改进了 SQL 修改">通过 Room 改进了 SQL 修改</h4>

<p>使用 <a href="/topic/libraries/architecture/room">Room 数据库</a>时，您可以利用针对 SQL 修改的多项改进：</p>

<ul>
<li><a href="/reference/androidx/room/Query"><code translate="no" dir="ltr">Query</code></a> 中的代码补全功能可以理解 SQL 表格（实体）、列、查询参数、别名、联接、子查询和 WITH 子句。</li>
<li>SQL 语法突出显示现在可以正常使用。</li>
<li>您可以右键点击 SQL 中的表格名称并对其重命名，这也会重写相应的 Java 或 Kotlin 代码（例如，包括查询的返回类型）。重命名在另一个方向也适用，因此重命名 Java 类或字段会重写相应的 SQL 代码。</li>
<li>使用 <strong>Find usages</strong>（右键点击并从上下文菜单中选择 <strong>Find usages</strong>）时，系统会显示 SQL 用法。</li>
<li>如需转到 SQL 实体在 Java 或 Kotlin 代码中的声明，您可以在按住 Ctrl 键（Mac 上为 Command 键）的同时点击该实体。</li>
</ul>

<p>如需了解如何将 SQL 与 Room 搭配使用，请参阅<a href="/training/data-storage/room">使用 Room 将数据保存到本地数据库</a>。</p>

<h4 id="update-data-binding" class="hide-from-toc" data-text="数据绑定更新">数据绑定更新</h4>

<p>此更新包括针对<a href="/topic/libraries/data-binding">数据绑定</a>的多项改进：</p>

<ul>
<li><p>现在，您可以将 <a href="/reference/androidx/lifecycle/LiveData"><code translate="no" dir="ltr">LiveData</code></a> 对象用作数据绑定表达式中的一个可观察字段。<a href="/reference/androidx/databinding/ViewDataBinding"><code translate="no" dir="ltr">ViewDataBinding</code></a> 类现在添加了用于观察 <a href="/reference/androidx/lifecycle/LiveData"><code translate="no" dir="ltr">LiveData</code></a> 对象的新 <code translate="no" dir="ltr">setLifecycle()</code> 方法。</p></li>
<li><p><a href="/reference/androidx/databinding/ObservableField"><code translate="no" dir="ltr">ObservableField</code></a> 类现在可在其构造函数中接受其他 <a href="/reference/androidx/databinding/Observable"><code translate="no" dir="ltr">Observable</code></a> 对象。</p></li>
<li><p>您可以预览数据绑定类的新增量编译器。如需详细了解这个新编译器以及启用该编译器的说明，请参阅<a href="/topic/libraries/data-binding#enable_v2">数据绑定编译器 V2</a>。</p>

<p>新编译器的好处包括：</p>

<ul>
<li><p>Android Plugin for Gradle 会先于 Java 编译器生成 <code translate="no" dir="ltr">ViewBinding</code> 类。</p></li>
<li><p>编译应用时，库会保留其生成的绑定类，而不是每次都重新生成这些类。这可以大大提高多模块项目的性能。</p></li>
</ul></li>
</ul>

<h3 id="compiler-gradle" class="hide-from-toc" data-text="编译器和 Gradle">编译器和 Gradle</h3>

<h4 id="d8-default-dex" class="hide-from-toc" data-text="D8 是默认的 DEX 编译器">D8 是默认的 DEX 编译器</h4>

<p>D8 编译器现已默认用于生成 DEX 字节码。</p>

<p>这款新的 DEX 编译器可提供多项好处，包括：</p>

<ul>
<li>Dex 速度更快</li>
<li>降低内存使用量</li>
<li>改进了代码生成功能（更好的注册表分配和更智能的字符串表格）</li>
<li>在单步调试代码时提供更好的调试体验</li>
</ul>

<p>除非您之前手动停用了 D8 编译器，否则无需对代码或开发工作流进行任何更改即可获得这些好处。如果您在 <code translate="no" dir="ltr">gradle.properties</code> 中将 <code translate="no" dir="ltr">android.enableD8</code> 设为 <code translate="no" dir="ltr">false</code>，请删除该标记或将其设为 <code translate="no" dir="ltr">true</code>：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">android.enableD8=true
</code></pre></devsite-code>
<p>如需了解详情，请参阅<a href="/studio/releases/gradle-plugin#D8">新的 DEX 编译器</a>。</p>

<h4 id="incremental-desugaring" class="hide-from-toc" data-text="增量脱糖">增量脱糖</h4>

<p>对于使用 <a href="/studio/write/java8-support">Java 8 语言功能</a>的项目，系统会默认启用增量脱糖，这可以缩短构建时间。</p>

<p>脱糖可将<a class="external" href="https://en.wikipedia.org/wiki/Syntactic_sugar">语法糖</a>转换为一种可供编译器更高效地处理的格式。</p>

<p>您可以通过在项目的 <code translate="no" dir="ltr">gradle.properties</code> 文件中指定以下内容来停用增量脱糖：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">android.enableIncrementalDesugaring=false
</code></pre></devsite-code>
<h4 id="output-window" class="hide-from-toc" data-text="简化了输出窗口">简化了输出窗口</h4>

<p><strong>Gradle Console</strong> 已替换为 <strong>Build</strong> 窗口，后者包含 <strong>Sync</strong> 和 <strong>Build</strong> 标签页。</p>

<p>如需详细了解如何使用经过简化的新 <strong>Build</strong> 窗口，请参阅<a href="/studio/run#gradle-console">监控构建流程</a>。</p>

<h4 id="batch-updates" class="hide-from-toc" data-text="批量更新和并发索引">批量更新和并发索引</h4>

<p>现在，Gradle 同步和 IDE 索引编制流程的效率更高，从而缩短了在许多冗余索引编制操作上浪费的时间。</p>

<h3 id="c-plus-plus-lldb" class="hide-from-toc" data-text="C++ 和 LLDB">C++ 和 LLDB</h3>

<p>我们在 C++ 开发的编码、同步、构建和调试阶段做出了多项质量和性能方面的改进。具体改进包括：</p>

<ul>
<li><p>如果您处理大型 C++ 项目，您应该会注意到在构建符号上花费的时间明显减少。大型项目的同步时间也大大减少。</p></li>
<li><p>通过更积极地重复使用缓存结果，改进了构建 CMake 并与之同步时的性能。</p></li>
<li><p>为更多 C++ 数据结构添加了格式转换工具（“pretty printers”），使 LLDB 输出更易于阅读。</p></li>
<li><p><a href="/studio/debug">LLDB</a> 现在仅适用于 Android 4.1（API 级别 16）及更高版本。</p></li>
</ul>
<aside class="note"><strong>注意</strong><span>：使用 Android Studio 3.0 或更高版本进行原生调试不再支持 32 位 Windows 系统。如果您使用的是 32 位 Windows 系统，并且需要调试原生代码，请使用 Android Studio 2.3。</span></aside>
<h3 id="kotlin" class="hide-from-toc" data-text="Kotlin">Kotlin</h3>

<h4 id="kotlin-1230" class="hide-from-toc" data-text="Kotlin 已升级到版本 1.2.30">Kotlin 已升级到版本 1.2.30</h4>

<p>Android Studio 3.1 包含 <a href="https://blog.jetbrains.com/kotlin/2018/03/kotlin-1-2-30-is-out/">Kotlin 版本 1.2.30</a>。</p>

<h4 id="kotlin-lint" class="hide-from-toc" data-text="现在使用命令行 Lint 检查分析 Kotlin 代码">现可使用命令行 Lint 检查分析 Kotlin 代码</h4>

<p><a href="/studio/write/lint#commandline">从命令行运行 Lint</a> 现在可分析您的 Kotlin 类。</p>

<p>对于您希望运行 Lint 的每个项目，<a href="/studio/build/dependencies#google-maven">Google 的 Maven 代码库</a>必须包含在顶级 <code translate="no" dir="ltr">build.gradle</code> 文件中。在 Android Studio 3.0 及更高版本中创建的项目已包含 Maven 代码库。</p>

<h3 id="perf-tools" class="hide-from-toc" data-text="性能工具">性能工具</h3>

<h4 id="simpleperf" class="hide-from-toc" data-text="使用 CPU Profiler 对原生 C++ 进程采样">使用 CPU 性能剖析器对原生 C++ 进程采样</h4>

<p><a href="/studio/profile/cpu-profiler">CPU 性能剖析器</a>现在包含一项默认配置，用于记录应用的原生线程的采样跟踪记录。您可以通过以下方法使用此配置：将应用部署到搭载 Android 8.0（API 级别 26）或更高版本的设备，然后从 CPU 性能剖析器的记录配置下拉菜单中选择 <strong>Sampled (Native)</strong>。然后，按照常规方法<a href="/studio/profile/cpu-profiler#method_traces">记录和检查跟踪记录</a>。</p>

<p>您可以通过<a href="/studio/profile/cpu-profiler#configurations">创建记录配置</a>来更改默认设置，例如采样间隔。</p>

<p>如需切换回跟踪 Java 线程，请选择 <strong>Sampled (Java)</strong> 或 <strong>Instrumented (Java)</strong> 配置。</p>

<h4 id="profiler_filter" class="hide-from-toc" data-text="过滤 CPU 轨迹、内存分配结果和堆转储">过滤 CPU 跟踪记录、内存分配结果和堆转储</h4>

<p><a href="/studio/profile/cpu-profiler">CPU 性能剖析器</a>和<a href="/studio/profile/memory-profiler">内存性能分析器</a>具有搜索功能，可让您通过记录方法跟踪记录、内存分配或堆转储来过滤结果。</p>

<p><img src="/studio/images/releases/cpu-profiler-method-filter_1x.png" alt="" width="697" /></p>

<p>如需进行搜索，请点击窗格右上角的 <b>Filter</b> <img src="/studio/images/buttons/profiler_filter.png" alt="" class="inline-icon" />，输入您的查询，然后按 Enter。</p>

<p class="note">
  <b>提示</b>：您还可以按 Ctrl + F（在 Mac 中按 Command + F）来打开搜索字段。</p>

<p>在 CPU 性能剖析器的 <strong>Flame Chart</strong> 标签页中，包含与您的搜索查询相关的方法的调用堆栈会突出显示并移至图表的左侧。</p>

<p>如需详细了解如何按方法、类或软件包名称过滤，请参阅<a href="/studio/profile/cpu-profiler#method_traces">记录和检查方法跟踪记录</a>。</p>

<h4 id="network_request" class="hide-from-toc" data-text="Network Profiler 中的“Request”标签页">网络性能剖析器中的“Request”标签页</h4>

<p><a href="/studio/profile/network-profiler">网络性能剖析器</a>现在包含一个 <strong>Request</strong> 标签页，其中提供了有关选定时间轴中的网络请求的详细信息。在以前的版本中，网络性能剖析器仅提供有关网络响应的信息。</p>

<h4 id="thread-view" class="hide-from-toc" data-text="Network Profiler 中的线程视图">网络性能剖析器中的线程视图</h4>

<p>在<a href="/studio/profile/network-profiler">网络性能剖析器</a>中选择时间轴的一部分后，您可以选择以下某个标签页，以查看有关该时间范围内的网络活动的更多详细信息：</p>

<ul>
<li><strong>Connection View</strong>：提供的信息与之前版本的 Android Studio 相同，它列出了在所选时间轴部分中从您应用的所有 CPU 线程发送或接收的文件。对于每个请求，您可以检查大小、类型、状态和传输时长。</li>
<li><strong>Thread View</strong>：显示您应用的每个 CPU 线程的网络活动。此视图可让您检查应用的哪些线程负责每个网络请求。</li>
</ul>

<p><img src="/studio/images/profile/network_profiler_thread_view-2X.png" width="624" alt="" itemprop="image" /></p>

<h3 id="layout-inspector" class="hide-from-toc" data-text="布局检查器">布局检查器</h3>

<p><a href="/studio/debug/layout-inspector">布局检查器</a>获得了新功能，包括以前由 Hierarchy Viewer 和 Pixel Perfect 工具提供的部分功能：</p>

<ul>
<li>用于导航和检查布局的缩放按钮和键盘快捷键</li>
<li>参考网格叠加层</li>
<li>能够加载参考图片并将其用作叠加层（用于将您的布局与界面模型进行比较）</li>
<li><strong>Render Subtree Preview</strong>，以隔离复杂布局中的视图</li>
</ul>

<div class="attempt-right" style="width:257px">
  <img src="/studio/images/releases/layout-editor-add-constraint-left-below_2x.png" width="257" alt="" />
</div>

<h3 id="layout-ed" class="hide-from-toc" data-text="布局编辑器">布局编辑器</h3>

<p><a href="/studio/write/layout-editor#convert-view">布局编辑器</a>中的 <strong>Palette</strong> 已经获得了许多改进：</p>

<ul>
<li>重新组织了视图和布局的类别。</li>
<li>为视图和布局新增了 <strong>Common</strong> 类别，您可以使用 <strong>Favorite</strong> 命令添加至该类别。</li>
<li>改进了<a href="/studio/write/layout-editor#views-palette">视图和布局搜索</a>。</li>
<li>新增用于<a href="/studio/write/layout-editor#palette-documentation">打开文档</a>以显示特定视图或布局元素的命令。</li>
</ul>

<p>您可以在 <strong>Component Tree</strong> 或设计编辑器中使用新的 <a href="/studio/write/layout-editor#convert-view"><strong>Convert View</strong></a> 命令将视图或布局转换为另一种类型的视图或布局。</p>

<p>您现在可以使用新的 <b>Create a connection</b> <img src="/studio/images/buttons/attributes-plus-icon_2x.png" alt="" class="inline-icon" /> 按钮（位于 <b>Attributes</b> 窗口顶部的视图检查器中）为所选视图附近的项轻松创建约束条件。</p>

<h3 id="run-instant-run" class="hide-from-toc" data-text="Run 和 Instant Run">Run 和 Instant Run</h3>

<p><strong>Select deployment target</strong> 对话框中 <strong>Use same selection for future launches</strong> 选项的行为现已更加一致。如果启用了 <strong>Use same selection</strong> 选项，<strong>Select deployment target</strong> 对话框将仅在您首次使用 <strong>Run</strong> 命令时打开，直到所选设备不再保持连接为止。</p>

<p>以搭载 Android 8.0（API 级别 26）或更高版本的设备为目标时，<a href="/studio/run#instant-run">Instant Run</a> 可以将更改部署到资源，而不会导致应用重启。之所以能这么做，是因为这些资源包含在拆分 APK 中。</p>

<h3 id="emulator-3-1" class="hide-from-toc" data-text="模拟器">模拟器</h3>

<p>如需详细了解自 Android Studio 3.0 以来模拟器中的新变化以及变更内容，请参阅<a href="/studio/releases/emulator#27-0-2">版本 27.0.2</a> 到<a href="/studio/releases/emulator#27-1-12">版本 27.1.12</a> 的 Android 模拟器版本说明。</p>

<p>主要改进包括：</p>

<ul>
<li>快速启动快照，用于保存模拟器状态并加快启动速度，并且能够使用 <strong>Save now</strong> 命令保存自定义启动状态。</li>
<li>无窗口模拟器屏幕。</li>
<li>适用于 Android 8.0（API 级别 26）、Android 8.1（API 级别 27）和 Android P 开发者预览版的系统映像。</li>
</ul>

<h3 id="ui-ux" class="hide-from-toc" data-text="界面和用户体验方面的改进">界面和用户体验方面的改进</h3>

<h4 id="ui-tweaks" class="hide-from-toc" data-text="更多提示、键盘快捷键和有用的消息">更多提示、键盘快捷键和有用的消息</h4>

<p>我们在 Android Studio 中的许多位置添加了提示和有用的消息叠加层。</p>

<p>如需查看很多命令的键盘快捷键，只需将鼠标指针悬停在某个按钮上，直到系统显示提示。</p>

<h4 id="tools-menu" class="hide-from-toc" data-text="移除了 Tools &gt; Android" l10n-translatable-tag-attribute-194-data-text="Tools &gt; Android menu removed">移除了 Tools &gt; Android 菜单</h4>

<p><strong>Tools &gt; Android</strong> 菜单已被移除。之前位于此菜单下的命令已移到别处。</p>

<ul>
<li>很多命令已直接移到 <strong>Tools</strong> 菜单下。</li>
<li><strong>Sync project with gradle files</strong> 命令已移至 <strong>File</strong> 菜单。</li>
<li><strong>Device Monitor</strong> 命令已被移除，如下所述。</li>
</ul>

<h3 id="device-monitor-command" class="hide-from-toc" data-text="可从命令行获得 Device Monitor">可从命令行获得 Device Monitor</h3>

<p>在 Android Studio 3.1 中，Device Monitor 发挥的作用不及以前。在许多情况下，Device Monitor 提供的功能现在由经过改进的新工具提供。</p>

<p>如需了解如何从命令行调用 Device Monitor 以及 Device Monitor 提供的工具的说明，请参阅 <a href="/studio/profile/monitor">Device Monitor 文档</a>。</p>

<h2 id="3-0-0" data-text="3.0（2017 年 10 月）">3.0（2017 年 10 月）</h2>

<p>Android Studio 3.0.0 是一个主要版本，包含各种新功能和改进。</p>

<div class="video-wrapper-left">
  <devsite-youtube autohide="1" showinfo="0" video-id="0n9sBgds-Hs" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What's new in Android Studio 3.0. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/0n9sBgds-Hs?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=0n9sBgds-Hs&amp;enablejsapi=1&amp;widgetid=15" id="widget16" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<p class="caution">
  <b>macOS 用户</b>：如果您要更新旧版 Android Studio，可能会遇到内容为“Some conflicts were found in the installation area”的更新错误对话框。只需忽略此错误，然后点击 <b>Cancel</b> 继续安装。</p>

<div class="full-width-nav-aware">
  <div class="dac-releases-page updates-box">
    <p>
      <b>3.0.1（2017 年 11 月）</b>
    </p>
    <p>
      这项 Android Studio 3.0 次要更新修正了一些常见错误并提升了性能。
  </p></div>
</div>

<h3 id="android-plugin-for-gradle-3-0-0" class="hide-from-toc" data-text="Android Plugin for Gradle 3.0.0">Android Plugin for Gradle 3.0.0</h3>

<p>新的 <a href="/studio/releases/gradle-plugin">Android Plugin for Gradle</a> 包含多种改进功能和新功能，但主要是改进了包含大量模块的项目的构建性能。在将新插件与这些大型项目结合使用时，您应当会注意到以下变化：</p>

<ul>
<li>由于新的延迟依赖项解析，构建配置时间更短。</li>
<li><a href="/studio/build/gradle-plugin-3-0-0-migration#variant_aware">变体感知依赖项解析</a>仅适用于您正在构建的项目和变体。</li>
<li>对代码或资源应用简单更改时，可加快增量构建速度。</li>
</ul>
<aside class="note"><strong>注意</strong><span>：这些改进需要进行重大更改，从而破坏该插件的一些行为、DSL 和 API。<a href="/studio/build/gradle-plugin-3-0-0-migration">升级到版本 3.0.0</a> 可能需要更改构建文件和 Gradle 插件。</span></aside>
<p>此版本还包含以下变更：</p>

<ul>
<li>支持 Android 8.0。</li>
<li>支持<a href="/topic/instant-apps/guides/config-splits">基于语言资源构建单独的 APK</a>。</li>
<li>支持 <a href="/studio/write/java8-support">Java 8 库和 Java 8 语言功能</a>（无需 Jack 编译器）。</li>
<li>支持 Android 测试支持库 1.0（Android Test Utility 和 <a href="/training/testing/junit-runner#using-android-test-orchestrator">Android Test Orchestrator</a>）。</li>
<li>提高了 ndk-build 和 cmake 构建速度。</li>
<li>加快了 Gradle 同步速度。</li>
<li>AAPT2 现已默认处于启用状态。</li>
<li>现在使用 <code translate="no" dir="ltr">ndkCompile</code> 会受到更多限制。您应该改用 CMake 或 ndk-build 来编译要打包到 APK 中的原生代码。如需了解详情，请阅读<a href="/studio/projects/add-native-code#ndkCompile">从 ndkcompile 迁移</a>。</li>
</ul>

<p>如需详细了解更改内容，请参阅 <a href="/studio/releases/gradle-plugin#3-0-0">Android Plugin for Gradle 版本说明</a>。</p>

<p>如果您已准备好升级到新插件，请参阅<a href="/studio/build/gradle-plugin-3-0-0-migration">迁移到 Android Plugin for Gradle 3.0.0</a>。</p>

<h3 id="kotlin-support" class="hide-from-toc" data-text="Kotlin 支持">Kotlin 支持</h3>

<p>正如<a href="https://android-developers.googleblog.com/2017/05/android-announces-support-for-kotlin.html">在 Google I/O 2017 大会上公布</a>的一样，Android 现在已正式支持 Kotlin 编程语言。因此，在此版本中，Android Studio 包含针对 Android 开发的 Kotlin 语言支持。</p>

<p>您可以将 Kotlin 整合到您的项目中，具体方法是：将 Java 文件转换为 Kotlin（依次点击 <strong>Code &gt; Convert Java File to Kotlin File</strong>），或使用 New Project 向导创建新的启用 Kotlin 的项目。</p>

<p>如需开始操作，请阅读如何<a href="/studio/projects/add-kotlin">将 Kotlin 添加到您的项目中</a>。</p>

<p><img src="/studio/images/releases/kotlin-convert_2x.png" alt="" width="600" /></p>

<h3 id="java-8-language-support" class="hide-from-toc" data-text="Java 8 语言功能支持">Java 8 语言功能支持</h3>

<p>您现在可以使用某些 Java 8 语言功能，并利用使用 Java 8 构建的库。<strong>不再需要 Jack</strong>，您需要先<a href="/studio/write/java8-support#disable_jack">停用 Jack</a> 才能使用内置到默认工具链中并得到改进的 Java 8 支持。</p>

<p>如需更新您的项目以支持全新的 Java 8 语言工具链，请在 <strong>Project Structure</strong> 对话框（依次点击 <strong>File &gt; Project Structure</strong>）中将 <strong>Source Compatibility</strong> 和 <strong>Target Compatibility</strong> 更新到 1.8。如需了解详情，请阅读如何<a href="/studio/write/java8-support">使用 Java 8 语言功能</a>。</p>

<p><img src="/studio/images/projects/project-java-compatibility_2x.png" alt="" width="700" /></p>

<h3 id="android-profiler" class="hide-from-toc" data-text="Android Profiler">Android Profiler</h3>

<p>新的 Android Profiler<strong> 取代了 Android Monitor 工具</strong>，并提供了一套新的工具来实时衡量应用的 CPU、内存和网络使用情况。您可以执行基于样本的方法跟踪来记录代码执行时间、采集堆转储数据、查看内存分配，以及检查网络传输文件的详细信息。</p>

<p>如需打开，请依次点击 <strong>View &gt; Tool Windows &gt; Android Profiler</strong>（或点击工具栏中的 <strong>Android Profiler</strong> <img src="/studio/images/buttons/toolbar-android-profiler.png" class="inline-icon" alt="" />）。</p>

<p>窗口顶部的事件时间轴会显示触摸事件、按键和活动更改，以便您更清楚地了解时间轴中的其他性能事件。</p>
<aside class="note"><strong>注意</strong><span>：<a href="/studio/debug/am-logcat">Logcat</a> 视图也移到一个单独的窗口中（以前是在 Android Monitor 中，该工具现已移除）。</span></aside>
<p><img src="/studio/images/profile/android-profiler-overview_2x.png" alt="" width="856" /></p>

<p>从 Android Profiler 的概览时间轴中，点击 <strong>CPU </strong>、<strong>MEMORY</strong> 或 <strong>NETWORK</strong> 时间轴即可访问相应的性能剖析器工具。</p>

<h4 class="hide-from-toc" id="cpu-profiler" data-text="CPU Profiler">CPU 性能剖析器</h4>

<p>借助 CPU 性能剖析器，您可以触发一个样本或检测的 CPU 跟踪记录，从而分析应用的 CPU 线程使用情况。然后，您可以使用各种数据视图和过滤器来排查 CPU 性能问题。</p>

<p>如需了解详情，请参阅 <a href="/studio/profile/cpu-profiler">CPU 性能剖析器指南</a>。</p>

<p><img src="/studio/images/releases/cpu-profiler_2x.png" alt="" width="856" /></p>

<h4 class="hide-from-toc" id="memory-profiler" data-text="Memory Profiler">内存性能分析器</h4>

<p>内存性能分析器可帮助您识别可能会导致应用卡顿、冻结甚至崩溃的内存泄漏和内存抖动。它会显示一个应用内存使用量的实时图表，让您可以捕获堆转储、强制执行垃圾回收以及跟踪内存分配。</p>

<p>如需了解详情，请参阅<a href="/studio/profile/memory-profiler">内存性能分析器指南</a>。</p>

<p><img src="/studio/images/releases/memory-profiler_2x.png" alt="" width="856" /></p>

<h4 class="hide-from-toc" id="network-profiler" data-text="Network Profiler">网络性能剖析器</h4>

<p>通过网络性能剖析器，您可以监控应用的网络活动，检查每个网络请求的负载，并链接回生成网络请求的代码。</p>

<p>如需了解详情，请参阅<a href="/studio/profile/network-profiler">网络性能剖析器指南</a>。</p>

<p><img src="/studio/images/releases/network-profiler_2x.png" alt="" width="856" /></p>

<h3 id="apk-debugger" class="hide-from-toc" data-text="APK 性能剖析和调试">APK 性能剖析和调试</h3>

<p>Android Studio 现在允许您<strong>对任何 APK 进行性能剖析和调试</strong>，而无需从 Android Studio 项目构建这些 APK - 只要这些 APK 已构建用于<a href="/studio/debug#enable-debug">启用调试</a>并且您可以使用调试符号和源文件。</p>

<p>如需开始操作，请在 Android Studio 欢迎屏幕上点击 <strong>Profile or debug APK</strong>。或者，如果您已经打开一个项目，请在菜单栏中依次点击 <strong>File &gt; Profile or Debug APK</strong>。这会显示已解压缩的 APK 文件，但不会对代码进行反编译。因此，为了正确添加断点和查看堆栈轨迹，您需要附加 Java 源文件和原生调试符号。</p>

<p>如需了解详情，请参阅<a href="/studio/debug/apk-debugger">对预构建 APK 进行性能剖析和调试</a>。</p>

<p><img src="/studio/images/debug/apk-debugging_2x.png" alt="" width="856" /></p>

<h3 id="device-file-explorer" class="hide-from-toc" data-text="设备文件浏览器">设备文件浏览器</h3>

<p>利用新的设备文件浏览器，您可以检查已连接设备的文件系统，并在设备和计算机之间传输文件。这取代了 DDMS 中提供的文件系统工具。</p>

<p>如需打开，请依次点击 <strong>View &gt; Tool Windows &gt; Device File Explorer</strong>。</p>

<p>如需了解详情，请参阅<a href="/studio/debug/device-file-explorer">设备文件浏览器指南</a>。</p>

<p><img src="/studio/images/debug/device-file-explorer_2x.png" alt="" width="570" /></p>

<h3 id="instant-apps" class="hide-from-toc" data-text="免安装应用支持">免安装应用支持</h3>

<p>对 Android 免安装应用的全新支持允许您使用以下<strong>两种新模块类型</strong>在项目中创建免安装应用：免安装应用模块和功能模块（这些模块要求您<a href="/topic/instant-apps/getting-started/setup#setup-sdk">安装免安装应用开发 SDK</a>）。</p>

<p><img src="/studio/images/projects/instant-apps-module_2x.png" alt="" width="800" /></p>

<p>Android Studio 还包含一个<strong>新的模块化重构操作</strong>，可帮助您在现有项目中添加对免安装应用的支持。例如，如果您要重构项目以在免安装应用功能模块中添加一些类，请在 <strong>Project</strong> 窗口中选择这些类，然后依次点击 <strong>Refactor &gt; Modularize</strong>。在随即显示的对话框中，选择这些类应归属的模块，然后点击 <strong>OK</strong>。</p>

<p>当您准备好测试免安装应用时，您可以在<a href="/studio/run/rundebugconfig#general-tab">运行配置启动选项</a>中指定免安装应用的网址（具体方法是：依次选择 <strong>Run &gt; Edit Configurations</strong>，选择您的免安装应用模块，然后在 <strong>Launch Options</strong> 下设置网址），以在连接的设备上<strong>构建和运行免安装应用模块</strong>。</p>

<p>如需了解详情，请参阅 <a href="/topic/instant-apps">Android 免安装应用</a>。</p>

<h3 id="android-things-modules" class="hide-from-toc" data-text="Android Things 模块">Android Things 模块</h3>

<p>New Project 和 New Module 向导中的新 Android Things 模板可帮助您开始为搭载 Android 系统的物联网设备开发应用。</p>

<p>如需了解详情，请参阅如何<a href="/things/training/first-device/create-studio-project">创建 Android Things 项目</a>。</p>

<h3 id="adaptive-icons-wizard" class="hide-from-toc" data-text="自适应图标向导">自适应图标向导</h3>

<p>Image Asset Studio 现在支持<a href="/guide/topics/graphics/vector-drawable-resources">矢量可绘制对象</a>，可让您创建<strong>用于 Android 8.0 的自适应启动器图标</strong>，同时为旧款设备创建传统图标（“旧版”图标）。</p>

<p>首先，右键点击项目中的 <strong>res</strong> 文件夹，然后依次点击 <strong>New &gt; Image Asset</strong>。在 <strong>Asset Studio</strong> 窗口中，选择 <strong>Launcher Icons (Adaptive and Legacy)</strong> 作为图标类型。</p>
<aside class="note"><strong>注意</strong><span>：必须将 <code translate="no" dir="ltr">compileSdkVersion</code> 设为 26 或更高版本才能使用自适应启动器图标。</span></aside>
<p>如需了解详情，请参阅<a href="/guide/practices/ui_guidelines/icon_design_adaptive">自适应图标</a>。</p>

<p><img src="/studio/images/write/image-asset-studio_2x.png" alt="" width="856" /></p>

<h3 id="support-for-font-resources" class="hide-from-toc" data-text="对字体资源的支持">对字体资源的支持</h3>

<p>为了支持 Android 8.0 中的新字体资源，Android Studio 添加了一个<strong>字体资源选择器</strong>，用于将字体打包到应用中或配置项目以将字体下载到设备上（如果可用）。布局编辑器还可以在您的布局中<strong>预览字体</strong>。</p>

<p>如需试用可下载字体，请确保您的设备或模拟器运行的是 Google Play 服务 11.2.63 版或更高版本。如需了解详情，请参阅<a href="/guide/topics/ui/look-and-feel/downloadable-fonts">可下载字体</a>。</p>

<p><img src="/studio/images/write/font-download_2x.png" alt="" width="800" /></p>

<h3 id="firebase-app-indexing-assistant" class="hide-from-toc" data-text="Firebase App Indexing Assistant">Firebase App Indexing Assistant</h3>

<p>Firebase Assistant 已更新，其中包含讲述如何测试 <a href="https://firebase.google.com/docs/app-indexing/">App Indexing</a> 的新教程。如需打开 Assistant，请依次选择 <strong>Tools &gt; Firebase</strong>。然后，依次选择 <strong>App Indexing &gt; Test App Indexing</strong>。</p>

<p>该教程包含用于测试公开和个人内容索引编制的新按钮：</p>

<ul>
<li>在第 2 步中，点击 <strong>Preview search results</strong>，验证您的网址是否会显示在 Google 搜索结果中。</li>
<li>在第 3 步中，点击 <strong>Check for errors</strong>，验证应用中可编入索引的对象是否已添加到个人内容索引中。</li>
</ul>

<h3 id="app-links-assistant" class="hide-from-toc" data-text="Android App Links Assistant">Android App Links Assistant</h3>

<p><a href="/studio/write/app-link-indexing">App Links Assistant</a> 已更新，包含以下新功能：</p>

<ul>
<li><p>为每个网址映射<strong>添加网址测试</strong>，以确保您的 intent 过滤器可处理真实的网址。</p>

<p><img src="/studio/images/write/applinks-url-validation-callout_2x.png" alt="" width="756" /></p>

<p>您也可以使用下述 <code translate="no" dir="ltr">&lt;tools:validation&gt;</code> 标记手动定义这些网址测试。</p></li>
<li><p>使用正确的对象条目<strong>创建 Digital Asset Links 文件</strong>，以支持 <a href="https://developers.google.com/identity/smartlock-passwords/android/">Google Smart Lock</a>，并向清单文件添加相应的 <code translate="no" dir="ltr">asset_statements</code> <code translate="no" dir="ltr">&lt;meta-data&gt;</code> 标记。</p>

<p><img src="/studio/images/write/applinks-smartlock-callout_2x.png" alt="" width="756" /></p></li>
</ul>

<h3 id="url-intent-filter-validator" class="hide-from-toc" data-text="网址 intent-filter 验证程序">网址 intent-filter 验证程序</h3>

<p>Android Studio 现在支持清单文件中的一种特殊标记，该标记可让您<strong>测试 intent 过滤器网址</strong>。这些标记与 <a href="#app-links-assistant">App Links Assistant 可为您创建的</a>标记相同。</p>

<p>如需声明 intent 过滤器的测试网址，请添加 <code translate="no" dir="ltr">&lt;tools:validation&gt;</code> 元素以及对应的 <code translate="no" dir="ltr">&lt;intent-filter&gt;</code> 元素。例如：</p>
<devsite-code data-copy-event-label=""><pre class="lang-xml" translate="no" dir="ltr" is-upgraded=""><code dir="ltr"><span class="tag">&lt;activity</span><span class="pln"> ...</span><span class="tag">&gt;</span><span class="pln"><br />    </span><span class="tag">&lt;intent-filter&gt;</span><span class="pln"><br />        ...<br />    </span><span class="tag">&lt;/intent-filter&gt;</span><span class="pln"><br />    </span><span class="tag">&lt;tools:validation</span><span class="pln"> </span><span class="atn">testUrl</span><span class="pun">=</span><span class="atv">"https://www.example.com/recipe/1138"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br /></span><span class="tag">&lt;/activity&gt;</span><span class="pln"><br /></span></code></pre></devsite-code>
<p>还请务必在 <code translate="no" dir="ltr">&lt;manifest&gt;</code> 代码中包含 <code translate="no" dir="ltr">xmlns:tools="http://schemas.android.com/tools"</code>。</p>

<p>如果其中任何一个测试网址未通过 intent 过滤器定义，则会显示 Lint 错误。此类错误仍允许您构建调试变体，但它会破坏您的发布 build。</p>

<p><img src="/studio/images/write/intent-url-validation_2x.png" alt="" width="530" /></p>

<h3 id="layout-editor" class="hide-from-toc" data-text="布局编辑器">布局编辑器</h3>

<p><a href="/studio/write/layout-editor">布局编辑器</a>已更新，包含多项增强功能，其中包括：</p>

<ul>
<li>新的工具栏布局和图标。</li>
<li>更新了组件树中的布局。</li>
<li>改进了拖放视图插入。</li>
<li>新增了错误面板（在编辑器下方），其中会显示所有问题以及修正建议（如可用）。</li>
<li>针对使用 <code translate="no" dir="ltr">ConstraintLayout</code> 进行构建的各种界面增强功能，包括：
<ul>
<li>新增对<a href="/training/constraint-layout#constrain-to-a-barrier">创造屏障</a>的支持。</li>
<li>新增对创建组的支持：在工具栏中，依次选择 <strong>Guidelines &gt; Add Group</strong>（需要 <a href="https://androidstudio.googleblog.com/2017/10/constraintlayout-110-beta-2.html">ConstraintLayout 1.1.0 Beta 版 2</a> 或更高版本）</li>
<li>新增用于创建链的界面：选择多个视图，然后右键点击并选择 <strong>Chain</strong>。</li>
</ul></li>
</ul>

<p><img src="/studio/images/write/layout-editor-errors_2x.png" alt="" width="856" /></p>

<h3 id="layout-inspector" class="hide-from-toc" data-text="布局检查器">布局检查器</h3>

<p><a href="/studio/debug/layout-inspector">布局检查器</a>包含一些增强功能，可让您更轻松地调试应用布局问题，包括将属性归入常见类别以及 <strong>View Tree</strong> 和 <strong>Properties</strong> 窗格中的新搜索功能。</p>

<p><img src="/studio/images/debug/layout-inspector_2x.png" alt="" width="856" /></p>

<h3 id="apk-analyzer" class="hide-from-toc" data-text="APK 分析器">APK 分析器</h3>

<p>您现在可以使用 <a href="/studio/command-line/apkanalyzer"><code translate="no" dir="ltr">apkanalyzer</code></a> 工具从命令行使用 APK 分析器。</p>

<p>APK 分析器也经过更新，包含以下改进功能：</p>

<ul>
<li>对于使用 ProGuard 构建的 APK，您可以加载为 DEX 查看器添加功能的 ProGuard 映射文件，包括：
<ul>
<li>粗体节点，指示在压缩代码时不应移除节点。</li>
<li>一个用于显示在压缩过程中移除的节点的按钮。</li>
<li>一个按钮，用于恢复树状视图中由 ProGuard 进行混淆处理的节点的原始名称。</li>
</ul></li>
<li>DEX 查看器现在会显示每个软件包、类和方法的估计大小影响。</li>
<li>在顶部新增了一些过滤选项，可显示和隐藏字段和方法。</li>
<li>在树状视图中，未在 DEX 文件中定义的参考节点会以斜体显示。</li>
</ul>

<p>如需了解详情，请参阅<a href="/studio/build/apk-analyzer">使用 APK 分析器分析您的构建</a>。</p>

<h3 id="preview-the-new-d8-dex-compiler" class="hide-from-toc" data-text="D8 DEX 编译器的预览版">D8 DEX 编译器的预览版</h3>

<p>Android Studio 3.0 包含一个名为 D8 的可选新 DEX 编译器。它最终将取代 DX 编译器，但您现在可以选择使用新的 D8 编译器。</p>

<p>DEX 编译会直接影响应用的构建时间、<code translate="no" dir="ltr">.dex</code> 文件的大小和运行时性能。与当前 DX 编译器相比，新的 D8 编译器的编译速度更快，输出的 <code translate="no" dir="ltr">.dex</code> 文件更小，同时却能保持相同乃至更出色的应用运行时性能。</p>

<p>如需试用此功能，请在项目的 <code translate="no" dir="ltr">gradle.properties</code> 文件中进行以下设置：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">android.enableD8=true
</code></pre></devsite-code>
<p>如需了解详情，请参阅<a href="https://android-developers.googleblog.com/2017/08/next-generation-dex-compiler-now-in.html">有关 D8 编译器的博文</a>。</p>

<h3 class="hide-from-toc" id="googles-maven-repository" data-text="Google 的 Maven 代码库">Google 的 Maven 代码库</h3>

<p>Android Studio 现在默认使用 Google 的 Maven 代码库，而不依赖于 Android SDK 管理器来获取 Android 支持库、Google Play 服务、Firebase 和其他依赖项的更新。这样，您可以更轻松地使您的库保持最新，尤其是在使用持续集成 (CI) 系统时。</p>

<p>现在，所有新项目都默认包含 Google Maven 代码库。如需更新现有项目，请在顶级 <code translate="no" dir="ltr">build.gradle</code> 文件的 <code translate="no" dir="ltr">repositories</code> 代码块中添加 <code translate="no" dir="ltr">google()</code>：</p>
<devsite-code data-copy-event-label=""><pre class="" translate="no" dir="ltr" is-upgraded=""><code translate="no" dir="ltr">allprojects {
    repositories {
        google()
    }
}
</code></pre></devsite-code>
<p>如需详细了解 Google 的 Maven 代码库，请点击<a href="/studio/build/dependencies#google-maven">此处</a>。</p>

<h3 id="other-changes" class="hide-from-toc" data-text="其他变更">其他变更</h3>

<ul>
<li>使用 Android Studio 进行原生调试不再支持 32 位 Windows 系统。我们选择专注于其他平台，因为很少有开发者使用这个平台。如果您使用的是 32 位 Windows 系统并且打算调试原生代码，应继续使用 <a href="/studio/archive#android-studio-2-3-3">Android Studio 2.3</a>。</li>
<li>将基本 IDE 升级为 <a href="https://confluence.jetbrains.com/display/IDEADEV/IntelliJ+IDEA+2017.1.2+Release+Notes">IntelliJ 2017.1.2</a>，其包含 <a href="https://www.jetbrains.com/idea/whatsnew/#v2016-3">2016.3</a> 和 <a href="https://blog.jetbrains.com/idea/2017/02/intellij-idea-2017-1-public-preview-java-9-debugger-vcs-search-editor-and-many-more/">2017.1</a> 中的许多新功能，例如 Java 8 语言重构、参数提示、语义突出显示、可拖动的断点、即时获得搜索结果等等。</li>
<li>添加了许多新的 Lint 检查。</li>
<li>另请参阅最新的 <a href="/studio/releases/emulator">Android 模拟器更新</a>。</li>
</ul>

<h2 id="2-3-0" data-text="2.3（2017 年 3 月）">2.3（2017 年 3 月）</h2>

<p>
  Android Studio 2.3.0 主要是一个问题修复和稳定版本，但它也包含许多新功能。
</p>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.3.3（2017 年 6 月）</b>
  </p>

  <p>
    这是一项次要更新，添加了对 Android O（API 级别 26）的支持。
  </p>
</div>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.3.2（2017 年 4 月）</b>
  </p>

  <p>
    这是一项 Android Studio 2.3 次要更新，其中包含以下更改：
  </p>

  <ul>
    <li>更新了 AVD 管理器，以在系统映像中支持 Google Play。
    </li>
    <li>修复了使用 R14 及更高版本 NDK 时的 NDK 构建问题。
    </li>
  </ul>

  <p>
    另请参阅 <a href="/studio/releases/emulator">Android 模拟器 26.0.3</a> 的相应更新。
  </p>
</div>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.3.1（2017 年 4 月）</b>
  </p>

  <p>
    这是一项 Android Studio 2.3 次要更新，修复了某些实际 Android 设备无法正确使用 <a href="/studio/run#instant-run">Instant Run</a> 的问题（请参阅<a href="https://code.google.com/p/android/issues/detail?id=235879">问题 #235879</a>）。
  </p>
</div>

<h3 class="hide-from-toc" id="new" data-text="   新 ">
  新
</h3>

<div class="video-wrapper-left">
  <devsite-youtube autohide="1" showinfo="0" video-id="VFyKclKBGf0" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What’s new in Android Studio 2.3 - Android Tool Time. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/VFyKclKBGf0?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=VFyKclKBGf0&amp;enablejsapi=1&amp;widgetid=17" id="widget18" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<ul>
  <li>Android Studio 现在可以将 PNG、BMP、JPG 和静态 GIF 文件转换为 WebP 格式。WebP 是 Google 的一种既可以提供有损压缩（像 JPEG 一样）也可以提供透明度（像 PNG 一样）的图片文件格式，不过与 JPEG 或 PNG 相比，这种格式可以提供更好的压缩。如需了解详情，请参阅<a href="/studio/write/convert-webp">在 Android Studio 中将图片转换为 WebP</a>。
  </li>

  <li>新的 <a href="/studio/write/app-link-indexing">App Links Assistant</a> 以分步向导的方式简化了向应用添加 Android 应用链接的流程。Android 应用链接是指将用户直接转到 Android 应用内特定内容的 HTTP 网址。</li>

  <li>布局编辑器现在支持两个新的 ConstraintLayout 功能：
    <ul>
      <li>根据宽高比定义视图大小。
      </li>
      <li>使用约束链创建打包、展开和加权线性组。
      </li>
    </ul>
    如需了解详情，请参阅<a href="/training/constraint-layout">使用 ConstraintLayout 构建自适应界面</a>。
  </li>

  <li>布局编辑器现在还可让您创建<a href="/studio/write/layout-editor#edit-properties">喜爱的属性</a>列表，因此您无需点击 <b>View all attributes</b> 即可访问最常使用的属性。
  </li>

  <li>使用“Vector Import”对话框 (<b>File &gt; New &gt; Vector Asset</b>) 添加 Material 图标时，您现在可以按类别或图标名称过滤可用图标列表。如需了解详情，请参阅<a href="/studio/write/vector-asset-studio#materialicon">添加 Material 图标</a>。
  </li>

  <li>
    <a href="/studio/write/annotations#accessibility">新的和经过更新的注解</a>。方法、类和软件包的新 <code translate="no" dir="ltr">@RestrictTo</code> 注解允许您对 API 进行限制。更新后的 <code translate="no" dir="ltr">@VisibleForTesting</code> 注解现在包含一个可选的 <code translate="no" dir="ltr">otherwise</code> 参数，可让您指定在不需要公开某个方法以用于测试时，该方法的公开范围应该为何。Lint 使用 <code translate="no" dir="ltr">otherwise</code> 选项来强制执行方法的既定公开范围。
  </li>

  <li>新的 <a href="/studio/write/lint#snapshot">Lint 基准支持</a>允许您使用项目当前警告集的快照作为未来检查任务的基准，以便仅报告新问题。有了基准快照，您在出现新问题时不必返回并先解决所有现有问题，即可开始使用 Lint 取消构建。
  </li>

  <li>新的 Lint 检查，包括：
    <ul>
      <li>过时 <code translate="no" dir="ltr">SDK_INT</code> 检查：Android Studio 会移除用于检查 SDK 版本的过时代码。</li>
      <li>Object Animator 验证：Lint 会分析您的代码以确保 <code translate="no" dir="ltr">ObjectAnimator</code> 使用正确签名调用具有有效参考的方法，并检查这些方法是否使用 <code translate="no" dir="ltr">
        @Keep</code> 注解以防止 ProGuard 在发布版本时重命名或移除它们。
      </li>
      <li>不必要的项目装饰器副本：旧版本的 <code translate="no" dir="ltr">RecyclerView</code> 库不包含分隔线装饰器类，但在支持演示中提供了该类的一个示例。该库的最新版本具有分隔线装饰器类。Lint 会查找旧示例，并建议将其替换为新示例。
      </li>
      <li>WifiManager 泄漏：在 Android 7.0（API 级别 24）之前，如果上下文不是应用上下文，那么使用 <code translate="no" dir="ltr"><a href="/reference/android/content/Context#getSystemService(java.lang.Class&lt;T&gt;)">Context.getSystemService()</a></code> 初始化 <code translate="no" dir="ltr">WifiManager</code> 会导致内存泄漏。Lint 会查找这些初始化，如果它无法确定上下文是否为应用上下文，它会建议您使用 <code translate="no" dir="ltr"><a href="/reference/android/content/Context#getApplicationContext()">Context.getApplicationContext()</a></code> 来获取初始化的正确上下文。<em></em>
      </li>
      <li>改进了资源前缀：现有的 <code translate="no" dir="ltr">resourcePrefix</code> Lint 检查有许多限制。现在，您可以使用前缀配置项目（比如 <code translate="no" dir="ltr">android { resourcePrefix '<var translate="no">my_lib</var>'
      }</code>），Lint 可确保您的所有资源都使用此前缀。您可以为样式和主题背景使用名称变体形式。例如，对于 <var translate="no">my_lib</var> 前缀，您可以使用名为 <code translate="no" dir="ltr">MyLibTheme</code>、<code translate="no" dir="ltr">myLibAttr</code>、<code translate="no" dir="ltr">my_lib_layout</code> 等的主题背景。
      </li>
      <li>切换到 WebP：此检查可根据项目的 <code translate="no" dir="ltr">minSdkVersion</code> 设置识别项目中可转换为 WebP 格式的图片。关联的快速修复可自动转换图片，您也可以手动<a href="/studio/write/convert-webp">将图片转换为 WebP</a>。
      </li>
      <li>不安全的 WebP：如果您的项目已包含 WebP 图片，此检查会分析您的项目，以确保您的 <code translate="no" dir="ltr">minSdkVersion</code> 设置足够高，可以支持包含的图片。如需详细了解 Android 和 Android Studio 中的 WebP 支持，请参阅<a class="external" href="https://developers.google.com/speed/webp/faq#which_web_browsers_natively_support_webp">哪些浏览器对 WebP 提供原生支持？</a>和<a href="/studio/write/convert-webp">使用 Android Studio 创建 WebP 图片</a>。
      </li>
    </ul>
  </li>
</ul>

<h3 class="hide-from-toc" id="changes" data-text="   变更 ">
  变更
</h3>

<ul>
  <li>一个使用 Instant Run 推送更改的单独按钮：现在，部署应用后，点击 <b>Apply Changes</b> <img src="/studio/images/buttons/toolbar-apply-changes.svg" alt="" class="inline-icon" /> 即可使用 Instant Run 快速将增量更改推送到正在运行的应用。当您想可靠地推送更改并强制重启应用时，随时都可以使用 <b>Run</b> <img src="/studio/images/buttons/toolbar-run.png" alt="" class="inline-icon" /> 和 <b>Debug</b> <img src="/studio/images/buttons/toolbar-debug.png" alt="" class="inline-icon" /> 按钮。
    <ul>
      <li>仅在将应用部署到搭载 Android 5.0（API 级别 21）或更高版本的目标设备时，才支持 Instant Run。
      </li>
      <li>对于使用 CMake 或 ndk-build <a href="/studio/projects/add-native-code">链接到外部原生项目</a>的项目，不再停用 Instant Run。但是，您只能使用 Instant Run 将增量更改推送到 Java 代码，而非原生代码。
      </li>
      <li>冷交换（只需点击 <strong>Run</strong> <img src="/studio/images/buttons/toolbar-run.png" alt="" class="inline-icon" /> 即可对正在运行的应用强制执行冷交换）现在更加可靠。强制执行冷交换还可以解决通知和微件界面更改未在目标设备上更新的问题。
      </li>
      <li>为加快应用启动速度进行了优化。这些优化可能会影响性能剖析，因此，在对应用进行性能剖析时应该暂时<a href="/studio/run#disable-ir">停用 Instant Run</a>。
      </li>
    </ul>
  </li>

  <li>
    <p>
      <b>AVD Manager</b> <img src="/studio/images/buttons/toolbar-avd-manager.png" alt="" class="inline-icon" /> 和 <b>SDK Manager</b> <img src="/studio/images/buttons/toolbar-sdk-manager.png" alt="" class="inline-icon" /> 按钮现在包含在精简导航栏以及完整的工具栏中。如需使用精简导航栏，请点击 <b>View</b> 打开“View”菜单，然后确保已选中 <b>Navigation Bar</b> 而未选中 <b>Toolbar</b>。<em></em>
    </p>
    <img src="/studio/images/releases/navigationbar_sdkavd_2x.png" width="757" />
  </li>

  <li>“Hybrid”调试程序已更名为“Dual”调试程序。
  </li>

  <li>在左侧窗格“Defaults”下方的 <a href="/studio/run/rundebugconfig">Run/Debug Configurations</a> 对话框中，以下运行配置名称已更改，但行为没有发生任何变化：
    <ul>
      <li>JUnit 名称已更改为 Android JUnit。如果您有一个使用 JUnit 运行配置的项目，那么在您首次使用 Android Studio 打开项目时，这些配置将转换为 Android JUnit 运行配置。系统会显示一个对话框，通知您名称更改。
      </li>
      <li>Android Tests 名称已更改为 Android Instrumentation Tests。
      </li>
    </ul>
  </li>

  <li>从 2.3 版开始，<a href="/studio/debug/am-gpu-debugger">GPU 调试程序</a>已从 Android Studio 中移除。<a href="https://github.com/google/gapid" class="external-link">GitHub</a> 现在提供了该工具的开源独立版本。
  </li>

  <li>右键点击 <code translate="no" dir="ltr">
    *.gradle build</code> 脚本后，无法再使用“Run/Debug”选项。
  </li>

  <li>现在，所有模板都使用 <code translate="no" dir="ltr">ConstraintLayout</code> 作为默认布局。
  </li>

  <li>布局编辑器中的微件调色板已经过重新设计。
  </li>
</ul>

<p>
  此版本还修复了很多问题。<a href="https://code.google.com/p/android/issues/list?can=1&amp;q=target%3D2.3+status%3DReleased&amp;colspec=ID+Status+Priority+Owner+Summary+Stars+Reporter+Opened&amp;cells=tiles">查看 2.3.0 中修复的所有问题</a>。</p>

<p class="note">
  <b>已知问题</b>：某些设备制造商会阻止应用在安装到设备上后自动启动。使用 Android Studio 2.3 将应用部署到实际设备时，此限制会破坏 Instant Run 的预期行为并导致以下错误输出：<code translate="no" dir="ltr">Error: Not found; no service started</code>。为避免此问题，请<a href="/studio/run/emulator">使用模拟器</a>或在设备的设置中为应用启用自动启动功能。每个设备的操作步骤有所不同，请查看制造商提供的说明。如需详细了解此问题，请参阅<a href="https://code.google.com/p/android/issues/detail?id=235879">问题 #235879</a>。
</p>

<h2 id="2-2-0" data-text="2.2（2016 年 9 月）">2.2（2016 年 9 月）</h2>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.2.3（2016 年 12 月）</b>
  </p>

  <p>
    这是一项 Android Studio 2.2 次要更新。其中包含针对 Gradle、核心 IDE 和 Lint 的问题修复。
  </p>

  <p>
    重要的构建更改：
  </p>

  <ul>
    <li>ProGuard 版本回滚。由于 ProGuard 5.3.1 中发现的<a href="https://sourceforge.net/p/proguard/bugs/625/">正确性问题</a>，我们已回滚到 ProGuard 5.2.1。我们与 ProGuard 团队合作快速找到了解决方法，我们期望在 Android Studio 2.3 Canary 3 中向前回滚到 ProGuard 5.3.2。
    </li>
    <li>修复了 <code translate="no" dir="ltr">aaptOptions</code> <code translate="no" dir="ltr">IgnoreAssetsPattern</code> 无法正常运行的问题（<a href="http://b.android.com/224167">问题 224167</a>）
    </li>
    <li>修复了为约束布局库自动下载 Gradle 的问题（<a href="https://code.google.com/p/android/issues/detail?id=212128">问题 212128</a>）
    </li>
    <li>修复了 JDK8/Kotlin 编译器 + dx 问题（<a href="http://b.android.com/227729">问题 227729</a>）
    </li>
  </ul>

  <p>
    <a href="https://code.google.com/p/android/issues/list?can=1&amp;q=target%3D2.2.3+status%3AReleased+&amp;colspec=ID+Status+Priority+Owner+Summary+Stars+Reporter+Opened&amp;cells=tiles">
    查看 2.2.3 中修复的所有问题</a>。
  </p>
</div>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.2.2（2016 年 10 月）</b>
  </p>

  <p>
    这是一项 Android Studio 2.2 次要更新。其中包含很多细微更改和问题修复，包括：</p>

  <ul>
    <li>通过 IDE 报告 Instant Run 问题时，报告现在还会包含 <code translate="no" dir="ltr">InstantRun</code> 事件的 logcat 输出。为了帮助我们改进 Instant Run，请<a href="/studio/run#submit-feedback">启用额外的日志记录功能并报告所有问题</a>。
    </li>
    <li>修复了 Gradle 的许多小问题。
    </li>
    <li>修复了生成多个 APK 时的问题。
    </li>
  </ul>
</div>

<div class="dac-releases-page updates-box">
  <p>
    <b>2.2.1（2016 年 10 月）</b>
  </p>

  <p>
    这是一项 Android Studio 2.2 次要更新。其中包含多项问题修复，并添加了一项新功能来启用额外的日志记录功能，以帮助我们排查 Instant Run 问题。为了帮助我们改进 Instant Run，请<a href="/studio/run#submit-feedback">启用额外的日志记录功能并报告所有问题</a>。
  </p>
</div>

<h3 class="hide-from-toc" id="new_1" data-text="   新 ">
  新
</h3>

<div class="video-wrapper-left">
  <devsite-youtube autohide="1" showinfo="0" video-id="NbHsi3-uR8E" tabindex="0" aria-label="您目前选中的元素包含 YouTube 视频，该视频的标题为： What's New in Android Studio 2.2. 继续点击 Tab 键即可听取包含的选项。"><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/NbHsi3-uR8E?origin=https%3A%2F%2Fdeveloper.android.com&amp;autohide=1&amp;showinfo=0&amp;video-id=NbHsi3-uR8E&amp;enablejsapi=1&amp;widgetid=19" id="widget20" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-youtube>
</div>

<ul>
  <li>所有新的<strong><a href="/studio/write/layout-editor">布局编辑器</a></strong>都内置自定义工具，以支持 <a href="/training/constraint-layout">ConstraintLayout</a>。
  </li>

  <li>新的<strong><a href="http://tools.android.com/tech-docs/layout-inspector">布局检查器</a></strong>，可让您在模拟器或设备上运行应用时检查布局层次结构的快照。
  </li>

  <li>新的 <strong><a href="/studio/write/firebase">Assistant</a></strong> 窗口，可帮助您将 Firebase 服务集成到您的应用中。
  </li>

  <li>新的 <strong><a href="/studio/build/apk-analyzer">APK 分析器</a></strong>工具，可让您检查封装应用的内容。
  </li>

  <li>新的 <strong><a href="http://tools.android.com/tech-docs/test-recorder">Espresso 测试记录器</a></strong>工具（目前处于 Beta 版阶段），可帮助您记录自己的互动来创建界面测试。
  </li>

  <li>新的<strong><a href="http://tools.android.com/tech-docs/build-cache">构建缓存</a></strong>（目前是实验性功能），可加快构建速度。
  </li>

  <li>新的 <strong>C/C++ 构建与 CMake 和 ndk-build 集成</strong>。
  将新的或现有的原生代码编译并构建到打包到 APK 中的库中，并使用 lldb 进行调试。对于新项目，Android Studio 默认使用 CMake，但也支持对现有项目使用 ndk-build。如需了解如何在 Android 应用中添加原生代码，请阅读<a href="/studio/projects/add-native-code">向您的项目添加 C 和 C++ 代码</a>。如需了解如何使用 lldb 调试原生代码，请参阅<a href="/studio/debug#debug-native">调试原生代码</a>。
  </li>

  <li>新的<strong><a href="/studio/intro#sample-code">示例浏览器</a></strong>，让您可以在 Android Studio 中轻松查找 Google Android 示例代码，以立即开始应用开发。
  </li>

  <li>新的<strong>合并后的清单文件查看器</strong>，可帮助您诊断清单文件如何与项目构建变体中的应用依赖项合并。
  </li>

  <li><strong>Run</strong> 窗口现在包含当前运行的应用的日志消息。请注意，您可以配置 <a href="/studio/debug/am-logcat">logcat 监视器</a>显示，但无法配置 <strong>Run</strong> 窗口。
  </li>

  <li>新的 <strong><a href="/studio/run/emulator">Android 模拟器</a></strong>功能：
    <ul>
      <li>添加了新的 <strong>Virtual</strong> <strong>Sensors</strong> 和 <strong>Cellular</strong> &gt; <strong>Signal Strength</strong> 控件。
      </li>
      <li>为 <strong>Cellular</strong> &gt; <strong>Network type</strong> 控件添加了 <strong>LTE</strong> 选项。
      </li>
      <li>添加了模拟纵向滑动功能，以便使用鼠标滚轮滚动浏览纵向菜单。
      </li>
    </ul>
  </li>

  <li>新的<strong><a href="/studio/run/rundebugconfig">运行/调试配置</a></strong>功能：
    <ul>
      <li>Android 应用和 Android Tests 模板的 <strong>Debugger</strong> 标签页现在包含几个新选项，用于使用 LLDB 进行调试。
      </li>
      <li>Android 应用和 Android Tests 模板的 <strong>Profiling</strong> 标签页现在包含一个用于启用 GPU 跟踪的 <strong>Capture GPU Commands</strong> 选项。您可以在 GPU 调试器中显示 GPU 跟踪记录（测试版功能）。
      </li>
      <li>Android Tests 模板现在包含一个适用于 <strong>Deployment Target</strong> 的 <strong>Firebase Test Lab Device Matrix</strong> 选项。
      </li>
      <li>原生应用模板已弃用。如果您在项目中使用此模板，Android Studio 会自动将其转换为 Android 应用模板。
      </li>
      <li>Android 应用模板已更名为 Android 应用。
      </li>
    </ul>
  </li>

  <li>改进了 <strong><a href="/studio/debug/am-gpu-debugger">GPU 调试程序</a></strong>（目前处于 Beta 版阶段）中的安装、配置、性能和界面功能。
  </li>

  <li>Android Studio 现在捆绑了 <strong>OpenJDK 8</strong>。
  现有项目仍使用 <strong>File &gt; Project Structure &gt; SDK Location</strong> 中指定的 JDK。如需改为使用所捆绑的新 JDK，请依次点击 <strong>File &gt; Project Structure &gt; SDK Location</strong>，然后选中 <strong>Use embedded JDK</strong> 复选框。
  </li>

  <li>在界面中添加了新的<strong>帮助菜单和按钮</strong>，以便您更轻松地找到在线文档。
  </li>
</ul>

<h3 class="hide-from-toc" id="changes_1" data-text="   变更 ">
  变更
</h3>

<ul>
  <li>将 IDE 代码库从 IntelliJ 15 更新为 <strong>IntelliJ 2016.1</strong>
  </li>
  <li>Instant Run 现在需要安装与目标设备 API 级别对应的平台 SDK。
  </li>
  <li>如果用户在工作资料下或以次要用户身份运行应用，系统会自动停用 Instant Run。
  </li>
  <li>修复了 <strong><a href="/studio/run#instant-run">Instant Run</a></strong> 的许多可靠性问题，这些问题会使更改无法部署或导致应用崩溃：
    <ul>
      <li>某些应用资产未部署到正在运行的应用中。（<a href="http://b.android.com/213454">错误：#213454</a>）
      </li>
      <li>当用户在 Instant Run 和非 Instant Run 会话（可序列化类未在其中定义 serialVersionUID）之间切换时，应用崩溃。（<a href="http://b.android.com/209006">错误：#209006</a>）
      </li>
      <li>Instant Run 不会反映样式更改。（<a href="http://b.android.com/210851">错误：#210851</a>）
      </li>
      <li>Instant Run 会话不可靠，会导致 FileNotFoundException。（<a href="http://b.android.com/213083">错误：#213083</a>）
      </li>
      <li>在为 KitKat 执行完全重新构建之前，不会反映对可绘制对象的更改。（<a href="http://b.android.com/215360">错误：#21530</a>）
      </li>
      <li>当自定义 sourceSets 包含嵌套路径时，Instant Run 不会反映资源更改。（<a href="http://b.android.com/219145">错误：#219145</a>）
      </li>
      <li>如果已更改的类包含具有枚举值的注解，热交换和温和交换就会不起作用。（<a href="http://b.android.com/209047">错误：#209047</a>）
      </li>
      <li>Instant Run 不会反映对注解数据的更改。（<a href="http://b.android.com/210089">错误：#210089</a>）
      </li>
      <li>如果您在 IDE 外部进行更改，Instant Run 不会选择代码更改。（<a href="http://b.android.com/213205">错误：#213205</a>）
      </li>
      <li>由于安全令牌不匹配，Instant Run 会话不可靠。（<a href="http://b.android.com/211989">错误：#211989</a>）
      </li>
      <li>对于无法正确支持 run-as 的设备，冷交换会失败。（<a href="http://b.android.com/210875">错误：#210875</a>）
      </li>
      <li>应用在 Instant Run 重启后崩溃。（<a href="http://b.android.com/219744">错误：#219744</a>）
      </li>
      <li>从 Instant Run 切换到 Instant Debug 时观察到 ClassNotFoundException。（<a href="http://b.android.com/215805">错误：#215805</a>）
      </li>
    </ul>
  </li>

  <li>改进了 Android Studio 中 <strong>Gradle 同步</strong>的性能，尤其是对于大型项目。
  </li>

  <li>缩短了使用新的应用打包代码进行完整构建和增量构建的构建时间。
  </li>

  <li>改进了 <strong>Jack 编译器的性能和功能</strong>，包括对注解处理器和 dexing-in-process 的支持。如需了解详情，请参阅 <a href="/studio/releases/gradle-plugin#revisions">Android plugin for Gradle 2.2.0 版本说明</a>。
  </li>

  <li>从 AVD 管理器中移除了 <strong>Scale</strong> AVD 属性。
  </li>

  <li>Android 模拟器 <strong>-port</strong> 和 <strong>-ports</strong> 命令行选项现可报告模拟器实例使用的端口和序列号，并在您提供的值出现问题时发出警告。
  </li>

  <li>改进了<strong><a href="/studio/write/create-java-class">“Create New Class”对话框</a></strong>和相应的文件模板。<strong>注意</strong>：如果您之前自定义了 <strong>AnnotationType</strong>、<strong>Class</strong>、<strong>Enum</strong>、<strong>Interface</strong> 或 <strong>Singleton</strong> 文件模板，您需要修改模板以便与新模板一致，否则您将无法使用 <strong>Create New Class</strong> 对话框中的新字段。
  </li>

  <li>改进了 <strong><a href="/studio/write/vector-asset-studio">Vector Asset Studio</a></strong> 界面并添加了对 Adobe Photoshop Document (PSD) 文件的支持。
  </li>

  <li>改进了 <strong><a href="/studio/write/image-asset-studio">Image Asset Studio</a></strong> 界面。
  </li>

  <li>改进了 <strong><a href="/studio/write/theme-editor">Theme Editor</a></strong> 的资源选择器。
  </li>

  <li>修复了 Android Studio 中的内存泄漏问题并减少了总体内存用量。
  </li>

  <li>在 <strong><a href="/studio/intro/update#sdk-manager">SDK 管理器</a></strong>中添加了 <strong>Background</strong> 按钮，以便您可以返回工作并在后台安装软件包。
  </li>

  <li>改进了<strong><a href="/studio/intro/accessibility">无障碍功能</a></strong>，包括对屏幕阅读器和键盘导航的支持。
  </li>

  <li><strong>代码分析</strong>得到增强，其中包含适用于 Java 8 语言的代码质量检查和更多的跨文件分析。
  </li>

  <li>几个工具栏图标发生了更改。
  </li>
</ul>

<h2 id="2-1-0" data-text="2.1（2016 年 4 月）">2.1（2016 年 4 月）</h2>

<p>此更新中的主要更改可为使用 Android N 预览版进行开发提供支持。</p>

<p></p><div class="dac-releases-page" updates-box="">
  <p><b>2.1.3（2016 年 8 月）</b>
  </p>
  <p>
    此项更新增加了与 Gradle 2.14.1 的兼容性，其中包括性能改进、新功能和重要的<a href="https://docs.gradle.org/2.14/release-notes#local-privilege-escalation-when-using-the-daemon" class="external-link">安全修复程序</a>。如需了解详情，请参阅 <a href="https://docs.gradle.org/2.14.1/release-notes" class="external-link">Gradle 版本说明</a>。
  </p>
  <p>
    默认情况下，Android Studio 2.1.3 中的新项目使用 Gradle 2.14.1。对于现有项目，Android Studio 会提示您升级到 Gradle 2.14.1 和 <a href="/studio/releases/gradle-plugin#revisions">Android plugin for Gradle 2.1.3</a>，这在使用 Gradle 2.14.1 及更高版本时是必需的。
  </p>
</div><p></p>

<div class="dac-releases-page updates-box">
  <p><b>2.1.2（2016 年 6 月）</b>
  </p>
    <p>
      此更新包含多项细微更改和问题修复：
    </p>
    <ul>
      <li><a href="/studio/run#instant-run">Instant Run</a> 更新和问题修复。
      </li>
      <li>改进了 LLDB 性能和崩溃通知。
      </li>
      <li>修复了 Android Studio 2.1.1 安全更新中会导致 <code translate="no" dir="ltr">git rebase</code> 失败的回归问题。
      </li>
    </ul>
</div>

<div class="dac-releases-page updates-box">
  <p><b>2.1.1（2016 年 5 月）</b>
  </p>
  <p>安全版本更新。</p>
</div>

<p>Android N 平台增加了对 <a href="/studio/write/java8-support">Java 8 语言功能</a>的支持，这些功能需要一个名为 Jack 的新实验性编译器。最新版本的 Jack 目前仅在 Android Studio 2.1 中受支持。因此，如果您要使用 Java 8 语言功能，就需要使用 Android Studio 2.1 构建应用。</p>

<p class="note"><strong>注意</strong>：在您启用 Jack 编译器时，<a href="/tools/building/building-studio#instant-run">Instant Run</a> 处于停用状态，因为这二者当前不兼容。</p>

<p>尽管 Android Studio 2.1 现已稳定运行，但 Jack 编译器仍处于试验阶段，您必须使用 <code translate="no" dir="ltr">build.gradle</code> 文件中的 <code translate="no" dir="ltr">jackOptions</code> 属性来启用它。</p>

<p>除了为支持 N 预览版所做的更改外，Android Studio 2.1 还包含一些次要问题修复和以下增强功能：</p>
    <ul>
      <li>现在，当您使用 N 设备或模拟器并选择 <strong>Native</strong> 调试程序模式（在运行/调试配置对应的 <strong>Debugger</strong> 标签页中），Java-aware C++ 调试程序默认处于启用状态。</li>
    </ul>
    <p>对于其他构建增强功能（包括增量 Java 编译和 dexing-in-process），请将 <a href="/tools/revisions/gradle-plugin">Android plugin for Gradle</a> 更新到版本 2.1.0。</p>

<h2 id="2-0-0" data-text="2.0（2016 年 4 月）">2.0（2016 年 4 月）</h2>

<p class="note">
  <strong>注意</strong>：如果您要为 N 开发者预览版开发应用，应使用 Android Studio 2.1 预览版。Android Studio 2.0 无法支持以 N 预览版为目标进行开发所需的全部功能。</p>

<p>
  <strong>Instant Run</strong>：
</p>

<ul>
  <li>Android Studio 现在部署整洁构建的速度比以前更快。
  此外，将增量代码更改推送到模拟器或实际设备几乎是即时的。您可以查看更新，而无需重新部署新的调试 build；在很多情况下，无需重启应用。
  </li>

  <li>Instant Run 支持将以下更改推送到正在运行的应用：
    <ul>
      <li>对现有实例方法或静态方法的实现所做的更改
      </li>
      <li>对现有应用资源的更改
      </li>
      <li>对结构代码的更改，例如方法签名或静态字段（需要搭载 API 级别 21 或更高级别的目标设备）。
      </li>
    </ul>
  </li>

  <li>如需详细了解 <a href="/tools/building/building-studio#instant-run">Instant Run</a>，请阅读相关文档。
    <p class="note">
      <strong>注意</strong>：仅在您部署调试构建变体、使用 <a href="/tools/revisions/gradle-plugin#revisions">Android plugin for Gradle 2.0.0 版</a>或更高版本，或针对 <code translate="no" dir="ltr">minSdkVersion 15</code> 或更高版本配置应用的模块级 <code translate="no" dir="ltr">build.gradle</code> 文件时，Instant Run 才受支持。
      为获得最佳性能，请针对 <code translate="no" dir="ltr">minSdkVersion
      21</code> 或更高版本配置应用。
    </p>
  </li>
</ul>

<p><strong>Lint 新增的内容</strong>：</p>
  <ul>
    <li>使用 <code translate="no" dir="ltr"><a href="/reference/androidx/annotation/IntDef">@IntDef</a></code> 注解的整数检查 <code translate="no" dir="ltr">switch</code> 语句，以确保处理所有常量。如需快速添加所有缺少的语句，请使用 intent 操作下拉菜单，然后选择 <b>Add Missing @IntDef Constants</b>。
    </li>
    <li>用于使用字符串插值在 <code translate="no" dir="ltr">build.gradle</code> 文件中插入版本号的错误尝试的标记。
    </li>
    <li>用于扩展 <code translate="no" dir="ltr"><a href="/reference/android/app/Fragment">Fragment</a></code> 类的匿名类的标记。
    </li>
    <li>用于不安全位置（例如 <code translate="no" dir="ltr">res/</code> 和 <code translate="no" dir="ltr">asset/</code> 文件夹）中的原生代码的标记。
此标记会建议将原生代码存储在 <code translate="no" dir="ltr">libs/</code> 文件夹中，然后在安装时将该代码安全打包到应用的 <code translate="no" dir="ltr">data/app-lib/</code> 文件夹中。<a class="external-link" href="https://android-review.googlesource.com/#/c/169950/">AOSP：#169950</a>
    </li>
    <li>用于对 <code translate="no" dir="ltr"><a href="/reference/java/lang/Runtime#load(java.lang.String)">Runtime.load()</a></code> 和 <code translate="no" dir="ltr"><a href="/reference/java/lang/System#load(java.lang.String)">System.load()</a></code> 调用的不安全调用的标记。<a class="external-link" href="https://android-review.googlesource.com/#/c/179980/">AOSP：#179980</a>
    </li>
    <li>通过从菜单栏中依次选择 <b>Refactor &gt; Remove Unused Resources</b> 来查找和移除所有未使用的资源。未使用资源检测现在支持的资源仅限于由未使用的资源、原始文件中的参考（例如 <code translate="no" dir="ltr">.html</code> 图片参考、以及 Gradle 资源压缩器使用的 <code translate="no" dir="ltr">tools:keep</code> 和 <code translate="no" dir="ltr">tools:discard</code> 属性）所引用的资源，同时考虑非活动源代码集（例如其他构建变体中使用的资源）以及正确处理静态字段导入。
    </li>
    <li>检查 <code translate="no" dir="ltr">minSdkVersion</code> 的所有目标平台是否支持隐式 API 引用。
    </li>
    <li>标记 <code translate="no" dir="ltr"><a href="/reference/androidx/recyclerview/widget/RecyclerView">RecyclerView</a></code> 和 <code translate="no" dir="ltr"><a href="/reference/android/os/Parcelable">Parcelable</a></code> 的不当使用。
    </li>
    <li>现在，系统还会针对 <code translate="no" dir="ltr">int</code> 数组和 varargs 对 <code translate="no" dir="ltr"><a href="/reference/androidx/annotation/IntDef">@IntDef</a></code>、<code translate="no" dir="ltr"><a href="/reference/androidx/annotation/IntRange">@IntRange</a></code> 和 <code translate="no" dir="ltr"><a href="/reference/androidx/annotation/Size">@Size</a></code> 检查进行检查。
    </li>
  </ul>

<p><strong>其他方面的改进</strong>：</p>

<ul>
  <li>针对 Android 模拟器 2.0 进行了优化，使其比以前速度更快，支持更广泛的虚拟设备，并具有经过显著改进的界面。如需详细了解新模拟器，请阅读 <a href="/studio/releases/sdk-tools#notes">SDK 工具版本说明</a>。
  </li>

  <li>对 <a href="/tools/devices/managing-avds">Android 虚拟设备管理器</a>的改进：
    <ul>
      <li>系统映像现已归入以下标签页：“Recommended”、“x86”和“Other”。<em></em><em></em><em></em>
      </li>
      <li>在高级设置下，您可以启用多核支持并指定模拟器可以使用的核心数量。
      </li>
      <li>在高级设置下，您可以通过选择以下选项之一来确定在模拟器上呈现图形的方式：
        <ul>
          <li>
            <strong>硬件</strong>：使用计算机显卡更快地渲染。
          </li>
          <li>
            <strong>软件</strong>：使用基于软件的渲染。
          </li>
          <li>
            <strong>自动</strong>：让模拟器确定最佳选项。此选项为默认设置。
          </li>
        </ul>
      </li>
    </ul>
  </li>

  <li>通过在构建应用之前指定部署目标缩短了 AAPT 封装时间。这样，Android Studio 就可以仅封装指定设备所需的资源，从而提高了效率。
  </li>

  <li>增加了 Cloud Test Lab 集成，以提供按需应用测试以及便捷、可扩展的云服务。详细了解如何<a href="/training/testing/start#run-ctl">将 Cloud Test Lab 与 Android Studio 搭配使用</a>。
  </li>

  <li>添加了新 <a class="external-link" href="//tools.android.com/tech-docs/gpu-profiler">GPU 调试程序</a>的预览版。对于图形密集型应用，您现在可以可视化地单步调试 OpenGL ES 代码，以优化您的应用或游戏。
  </li>

  <li>添加了 Google App Indexing Test。为您的应用添加了对网址、App Indexing 和搜索功能的支持，以协助您提升应用流量，发现最常用的应用内容，以及吸引新用户。在 Android Studio 中测试并验证应用中的网址。请参阅 <a href="/tools/help/app-link-indexing">Android Studio 中的支持网址和 App Indexing</a>。
  </li>

  <li>最新的 IntelliJ 15 版本升级，包括经过改进的代码分析和性能。有关新功能和增强功能的完整说明，请参阅 <a class="external-link" href="https://www.jetbrains.com/idea/whatsnew">IntelliJ 更新内容</a>。
  </li>

  <li>现在，XML 编辑器自动填充功能可在填充属性时添加引号。如需检查此选项是否已启用，请打开 <b>Setting</b> 或 <b>Preferences</b> 对话框，依次转到 <b>Editor &gt; General &gt; Smart Keys</b>，然后选中 <b>Add quotes for attribute value on attribute completion</b> 旁边的复选框。<a class="external-link" href="//b.android.com/195113">问题：195113</a>
  </li>

  <li>XML 编辑器现在支持对<a href="/topic/libraries/data-binding#layout_details">数据绑定</a>表达式的代码补全功能。
  </li>
</ul>

<h2 id="older-releases" data-text="旧版本">旧版本</h2>

<devsite-expandable is-upgraded="" id="expandable-1">
  <p class="expand-control" aria-controls="expandable-1" aria-expanded="false" tabindex="0" role="button">Android Studio v1.5.1（2015 年 12 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
    <li>修复了布局编辑器中的渲染失败问题。
      <a href="http://b.android.com/194612">问题：194612</a></li>
    <li>添加了按配置更改 <code translate="no" dir="ltr">description</code> 清单属性的功能。
      <a href="http://b.android.com/194705">问题：194705</a>
    </li>
     <li>提高了 Android Studio Darcula 外观主题背景在 Vector Asset Studio 中的对比度。
      <a href="http://b.android.com/191819">问题：191819</a>
    </li>
    <li>向 Vector Asset Studio 添加了“Help”按钮支持。<em></em>
    </li>
    <li>添加了对用于数据绑定的 <code translate="no" dir="ltr">%</code> 运算符的支持。<a href="http://b.android.com/194045">问题：194045</a>
      </li>
    <li>修复了为了调试启动应用会导致调试程序连接到错误设备的问题。<a href="http://b.android.com/195167">问题：195167</a>
    </li>
    <li>修复了在某些情况下尝试运行应用时可能出现的 Null 指针异常问题。
    </li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-2">
  <p class="expand-control" aria-controls="expandable-2" aria-expanded="false" tabindex="0" role="button">Android Studio v1.5.0（2015 年 11 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
    <li>为 Android Monitor 添加了新的内存监视器分析功能。当您查看从此监视器捕获的 HPROF 文件时，显示内容现在更加实用，因此您可以更快地发现问题（例如内存泄漏）。如需使用此监视器，请点击主窗口底部的 <strong>Android Monitor</strong>。在 Android Monitor 中，点击 <strong>Memory</strong> 标签页。监视器运行时，点击 <strong>Dump Java Heap</strong> 图标，然后点击主窗口中的 <strong>Captures</strong> 并双击该文件进行查看。点击右侧的“Capture Analysis”。<em></em>（Android Device Monitor 不能与 Android Monitor 同时运行。）</li>
    <li>添加了新的深层链接和应用链接支持。代码编辑器可以自动为 <code translate="no" dir="ltr">AndroidManifest.xml</code> 文件中的深层链接创建 intent 过滤器。它还可以生成代码，以帮助您在 Java 文件的 Activity 中集成 <a href="http://developers.google.com/app-indexing/android/publish" class="external-link">App Indexing API</a>。深层链接测试功能可帮助您验证指定的深层链接是否可以启动应用。在“Run/Debug Configurations”对话框的 <strong>General</strong> 标签页中，您可以指定深层链接启动选项。<em></em>您还可以使用显示的 Android Monitor <strong>logcat</strong> 在 Activity 中测试 App Indexing API 调用。Android <code translate="no" dir="ltr">lint</code> 工具现在会针对某些涉及深层链接和 App Indexing API 的问题发出警告。
    </li>
     <li>添加了在代码编辑器中代码填充自定义视图时使用简称的功能。
    </li>
    <li>添加了对向 <a href="/tools/help/vector-asset-studio">Vector Asset Studio</a> 添加更多 <code translate="no" dir="ltr"><a href="/reference/android/graphics/drawable/VectorDrawable">VectorDrawable</a></code> 元素的支持，以实现向后兼容性。Vector Asset Studio 可使用这些元素将矢量可绘制对象转换为 PNG 光栅图片，以用于 Android 4.4（API 级别 20）及更低版本。
    </li>
    <li>为 Android TV 和 Android Auto 添加了新的 <code translate="no" dir="ltr">lint</code> 检查，以便在 Android Studio 中提供可操作的即时反馈，以及一些快速修复。例如，对于 Android TV，它可以报告权限、不受支持的硬件、<code translate="no" dir="ltr">uses-feature</code> 元素和缺少横幅问题，并针对其提供快速修复。对于 Android Auto，它可验证从 <code translate="no" dir="ltr">AndroidManifest.xml</code> 文件引用的描述符文件中的正确用法，在 <code translate="no" dir="ltr">MediaBrowserService</code> 类没有 intent 过滤器时进行报告，并识别特定语音操作问题。
      </li>
    <li>针对不安全的广播接收器、<code translate="no" dir="ltr">SSLCertificateSocketFactory</code> 和 <code translate="no" dir="ltr">HostnameVerifier</code> 类使用以及 <code translate="no" dir="ltr">File.setReadable()</code> 和 <code translate="no" dir="ltr">File.setWritable()</code> 调用添加了新的 <code translate="no" dir="ltr">lint</code> 检查。它还会检测无效的清单资源查询，尤其是对于因配置而异的资源。
    </li>
    <li>修复了许多稳定性问题。
    </li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-3">
  <p class="expand-control" aria-controls="expandable-3" aria-expanded="false" tabindex="0" role="button">Android Studio v1.4.1（2015 年 10 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
  <ul>
    <li>修复了 Gradle 模型缓存问题，该问题可能会导致在重启 IDE 时执行过多的 Gradle 同步。
    </li>
    <li>修复了原生调试死锁问题。
    </li>
    <li>修复了会屏蔽控制系统为 Subversion 1.9 版本的用户的问题。
    </li>
    <li>修复了“Device Chooser”对话框问题：在连接未经授权的设备后，您无法再选择模拟器。<em></em><a href="http://b.android.com/189658">问题：189658</a>
    </li>
    <li>修复了对于在区域中具有区域限定符和翻译内容的语言区域，翻译错误报告不准确的问题（但基础语言区域中不存在此问题）。<a href="http://b.android.com/188577">问题：188577</a>
    </li>
    <li>修复了 Theme Editor 中与布局编辑器的互动相关的死锁问题。<a href="http://b.android.com/188070">问题：188070</a>
    </li>
    <li>修复了 Theme Editor 重新加载和修改冲突会导致属性无法正确更新的问题。（<a href="http://b.android.com/187726">问题：187726</a>）
    </li>
    <li>改进了 Theme Editor 的性能。
    </li>
    <li>修复了清单中忽略 <code translate="no" dir="ltr">android:required</code> 属性的问题。<a href="http://b.android.com/187665">问题：187665</a>
    </li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-4">
  <p class="expand-control" aria-controls="expandable-4" aria-expanded="false" tabindex="0" role="button">Android Studio v1.4.0（2015 年 9 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
  <ul>
    <li>添加了 <a href="/tools/help/vector-asset-studio">Vector Asset Studio</a> 工具，用于导入矢量图形，例如 Material 图标和 SVG 文件。如需使用此工具，请在 Project 窗口的 Android 视图中，右键点击 <strong>res</strong> 文件夹，然后依次选择 <strong>New</strong> &gt; <strong>Vector Asset</strong>。
    </li>
    <li>添加了新的 Android Monitor 功能、GPU 和网络。如需使用此类监视器，请点击主窗口底部的 <strong>Android Monitor</strong>。Android Device Monitor 不能与 Android Monitor 同时运行。
    </li>
    <li>添加了 Theme Editor 的早期预览版。如需使用此功能，请依次选择 <strong>Tools</strong> &gt; <strong>Android</strong> &gt; <strong>Theme Editor</strong>。
    </li>
    <li>更新了设计支持库的 Android 模板。模板现在包含对 Material Design 规范的支持以及 <code translate="no" dir="ltr">appcompat</code> 支持库，以实现向后兼容性。
    </li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-5">
  <p class="expand-control" aria-controls="expandable-5" aria-expanded="false" tabindex="0" role="button">Android Studio v1.3.2（2015 年 8 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
      <li>添加了对 Android 6.0（API 级别 23）的支持，包括新图标和 AVD 管理器对创建设备（具有新屏幕密度）的支持。</li>
      <li>修复了更新检查期间发生的异常。<a href="http://b.android.com/183068">问题：183068</a></li>
      <li>修复了未解析的视图坐标可能会导致布局编辑器崩溃的问题。<a href="http://b.android.com/178690">问题：178690</a></li>
      <li>修复了资源类型警告无效的问题。<a href="http://b.android.com/182433">问题：182433</a></li>
      <li>修复了之前将资源错误地标记为私有的 Lint 检查。<a href="http://b.android.com/183120">问题：183120</a></li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-6">
  <p class="expand-control" aria-controls="expandable-6" aria-expanded="false" tabindex="0" role="button">Android Studio v1.3.1（2015 年 8 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
      <li>修复了对在 Windows 上创建 Android Wear Android 虚拟设备 (AVD) 的支持。</li>
      <li>更新了“Project Wizard”以使用输入的项目名称。<em></em></li>
      <li>添加了对允许 Android SDK 存储在只读目录中的支持。</li>
      <li>Android plugin for Gradle 版本已更新为 1.3.0。</li>
      <li>修复了从 Android 调试桥 (adb) Unix shell 启动调试会话的问题。</li>
      <li>修复了 Java 软件包重命名消息，以显示正确的软件包名称。</li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-7">
  <p class="expand-control" aria-controls="expandable-7" aria-expanded="false" tabindex="0" role="button">Android Studio v1.3.0（2015 年 7 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
      <li>添加了通过 Android Studio 在您的应用中启用<a href="/tools/studio/studio-features#dev-services">开发者服务</a>（例如 <a href="https://developers.google.com/admob/">Google AdMob</a> 和 <a href="/distribute/analyze/start">Google Analytics（分析）</a>）的选项。</li>
      <li>添加了其他<a href="/tools/debugging/annotations">注解</a>，例如 <code translate="no" dir="ltr">@RequiresPermission</code>、<code translate="no" dir="ltr">@CheckResults</code> 和 <code translate="no" dir="ltr">@MainThread</code>。</li>
      <li>添加了通过 <a href="/tools/studio#mem-cpu">Memory Monitor</a> 生成 Java 堆转储和分析线程分配的功能。您还可以在 Android Studio 中将 Android 专属 HPROF 二进制格式文件转换为标准 HPROF 格式。</li>
      <li>将 <a href="/tools/help/sdk-manager">SDK 管理器</a>集成到了 Android Studio 中，以简化软件包和工具访问并提供更新通知。
        <p class="note"><strong>注意</strong>：独立 SDK 管理器仍可从命令行运行，不过，我们建议仅将其与独立安装的 SDK 结合使用。</p> </li>
      <li>在模拟器控制台中添加了 <code translate="no" dir="ltr">finger</code> 命令，以模拟<a href="/tools/studio/studio-features#finger-print">指纹</a>身份验证。</li>
      <li>添加了 <code translate="no" dir="ltr">&lt;public&gt;</code> 资源声明，以将库资源指定为<a href="/tools/studio/studio-features#private-res">公共和私有</a>资源。
         <p class="note"><strong>注意</strong>：需要 <a href="/tools/building/plugin-for-gradle">Android plugin for Gradle</a> 版本 1.3 或更高版本。</p> </li>
      <li>添加了<a href="/tools/data-binding/guide">数据绑定</a>支持，以创建将应用逻辑绑定到布局元素的声明式布局。</li>
      <li>添加了对单独<a href="/tools/studio/studio-features#test-module">测试 APK 模块</a>的支持，以在 Android Studio 中构建测试 APK。</li>
      <li>更新了 <a href="/tools/devices/managing-avds">AVD 管理器</a>，添加了 HAXM 优化和经过改进的通知。</li>
      <li>添加了对 <a class="external-link" href="http://wiki.qemu.org/Main_Page">QEMU</a> 2.1 的 64 位 ARM 和 MIPS 模拟器支持。</li>
      <li>通过添加快速修复（例如自动生成 <a href="/reference/android/os/Parcelable">Parcelable</a> 实现），简化了 Lint 警告的解决方法。</li>
      <li>添加了对快速插入代码段的实时模板支持。</li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-8">
  <p class="expand-control" aria-controls="expandable-8" aria-expanded="false" tabindex="0" role="button">Android Studio v1.2.2（2015 年 6 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
      <li>修复了会阻碍构建完成的构建问题。</li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-9">
  <p class="expand-control" aria-controls="expandable-9" aria-expanded="false" tabindex="0" role="button">Android Studio v1.2.1（2015 年 5 月）<em></em></p>
    <p>修复的问题和增强功能：</p>
    <ul>
      <li>修复了不严重的性能和功能问题。</li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-10">
  <p class="expand-control" aria-controls="expandable-10" aria-expanded="false" tabindex="0" role="button">Android Studio v1.2.0（2015 年 4 月）<em></em></p>
  <p>
    修复的问题和增强功能：
  </p>

  <ul>
    <li>更新了 Android 运行时窗口以包含 <a href="/tools/studio#mem-cpu">Memory Monitor</a> 工具，并添加了一个用于监控 CPU 性能的标签页。
    </li>
    <li>在左侧空白处添加了一个“Captures”标签页，以显示捕获的内存和 CPU 性能数据文件，例如 CPU 方法跟踪和内存堆快照。<em></em>
    </li>
    <li>通过额外的元数据注解和推断的可为 null 性扩展了<a href="/tools/debugging/annotations">注解</a>支持。
    </li>
    <li>增强了翻译编辑器，并对现行最佳做法 (BCP) 47（它使用 3 个字母的语言和区域代码）提供额外的支持。
    </li>
    <li>集成了 IntelliJ 14 和 14.1 功能，使代码分析和性能得到改进：
    </li>
    <li style="list-style: none; display: inline">
      <ul>
        <li>增强了调试功能，以显示变量和引用对象的内嵌值，以及执行 lambda 和运算符表达式的内嵌计算。
        </li>
        <li>为标签页和缩进尺寸添加了代码样式检测。
        </li>
        <li>为没有项目文件的代码实验和原型设计添加了临时文件。
        </li>
        <li>添加了在 HTML 和 XML 文件中同时插入起始和结束标记的功能。
        </li>
        <li>添加了一个内置的 Java 类反编译器，以便您可以查看未提供源代码的库中的内容。
        </li>
      </ul>
      <p>
        有关新功能和增强功能的完整说明，请参阅 <a class="external-link" href="https://www.jetbrains.com/idea/whatsnew">IntelliJ 更新内容</a>。
      </p>
    </li>
    <li>为临时文件、项目文件、问题、生产和测试添加了额外的<a href="/tools/studio#project-view">项目视图</a>，以增强项目管理和访问。<em></em><em></em><em></em><em></em><em></em>
    </li>
    <li>增强了 <strong>File &gt; Settings</strong> 菜单和对话框，以改进设置访问和管理功能。
    </li>
    <li>添加了对 Windows 和 Linux 的高密度显示屏的支持。
    </li>
    <li>添加了对 <code translate="no" dir="ltr">res/drawable-280dpi/</code> 文件夹中的 280 dpi 资源的支持。
    </li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-11">
  <p class="expand-control" aria-controls="expandable-11" aria-expanded="false" tabindex="0" role="button">Android Studio v1.1.0（2015 年 2 月）<em></em></p>
    <p>各种修复的问题和增强功能：</p>
    <ul>
      <li>添加了对 <a href="/design/wear">Android Wear</a> 手表模板的支持。</li>
      <li>修改了新的项目和模块创建，以包含用于特定密度专用启动器图标的 <a href="/tools/projects#mipmap"><code translate="no" dir="ltr">res/mipmap</code></a> 文件夹。这些 <code translate="no" dir="ltr">res/mipmap</code> 文件夹会替换用于启动器图标的 <a href="/guide/topics/resources/drawable-resource"><code translate="no" dir="ltr">res/drawable</code></a> 文件夹。</li>
      <li>更新了启动器图标以获得 <a href="/design/material">Material Design</a> 外观并添加了 <code translate="no" dir="ltr">xxxhdpi</code> 启动器图标。</li>
      <li>添加并增强了针对区域和语言组合、启动器图标、资源名称以及其他常见代码问题的 Lint 检查。</li>
      <li>添加了对现行最佳做法 (BCP) 语言标记 47 的支持。</li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-12">
  <p class="expand-control" aria-controls="expandable-12" aria-expanded="false" tabindex="0" role="button">Android Studio v1.0.1（2014 年 12 月）<em></em></p>
    <p>各种修复的问题和增强功能：</p>
    <ul>
      <li>修复了 AVD 管理器和 <strong>device.xml</strong> 文件锁定问题。</li>
      <li>修复了 Windows 系统上的模拟器日志问题。</li>
      <li>修复了使用安装在 Windows 系统的不同驱动器上的 Android Studio 和 Android SDK 创建 AVD 的问题。</li>
      <li>将新下载内容的默认更新渠道设置为 <strong>Stable</strong>。如果您安装了 1.0.0 版 Android Studio，并且想要获得可用于生产环境的稳定版更新，请依次选择 <strong>File &gt; Settings &gt; Updates</strong> 以切换到 <strong>Stable</strong> 更新渠道。
      </li>
    </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-13">
  <p class="expand-control" aria-controls="expandable-13" aria-expanded="false" tabindex="0" role="button">Android Studio v1.0（2014 年 12 月）<em></em></p>
    <p>Android Studio 初始版本。</p>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-14">
  <p class="expand-control" aria-controls="expandable-14" aria-expanded="false" tabindex="0" role="button">Android Studio v0.8.14（2014 年 10 月）<em></em></p>
    <p>如需查看更改的完整列表，请访问 <a href="http://tools.android.com/recent/androidstudio0814inbetachannel">tools.android.com</a>。</p>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-15">
  <p class="expand-control" aria-controls="expandable-15" aria-expanded="false" tabindex="0" role="button">Android Studio v0.8.6（2014 年 8 月）<em></em></p>
    <p>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</p>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-16">
  <p class="expand-control" aria-controls="expandable-16" aria-expanded="false" tabindex="0" role="button">Android Studio v0.8.0（2014 年 6 月）<em></em></p>
    <p>添加了对 Android Wear 项目的支持。</p>
    <p>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</p>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-17">
  <p class="expand-control" aria-controls="expandable-17" aria-expanded="false" tabindex="0" role="button">Android Studio v0.5.2（2014 年 5 月）<em></em></p>
  <ul>
    <li>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-18">
  <p class="expand-control" aria-controls="expandable-18" aria-expanded="false" tabindex="0" role="button">Android Studio v0.4.6（2014 年 3 月）<em></em></p>
  <ul>
    <li>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-19">
  <p class="expand-control" aria-controls="expandable-19" aria-expanded="false" tabindex="0" role="button">Android Studio v0.4.2（2014 年 1 月）<em></em></p>
  <ul>
    <li>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-20">
  <p class="expand-control" aria-controls="expandable-20" aria-expanded="false" tabindex="0" role="button">Android Studio v0.3.2（2013 年 10 月）<em></em></p>
  <ul>
    <li>要查看更改的完整列表，请参阅 <a href="http://tools.android.com/recent">tools.android.com</a>。</li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-21">
  <p class="expand-control" aria-controls="expandable-21" aria-expanded="false" tabindex="0" role="button">Android Studio v0.2.x（2013 年 7 月）<em></em></p>
  <ul>
    <li>合并到最新的 IntelliJ 代码库更改中。包括针对 Studio 用户所报告的问题的修复，例如对 Linux 字体大小和字体呈现进行调整。</li>
    <li>Android Gradle 插件更新为 0.5.0 版。
      <p class="caution"><strong>注意</strong>：此新版本不向后兼容。
      打开使用旧版插件的项目时，Studio 会显示内容为 <strong>Gradle &lt;project_name&gt; project refresh failed</strong> 的错误消息。</p>
      <p>更新后的 Gradle 插件包含以下更改：</p>
      <ul>
        <li>修复了 IDE 模型以包含输出文件，即使它是通过 DSL 自定义的。还修复了 DSL 以获取/设置变量对象上的输出文件，这样就不必使用 <code translate="no" dir="ltr">variant.packageApplication or variant.zipAlign</code></li>
        <li>修复了依赖项解析问题，以便我们一起解析默认配置、构建类型和变体的组合（而不是单独解析）。</li>
        <li>修复了库项目测试的依赖项，以正确包含库本身的所有依赖项。</li>
        <li>修复了两个依赖项具有相同叶名的问题。</li>
        <li>修复了无法对特性应用 Proguard 规则文件的问题。</li>
      </ul>
      <p>如需查看所有 Gradle 插件版本说明，请访问 <a href="http://tools.android.com/tech-docs/new-build-system">http://tools.android.com/tech-docs/new-build-system</a>。</p>
    </li>
    <li>来自 aapt 的 Gradle 错误不再指向 build/ 文件夹中的合并输出文件，而是指回真实的源位置。</li>
    <li>并行构建。现在可以使用 Gradle 的并行构建。请注意，并行构建处于“孵化”阶段（请查看 <a href="http://www.gradle.org/docs/current/userguide/gradle_command_line.html">Gradle 的文档</a>）。默认情况下，此功能处于关闭状态。如需启用此功能，请依次转到 <strong>Preferences</strong> &gt; <strong>Compiler</strong>，然后选中“Compile independent modules in parallel”复选框。<em></em></li>
    <li>进一步优化了用于在编辑器中呈现布局和折叠资源等用途的新资源存储区：
      <ul>
      <li>对 .aar 库依赖项的基本支持（例如，使用不含源文件的本地副本的库）。仍不适用于源编辑器中的资源 XML 验证和导航。
      </li>
      <li>资源引用中的循环检测。</li>
      <li>快速文档 (F1)，可在文字插入点下显示相应字符串的所有译文，现在还将显示来自各种 Gradle 变种和构建类型以及库的所有资源叠加层。它们按资源叠加层逆序列出，并在已遮盖的字符串版本上添加了删除线。</li>
      <li>修复了在模块依赖项集发生更改时如何更新合并资源的问题。</li>
      <li>修复了 XML 呈现问题，以正确处理字符实体声明以及 XML 和 Unicode 转义。</li>
      </ul>
    </li><li>针对布局预览和布局编辑器窗口的“保存屏幕截图”支持。</li>
    <li>修复了模板问题。</li>
    <li>修复了 Lint 问题。</li>
    <li>对崩溃报告进行了各种修复。非常感谢，您可以继续提交崩溃报告了！</li>
  </ul>
</devsite-expandable>

<devsite-expandable is-upgraded="" id="expandable-22">
  <p class="expand-control" aria-controls="expandable-22" aria-expanded="false" tabindex="0" role="button">Android Studio v0.1.x（2013 年 5 月）<em></em></p>
  <ul>
    <li>修复了各种问题，包括修复了常见的 Windows 安装问题。
  </li></ul>
</devsite-expandable>

<p> </p>


    

    
  </div>

  
    <div class="devsite-steps">
  
  
  <div class="steps-next steps-direction">
    <a href="/studio/releases/cmdline-tools" class="steps-link gc-analytics-event" data-category="Site-Wide Custom Events" data-action="Next step" data-label="/studio/releases/cmdline-tools">
      
      <div class="steps-link-direction">下一页</div>
      <span class="steps-link-title-next steps-link-title">
        SDK 命令行工具
      </span>
      <span class="steps-link-arrow steps-link-arrow-right material-icons" aria-hidden="true">
        arrow_forward
      </span>
    </a>
  </div>
  
</div>
  

  
    
      
    <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
    <div><div class="devsite-rating-caption">此页内容对您有帮助吗？</div><div class="devsite-rating-stars" role="form" tabindex="0" aria-label="给此页面评分"><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="footer" role="checkbox" tabindex="0" data-title="文档根本没法用" aria-label="文档根本没用，评分为 1（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="footer" role="checkbox" tabindex="0" data-title="文档水平很差" aria-label="文档质量很差，评分为 2（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="footer" role="checkbox" tabindex="0" data-title="文档水平一般" aria-label="文档质量一般，评分为 3（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="footer" role="checkbox" tabindex="0" data-title="文档不错" aria-label="文档不错，评分为 4（最高为 5）" aria-checked="false"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="footer" role="checkbox" tabindex="0" data-title="文档写得很好" aria-label="文档非常好，评分为 5（最高为 5）" aria-checked="false"></div></div></div></devsite-page-rating>
  
       
    
    
  

  
  
</article>


<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="/license">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2021-01-04 UTC.</p>
</devsite-content-footer>



            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promotions">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//twitter.com/AndroidDev" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Promo">
        
        
        <img class="devsite-footer-promo-icon" src="/_static/android/images/logo-twitter.svg" loading="lazy" alt="Twitter" />
        
        Twitter
      </a>
      <div class="devsite-footer-promo-description">在 Twitter 上关注 @AndroidDev</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Promo">
        
        
        <img class="devsite-footer-promo-icon" src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png" loading="lazy" alt="YouTube" />
        
        YouTube
      </a>
      <div class="devsite-footer-promo-description">在 YouTube 上访问“Android Developers”频道</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">关于 Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
          
            Android
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
          
            Enterprise
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
          
            安全
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">
          
            源代码
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">支持</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
          
            报告平台错误
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
          
            报告文档错误
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
          
            Google Play support
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://google.qualtrics.com/jfe/form/SV_ewWXIoEVLBcyp7f??reserved=1&amp;utm_source=FooterLink&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=developer.android.com&amp;utm_term=0&amp;utm_content=0&amp;productTag=reg&amp;campaignDate=may19&amp;pType=devel&amp;referral_code=gV420370" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">
          
            参加调查研究
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">文档</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
          
            开发者指南
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/design" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
          
            设计指南
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
          
            API 参考
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/samples" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">
          
            示例
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro" class="devsite-footer-linkbox-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Link (index 5)">
          
            Android Studio
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Other Google Developers websites">
    <a href="https://developers.google.com/" class="devsite-footer-sites-logo-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
      <img class="devsite-footer-sites-logo" src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/lockup-developers.svg" loading="lazy" alt="Google Developers" />
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com" class="devsite-footer-sites-link&#10;                  gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Android Link">
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home" class="devsite-footer-sites-link&#10;                  gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com" class="devsite-footer-sites-link&#10;                  gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com" class="devsite-footer-sites-link&#10;                  gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/" class="devsite-footer-sites-link&#10;                  gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          所有产品
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item&#10;                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event" href="//policies.google.com/privacy" data-category="Site-Wide Custom Events" data-label="Footer Privacy link">
          隐私权政策
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item&#10;                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event" href="/license" data-category="Site-Wide Custom Events" data-label="Footer License link">
          许可
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item&#10;                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event" href="/distribute/marketing-tools/brand-guidelines" data-category="Site-Wide Custom Events" data-label="Footer Brand guidelines link">
          品牌指南
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item&#10;                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">通过电子邮件接收资讯和提示</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event" href="/updates" data-category="Site-Wide Custom Events" data-label="Footer Subscribe link">
          订阅
        </a>
        
      </li>
      
    </ul>
    

    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference." class="devsite-language-selector-select" name="language" track-name="click" track-type="languageSelector">
    
    
      <option value="en" lang="en" track-metadata-original-language="zh_cn" track-metadata-selected-language="en" track-name="changed" track-type="languageSelector">
        English
      </option>
    
      <option value="id" lang="id" track-metadata-original-language="zh_cn" track-metadata-selected-language="id" track-name="changed" track-type="languageSelector">
        Bahasa Indonesia
      </option>
    
      <option value="es_419" lang="es_419" track-metadata-original-language="zh_cn" track-metadata-selected-language="es_419" track-name="changed" track-type="languageSelector">
        Español – América Latina
      </option>
    
      <option value="pt_br" lang="pt_br" track-metadata-original-language="zh_cn" track-metadata-selected-language="pt_br" track-name="changed" track-type="languageSelector">
        Português – Brasil
      </option>
    
      <option value="zh_cn" lang="zh_cn" track-metadata-original-language="zh_cn" track-metadata-selected-language="zh_cn" track-name="changed" track-type="languageSelector" selected="selected">
        中文 – 简体
      </option>
    
      <option value="ja" lang="ja" track-metadata-original-language="zh_cn" track-metadata-selected-language="ja" track-name="changed" track-type="languageSelector">
        日本語
      </option>
    
      <option value="ko" lang="ko" track-metadata-original-language="zh_cn" track-metadata-selected-language="ko" track-name="changed" track-type="languageSelector">
        한국어
      </option>
    
    </select>
  <div class="devsite-select"><label id="devsite-select-27805105355278492-label" style="display:none;" aria-label="Select your language preference.">请选择一个选项</label><button type="button" class="devsite-select-toggle" id="devsite-select-27805105355278492-button" aria-haspopup="true" aria-labelledby="devsite-select-27805105355278492-label devsite-select-27805105355278492-button" aria-controls="devsite-select-27805105355278492-popup">中文 – 简体</button><span class="devsite-icon devsite-icon-arrow-drop-down devsite-select-toggle-icon" aria-hidden="true"></span><ul class="devsite-select-list" id="devsite-select-27805105355278492-popup" tabindex="-1" role="listbox" scrollbars="" aria-labelledby="devsite-select-27805105355278492-button"><li role="option" lang="en" value="en" id="devsite-select-27805105355278492-0" class="devsite-select-item" data-index="0" aria-selected="false" aria-label="English">English</li><li role="option" lang="id" value="id" id="devsite-select-27805105355278492-1" class="devsite-select-item" data-index="1" aria-selected="false" aria-label="Bahasa Indonesia">Bahasa Indonesia</li><li role="option" lang="es_419" value="es_419" id="devsite-select-27805105355278492-2" class="devsite-select-item" data-index="2" aria-selected="false" aria-label="Español – América Latina">Español – América Latina</li><li role="option" lang="pt_br" value="pt_br" id="devsite-select-27805105355278492-3" class="devsite-select-item" data-index="3" aria-selected="false" aria-label="Português – Brasil">Português – Brasil</li><li role="option" lang="zh_cn" value="zh_cn" id="devsite-select-27805105355278492-4" class="devsite-select-item" data-index="4" data-selected="" aria-selected="true" aria-label="中文 – 简体，已选中">中文 – 简体</li><li role="option" lang="ja" value="ja" id="devsite-select-27805105355278492-5" class="devsite-select-item" data-index="5" aria-selected="false" aria-label="日本語">日本語</li><li role="option" lang="ko" value="ko" id="devsite-select-27805105355278492-6" class="devsite-select-item" data-index="6" aria-selected="false" aria-label="한국어">한국어</li></ul></div></devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    
<devsite-snackbar></devsite-snackbar>

    <devsite-tooltip></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe="">
      
        <script async="" src="https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/app_loader.js"></script><script type="application/json" analytics="">[{"gaid": "UA-5831155-1", "dimensions": {"dimension11": false, "dimension1": "Signed out", "dimension3": false, "dimension4": "Android \u5f00\u53d1\u8005", "dimension6": "zh-cn", "dimension5": "zh-cn"}, "metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}}]</script>
<script type="application/json" gtm="">{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "zh-cn", "served": "zh-cn"}, "pageType": "article", "projectName": "Android \u5f00\u53d1\u8005", "scriptsafe": null, "signedIn": "False", "tenant": "android"}, "tags": ["GTM-KMSWPCJ"]}</script>
      
    <iframe src="https://developers.google.com/_d/analytics-iframe" data-gtm-yt-inspected-9642297_17="true"></iframe></devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    <script nonce="">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/js/app_loader.js', '[3,"zh_cn",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87","https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","/_static/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/favicon.png","https://www.gstatic.com/devrel-devsite/prod/v0fb4b1803f033e9961238a08d52e344eadd99129bc9fd30999fe77c5f5dcfd87/android/images/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"],1,null,[1,6,8,12,14,17,21,25,40,50,63,70,75,76,80,87,88,91,92,93,97,98,100,101,102,103,105,107,108,111,113,115,120,122]]')
  
</script>
    <devsite-a11y-announce aria-live="assertive" aria-atomic="true"></devsite-a11y-announce>
  
</body></html>