<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head>
    <meta charset="UTF-8" />
<title>常用开源协议以及是否能够商用 | 程序员技术之旅</title>
<meta name="keywords" content="常用开源协议以及是否能够商用。License" />
<meta name="description" content="MIT&#10;Massachusetts Institute of Technology License&#10;BSD&#10;3-Clause包含3个条款，2-Clause只有两" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="canonical" href="/p/833.html" />
<link rel="bookmark" href="/favicon.ico" />

<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
<meta name="referrer" content="always" />
<meta name="copyright" content="www.zhangbj.com" />
<!-- 定义网页作者 author -->
<meta name="author" content="zhangbj,15317832520@163.com" />
<!--
    定义网页搜索引擎索引方式，robotterms 是一组使用英文逗号「,」分割的值
    通常有如下几种取值
　　all：文件将被检索，且页面上的链接可以被查询；
　　none：文件将不被检索，且页面上的链接不可以被查询；
　　index：文件将被检索；
　　follow：页面上的链接可以被查询；
　　noindex：文件将不被检索；
　　nofollow：页面上的链接不可以被查询。
<meta name="robots" content="index,follow">
　　-->
<meta name="robots" content="all" />
<meta name="google-site-verification" content="Q6qlBBHYlFq8K0QMSvdg_cVVzoG5-Gco4TJduxP1psE" />
<meta name="baidu-site-verification" content="KrDGuKInJ7" />
<meta name="shenma-site-verification" content="f53e4e6cd9a517e05645dc69fddc2ddb_1552547177" />
<meta name="360-site-verification" content="0cde129f5662524ad3bc1ed9d76708ad" />
<meta name="sogou_site_verification" content="uJYpRkTzvU" />
<meta name="msvalidate.01" content="BEC970CC8D6ECFB653FCE663E3911D51" />

<!--Google Chrome-->
<!-- 优先使用最新的chrome版本 -->
<!-- 禁止自动翻译 -->
<meta name="google" value="notranslate" />

<!--360浏览器-->
<!--选择使用的浏览器解析内核 -->
<meta name="renderer" content="webkit|ie-comp|ie-stand" />
<meta name="force-rendering" content="webkit" />

<!--百度会自动对网页进行转码，这个标签是禁止百度的自动转码-->
<meta http-equiv="Cache-Control" content="no-siteapp" />

<!--UC手机浏览器-->
<!-- 将屏幕锁定在特定的方向 -->
<meta name="screen-orientation" content="landscape/portrait" />
<!-- 全屏显示页面 -->
<meta name="full-screen" content="yes" />
<!-- 强制图片显示，即使是"text mode" -->
<meta name="imagemode" content="force" />
<!-- 应用模式，默认将全屏，禁止长按菜单，禁止手势，标准排版，强制图片显示。 -->
<meta name="browsermode" content="application" />
<!-- 禁止夜间模式显示 -->
<meta name="nightmode" content="disable" />
<!-- 使用适屏模式显示 -->
<meta name="layoutmode" content="fitscreen" />
<!-- 当页面有太多文字时禁止缩放 -->
<meta name="wap-font-scale" content="no" />

<!--QQ手机浏览器-->
<!-- 锁定屏幕在特定方向 -->
<meta name="x5-orientation" content="landscape/portrait" />
<!-- 全屏显示 -->
<meta name="x5-fullscreen" content="true" />
<!-- 页面将以应用模式显示 -->
<meta name="x5-page-mode" content="app" />

<!--Apple iOS-->
<!-- Add to Home Screen添加到主屏 -->
<!-- 是否启用 WebApp 全屏模式 -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<!-- 设置状态栏的背景颜色,只有在 “apple-mobile-web-app-capable” content=”yes” 时生效 -->
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<!-- 添加到主屏后的标题 -->
<meta name="apple-mobile-web-app-title" content="程序员技术之旅" />

<!--Google Android-->
<meta name="theme-color" content="#E64545" />
<!-- 添加到主屏 -->
<meta name="mobile-web-app-capable" content="yes" />

<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.3.2/styles/atom-one-dark.min.css" media="all" onload="if(media!='all')media='all'" />
<noscript>
    &lt;link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.3.2/styles/atom-one-dark.min.css"&gt;
</noscript>
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/jquery-jsonview/1.2.3/jquery.jsonview.min.css" media="all" onload="if(media!='all')media='all'" />
<noscript>
    &lt;link href="https://cdn.bootcdn.net/ajax/libs/jquery-jsonview/1.2.3/jquery.jsonview.min.css" rel="stylesheet"&gt;
</noscript>
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/toastr.js/latest/toastr.min.css" media="all" onload="if(media!='all')media='all'" />
<noscript>
    &lt;link href="https://cdn.bootcdn.net/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet"&gt;
</noscript>
<style>

    * {
        -webkit-tap-highlight-color: rgba(0,0,0,0);
    }

    html, body {
        margin: 0;
        padding: 0;
    }

    body {
        height: 100vh;
    }

    ::-webkit-scrollbar {
        width: .5rem;
        height: .5rem;
        background: hsla(0, 0%, 100%, 0.6);
    }

    ::-webkit-scrollbar-track {
        border-radius: 0;
    }

    ::-webkit-scrollbar-thumb {
        background-color: rgba(95, 95, 95, .4);
        transition: all .2s;
        border-radius: .5rem;
    }

    ::-webkit-scrollbar-thumb:hover {
        background-color: rgba(95, 95, 95, .7);
    }

    html {
        height: 100%;
        overflow-y: scroll;
        margin: 0;
        padding: 0;
    }

    :root {
        overflow-y: auto;
        overflow-x: hidden;
    }

    :root body {
        position: absolute;
    }

    body {
        width: 100vw;
        /*overflow: hidden;*/
        background-color: #F8F8F8;
    }

    hr {
        height: 1px;
        border: none;
        border-top: 1px solid #F0F0F0;
        margin: 0 0 20px 0;
    }

    ul, ol, li {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    button {
        outline: none;
    }

    /*取消a标签在移动端点击时的蓝色*/
    a {
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        /*-moz-user-focus: none;*/
        -moz-user-select: none;
    }

    /*去除ios input框点击时的灰色背景*/
    input {
        -webkit-tap-highlight-color:rgba(0,0,0,0);
    }

    .main {
        text-align: center;
    }

    .content {
        display: inline-block;
        text-align: left;
        width: 65%;
        max-width: 65%;
    }

    @media (max-width: 1920px) {
        .content {
            width: 35%;
            max-width: 35%;
        }
    }

    @media (max-width: 1440px) {
        .content {
            width: 45%;
            max-width: 45%;
        }
    }

    @media (max-width: 1366px) {
        .content {
            width: 40%;
            max-width: 40%;
        }
    }

    @media (max-width: 1024px) {
        .content {
            width: 50%;
            max-width: 50%;
        }
    }

    @media (max-width: 750px) {
        .content {
            width: 100%;
            max-width: 100%;
        }
    }

    .header, #mobile-topic {
        height: auto;
        background-color: white;
        min-height: 48px;
        line-height: 48px;
        text-align: center;
    }

    .header ul {
        display: inline-block;
    }

    .header li {
        display: inline-block;
        transition: border-color .3s, background-color .3s, color .3s;
    }

    .header li:hover {
        background-color: #fafafa;
        /*background-color: #e4e6e8;*/
    }

    .header li:hover a {
        color: #4CAF50;
    }

    .header ul li a {
        display: inline-block;
        padding: 0 20px;
        font-size: 14px;
        text-decoration: none;
        color: black;
    }

    .header a:active {
        color: #4CAF50;
    }

    .footer {
        text-align: center;
        height: 60px;
        line-height: 30px;
        padding: 20px;
        color: #999;
    }

    .footer p {
        margin: 0;
        padding: 0;
    }

    .footer a {
        color: #999;
        text-decoration: none;
    }

    .shadow {
        /*border: 1px solid #ebeef5;*/
        border-radius: 2px;
        -webkit-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
        -moz-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
        background-color: white;
    }

    /*CSS实现内容超过长度后以省略号显示*/
    .ellipsis, header &gt; a, header &gt; p, footer &gt; a, footer &gt; p {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis
    }

    .index-post-item {
        transition: border-color .3s,background-color .3s,color .3s;
        margin-bottom: 8px;
        padding: 16px 24px;
    }

    .index-post-item:hover {
        background-color: #EFEEEE;
    }

    .index-post-title-a {
        display: block;
        font-size: 16px;
        word-wrap: break-word;
        text-decoration: none;
        font-weight: bold;
        color: black;
    }

    .index-post-title-a:hover {
        color: #4CAF50;
    }

    .index-post-title-a:active {
        color: #999;
    }

    .index-post-desc {
        margin: 0;
        color: #8a8a8a;
        word-wrap: break-word;
    }

    .anchor-link-a {
        color: #8a8a8a;
    }

    .anchor-link-a:hover {
        color: #4CAF50;
    }

    .post-tag {
        font-size: 12px;
        margin-right: 10px;
        display: inline-block;
        padding: 2px 5px;
        border-radius: 2px;
        color: white;
        background-color: #4CAF50;
        position: relative;
        bottom: 2px;
    }

    .go-top {
        fill: #ffffff;
        border-radius: 5px;
        cursor: pointer;
        display: none;
        width: 40px;
        height: 20px;
        position: fixed;
        right: 50px;
        bottom: 50px;
        /*background:url(../../images/favicon.ico) no-repeat -70px 0px;*/
        background-color: #4CAF50;
        text-align: center;
        padding: 10px 0;
    }



    ul.pagination {
        display: inline-block;
        padding: 0;
        margin: 0;
    }

    ul.pagination li {
        display: inline;
    }

    ul.pagination li a {
        color: black;
        float: left;
        padding: 6px 12px;
        margin: 2px;
        text-decoration: none;
        border-radius: 3px;
        font-size: 12px;
    }

    ul.pagination li a.active {
        background-color: #4CAF50;
        color: white;
        border-radius: 3px;
    }

    ul.pagination li a:hover:not(.active) {
        background-color: #ddd;
    }

    .disabled {
        cursor: not-allowed;
    }

    .sidebar {
        display: inline-block;
        text-align: left;
        width: 30%;
        max-width: 30%;
        vertical-align: top;
        margin-left: 8px;
    }

    .sidebar-widget {
        margin-bottom: 8px;
        padding: 16px 24px;
    }

    .sidebar-widget h3 {
        font-size: 15px;
        font-weight: bold;
        margin: 0;
        padding-bottom: 8px;
    }

    .sidebar-widget h3::before {
        display: inline-block;
        margin-right: 8px;
        content: '';
        width: 4px;
        height: 22px;
        vertical-align: -6px;
        background-color: #4CAF50;
    }

    .sidebar-widget ul, .sidebar-widget li {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .sidebar-widget li {
        transition: border-color .3s, background-color .3s, color .3s;
        padding: 8px 24px;
        margin: 0 -24px;
        outline: 0;
    }

    .sidebar-widget li:hover {
        background-color: #EFEEEE;
    }

    .sidebar-widget li:not(:last-child) {
        border-bottom: 1px dashed #8a8a8a;
    }

    .sidebar-widget li a {
        display: block;
        color: #8a8a8a;
        text-decoration: none;
        line-height: 22px;
        max-height: 44px;
        overflow: hidden;
        word-wrap: break-word;
    }

    .sidebar-widget li span {
        font-size: 12px;
        color: #8a8a8a;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis
    }

    .sidebar-widget a:active {
        color: #999;
    }

    .sidebar-widget a:hover span {
        color: #000000;
    }

    .sidebar-topic {
        margin-top: 10px;
    }

    .sidebar-topic a, .topic-a {
        color: #8a8a8a;
        font-size: 12px;
        display: inline-block;
        text-decoration: none;
        border-radius: 3px;
        border: 1px solid #8a8a8a;
        padding: 2px 5px;
        margin-right: 5px;
        margin-bottom: 5px;
    }

    .sidebar-topic-more {
        float: right;
        color: #8a8a8a;
        font-size: 12px;
        text-decoration: none;
        line-height: 22px;
        max-height: 44px;
    }

    .button {
        background-color: #4CAF50; /* Green */
        border: none;
        color: #F5F5F5;
        padding: 8px 12px;
        margin: 5px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        cursor: pointer;
    }

    .tool-btn-link {
        font-size: 14px;
        color: black;
        text-decoration: none;
        margin-right: 20px;
    }

    .tool-btn-link:hover {
        color: #4CAF50;
    }

    @media (max-width: 1920px) {
        .sidebar {
            width: 15%;
            max-width: 15%;
        }
    }

    @media (max-width: 1366px) {
        .sidebar {
            width: 18%;
            max-width: 18%;
        }
    }

    @media (max-width: 1400px) {
        .sidebar {
            width: 20%;
            max-width: 20%;
        }
    }

    @media (max-width: 1024px) {
        .sidebar {
            width: 23%;
            max-width: 23%;
        }
    }

    @media (max-width: 750px) {
        .sidebar {
            display: none;
        }
    }

    .top-area {
        border-bottom: 1px solid #4CAF50;
        padding: 10px 12px 4px 12px;
    }

    .nickname-span {
        font-size: 12px;
        vertical-align:text-top;
    }

    .floor-span {
        font-size: 12px;
        color: #8a8a8a;
        float: right;
    }

    .reply-area {
        border-top: 1px dashed #8a8a8a;
        padding: 16px 24px 4px 24px;
    }

    .content-pre {
        margin: 5px 0;
        padding: 8px 12px;
        min-height: 50px;
        white-space:pre-wrap;
        word-break:break-all;
        word-wrap: break-word;
    }

    .content-delete-pre {
        color: #8a8a8a;
        text-decoration: line-through;
        font-style: italic;
    }

    .foot-area {
        height: 20px;
        padding: 8px 12px 6px 12px;
    }

    .browse-os-span {
        font-size: 12px;
        color: #8a8a8a;
        vertical-align:top;
    }

    .time-span {
        font-size: 12px;
        font-family: "Microsoft Yahei", cursive;
        color: #8a8a8a;
        float: right;
    }

    #nickname, #nicknameReply {
        caret-color: #4CAF50;/*光标颜色*/
        border: 1px solid #c8c8c8;
        border-radius: 2px;
        background-color: #ffffffff;
        outline-color: #4CAF50;
        resize: none; /*不能拖拽*/
        height: 20px;
        line-height: 10px;
        padding: 1%;
    }

    #submitBtn, #submitReplyBtn {
        position: absolute;
        right: -11px;
        bottom: 0;
        margin: 0
    }

    #message, #messageReply {
        caret-color: #4CAF50;/*光标颜色*/
        border: 1px solid #c8c8c8;
        border-radius: 2px;
        background-color: #ffffffff;
        width: 100%;
        max-width: 100%;
        height: 100px;
        outline-color: #4CAF50;
        /*outline: none; !*没有黄框*!*/
        resize: none; /*不能拖拽*/
        padding: 5px;
        display: block;
        font-family: "Microsoft Yahei",cursive;
        overflow-x: auto;
        overflow-y: auto;
        white-space: nowrap;
    }

    .search-input {
        caret-color: #4CAF50;/*光标颜色*/
        width: 100%;
        height: 32px;
        line-height: 16px;
        display: inline-block;
        text-align: initial;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 18 18'%3E%3Cpath fill='%23c8c8c8' d='M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z'%3E%3C/path%3E%3C/svg%3E") no-repeat 10px center/16px;
        padding-left: 30px;
        border: 1px solid #c8c8c8;
        border-radius: 3px;
        /*color: #ccc;*/
        font-weight: 400;
        font-size: 14px;
        outline-color: #4CAF50;
    }

    /*移除datalist下拉箭头*/
    input::-webkit-calendar-picker-indicator {
        display: none;
        -webkit-appearance: none;
    }

    input{
        /*iOS input会有阴影*/
        -webkit-appearance: none;
    }

    textarea {
        /*iOS input会有阴影*/
        -webkit-appearance: none;
    }

    input[type=search]::-webkit-search-cancel-button{
        -webkit-appearance: none;
    }

    /*input[type=search]::-webkit-search-cancel-button{
        -webkit-appearance: none;

        position: relative;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        cursor: pointer;
        background-color: #EBEBEB;
    }

    input[type=search]::-webkit-search-cancel-button:after{
        position: absolute;
        content: 'x';
        left: 25%;
        top: -12%;
        font-size: 17px;
        color: #fff;
        z-index: 100000;
    }*/


    #qrcode canvas{
        width: 100% !important;
        height: 100% !important;
    }

    #mobile-topic {
        overflow-x: scroll;
        white-space: nowrap;
    }

    #mobile-topic::-webkit-scrollbar {
        display: none;
    }

    #mobile-topic a {
        color: #8a8a8a;
        text-decoration: none;
        line-height: 22px;
        max-height: 44px;
        overflow: hidden;
        word-wrap: break-word;
    }

    #mobile-topic a:hover {
        color: #4CAF50;
    }

    #mobile-topic a {
        margin-left: 10px;
        margin-right: 10px;
    }

</style>

<script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script src="https://zz.bdstatic.com/linksubmit/push.js"></script><script src="https://hm.baidu.com/hm.js?350b9cd599fb3ba34573919ce45ec3a9"></script><script>
    console.log("程序员技术之旅\n\n开源地址：https://github.com/fendoudebb/z-blog-openresty\n\n")
</script>

<!--Google AdSense Start-->
<!--<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-4671741323231057",
        enable_page_level_ads: true
    });
</script>-->
<!--Google AdSense End-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-117165778-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-117165778-2');
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?350b9cd599fb3ba34573919ce45ec3a9";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    <style>

        .table-area {
            overflow-x: auto;
        }

        table {
            border-collapse: collapse; /*使用单一线条的边框*/
            margin: 10px auto;
            table-layout: fixed;
            word-break: break-word;
            empty-cells: show; /*单元格无内容依旧绘制边框*/
            min-width: 100%;
            border-color: grey;
            text-align: center
        }

        table td, table th {
            white-space: nowrap; /*表头内容强制在一行显示*/
            border: 1px solid #e9eaec;
            height: 30px;
            padding-left: 10px;
            padding-right: 10px;
            color: #495060;
            font-size: 12px;
        }

        table th {
            background-color: #F8F8F9;
        }

        table tr:nth-child(odd) {
            background: #fff;
        }

        table tr:nth-child(even) {
            background: #F8F8F9;
        }

        table tr:hover {
            background: #efefef;
        }

        .content ul li{
            list-style-type: disc;
            margin: 0 16px 16px 20px;
        }

        .content ol li{
            list-style-type: decimal;
            margin: 0 16px 16px 20px;
        }

        .content li ol, .content li ul {
            margin: 10px 0;
        }

        .content li li {
            list-style-type: circle;
        }

        .content li li li {
            list-style-type: square;
        }

        pre {
            overflow-y: hidden;
            overflow-x: auto;
        }

        code {
            padding: 1px;
            border-radius: 2px;
            font-family: Menlo,Monaco,Consolas,Courier New,monospace;
            font-size: 14px;
            background-color: #fff5f5;
            color: #ff502c;
        }

        code::before, code::after {
            letter-spacing: -.2em;
            content: "\00a0";
        }

        pre code {
            background: rgba(27,31,35,.05);
            border-radius: 3px;
            white-space: pre;
            word-wrap: normal;
            padding: 8px 12px !important;
            line-height: 20px;
            font-size: 12px;
        }

        pre code::before, pre code::after {
            letter-spacing: 0;
            content: '';
        }

        /*code ol {
            margin: 0;
        }

        code ol li {
            padding-left: 8px;
        }*/

        pre {
            position: relative
        }

        pre:hover .hljs-button {
            display: block
        }

        .content p {
            line-height: 26px;
        }

        /*blockquote {
            margin: 14px 0;
            padding: 10px 20px 10px 15px;
            font-size: 14px;
            border-left: 3px solid #dbdbdb;
            background-color: rgba(112, 138, 153, 0.098);
            color: rgb(136, 136, 136);
        }*/

        blockquote {
            margin: 14px 0;
            padding: 10px 20px 10px 15px;
            font-size: 14px;
            border-left: 3px solid #4CAF50;
            background-color: #e7f6ed;
            color: rgb(136, 136, 136);
        }

        blockquote p {
            line-height: 1.6;
            word-wrap: break-word;
            margin: 0;
        }

        h1 {
            font-size: 22px;
            font-weight: 400;
        }

        h2 {
            font-size: 20px;
            padding-bottom: 8px;
            margin-top: 35px;
            margin-bottom: 10px;
            border-bottom: 1px solid rgb(221, 221, 221);
            line-height: 1.225;
        }

        h3 {
            font-size: 18px;
            margin-top: 35px;
            margin-bottom: 10px;
        }

        .shadow {
            margin-bottom: 8px;
            padding: 16px 24px;
            word-wrap: break-word;
        }

        .hljs-button {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
            font-size: 12px;
            color: white;
            padding: 2px 8px;
            margin: 2px;
            cursor: pointer;
        }

        .text-secondary {
            font-size: .8rem!important;
            color: #6c757d!important;
        }

        .badge-a {
            display: inline-block;
            font-size: 0.75rem;
            color: #00965e;
            padding: 0 .375rem;
            height: 1.5rem;
            line-height: 1.5rem;
            border-radius: .1875rem;
            background-color: rgba(0,150,94,.1);
            text-decoration: none;
            margin: .25rem!important;
        }

        .badge-a:hover {
            color: #004a2e;
            background-color: rgba(0,150,94,.2);
        }

        .like-button {
            cursor:pointer;
            height:28px;
            line-height: 14px;
            padding: 6px 12px;
            font-size: 14px;
            color: #4CAF50;
            background-color: white;
            border: 1px solid #4CAF50;
            border-radius: 3px;
            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }

        .liked-button {
            cursor:not-allowed;
            height:28px;
            line-height: 14px;
            padding: 6px 12px;
            font-size: 14px;
            color: white;
            background-color: #4CAF50;
            border: 1px solid #4CAF50;
            border-radius: 3px;
        }

        .like-button:hover {
            color: white;
            background-color: #4CAF50;
        }

        #post-comment ul li{
            list-style-type: none;
            margin: 0 0 10px 0;
            padding: 0;
        }

        .top-area {
            padding: 16px 24px 4px 24px;
        }

        .content-pre {
            padding: 8px 24px;
        }

        .foot-area {
            padding: 8px 24px;
        }

        img {
            display: block;
            margin: 12px auto;
            max-width: 100%;
            cursor: zoom-in;
            cursor: -moz-zoom-in;
            cursor: -webkit-zoom-in;
        }

        .bg-img{
            display: -webkit-box;
            -webkit-box-align: center;
            -webkit-box-pack: center;
            -moz-box-align: center;
            -moz-box-pack: center;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: 99999999;
            background: rgba(255, 255, 255,0.8);
            overflow: auto;
        }

        .zoom-in{
            cursor: -moz-zoom-in;
            cursor: -webkit-zoom-in;
            cursor: zoom-in;
        }
        .zoom-out{
            max-width: none;
            cursor: -moz-zoom-out;
            cursor: -webkit-zoom-out;
            cursor: zoom-out;
        }

        summary {
            cursor: pointer;
            outline: none;
        }

        .post-random-title {
            font-size: 12px;
            vertical-align:text-top;
        }

        .post-random-change {
            font-size: 12px;
            color: #8a8a8a;
            float: right;
            cursor: pointer;
        }

        .post-random-li {
            list-style-type: decimal-leading-zero!important;
            font-size: 12px;
            color: #8a8a8a;
            margin-right: 0!important;
        }

        .post-random-a {
            font-size: 12px;
            display: block;
            text-decoration: none;
            color: #8a8a8a;
        }

        .post-random-a div {
            vertical-align:text-bottom;
            display:inline-block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis
        }

        .post-random-a:hover {
            color: #4CAF50;
        }

        #star-link {
            color: #8a8a8a;
            display:block;
            text-align: center;
            margin-bottom: 30px;
            text-decoration:none;
        }

        #star-link:visited {
            color: #8a8a8a;
        }
    </style>
</head>
<body>
<div class="header">
    <ul>
        <li>
            <a href="/" title="首页">首页</a>
        </li><li>
        <a href="/message-board.html" title="留言板">留言板</a>
    </li><li>
        <a href="/tool/json.html" title="小工具">小工具</a>
    </li><li>
        <a href="/english.html" title="英语角">英语角</a>
    </li>
        <!--<a href="https://github.com/fendoudebb" target="_blank" title="Github">Github</a>-->
    </ul>
</div>
<hr />

<div class="main">
    <div class="content">
        <div class="shadow">
            <h1>常用开源协议以及是否能够商用</h1>
                <a href="/topic/License.html" class="badge-a" title="License">License</a>
            <span class="text-secondary" style="margin-left: .5rem!important;">大约 1985 字</span>
            <!--            <hr>-->
            <div><h2>MIT</h2>
<p>Massachusetts Institute of Technology License</p>
<h2>BSD</h2>
<p><code>3-Clause</code>包含3个条款，<code>2-Clause</code>只有两个（不带第<code>3</code>条）。</p>
<p>1.如果再发布的产品中包含源代码，则在源代码中必须带有原来代码中的``BSD协议；
2.如果再发布的只是二进制类库/软件，则需要在类库/软件的文档那个和版权声明中包含原来代码中的<code>BSD</code>协议；
3.不可以用开源代码的“作者/机构的名字”或“原来产品的名字”做市场推广：</p>
<h3>BSD-2-Clause</h3>
<p>BSD 2-Clause "Simplified" or "FreeBSD" license</p>
<h3>BSD-3-Clause</h3>
<p>BSD 3-Clause "New" or "Revised" license</p>
<h2>Apache-2.0</h2>
<p>Apache License, 2.0</p>
<h2>GPL</h2>
<p>GNU General Public License</p>
<p>可以商用，但分发软件时必须开放源代码。</p>
<h3>举例</h3>
<p>用户下载<code>Android</code>应用，这就是一个公司分发给用户的行为，则公司必须提供源代码。</p>
<p>如果公司后台<code>Java</code>服务部署在<code>GPL</code>的<code>Linux</code>上，但由于提供给用户的是<code>Java</code>服务中的接口，并不是<code>Linux</code>，所以<code>Java</code>代码不用开源。</p>
<h3>注意</h3>
<p>如果你确实需要发布你的程序，但又不想开源，规避<code>GPL</code>的方法是通过<code>RPC</code>间接调用库里的接口。只要库和你的程序不运行在同一进程下，就不需要开源。</p>
<h2>LGPL</h2>
<p>GNU Library or "Lesser" General Public License</p>
<p>也被称为 GPL V2</p>
<p>允许商业软件通过类库引用（<code>link</code>）的方式使用<code>LGPL</code>类库，而不需要开源商业软件的代码。这使得采用<code>LGPL</code>协议的开源代码可以被商业软件作为类库引用并发布和销售。</p>
<h2>AGPL</h2>
<p><code>GPL</code>协议还有一个非常大的“漏洞”，就是软件“发布” 才必须开源。也就是说，我的软件不发布，即使使用<code>GPL</code>也可以不用开源。随着以<code>Google</code>为代表的软件作为服务的互联网公司的兴起，它们的“不分发软件，为客户提供网络服务”的商业模式就不受<code>GPL</code>协议的约束。</p>
<p>GPL + 一条限制</p>
<p>如果使用<code>AGPL</code>许可的软件与用户通过网络进行交互，也需要提供源代码给用户，所有的修改也要给用户。</p>
<p><code>MongoDB</code>在<code>2018.10.16</code>前发布的版本就是用的<code>AGPL</code>协议。（虽然<code>MongoDB</code>是<code>AGPL</code>，但其驱动都是<code>Apache License</code>，所以可以商用）</p>
<h2>EPL</h2>
<p>Eclipse Public License</p>
<p>无修改无需开源，修改部分要开源。</p>
<h2>MPL</h2>
<p>Mozilla Public License</p>
<p>无修改无需开源，修改部分要开源。修改后的代码版权归软件的发起者。</p>
<h2>开源软件修改代码后</h2>
<p><img src="https://www.zhangbj.com/uploads/img/20e025df67b96f4dbf4a8732899409d6.png" alt="license.png" class="zoom-in" /></p>
<p>图片来源：<a href="https://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html">https://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html</a></p>
<h2>例子</h2>
<ul>
<li><code>MIT</code><ul>
<li><code>jQuery</code>：<a href="https://github.com/jquery/jquery">https://github.com/jquery/jquery</a></li>
<li><code>Vue.js</code>：<a href="https://github.com/vuejs/vue">https://github.com/vuejs/vue</a></li>
<li><code>Angular</code>：<a href="https://github.com/angular/angular">https://github.com/angular/angular</a></li>
</ul>
</li>
<li><code>BSD-2-Clause</code><ul>
<li><code>Nginx</code>：<a href="https://nginx.org/LICENSE">https://nginx.org/LICENSE</a></li>
<li><code>OpenResty</code>：<a href="https://github.com/openresty/openresty">https://github.com/openresty/openresty</a></li>
</ul>
</li>
<li><code>Apache-2.0</code><ul>
<li><code>Spring Boot</code>：<a href="https://github.com/spring-projects/spring-boot">https://github.com/spring-projects/spring-boot</a></li>
<li><code>Arthas</code>：<a href="https://github.com/alibaba/arthas">https://github.com/alibaba/arthas</a></li>
<li><code>Docker</code>：<a href="https://github.com/moby/moby">https://github.com/moby/moby</a></li>
</ul>
</li>
<li><code>GPL</code><ul>
<li><code>OpenJDK</code>（<code>GPL with the Classpath Exception</code>）：<a href="https://openjdk.java.net">https://openjdk.java.net</a></li>
<li><code>MySQL</code>（<code>GPL V2</code>）：<a href="https://github.com/mysql/mysql-server">https://github.com/mysql/mysql-server</a></li>
<li><code>netdata</code>（<code>GPL V3</code>）：<a href="https://github.com/netdata/netdata">https://github.com/netdata/netdata</a></li>
</ul>
</li>
<li><code>LGPL</code><ul>
<li><code>FFmpeg</code>：<a href="https://github.com/FFmpeg/FFmpeg">https://github.com/FFmpeg/FFmpeg</a></li>
</ul>
</li>
<li><code>AGPL</code><ul>
<li><code>MongoDB</code>：<a href="https://github.com/mongodb/mongo">https://github.com/mongodb/mongo</a></li>
</ul>
</li>
<li><code>MPL</code><ul>
<li><code>RabbitMQ</code>：<a href="https://github.com/rabbitmq/rabbitmq-server">https://github.com/rabbitmq/rabbitmq-server</a></li>
</ul>
</li>
</ul>
<h2>更多开源协议</h2>
<p><a href="https://opensource.org/licenses/alphabetical">https://opensource.org/licenses/alphabetical</a></p>
</div>

            <div style="margin-top: 1.25rem">
                <span class="text-secondary">阅读 3398 · 发布于 2021-05-28</span>
            </div>

            <div style="text-align: center;margin-top: 48px">
                <button class="like-button">赞 0</button>
            </div>

            <p style="text-align: center;color: #8a8a8a;margin: 50px 0 30px 0">————        END        ————</p>
            <p style="text-align: center;margin-bottom: 20px;color: red;"><strong>Give me a Star, Thanks:)</strong></p>
            <a id="star-link" target="_blank" href="https://github.com/fendoudebb/z-blog-openresty">https://github.com/fendoudebb</a>
            <p style="text-align: center;margin-bottom: 30px;color: red;"><strong>扫描下方二维码关注公众号和小程序↓↓↓</strong></p>
            <img src="/qrcode.png" title="扫描二维码关注我" alt="扫描二维码关注我" class="zoom-in" />
        </div>

        <div id="post-comment">
            <div class="shadow" style="padding: 16px 24px;text-align: left">
                <div style="margin-bottom: 20px">
                    昵称：
                    <label>
                        <input id="nickname" type="text" name="nickname" placeholder="请输入昵称..." />
                    </label>
                </div>
                <div style="position: relative">
                    <textarea id="message" title="评论区" placeholder="请输入评论..."></textarea>
                    <button id="submitBtn" class="button" title="评论">评论</button>
                </div>
                <p id="error-hint" style="color: red;font-size: 14px" hidden=""></p>
            </div>
        </div>

        <div>
            <div class="shadow top-area" style="margin-bottom: 0">
                <span class="post-random-title">随便看看</span>
                <span class="post-random-change">换一批</span>
            </div>
            <div class="shadow">
                <div id="post-random-hint" style="font-size: 12px;text-align: center;display: none">
                    加载中...
                </div>
                <div id="post-random">
                    <ul id="post-random-ul" style="font-size:0">
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/323.html" title="Spring Boot 不返回为 null 的 JSON 字段">
                                    <div style="width: 75%">Spring Boot 不返回为 null 的 JSON 字段</div><div style="max-width:15%;float: right">阅读 3493</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/641.html" title="Windows 平台 lua-resty-upload 上传的文件无法打开">
                                    <div style="width: 75%">Windows 平台 lua-resty-upload 上传的文件无法打开</div><div style="max-width:15%;float: right">阅读 1285</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/997.html" title="Spring @EventListener 加载流程">
                                    <div style="width: 75%">Spring @EventListener 加载流程</div><div style="max-width:15%;float: right">阅读 671</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/990.html" title="IDEA JavaFX Can't build artifact - fx:deploy is not available in this JDK">
                                    <div style="width: 75%">IDEA JavaFX Can't build artifact - fx:deploy is not available in this JDK</div><div style="max-width:15%;float: right">阅读 1901</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/288.html" title="Linux 下编译安装 PHP 时报 libxml2 configure: error">
                                    <div style="width: 75%">Linux 下编译安装 PHP 时报 libxml2 configure: error</div><div style="max-width:15%;float: right">阅读 1408</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/1047.html" title="Docker 部署 Elasticsearch">
                                    <div style="width: 75%">Docker 部署 Elasticsearch</div><div style="max-width:15%;float: right">阅读 367</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/22.html" title="Nginx 配置之视频防盗链">
                                    <div style="width: 75%">Nginx 配置之视频防盗链</div><div style="max-width:15%;float: right">阅读 3057</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/521.html" title="Nginx 解决前端 CORS 跨域问题">
                                    <div style="width: 75%">Nginx 解决前端 CORS 跨域问题</div><div style="max-width:15%;float: right">阅读 7143</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/413.html" title="软考-系统架构设计师：数据库故障与恢复">
                                    <div style="width: 75%">软考-系统架构设计师：数据库故障与恢复</div><div style="max-width:15%;float: right">阅读 1059</div>
                                </a>
                            </li>
                            <li class="post-random-li">
                                <a class="post-random-a" href="/p/670.html" title="Spring Boot NoClassDefFoundError: com/mongodb/connection/DefaultClusterFactory">
                                    <div style="width: 75%">Spring Boot NoClassDefFoundError: com/mongodb/connection/DefaultClusterFactory</div><div style="max-width:15%;float: right">阅读 3644</div>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
<div class="sidebar">
    <div class="shadow sidebar-widget">
        <input class="search-input" placeholder="搜索..." type="search" autocomplete="off" list="custom-datalist" />
        <datalist id="custom-datalist">
            <option value="IDEA">PhpStorm/WebStorm/PyCharm</option>
            <option value="Java">Spring Boot</option>
            <option value="OpenResty">Lua</option>
            <option value="PostgreSQL">pgadmin</option>
            <option value="小程序">
        </option></datalist>
    </div>
    <div class="shadow sidebar-widget">
        <div>
            <h3 style="display: inline">标签</h3>
            <a class="sidebar-topic-more" href="/topic-list.html" title="查看更多标签"><span>更多</span></a>
        </div>
        <div class="sidebar-topic">
            <a href="/topic/Java.html" title="Java"><span>Java</span></a>
            <a href="/topic/OpenResty.html" title="OpenResty"><span>OpenResty</span></a>
            <a href="/topic/Spring.html" title="Spring"><span>Spring</span></a>
            <a href="/topic/Spring Boot.html" title="Spring Boot"><span>Spring Boot</span></a>
            <a href="/topic/MySQL.html" title="MySQL"><span>MySQL</span></a>
            <a href="/topic/Redis.html" title="Redis"><span>Redis</span></a>
            <a href="/topic/MongoDB.html" title="MongoDB"><span>MongoDB</span></a>
            <a href="/topic/PostgreSQL.html" title="PostgreSQL"><span>PostgreSQL</span></a>
            <a href="/topic/Linux.html" title="Linux"><span>Linux</span></a>
            <a href="/topic/Android.html" title="Android"><span>Android</span></a>
            <a href="/topic/Nginx.html" title="Nginx"><span>Nginx</span></a>
            <a href="/topic/面试.html" title="面试"><span>面试</span></a>
            <a href="/topic/小程序.html" title="小程序"><span>小程序</span></a>
            <a href="/topic/Arthas.html" title="Arthas"><span>Arthas</span></a>
            <a href="/topic/JVM.html" title="JVM"><span>JVM</span></a>
            <a href="/topic/AQS.html" title="AQS"><span>AQS</span></a>
            <a href="/topic/juc.html" title="juc"><span>juc</span></a>
            <a href="/topic/Kubernetes.html" title="Kubernetes"><span>Kubernetes</span></a>
            <a href="/topic/Docker.html" title="Docker"><span>Docker</span></a>
            <a href="/topic/DevOps.html" title="DevOps"><span>DevOps</span></a>
        </div>
    </div>
    <div class="shadow sidebar-widget">
        <h3>友链</h3>
        <div class="sidebar-topic">
            <a href="https://www.icaifun.com" title="安静的阿根" target="_blank"><span>安静的阿根</span></a>
            <a href="https://coderwu.cn" title="小吴的黑科技工坊" target="_blank"><span>小吴的黑科技工坊</span></a>
            <a href="https://ningto.com" title="Ningto's博客" target="_blank"><span>Ningto's博客</span></a>
        </div>
    </div>
    <div class="shadow sidebar-widget">
        <h3>站长统计</h3>
        <ul>
            <li>
                <span>文章数：1211</span>
            </li>
            <li>
                <span>访客数：463004</span>
            </li>
            <li>
                <span>浏览量：3021518</span>
            </li>
        </ul>
    </div>

    <div class="shadow sidebar-widget">
        <h3>阅读排行榜</h3>
        <ul>
            <li>
                <a href="/p/304.html" title="lanyus激活时IDEA提示your activation code could not be validated error 1653219">
                    <span>lanyus激活时IDEA提示your activation code could not be validated error 1653219</span>
                    <span>阅读数：270416</span>
                </a>
            </li>
            <li>
                <a href="/p/149.html" title="Android 使用 adb wm 命令调整手机分辨率">
                    <span>Android 使用 adb wm 命令调整手机分辨率</span>
                    <span>阅读数：20165</span>
                </a>
            </li>
            <li>
                <a href="/p/579.html" title="Spring Boot 使用 MongoTemplate 操作 MongoDB">
                    <span>Spring Boot 使用 MongoTemplate 操作 MongoDB</span>
                    <span>阅读数：17946</span>
                </a>
            </li>
            <li>
                <a href="/p/277.html" title="Elasticsearch 出现 circuit_breaking_exception 异常">
                    <span>Elasticsearch 出现 circuit_breaking_exception 异常</span>
                    <span>阅读数：13681</span>
                </a>
            </li>
            <li>
                <a href="/p/547.html" title="IDEA 破解后打不开解决方法">
                    <span>IDEA 破解后打不开解决方法</span>
                    <span>阅读数：13551</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="shadow sidebar-widget">
        <h3>点赞排行榜</h3>
        <ul>
            <li>
                <a href="/p/304.html" title="lanyus激活时IDEA提示your activation code could not be validated error 1653219">
                    <span>lanyus激活时IDEA提示your activation code could not be validated error 1653219</span>
                    <span>点赞数：928</span>
                </a>
            </li>
            <li>
                <a href="/p/547.html" title="IDEA 破解后打不开解决方法">
                    <span>IDEA 破解后打不开解决方法</span>
                    <span>点赞数：31</span>
                </a>
            </li>
            <li>
                <a href="/p/149.html" title="Android 使用 adb wm 命令调整手机分辨率">
                    <span>Android 使用 adb wm 命令调整手机分辨率</span>
                    <span>点赞数：17</span>
                </a>
            </li>
            <li>
                <a href="/p/392.html" title="Windows10 访问网页提示找不到服务器 IP 地址">
                    <span>Windows10 访问网页提示找不到服务器 IP 地址</span>
                    <span>点赞数：11</span>
                </a>
            </li>
            <li>
                <a href="/p/829.html" title="Mircosoft Edge 默认搜索引擎更改无效解决办法">
                    <span>Mircosoft Edge 默认搜索引擎更改无效解决办法</span>
                    <span>点赞数：10</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="shadow sidebar-widget">
        <h3>评论排行榜</h3>
        <ul>
            <li>
                <a href="/p/304.html" title="lanyus激活时IDEA提示your activation code could not be validated error 1653219">
                    <span>lanyus激活时IDEA提示your activation code could not be validated error 1653219</span>
                    <span>评论数：157</span>
                </a>
            </li>
            <li>
                <a href="/p/324.html" title="pgAdmin4 Failed to open the system default web browser.Is one installed?.">
                    <span>pgAdmin4 Failed to open the system default web browser.Is one installed?.</span>
                    <span>评论数：4</span>
                </a>
            </li>
            <li>
                <a href="/p/339.html" title="Nginx 日志按天生成">
                    <span>Nginx 日志按天生成</span>
                    <span>评论数：3</span>
                </a>
            </li>
            <li>
                <a href="/p/149.html" title="Android 使用 adb wm 命令调整手机分辨率">
                    <span>Android 使用 adb wm 命令调整手机分辨率</span>
                    <span>评论数：3</span>
                </a>
            </li>
            <li>
                <a href="/p/586.html" title="前端 Chrome 反《反调试》">
                    <span>前端 Chrome 反《反调试》</span>
                    <span>评论数：2</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="shadow sidebar-widget">
        <h3>分享至微信</h3>
        <div id="qrcode" style="margin-top: 10px"><canvas width="256" height="256"></canvas></div>
    </div>
</div>

</div>
<footer class="footer">
    <p>©2022 <a href="http://beian.miit.gov.cn" target="_blank">沪ICP备18012661号-1</a> <a style="color:#4CAF50;" href="https://www.aliyun.com/minisite/goods?userCode=id54txo0" target="_blank">阿里云</a></p>
    <p><a href="/p/2.html">关于我们</a>-<a href="/p/3.html">免责声明</a>-<a href="/sitemap.xml">网站地图</a>-<a href="https://github.com/fendoudebb" target="_blank">GitHub</a></p>
</footer>
<div class="go-top" title="回到顶部">
    <svg width="16" height="16" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg">
        <g>
            <path d="M12.036 15.59c0 .55-.453.995-.997.995H5.032c-.55 0-.997-.445-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29c.39-.39 1.026-.385 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z" fill-rule="evenodd"/>
        </g>
    </svg>
</div>

<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
<!--<![endif]-->
<!--[if lt IE 9]>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<script>
    $(window).scroll(function () {
        if ($(window).scrollTop() &gt; 100)
            $(".go-top").fadeIn(1000);
        else
            $(".go-top").fadeOut(1000);
    });
    $(".go-top").click(function (e) {
        e.preventDefault();
        $('body,html').animate({scrollTop: 0}, 1000);
    });

    $('.search-input').bind('keydown',function(event){
        if(event.keyCode === 13) {
            let keyword = $('.search-input').val().trim();
            if (keyword.length &gt; 0) {
                window.location.href = "/search/"+keyword+".html"
            }
        }
    });
    $('#qrcode').qrcode({correctLevel:0,render: "canvas",text:window.location.href});
</script>

<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.3.2/highlight.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery-jsonview/1.2.3/jquery.jsonview.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script>
    $("table").wrap("&lt;div class='table-area'&gt;&lt;/div&gt;");

    var post_id = 833;

    function strLen(str) {
        var len = 0;
        for (var i=0; i&lt;str.length; i++) {
            if (str.charCodeAt(i)&gt;127 || str.charCodeAt(i)===94) {
                len += 2;
            } else {
                len ++;
            }
        }
        return len;
    }

    var $submitBtn = $('#submitBtn');

    var clickFunc = function () {
        var $errorHint = $('#error-hint');
        var nickname = $('#nickname').val();
        var content = $('#message').val();
        var nicknameLen = strLen(nickname);
        var contentLen = strLen(content);
        if (nicknameLen &lt;= 0 || contentLen &lt;= 0) {
            $errorHint.html("昵称或评论不能为空");
            $errorHint.show();
            return
        }
        if (nicknameLen &gt; 16) {
            $errorHint.html("昵称长度不能超过16位");
            $errorHint.show();
            return
        }
        if (contentLen &gt; 1000) {
            $errorHint.html("评论内容不能超过1000位");
            $errorHint.show();
            return
        }
        $submitBtn.unbind();
        var data = {'post_id': post_id, 'nickname': nickname, 'content': content};

        $.ajax({
            method: "POST",
            url: "/post/comment",
            contentType: 'application/json',
            data: JSON.stringify(data),
            success: function (data) {
                if (data.code === 0) {
                    // window.location.reload();
                    window.location.href=location.href;
                } else {
                    $submitBtn.bind('click', clickFunc);
                    $errorHint.html(data.msg);
                    $errorHint.show();
                }
            }
        });
    };
    $submitBtn.bind('click', clickFunc);

    var data = {'post_id': post_id};
    //@formatter:off
        var $likeBtn = $(".like-button");
        $likeBtn.bind('click', function() {
            $.ajax({
                method: "POST",
                url: "/post/like",
                contentType: 'application/json',
                data:JSON.stringify(data),
                success: function (result) {
                    if (result.code === 0) {
                        $likeBtn.unbind('click');
                        $likeBtn.text("已赞 " + (0 + 1));
                        $likeBtn.css("cursor", 'not-allowed');
                        $likeBtn.css("color", 'white');
                        $likeBtn.css("background-color", '#4CAF50');
                    } else if (result.code === 1001) {
                        $likeBtn.unbind('click');
                        $likeBtn.text("已赞 " + 0);
                        $likeBtn.css("cursor", 'not-allowed');
                    }
                }
            });
        });
            //@formatter:on

            hljs.initHighlightingOnLoad();

            $("pre").not("#post-comment pre").each(function (index, element) {
                var preTag = $(this);
                preTag.append("&lt;div class='hljs-button' title='Copy to Clipboard'&gt;Copy&lt;/div&gt;");
                var id = "code" + index;
                preTag.children("code").attr("id", id);
                preTag.children(".hljs-button").attr("data-clipboard-target", "#" + id);
            });
            var clipboard = new ClipboardJS('.hljs-button');
            clipboard.on('success', function (e) {
                e.clearSelection();
                var copyBtn = $(e.trigger);
                copyBtn.html("Copy Success");
                setTimeout(function () {
                    copyBtn.html("Copy");
                }, 1000);

            });
            clipboard.on('error', function (e) {
                var copyBtn = $(e.trigger);
                copyBtn.html("Copy Fail");
                setTimeout(function () {
                    copyBtn.html("Copy");
                }, 1000);
            });

            $('img').addClass('zoom-in');
            //点击图片放大
            $('.zoom-in').bind('click', function () {
                var img_content = $(this).attr("src");
                $("body").append(
                    "&lt;div class='bg-img'&gt;"
                    + "&lt;img src='" + img_content + "' class='zoom-out'&gt;"
                    + "&lt;/div&gt;"
                );
                $("html").css('overflow-y', 'hidden');
            });

            //点击外层区域页面图片隐藏
            $(document).on("click", ".bg-img", function () {
                $(this).remove();
                $("html").css('overflow-y', 'scroll');
            });

            var changeRandomPostBtn = $('.post-random-change');
            var changeRandomPost = function(){
                var $postRandomHint = $("#post-random-hint");
                $postRandomHint.show();
                $postRandomHint.html("加载中...");
                var $postRandomUl = $("#post-random-ul");
                $postRandomUl.hide();
                $postRandomUl.html("");
                $.ajax({
                    method: "POST",
                    url: "/post/random",
                    contentType: 'application/json',
                    data:JSON.stringify(data),
                    success: function (result) {
                        if (result.code === 0) {
                            $postRandomHint.hide();
                            $postRandomUl.show();
                            var randomPost = result.data.post;
                            for (var i = 0; i &lt; randomPost.length; i++) {
                                var post = randomPost[i];
                                $postRandomUl.append("&lt;li class='post-random-li'&gt;&lt;a class='post-random-a' href='/p/" + post.id + ".html' title='"+post.title+"'&gt;&lt;span&gt;"+post.title+"&lt;/span&gt;&lt;span style='float: right'&gt;阅读数："+post.pv+"&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;");
                            }
                        } else {
                            $postRandomHint.html("加载失败...");
                            $postRandomUl.hide();
                        }
                    }
                });
            };
            // changeRandomPost();

            changeRandomPostBtn.bind("click", changeRandomPost);
</script>

</body></html>