---
title : 自动快照存档
---

* TIME: 2022-09-26 21:57:38
* URL: <https://github.com/keenwon/antcolony>

-----

Skip to content Toggle navigation

[ ](https://github.com/)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo)

  * Product 

    * [ Actions Automate any workflow  ](/features/actions)
    * [ Packages Host and manage packages  ](/features/packages)
    * [ Security Find and fix vulnerabilities  ](/features/security)
    * [ Codespaces Instant dev environments  ](/features/codespaces)
    * [ Copilot Write better code with AI  ](/features/copilot)
    * [ Code review Manage code changes  ](/features/code-review)
    * [ Issues Plan and track work  ](/features/issues)
    * [ Discussions Collaborate outside of code  ](/features/discussions)
    * Explore
    * [ All features ](/features)
    * [ Documentation  ](https://docs.github.com)
    * [ GitHub Skills  ](https://skills.github.com/)
    * [ Changelog  ](https://github.blog/changelog)

  * Solutions 

    * By Plan
    * [ Enterprise ](/enterprise)
    * [ Teams ](/team)
    * [ Compare all ](/pricing#compare-features)
    * By Solution
    * [ CI/CD & Automation  ](https://resources.github.com/ci-cd/)
    * [ DevOps  ](https://resources.github.com/devops/)
    * [ DevSecOps  ](https://resources.github.com/devops/fundamentals/devsecops/)
    * Case Studies
    * [ Customer Stories ](/customer-stories)
    * [ Resources  ](https://resources.github.com/)

  * Open Source 

    * [ GitHub Sponsors Fund open source developers  ](/sponsors)
    * [ The ReadME Project GitHub community articles  ](/readme)
    * Repositories
    * [ Topics ](/topics)
    * [ Trending ](/trending)
    * [ Collections ](/collections)

  * [Pricing](/pricing)

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

  * No suggested jump to results

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this user  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fkeenwon%2Fantcolony)

[ Sign up
](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=keenwon%2Fantcolony)

{{ message }}

[keenwon](/keenwon) / **[antcolony](/keenwon/antcolony) ** Public

  * [ Notifications ](/login?return_to=%2Fkeenwon%2Fantcolony)
  * [ Fork 392 ](/login?return_to=%2Fkeenwon%2Fantcolony)
  * [ Star  1.3k ](/login?return_to=%2Fkeenwon%2Fantcolony)

Nodejs实现的一个磁力链接爬虫 <http://findit.keenwon.com> (原域名<http://findit.so> )

[ 1.3k stars ](/keenwon/antcolony/stargazers) [ 392 forks
](/keenwon/antcolony/network/members)

[ Star  ](/login?return_to=%2Fkeenwon%2Fantcolony)

[ Notifications ](/login?return_to=%2Fkeenwon%2Fantcolony)

  * [ Code ](/keenwon/antcolony)
  * [ Issues 6 ](/keenwon/antcolony/issues)
  * [ Pull requests 0 ](/keenwon/antcolony/pulls)
  * [ Actions ](/keenwon/antcolony/actions)
  * [ Projects 0 ](/keenwon/antcolony/projects)
  * [ Wiki ](/keenwon/antcolony/wiki)
  * [ Security ](/keenwon/antcolony/security)
  * [ Insights ](/keenwon/antcolony/pulse)

More

  * [ Code ](/keenwon/antcolony)
  * [ Issues ](/keenwon/antcolony/issues)
  * [ Pull requests ](/keenwon/antcolony/pulls)
  * [ Actions ](/keenwon/antcolony/actions)
  * [ Projects ](/keenwon/antcolony/projects)
  * [ Wiki ](/keenwon/antcolony/wiki)
  * [ Security ](/keenwon/antcolony/security)
  * [ Insights ](/keenwon/antcolony/pulse)

# keenwon/antcolony

This commit does not belong to any branch on this repository, and may belong
to a fork outside of the repository.

master

Switch branches/tags

Branches Tags

Could not load branches

Nothing to show

[ {{ refName }} default ](https://github.com/keenwon/antcolony/tree/{{
urlEncodedRefName }}) [View all branches](/keenwon/antcolony/branches)

Could not load tags

Nothing to show

[ {{ refName }} default ](https://github.com/keenwon/antcolony/tree/{{
urlEncodedRefName }})

[View all tags](/keenwon/antcolony/tags)

[ **1** branch ](/keenwon/antcolony/branches) [ **0** tags
](/keenwon/antcolony/tags)

[ Go to file ](/keenwon/antcolony/find/master) Code

  * [ ](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone

HTTPS  GitHub CLI

Use Git or checkout with SVN using the web URL.

Work fast with our official CLI. [Learn more](https://cli.github.com).

  * [ Open with GitHub Desktop ](https://desktop.github.com)
  * [ Download ZIP ](/keenwon/antcolony/archive/refs/heads/master.zip)

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

#### Launching Xcode

If nothing happens, [download Xcode](https://developer.apple.com/xcode/) and
try again.

#### Launching Visual Studio Code

Your codespace will open once ready.

There was a problem preparing your codespace, please try again.

## Latest commit

[ ![@keenwon](https://avatars.githubusercontent.com/u/5516478?s=48&v=4)
](/keenwon)

[keenwon](/keenwon/antcolony/commits?author=keenwon "View all commits by
keenwon") [chore: 添加 lock
配置](/keenwon/antcolony/commit/c66140102edb14cc83ac15ab7a6d03e4b1d3517e "chore:
添加 lock 配置")

…

Loading status checks…

[ c661401
](/keenwon/antcolony/commit/c66140102edb14cc83ac15ab7a6d03e4b1d3517e) [ on 28
Dec 2018 ](/keenwon/antcolony/commit/c66140102edb14cc83ac15ab7a6d03e4b1d3517e)

[chore: 添加 lock
配置](/keenwon/antcolony/commit/c66140102edb14cc83ac15ab7a6d03e4b1d3517e)

`c661401`

## Git stats

  * [ **27** commits  ](/keenwon/antcolony/commits/master)

## Files

[Permalink](/keenwon/antcolony/tree/c66140102edb14cc83ac15ab7a6d03e4b1d3517e)

Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

[.github](/keenwon/antcolony/tree/master/.github ".github")

[chore: 添加 lock
配置](/keenwon/antcolony/commit/c66140102edb14cc83ac15ab7a6d03e4b1d3517e "chore:
添加 lock 配置")

4 years ago

[.temp](/keenwon/antcolony/tree/master/.temp ".temp")

[新增临时文件](/keenwon/antcolony/commit/2afe8e1fb2e152a51f597ec4e694101eedc2613a
"新增临时文件")

8 years ago

[doc](/keenwon/antcolony/tree/master/doc "doc")

[调整markdown格式适应新版github](/keenwon/antcolony/commit/205ac883eab2a4f5f09b006b2a024f329bf52d85
"调整markdown格式适应新版github")

6 years ago

[log](/keenwon/antcolony/tree/master/log "log")

[init](/keenwon/antcolony/commit/c55f7861a6967533dd62f3da32df6bd253b30551
"init")

8 years ago

[src](/keenwon/antcolony/tree/master/src "src")

[new file](/keenwon/antcolony/commit/d660b1678e0ee61a87acc77cf93ddcf5a68ceb80
"new file")

8 years ago

[.jshintrc](/keenwon/antcolony/blob/master/.jshintrc ".jshintrc")

[init](/keenwon/antcolony/commit/43aff49c98b91aa60485a9cb656874b7c6555364
"init")

8 years ago

[Gruntfile.js](/keenwon/antcolony/blob/master/Gruntfile.js "Gruntfile.js")

[update](/keenwon/antcolony/commit/1299478d05e44318a47d21343a4a08a3aebf34cf
"update")

8 years ago

[README.md](/keenwon/antcolony/blob/master/README.md "README.md")

[调整markdown格式适应新版github](/keenwon/antcolony/commit/205ac883eab2a4f5f09b006b2a024f329bf52d85
"调整markdown格式适应新版github")

6 years ago

[config.js](/keenwon/antcolony/blob/master/config.js "config.js")

[Update
config.js](/keenwon/antcolony/commit/bcb6a6453b04ef8b1853285bb595343d5a6f7854
"Update config.js")

8 years ago

[package.json](/keenwon/antcolony/blob/master/package.json "package.json")

[update](/keenwon/antcolony/commit/38d456ccef16d48870310ca99733f80f34fbfe01
"update")

8 years ago

[startup](/keenwon/antcolony/blob/master/startup "startup")

[init](/keenwon/antcolony/commit/c55f7861a6967533dd62f3da32df6bd253b30551
"init")

8 years ago

View code

AntColony 介绍 安装&运行方法

##  README.md

# AntColony

### 介绍

AntColony（Github）是findit磁力搜索引擎的核心。用来在DHT网络中，收集活跃资源的infohash，下载并解析资源的种子文件，存入数据库等。AntColony是若干功能的合集，也可以单独运行其中的部分功能，所以起“蚁群”这个名字也是很贴切的（没错，我就是爱动物世界）。主要分一下几块：

  * worker：爬虫，收集资源infohash，可以同时启动多个进程的worker，提高效率
  * male：根据收集来的infohash去下载种子文件
  * female：将种子文件录入数据库
  * queen：简单的入口，启动pm2运行worker，male和female

[![](https://camo.githubusercontent.com/68de72eecd7f61bc628eb73bee78bbddd6ea510024e5bff47661ac4cf84b307b/687474703a2f2f696d672e6b65656e776f6e2e636f6d2f323031352f30332f32303135303330353134343030355f36383132302e706e67)](https://camo.githubusercontent.com/68de72eecd7f61bc628eb73bee78bbddd6ea510024e5bff47661ac4cf84b307b/687474703a2f2f696d672e6b65656e776f6e2e636f6d2f323031352f30332f32303135303330353134343030355f36383132302e706e67)

目前启动5个worker使用3000-3004的端口，2个male和1个female。

使用Mongodb储存数据，这没什么好说的；使用pm2维护和监控node进程，也没太多要说的，重点说下Redis。Redis里暂存的数据大概是这样的：

[![](https://camo.githubusercontent.com/12a0656a52eb00379d5f23445d563da14b7b7d40e623e514b52f6050b82a6c8d/687474703a2f2f696d672e6b65656e776f6e2e636f6d2f323031352f30332f32303135303330353134343632365f34393732322e706e67)](https://camo.githubusercontent.com/12a0656a52eb00379d5f23445d563da14b7b7d40e623e514b52f6050b82a6c8d/687474703a2f2f696d672e6b65656e776f6e2e636f6d2f323031352f30332f32303135303330353134343632365f34393732322e706e67)

  * bucket：比较大的一个K桶
  * infohash：就是已经收集到的infohashs（worker收集来的，male会用来下载种子）
  * remoteNodes：worker新认识的节点，会依次“拜访”的，目前只保存最新的10w个（一方面我的VPS内存小，另一方面真没必要记录太多）
  * sysInfo：记录一些统计信息，例如发出多少次请求，累积收集多少infohashs，目前已经发出15亿次Request，这个频率是可控的，worker 太疯狂的话，VPS扛不住。

### 安装&运行方法

详细的使用方法请查看[部署文档](https://github.com/keenwon/antcolony/blob/master/doc/%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.md)  
其他内容查看 <http://keenwon.com/1436.html>

## About

Nodejs实现的一个磁力链接爬虫 <http://findit.keenwon.com> (原域名<http://findit.so> )

### Topics

[ nodejs ](/topics/nodejs "Topic: nodejs") [ javascript ](/topics/javascript
"Topic: javascript") [ torrent ](/topics/torrent "Topic: torrent") [ spider
](/topics/spider "Topic: spider") [ bittorrent ](/topics/bittorrent "Topic:
bittorrent") [ bencode ](/topics/bencode "Topic: bencode") [ dht ](/topics/dht
"Topic: dht") [ antcolony ](/topics/antcolony "Topic: antcolony")

### Resources

Readme

### Stars

[ **1.3k** stars ](/keenwon/antcolony/stargazers)

### Watchers

[ **68** watching ](/keenwon/antcolony/watchers)

### Forks

[ **392** forks ](/keenwon/antcolony/network/members)

##  [ Releases ](/keenwon/antcolony/releases)

No releases published

##  [ Packages 0 ](/users/keenwon/packages?repo_name=antcolony)

No packages published  

## Languages

  * [ JavaScript 100.0% ](/keenwon/antcolony/search?l=javascript)

## Footer

[ ](https://github.com "GitHub") © 2022 GitHub, Inc.

### Footer navigation

  * [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
  * [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com)
  * [Contact GitHub](https://support.github.com?tags=dotcom-footer)
  * [Pricing](https://github.com/pricing)
  * [API](https://docs.github.com)
  * [Training](https://services.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. [Reload]() to refresh your session.
You signed out in another tab or window. [Reload]() to refresh your session.

