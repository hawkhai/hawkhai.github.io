!function(){chrome.lego||(chrome.lego={});var o=chrome.runtime.getURL,n="chrome.lego.setInterval";function c(){return String(Date.now())+Math.random()}chrome.lego.getFile=function(e,t){o?t(chrome.runtime.getURL(e)):chrome.runtime.sendMessage({type:"chrome.lego.getFile",path:e},t)},chrome.lego.getTextFile=function(e,t){chrome.runtime.sendMessage({type:"chrome.lego.getTextFile",path:e},t)},chrome.lego.getManifest=function(e){o?e(chrome.runtime.getManifest()):chrome.runtime.sendMessage({type:"chrome.lego.getManifest"},e)},chrome.lego.contentScriptGetBrowserVersion=function(e){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptGetBrowserVersion"},e)};var i,s=["value","value1","value2"];chrome.lego.contentScriptReport=function(e,t,r){var o={};s.forEach(function(e){(r.hasOwnProperty?r.hasOwnProperty(e):e in r)&&(o[e]=r[e])}),chrome.runtime.sendMessage({type:"chrome.lego.contentScriptReport",reportName:e,reportType:t,reportData:"&"+$.param(o)})},chrome.lego.contentScriptGetBrowserActionVisibleState=function(e){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptGetBrowserActionVisibleState"},e)},chrome.lego.contentScriptSetBrowserActionVisibleState=function(e,t){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptSetBrowserActionVisibleState",state:e},t)},o||(i=Object.create(null),chrome.runtime.onMessage.addListener(function(e,t){var r,o;t.id===chrome.runtime.id&&e.type===n+".callback"&&(!(r=e.token)||(o=i[r])&&o())})),chrome.lego.setTimeout=function(e,t){if(o)return setTimeout(e,t);var r=c();return i[r]=e,chrome.runtime.sendMessage({timeout:t,type:"chrome.lego.setTimeout",token:r},function(){r in i&&e(),delete i[r]}),r},chrome.lego.clearTimeout=function(e){if(o)return clearTimeout(e);delete i[e],chrome.runtime.sendMessage({type:"chrome.lego.clearTimeout",token:e})},chrome.lego.setInterval=function(e,t){if(o)return setInterval(e,t);var r=c();return i[r]=e,chrome.runtime.sendMessage({type:n,interval:t,token:r}),r},chrome.lego.clearInterval=function(e){if(o)return clearInterval(e);delete i[e],chrome.runtime.sendMessage({type:"chrome.lego.clearInterval",token:e})},chrome.lego.ajax=function(e,t){chrome.runtime.sendMessage({type:"chrome.lego.ajax",option:e},t)};var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},r=/&|<|>|"|'|\//g;$.extend($,{escapeHTML:function(e){if(e.replace)return e.replace(r,function(e){return t.hasOwnProperty(e)?t[e]:e})},addCss:function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e,document.head.appendChild(t)}})}();
